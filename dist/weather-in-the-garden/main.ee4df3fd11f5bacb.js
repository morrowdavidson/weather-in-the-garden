"use strict";(self.webpackChunkweather_in_the_garden=self.webpackChunkweather_in_the_garden||[]).push([[179],{703:(CT,q_,Vt)=>{function Bt(a){return"function"==typeof a}function sd(a){const s=a(f=>{Error.call(f),f.stack=(new Error).stack});return s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s}const ld=sd(a=>function(s){a(this),this.message=s?`${s.length} errors occurred during unsubscription:\n${s.map((f,v)=>`${v+1}) ${f.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=s});function Bc(a,l){if(a){const s=a.indexOf(l);0<=s&&a.splice(s,1)}}class Xn{constructor(l){this.initialTeardown=l,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let l;if(!this.closed){this.closed=!0;const{_parentage:s}=this;if(s)if(this._parentage=null,Array.isArray(s))for(const _ of s)_.remove(this);else s.remove(this);const{initialTeardown:f}=this;if(Bt(f))try{f()}catch(_){l=_ instanceof ld?_.errors:[_]}const{_finalizers:v}=this;if(v){this._finalizers=null;for(const _ of v)try{bg(_)}catch(w){l=l??[],w instanceof ld?l=[...l,...w.errors]:l.push(w)}}if(l)throw new ld(l)}}add(l){var s;if(l&&l!==this)if(this.closed)bg(l);else{if(l instanceof Xn){if(l.closed||l._hasParent(this))return;l._addParent(this)}(this._finalizers=null!==(s=this._finalizers)&&void 0!==s?s:[]).push(l)}}_hasParent(l){const{_parentage:s}=this;return s===l||Array.isArray(s)&&s.includes(l)}_addParent(l){const{_parentage:s}=this;this._parentage=Array.isArray(s)?(s.push(l),s):s?[s,l]:l}_removeParent(l){const{_parentage:s}=this;s===l?this._parentage=null:Array.isArray(s)&&Bc(s,l)}remove(l){const{_finalizers:s}=this;s&&Bc(s,l),l instanceof Xn&&l._removeParent(this)}}Xn.EMPTY=(()=>{const a=new Xn;return a.closed=!0,a})();const Gs=Xn.EMPTY;function wg(a){return a instanceof Xn||a&&"closed"in a&&Bt(a.remove)&&Bt(a.add)&&Bt(a.unsubscribe)}function bg(a){Bt(a)?a():a.unsubscribe()}const ko={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},zc={setTimeout(a,l,...s){const{delegate:f}=zc;return f?.setTimeout?f.setTimeout(a,l,...s):setTimeout(a,l,...s)},clearTimeout(a){const{delegate:l}=zc;return(l?.clearTimeout||clearTimeout)(a)},delegate:void 0};function Dg(a){zc.setTimeout(()=>{const{onUnhandledError:l}=ko;if(!l)throw a;l(a)})}function ud(){}const X_=TT("C",void 0,void 0);function TT(a,l,s){return{kind:a,value:l,error:s}}let Hc=null;function K_(a){if(ko.useDeprecatedSynchronousErrorHandling){const l=!Hc;if(l&&(Hc={errorThrown:!1,error:null}),a(),l){const{errorThrown:s,error:f}=Hc;if(Hc=null,s)throw f}}else a()}class MT extends Xn{constructor(l){super(),this.isStopped=!1,l?(this.destination=l,wg(l)&&l.add(this)):this.destination=IU}static create(l,s,f){return new Gc(l,s,f)}next(l){this.isStopped?AT(function xT(a){return TT("N",a,void 0)}(l),this):this._next(l)}error(l){this.isStopped?AT(function q(a){return TT("E",void 0,a)}(l),this):(this.isStopped=!0,this._error(l))}complete(){this.isStopped?AT(X_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(l){this.destination.next(l)}_error(l){try{this.destination.error(l)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const TU=Function.prototype.bind;function Cg(a,l){return TU.call(a,l)}class MU{constructor(l){this.partialObserver=l}next(l){const{partialObserver:s}=this;if(s.next)try{s.next(l)}catch(f){xg(f)}}error(l){const{partialObserver:s}=this;if(s.error)try{s.error(l)}catch(f){xg(f)}else xg(l)}complete(){const{partialObserver:l}=this;if(l.complete)try{l.complete()}catch(s){xg(s)}}}class Gc extends MT{constructor(l,s,f){let v;if(super(),Bt(l)||!l)v={next:l??void 0,error:s??void 0,complete:f??void 0};else{let _;this&&ko.useDeprecatedNextContext?(_=Object.create(l),_.unsubscribe=()=>this.unsubscribe(),v={next:l.next&&Cg(l.next,_),error:l.error&&Cg(l.error,_),complete:l.complete&&Cg(l.complete,_)}):v=l}this.destination=new MU(v)}}function xg(a){ko.useDeprecatedSynchronousErrorHandling?function xU(a){ko.useDeprecatedSynchronousErrorHandling&&Hc&&(Hc.errorThrown=!0,Hc.error=a)}(a):Dg(a)}function AT(a,l){const{onStoppedNotification:s}=ko;s&&zc.setTimeout(()=>s(a,l))}const IU={closed:!0,next:ud,error:function AU(a){throw a},complete:ud},Uc="function"==typeof Symbol&&Symbol.observable||"@@observable";function tu(a){return a}function Z2(a){return 0===a.length?tu:1===a.length?a[0]:function(s){return a.reduce((f,v)=>v(f),s)}}let pn=(()=>{class a{constructor(s){s&&(this._subscribe=s)}lift(s){const f=new a;return f.source=this,f.operator=s,f}subscribe(s,f,v){const _=function LU(a){return a&&a instanceof MT||function PU(a){return a&&Bt(a.next)&&Bt(a.error)&&Bt(a.complete)}(a)&&wg(a)}(s)?s:new Gc(s,f,v);return K_(()=>{const{operator:w,source:x}=this;_.add(w?w.call(_,x):x?this._subscribe(_):this._trySubscribe(_))}),_}_trySubscribe(s){try{return this._subscribe(s)}catch(f){s.error(f)}}forEach(s,f){return new(f=IT(f))((v,_)=>{const w=new Gc({next:x=>{try{s(x)}catch(A){_(A),w.unsubscribe()}},error:_,complete:v});this.subscribe(w)})}_subscribe(s){var f;return null===(f=this.source)||void 0===f?void 0:f.subscribe(s)}[Uc](){return this}pipe(...s){return Z2(s)(this)}toPromise(s){return new(s=IT(s))((f,v)=>{let _;this.subscribe(w=>_=w,w=>v(w),()=>f(_))})}}return a.create=l=>new a(l),a})();function IT(a){var l;return null!==(l=a??ko.Promise)&&void 0!==l?l:Promise}const RU=sd(a=>function(){a(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ji=(()=>{class a extends pn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(s){const f=new ET(this,this);return f.operator=s,f}_throwIfClosed(){if(this.closed)throw new RU}next(s){K_(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const f of this.currentObservers)f.next(s)}})}error(s){K_(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=s;const{observers:f}=this;for(;f.length;)f.shift().error(s)}})}complete(){K_(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:s}=this;for(;s.length;)s.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var s;return(null===(s=this.observers)||void 0===s?void 0:s.length)>0}_trySubscribe(s){return this._throwIfClosed(),super._trySubscribe(s)}_subscribe(s){return this._throwIfClosed(),this._checkFinalizedStatuses(s),this._innerSubscribe(s)}_innerSubscribe(s){const{hasError:f,isStopped:v,observers:_}=this;return f||v?Gs:(this.currentObservers=null,_.push(s),new Xn(()=>{this.currentObservers=null,Bc(_,s)}))}_checkFinalizedStatuses(s){const{hasError:f,thrownError:v,isStopped:_}=this;f?s.error(v):_&&s.complete()}asObservable(){const s=new pn;return s.source=this,s}}return a.create=(l,s)=>new ET(l,s),a})();class ET extends ji{constructor(l,s){super(),this.destination=l,this.source=s}next(l){var s,f;null===(f=null===(s=this.destination)||void 0===s?void 0:s.next)||void 0===f||f.call(s,l)}error(l){var s,f;null===(f=null===(s=this.destination)||void 0===s?void 0:s.error)||void 0===f||f.call(s,l)}complete(){var l,s;null===(s=null===(l=this.destination)||void 0===l?void 0:l.complete)||void 0===s||s.call(l)}_subscribe(l){var s,f;return null!==(f=null===(s=this.source)||void 0===s?void 0:s.subscribe(l))&&void 0!==f?f:Gs}}function PT(a){return Bt(a?.lift)}function qt(a){return l=>{if(PT(l))return l.lift(function(s){try{return a(s,this)}catch(f){this.error(f)}});throw new TypeError("Unable to lift unknown Observable type")}}function vn(a,l,s,f,v){return new ct(a,l,s,f,v)}class ct extends MT{constructor(l,s,f,v,_,w){super(l),this.onFinalize=_,this.shouldUnsubscribe=w,this._next=s?function(x){try{s(x)}catch(A){l.error(A)}}:super._next,this._error=v?function(x){try{v(x)}catch(A){l.error(A)}finally{this.unsubscribe()}}:super._error,this._complete=f?function(){try{f()}catch(x){l.error(x)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var l;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:s}=this;super.unsubscribe(),!s&&(null===(l=this.onFinalize)||void 0===l||l.call(this))}}}function Tt(a,l){return qt((s,f)=>{let v=0;s.subscribe(vn(f,_=>{f.next(a.call(l,_,v++))}))})}function js(a){return this instanceof js?(this.v=a,this):new js(a)}function Te(a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s,l=a[Symbol.asyncIterator];return l?l.call(a):(a=function cd(a){var l="function"==typeof Symbol&&Symbol.iterator,s=l&&a[l],f=0;if(s)return s.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&f>=a.length&&(a=void 0),{value:a&&a[f++],done:!a}}};throw new TypeError(l?"Object is not iterable.":"Symbol.iterator is not defined.")}(a),s={},f("next"),f("throw"),f("return"),s[Symbol.asyncIterator]=function(){return this},s);function f(_){s[_]=a[_]&&function(w){return new Promise(function(x,A){!function v(_,w,x,A){Promise.resolve(A).then(function(P){_({value:P,done:x})},w)}(x,A,(w=a[_](w)).done,w.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Di=a=>a&&"number"==typeof a.length&&"function"!=typeof a;function yt(a){return Bt(a?.then)}function nS(a){return Bt(a[Uc])}function Xe(a){return Symbol.asyncIterator&&Bt(a?.[Symbol.asyncIterator])}function OT(a){return new TypeError(`You provided ${null!==a&&"object"==typeof a?"an invalid object":`'${a}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Re=function de(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function te(a){return Bt(a?.[Re])}function _e(a){return function Ig(a,l,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,f=s.apply(a,l||[]),_=[];return v={},w("next"),w("throw"),w("return"),v[Symbol.asyncIterator]=function(){return this},v;function w(U){f[U]&&(v[U]=function($){return new Promise(function(Z,Q){_.push([U,$,Z,Q])>1||x(U,$)})})}function x(U,$){try{!function A(U){U.value instanceof js?Promise.resolve(U.value.v).then(P,N):z(_[0][2],U)}(f[U]($))}catch(Z){z(_[0][3],Z)}}function P(U){x("next",U)}function N(U){x("throw",U)}function z(U,$){U($),_.shift(),_.length&&x(_[0][0],_[0][1])}}(this,arguments,function*(){const s=a.getReader();try{for(;;){const{value:f,done:v}=yield js(s.read());if(v)return yield js(void 0);yield yield js(f)}}finally{s.releaseLock()}})}function fe(a){return Bt(a?.getReader)}function Qn(a){if(a instanceof pn)return a;if(null!=a){if(nS(a))return function ft(a){return new pn(l=>{const s=a[Uc]();if(Bt(s.subscribe))return s.subscribe(l);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(a);if(Di(a))return function xe(a){return new pn(l=>{for(let s=0;s<a.length&&!l.closed;s++)l.next(a[s]);l.complete()})}(a);if(yt(a))return function rS(a){return new pn(l=>{a.then(s=>{l.closed||(l.next(s),l.complete())},s=>l.error(s)).then(null,Dg)})}(a);if(Xe(a))return ru(a);if(te(a))return function Jr(a){return new pn(l=>{for(const s of a)if(l.next(s),l.closed)return;l.complete()})}(a);if(fe(a))return function fd(a){return ru(_e(a))}(a)}throw OT(a)}function ru(a){return new pn(l=>{(function kT(a,l){var s,f,v,_;return function nu(a,l,s,f){return new(s||(s=Promise))(function(_,w){function x(N){try{P(f.next(N))}catch(z){w(z)}}function A(N){try{P(f.throw(N))}catch(z){w(z)}}function P(N){N.done?_(N.value):function v(_){return _ instanceof s?_:new s(function(w){w(_)})}(N.value).then(x,A)}P((f=f.apply(a,l||[])).next())})}(this,void 0,void 0,function*(){try{for(s=Te(a);!(f=yield s.next()).done;)if(l.next(f.value),l.closed)return}catch(w){v={error:w}}finally{try{f&&!f.done&&(_=s.return)&&(yield _.call(s))}finally{if(v)throw v.error}}l.complete()})})(a,l).catch(s=>l.error(s))})}function to(a,l,s,f=0,v=!1){const _=l.schedule(function(){s(),v?a.add(this.schedule(null,f)):this.unsubscribe()},f);if(a.add(_),!v)return _}function bt(a,l,s=1/0){return Bt(l)?bt((f,v)=>Tt((_,w)=>l(f,_,v,w))(Qn(a(f,v))),s):("number"==typeof l&&(s=l),qt((f,v)=>function jc(a,l,s,f,v,_,w,x){const A=[];let P=0,N=0,z=!1;const U=()=>{z&&!A.length&&!P&&l.complete()},$=Q=>P<f?Z(Q):A.push(Q),Z=Q=>{_&&l.next(Q),P++;let ie=!1;Qn(s(Q,N++)).subscribe(vn(l,ce=>{v?.(ce),_?$(ce):l.next(ce)},()=>{ie=!0},void 0,()=>{if(ie)try{for(P--;A.length&&P<f;){const ce=A.shift();w?to(l,w,()=>Z(ce)):Z(ce)}U()}catch(ce){l.error(ce)}}))};return a.subscribe(vn(l,$,()=>{z=!0,U()})),()=>{x?.()}}(f,v,a,s)))}function ke(a=1/0){return bt(tu,a)}const Ln=new pn(a=>a.complete());function Jn(a){return a&&Bt(a.schedule)}function ei(a){return a[a.length-1]}function aS(a){return Bt(ei(a))?a.pop():void 0}function Fo(a){return Jn(ei(a))?a.pop():void 0}function FT(a,l=0){return qt((s,f)=>{s.subscribe(vn(f,v=>to(f,a,()=>f.next(v),l),()=>to(f,a,()=>f.complete(),l),v=>to(f,a,()=>f.error(v),l)))})}function oS(a,l=0){return qt((s,f)=>{f.add(a.schedule(()=>s.subscribe(f),l))})}function $c(a,l){if(!a)throw new Error("Iterable cannot be null");return new pn(s=>{to(s,l,()=>{const f=a[Symbol.asyncIterator]();to(s,l,()=>{f.next().then(v=>{v.done?s.complete():s.next(v.value)})},0,!0)})})}function ht(a,l){return l?function pe(a,l){if(null!=a){if(nS(a))return function nk(a,l){return Qn(a).pipe(oS(l),FT(l))}(a,l);if(Di(a))return function ve(a,l){return new pn(s=>{let f=0;return l.schedule(function(){f===a.length?s.complete():(s.next(a[f++]),s.closed||this.schedule())})})}(a,l);if(yt(a))return function VT(a,l){return Qn(a).pipe(oS(l),FT(l))}(a,l);if(Xe(a))return $c(a,l);if(te(a))return function hd(a,l){return new pn(s=>{let f;return to(s,l,()=>{f=a[Re](),to(s,l,()=>{let v,_;try{({value:v,done:_}=f.next())}catch(w){return void s.error(w)}_?s.complete():s.next(v)},0,!0)}),()=>Bt(f?.return)&&f.return()})}(a,l);if(fe(a))return function sS(a,l){return $c(_e(a),l)}(a,l)}throw OT(a)}(a,l):Qn(a)}class ti extends ji{constructor(l){super(),this._value=l}get value(){return this.getValue()}_subscribe(l){const s=super._subscribe(l);return!s.closed&&l.next(this._value),s}getValue(){const{hasError:l,thrownError:s,_value:f}=this;if(l)throw s;return this._throwIfClosed(),f}next(l){super.next(this._value=l)}}function ye(...a){return ht(a,Fo(a))}function lS(a={}){const{connector:l=(()=>new ji),resetOnError:s=!0,resetOnComplete:f=!0,resetOnRefCountZero:v=!0}=a;return _=>{let w,x,A,P=0,N=!1,z=!1;const U=()=>{x?.unsubscribe(),x=void 0},$=()=>{U(),w=A=void 0,N=z=!1},Z=()=>{const Q=w;$(),Q?.unsubscribe()};return qt((Q,ie)=>{P++,!z&&!N&&U();const ce=A=A??l();ie.add(()=>{P--,0===P&&!z&&!N&&(x=BT(Z,v))}),ce.subscribe(ie),!w&&P>0&&(w=new Gc({next:ne=>ce.next(ne),error:ne=>{z=!0,U(),x=BT($,s,ne),ce.error(ne)},complete:()=>{N=!0,U(),x=BT($,f),ce.complete()}}),Qn(Q).subscribe(w))})(_)}}function BT(a,l,...s){if(!0===l)return void a();if(!1===l)return;const f=new Gc({next:()=>{f.unsubscribe(),a()}});return Qn(l(...s)).subscribe(f)}function xa(a,l){return qt((s,f)=>{let v=null,_=0,w=!1;const x=()=>w&&!v&&f.complete();s.subscribe(vn(f,A=>{v?.unsubscribe();let P=0;const N=_++;Qn(a(A,N)).subscribe(v=vn(f,z=>f.next(l?l(A,z,N,P++):z),()=>{v=null,x()}))},()=>{w=!0,x()}))})}function kU(a,l){return a===l}function jt(a){for(let l in a)if(a[l]===jt)return l;throw Error("Could not find renamed property on target object.")}function uS(a,l){for(const s in l)l.hasOwnProperty(s)&&!a.hasOwnProperty(s)&&(a[s]=l[s])}function Rn(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Rn).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const s=l.indexOf("\n");return-1===s?l:l.substring(0,s)}function zT(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const HT=jt({__forward_ref__:jt});function Xt(a){return a.__forward_ref__=Xt,a.toString=function(){return Rn(this())},a}function tt(a){return GT(a)?a():a}function GT(a){return"function"==typeof a&&a.hasOwnProperty(HT)&&a.__forward_ref__===Xt}function UT(a){return a&&!!a.\u0275providers}class ue extends Error{constructor(l,s){super(function fS(a,l){return`NG0${Math.abs(a)}${l?": "+l:""}`}(l,s)),this.code=l}}function it(a){return"string"==typeof a?a:null==a?"":String(a)}function jT(a,l){throw new ue(-201,!1)}function Wi(a,l){null==a&&function Ue(a,l,s,f){throw new Error(`ASSERTION ERROR: ${a}`+(null==f?"":` [Expected=> ${s} ${f} ${l} <=Actual]`))}(l,a,null,"!=")}function Fe(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Ci(a){return{providers:a.providers||[],imports:a.imports||[]}}function $s(a){return ro(a,Ng)||ro(a,WT)}function ro(a,l){return a.hasOwnProperty(l)?a[l]:null}function zo(a){return a&&(a.hasOwnProperty(vS)||a.hasOwnProperty($i))?a[vS]:null}const Ng=jt({\u0275prov:jt}),vS=jt({\u0275inj:jt}),WT=jt({ngInjectableDef:jt}),$i=jt({ngInjectorDef:jt});var mt=function(a){return a[a.Default=0]="Default",a[a.Host=1]="Host",a[a.Self=2]="Self",a[a.SkipSelf=4]="SkipSelf",a[a.Optional=8]="Optional",a}(mt||{});let pd;function Or(a){const l=pd;return pd=a,l}function Og(a,l,s){const f=$s(a);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:s&mt.Optional?null:void 0!==l?l:void jT(Rn(a))}const Wt=globalThis;class we{constructor(l,s){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=Fe({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ou={},bS="__NG_DI_FLAG__",Yi="ngTempTokenPath",sk=/\n/gm,XT="__source";let Ys;function Zi(a){const l=Ys;return Ys=a,l}function kg(a,l=mt.Default){if(void 0===Ys)throw new ue(-203,!1);return null===Ys?Og(a,void 0,l):Ys.get(a,l&mt.Optional?null:void 0,l)}function Ae(a,l=mt.Default){return(function gS(){return pd}()||kg)(tt(a),l)}function ge(a,l=mt.Default){return Ae(a,su(l))}function su(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Ho(a){const l=[];for(let s=0;s<a.length;s++){const f=tt(a[s]);if(Array.isArray(f)){if(0===f.length)throw new ue(900,!1);let v,_=mt.Default;for(let w=0;w<f.length;w++){const x=f[w],A=lk(x);"number"==typeof A?-1===A?v=x.token:_|=A:v=x}l.push(Ae(v,_))}else l.push(Ae(f))}return l}function Zc(a,l){return a[bS]=l,a.prototype[bS]=l,a}function lk(a){return a[bS]}function Xi(a){return{toString:a}.toString()}var io=function(a){return a[a.OnPush=0]="OnPush",a[a.Default=1]="Default",a}(io||{}),er=function(a){return a[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",a}(er||{});const _r={},gt=[],Zs=jt({\u0275cmp:jt}),lu=jt({\u0275dir:jt}),DS=jt({\u0275pipe:jt}),Be=jt({\u0275mod:jt}),ao=jt({\u0275fac:jt}),vd=jt({__NG_ELEMENT_ID__:jt}),KT=jt({__NG_ENV_ID__:jt});function QT(a,l,s){let f=a.length;for(;;){const v=a.indexOf(l,s);if(-1===v)return v;if(0===v||a.charCodeAt(v-1)<=32){const _=l.length;if(v+_===f||a.charCodeAt(v+_)<=32)return v}s=v+1}}function uu(a,l,s){let f=0;for(;f<s.length;){const v=s[f];if("number"==typeof v){if(0!==v)break;f++;const _=s[f++],w=s[f++],x=s[f++];a.setAttribute(l,w,x,_)}else{const _=v,w=s[++f];Vg(_)?a.setProperty(l,_,w):a.setAttribute(l,_,w),f++}}return f}function JT(a){return 3===a||4===a||6===a}function Vg(a){return 64===a.charCodeAt(0)}function qc(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let s=-1;for(let f=0;f<l.length;f++){const v=l[f];"number"==typeof v?s=v:0===s||eM(a,s,v,null,-1===s||2===s?l[++f]:null)}}return a}function eM(a,l,s,f,v){let _=0,w=a.length;if(-1===l)w=-1;else for(;_<a.length;){const x=a[_++];if("number"==typeof x){if(x===l){w=-1;break}if(x>l){w=_-1;break}}}for(;_<a.length;){const x=a[_];if("number"==typeof x)break;if(x===s){if(null===f)return void(null!==v&&(a[_+1]=v));if(f===a[_+1])return void(a[_+2]=v)}_++,null!==f&&_++,null!==v&&_++}-1!==w&&(a.splice(w,0,l),_=w+1),a.splice(_++,0,s),null!==f&&a.splice(_++,0,f),null!==v&&a.splice(_++,0,v)}const CS="ng-template";function tM(a,l,s){let f=0,v=!0;for(;f<a.length;){let _=a[f++];if("string"==typeof _&&v){const w=a[f++];if(s&&"class"===_&&-1!==QT(w.toLowerCase(),l,0))return!0}else{if(1===_){for(;f<a.length&&"string"==typeof(_=a[f++]);)if(_.toLowerCase()===l)return!0;return!1}"number"==typeof _&&(v=!1)}}return!1}function nM(a){return 4===a.type&&a.value!==CS}function rM(a,l,s){return l===(4!==a.type||s?a.value:CS)}function gd(a,l,s){let f=4;const v=a.attrs||[],_=function iM(a){for(let l=0;l<a.length;l++)if(JT(a[l]))return l;return a.length}(v);let w=!1;for(let x=0;x<l.length;x++){const A=l[x];if("number"!=typeof A){if(!w)if(4&f){if(f=2|1&f,""!==A&&!rM(a,A,s)||""===A&&1===l.length){if(Ki(f))return!1;w=!0}}else{const P=8&f?A:l[++x];if(8&f&&null!==a.attrs){if(!tM(a.attrs,P,s)){if(Ki(f))return!1;w=!0}continue}const z=uk(8&f?"class":A,v,nM(a),s);if(-1===z){if(Ki(f))return!1;w=!0;continue}if(""!==P){let U;U=z>_?"":v[z+1].toLowerCase();const $=8&f?U:null;if($&&-1!==QT($,P,0)||2&f&&P!==U){if(Ki(f))return!1;w=!0}}}}else{if(!w&&!Ki(f)&&!Ki(A))return!1;if(w&&Ki(A))continue;w=!1,f=A|1&f}}return Ki(f)||w}function Ki(a){return 0==(1&a)}function uk(a,l,s,f){if(null===l)return-1;let v=0;if(f||!s){let _=!1;for(;v<l.length;){const w=l[v];if(w===a)return v;if(3===w||6===w)_=!0;else{if(1===w||2===w){let x=l[++v];for(;"string"==typeof x;)x=l[++v];continue}if(4===w)break;if(0===w){v+=4;continue}}v+=_?1:2}return-1}return function TS(a,l){let s=a.indexOf(4);if(s>-1)for(s++;s<a.length;){const f=a[s];if("number"==typeof f)return-1;if(f===l)return s;s++}return-1}(l,a)}function xS(a,l,s=!1){for(let f=0;f<l.length;f++)if(gd(a,l[f],s))return!0;return!1}function aM(a,l){return a?":not("+l.trim()+")":l}function Bg(a){let l=a[0],s=1,f=2,v="",_=!1;for(;s<a.length;){let w=a[s];if("string"==typeof w)if(2&f){const x=a[++s];v+="["+w+(x.length>0?'="'+x+'"':"")+"]"}else 8&f?v+="."+w:4&f&&(v+=" "+w);else""!==v&&!Ki(w)&&(l+=aM(_,v),v=""),f=w,_=_||!Ki(f);s++}return""!==v&&(l+=aM(_,v)),l}function Go(a){return Xi(()=>{const l=ES(a),s={...l,decls:a.decls,vars:a.vars,template:a.template,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,onPush:a.changeDetection===io.OnPush,directiveDefs:null,pipeDefs:null,dependencies:l.standalone&&a.dependencies||null,getStandaloneInjector:null,signals:a.signals??!1,data:a.data||{},encapsulation:a.encapsulation||er.Emulated,styles:a.styles||gt,_:null,schemas:a.schemas||null,tView:null,id:""};yd(s);const f=a.dependencies;return s.directiveDefs=Mi(f,!1),s.pipeDefs=Mi(f,!0),s.id=function Xc(a){let l=0;const s=[a.selectors,a.ngContentSelectors,a.hostVars,a.hostAttrs,a.consts,a.vars,a.decls,a.encapsulation,a.standalone,a.signals,a.exportAs,JSON.stringify(a.inputs),JSON.stringify(a.outputs),Object.getOwnPropertyNames(a.type.prototype),!!a.contentQueries,!!a.viewQuery].join("|");for(const v of s)l=Math.imul(31,l)+v.charCodeAt(0)<<0;return l+=2147483648,"c"+l}(s),s})}function AS(a){return Dt(a)||On(a)}function sM(a){return null!==a}function Qi(a){return Xi(()=>({type:a.type,bootstrap:a.bootstrap||gt,declarations:a.declarations||gt,imports:a.imports||gt,exports:a.exports||gt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function IS(a,l){if(null==a)return _r;const s={};for(const f in a)if(a.hasOwnProperty(f)){let v=a[f],_=v;Array.isArray(v)&&(_=v[1],v=v[0]),s[v]=f,l&&(l[v]=_)}return s}function Ye(a){return Xi(()=>{const l=ES(a);return yd(l),l})}function Dt(a){return a[Zs]||null}function On(a){return a[lu]||null}function gn(a){return a[DS]||null}function ni(a,l){const s=a[Be]||null;if(!s&&!0===l)throw new Error(`Type ${Rn(a)} does not have '\u0275mod' property.`);return s}function ES(a){const l={};return{type:a.type,providersResolver:null,factory:null,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:l,inputTransforms:null,inputConfig:a.inputs||_r,exportAs:a.exportAs||null,standalone:!0===a.standalone,signals:!0===a.signals,selectors:a.selectors||gt,viewQuery:a.viewQuery||null,features:a.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:IS(a.inputs,l),outputs:IS(a.outputs)}}function yd(a){a.features?.forEach(l=>l(a))}function Mi(a,l){if(!a)return null;const s=l?gn:AS;return()=>("function"==typeof a?a():a).map(f=>s(f)).filter(sM)}const zt=0,Se=1,Le=2,Jt=3,ri=4,Kc=5,cn=6,cu=7,Cn=8,en=9,qs=10,nt=11,Qc=12,Jc=13,fu=14,xn=15,_d=16,Xs=17,oo=18,Sd=19,PS=20,Ks=21,jo=22,Wo=23,ef=24,Ke=25,hu=1,zg=2,Sr=7,Ai=9,zn=11;function nr(a){return Array.isArray(a)&&"object"==typeof a[hu]}function kn(a){return Array.isArray(a)&&!0===a[hu]}function rr(a){return 0!=(4&a.flags)}function $o(a){return a.componentOffset>-1}function Hg(a){return 1==(1&a.flags)}function ii(a){return!!a.template}function LS(a){return 0!=(512&a[Le])}function Qs(a,l){return a.hasOwnProperty(ao)?a[ao]:null}let $n=null,bd=!1;function kr(a){const l=$n;return $n=a,l}const NS={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function dM(a){if(!tl(a)||a.dirty){if(!a.producerMustRecompute(a)&&!FS(a))return void(a.dirty=!1);a.producerRecomputeValue(a),a.dirty=!1}}function Yg(a){a.dirty=!0,function $g(a){if(void 0===a.liveConsumerNode)return;const l=bd;bd=!0;try{for(const s of a.liveConsumerNode)s.dirty||Yg(s)}finally{bd=l}}(a),a.consumerMarkedDirty?.(a)}function kS(a){return a&&(a.nextProducerIndex=0),kr(a)}function rf(a,l){if(kr(l),a&&void 0!==a.producerNode&&void 0!==a.producerIndexOfThis&&void 0!==a.producerLastReadVersion){if(tl(a))for(let s=a.nextProducerIndex;s<a.producerNode.length;s++)el(a.producerNode[s],a.producerIndexOfThis[s]);for(;a.producerNode.length>a.nextProducerIndex;)a.producerNode.pop(),a.producerLastReadVersion.pop(),a.producerIndexOfThis.pop()}}function FS(a){af(a);for(let l=0;l<a.producerNode.length;l++){const s=a.producerNode[l],f=a.producerLastReadVersion[l];if(f!==s.version||(dM(s),f!==s.version))return!0}return!1}function pM(a){if(af(a),tl(a))for(let l=0;l<a.producerNode.length;l++)el(a.producerNode[l],a.producerIndexOfThis[l]);a.producerNode.length=a.producerLastReadVersion.length=a.producerIndexOfThis.length=0,a.liveConsumerNode&&(a.liveConsumerNode.length=a.liveConsumerIndexOfThis.length=0)}function el(a,l){if(function Dd(a){a.liveConsumerNode??=[],a.liveConsumerIndexOfThis??=[]}(a),af(a),1===a.liveConsumerNode.length)for(let f=0;f<a.producerNode.length;f++)el(a.producerNode[f],a.producerIndexOfThis[f]);const s=a.liveConsumerNode.length-1;if(a.liveConsumerNode[l]=a.liveConsumerNode[s],a.liveConsumerIndexOfThis[l]=a.liveConsumerIndexOfThis[s],a.liveConsumerNode.length--,a.liveConsumerIndexOfThis.length--,l<a.liveConsumerNode.length){const f=a.liveConsumerIndexOfThis[l],v=a.liveConsumerNode[l];af(v),v.producerIndexOfThis[f]=l}}function tl(a){return a.consumerIsAlwaysLive||(a?.liveConsumerNode?.length??0)>0}function af(a){a.producerNode??=[],a.producerIndexOfThis??=[],a.producerLastReadVersion??=[]}let HS=null;const qg=()=>{},Sk=(()=>({...NS,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:a=>{a.schedule(a.ref)},hasRun:!1,cleanupFn:qg}))();class wk{constructor(l,s,f){this.previousValue=l,this.currentValue=s,this.firstChange=f}isFirstChange(){return this.firstChange}}function ai(){return wM}function wM(a){return a.type.prototype.ngOnChanges&&(a.setInput=$S),Aa}function Aa(){const a=DM(this),l=a?.current;if(l){const s=a.previous;if(s===_r)a.previous=l;else for(let f in l)s[f]=l[f];a.current=null,this.ngOnChanges(l)}}function $S(a,l,s,f){const v=this.declaredInputs[s],_=DM(a)||function Xg(a,l){return a[bM]=l}(a,{previous:_r,current:null}),w=_.current||(_.current={}),x=_.previous,A=x[v];w[v]=new wk(A&&A.currentValue,l,x===_r),a[f]=l}ai.ngInherit=!0;const bM="__ngSimpleChanges__";function DM(a){return a[bM]||null}const lo=function(a,l,s){};function tn(a){for(;Array.isArray(a);)a=a[zt];return a}function cf(a,l){return tn(l[a])}function br(a,l){return tn(l[a.index])}function TM(a,l){return a.data[l]}function oi(a,l){const s=l[a];return nr(s)?s:s[zt]}function uo(a,l){return null==l?null:a[l]}function Kg(a){a[Xs]=0}function bk(a){1024&a[Le]||(a[Le]|=1024,qS(a,1))}function Ia(a){1024&a[Le]&&(a[Le]&=-1025,qS(a,-1))}function qS(a,l){let s=a[Jt];if(null===s)return;s[Kc]+=l;let f=s;for(s=s[Jt];null!==s&&(1===l&&1===f[Kc]||-1===l&&0===f[Kc]);)s[Kc]+=l,f=s,s=s[Jt]}const Ne={lFrame:ea(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Dk(){return Ne.bindingsEnabled}function ae(){return Ne.lFrame.lView}function _t(){return Ne.lFrame.tView}function ir(){let a=AM();for(;null!==a&&64===a.type;)a=a.parent;return a}function AM(){return Ne.lFrame.currentTNode}function fo(a,l){const s=Ne.lFrame;s.currentTNode=a,s.isParent=l}function tm(){return Ne.lFrame.isParent}function pf(){return Ne.lFrame.bindingIndex++}function Tk(a,l){const s=Ne.lFrame;s.bindingIndex=s.bindingRootIndex=a,tw(l)}function tw(a){Ne.lFrame.currentDirectiveIndex=a}function rw(a){Ne.lFrame.currentQueryIndex=a}function Ct(a){const l=a[Se];return 2===l.type?l.declTNode:1===l.type?a[cn]:null}function le(a,l,s){if(s&mt.SkipSelf){let v=l,_=a;for(;!(v=v.parent,null!==v||s&mt.Host||(v=Ct(_),null===v||(_=_[fu],10&v.type))););if(null===v)return!1;l=v,a=_}const f=Ne.lFrame=si();return f.currentTNode=l,f.lView=a,!0}function Kt(a){const l=si(),s=a[Se];Ne.lFrame=l,l.currentTNode=s.firstChild,l.lView=a,l.tView=s,l.contextLView=a,l.bindingIndex=s.bindingStartIndex,l.inI18n=!1}function si(){const a=Ne.lFrame,l=null===a?null:a.child;return null===l?ea(a):l}function ea(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function iw(){const a=Ne.lFrame;return Ne.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const im=iw;function aw(){const a=iw();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function ar(){return Ne.lFrame.selectedIndex}function Zo(a){Ne.lFrame.selectedIndex=a}let Id=!0;function vf(){return Id}function or(a){Id=a}function Ed(a,l){for(let s=l.directiveStart,f=l.directiveEnd;s<f;s++){const _=a.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:x,ngAfterViewInit:A,ngAfterViewChecked:P,ngOnDestroy:N}=_;w&&(a.contentHooks??=[]).push(-s,w),x&&((a.contentHooks??=[]).push(s,x),(a.contentCheckHooks??=[]).push(s,x)),A&&(a.viewHooks??=[]).push(-s,A),P&&((a.viewHooks??=[]).push(s,P),(a.viewCheckHooks??=[]).push(s,P)),null!=N&&(a.destroyHooks??=[]).push(s,N)}}function Pd(a,l,s){sw(a,l,3,s)}function Ld(a,l,s,f){(3&a[Le])===s&&sw(a,l,s,f)}function sm(a,l){let s=a[Le];(3&s)===l&&(s&=8191,s+=1,a[Le]=s)}function sw(a,l,s,f){const _=f??-1,w=l.length-1;let x=0;for(let A=void 0!==f?65535&a[Xs]:0;A<w;A++)if("number"==typeof l[A+1]){if(x=l[A],null!=f&&x>=f)break}else l[A]<0&&(a[Xs]+=65536),(x<_||-1==_)&&(It(a,s,l,A),a[Xs]=(4294901760&a[Xs])+A+2),A++}function lw(a,l){lo(4,a,l);const s=kr(null);try{l.call(a)}finally{kr(s),lo(5,a,l)}}function It(a,l,s,f){const v=s[f]<0,_=s[f+1],x=a[v?-s[f]:s[f]];v?a[Le]>>13<a[Xs]>>16&&(3&a[Le])===l&&(a[Le]+=8192,lw(x,_)):lw(x,_)}const ta=-1;class gf{constructor(l,s,f){this.factory=l,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=f}}function uw(a){return a!==ta}function yf(a){return 32767&a}function rn(a,l){let s=function Rd(a){return a>>16}(a),f=l;for(;s>0;)f=f[fu],s--;return f}let OM=!0;function cw(a){const l=OM;return OM=a,l}const _f=255,FM=5;let Pk=0;const ho={};function po(a,l){const s=VM(a,l);if(-1!==s)return s;const f=l[Se];f.firstCreatePass&&(a.injectorIndex=l.length,ot(f.data,a),ot(l,null),ot(f.blueprint,null));const v=nl(a,l),_=a.injectorIndex;if(uw(v)){const w=yf(v),x=rn(v,l),A=x[Se].data;for(let P=0;P<8;P++)l[_+P]=x[w+P]|A[w+P]}return l[_+8]=v,_}function ot(a,l){a.push(0,0,0,0,0,0,0,0,l)}function VM(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function nl(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let s=0,f=null,v=l;for(;null!==v;){if(f=HM(v),null===f)return ta;if(s++,v=v[fu],-1!==f.injectorIndex)return f.injectorIndex|s<<16}return ta}function Nd(a,l,s){!function Lk(a,l,s){let f;"string"==typeof s?f=s.charCodeAt(0)||0:s.hasOwnProperty(vd)&&(f=s[vd]),null==f&&(f=s[vd]=Pk++);const v=f&_f;l.data[a+(v>>FM)]|=1<<v}(a,l,s)}function BM(a,l,s){if(s&mt.Optional||void 0!==a)return a;jT()}function Sf(a,l,s,f){if(s&mt.Optional&&void 0===f&&(f=null),!(s&(mt.Self|mt.Host))){const v=a[en],_=Or(void 0);try{return v?v.get(l,f,s&mt.Optional):Og(l,f,s&mt.Optional)}finally{Or(_)}}return BM(f,0,s)}function fw(a,l,s,f=mt.Default,v){if(null!==a){if(2048&l[Le]&&!(f&mt.Self)){const w=function kk(a,l,s,f,v){let _=a,w=l;for(;null!==_&&null!==w&&2048&w[Le]&&!(512&w[Le]);){const x=zM(_,w,s,f|mt.Self,ho);if(x!==ho)return x;let A=_.parent;if(!A){const P=w[PS];if(P){const N=P.get(s,ho,f);if(N!==ho)return N}A=HM(w),w=w[fu]}_=A}return v}(a,l,s,f,ho);if(w!==ho)return w}const _=zM(a,l,s,f,ho);if(_!==ho)return _}return Sf(l,s,f,v)}function zM(a,l,s,f,v){const _=function Nk(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(vd)?a[vd]:void 0;return"number"==typeof l?l>=0?l&_f:dw:l}(s);if("function"==typeof _){if(!le(l,a,f))return f&mt.Host?BM(v,0,f):Sf(l,s,f,v);try{let w;if(w=_(f),null!=w||f&mt.Optional)return w;jT()}finally{im()}}else if("number"==typeof _){let w=null,x=VM(a,l),A=ta,P=f&mt.Host?l[xn][cn]:null;for((-1===x||f&mt.SkipSelf)&&(A=-1===x?nl(a,l):l[x+8],A!==ta&&hw(f,!1)?(w=l[Se],x=yf(A),l=rn(A,l)):x=-1);-1!==x;){const N=l[Se];if(il(_,x,N.data)){const z=Rk(x,l,s,w,f,P);if(z!==ho)return z}A=l[x+8],A!==ta&&hw(f,l[Se].data[x+8]===P)&&il(_,x,l)?(w=N,x=yf(A),l=rn(A,l)):x=-1}}return v}function Rk(a,l,s,f,v,_){const w=l[Se],x=w.data[a+8],N=function wf(a,l,s,f,v){const _=a.providerIndexes,w=l.data,x=1048575&_,A=a.directiveStart,N=_>>20,U=v?x+N:a.directiveEnd;for(let $=f?x:x+N;$<U;$++){const Z=w[$];if($<A&&s===Z||$>=A&&Z.type===s)return $}if(v){const $=w[A];if($&&ii($)&&$.type===s)return A}return null}(x,w,s,null==f?$o(x)&&OM:f!=w&&0!=(3&x.type),v&mt.Host&&_===x);return null!==N?rl(l,w,N,x):ho}function rl(a,l,s,f){let v=a[s];const _=l.data;if(function mf(a){return a instanceof gf}(v)){const w=v;w.resolving&&function FU(a,l){const s=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ue(-200,`Circular dependency in DI detected for ${a}${s}`)}(function Ft(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():it(a)}(_[s]));const x=cw(w.canSeeViewProviders);w.resolving=!0;const P=w.injectImpl?Or(w.injectImpl):null;le(a,f,mt.Default);try{v=a[s]=w.factory(void 0,_,a,f),l.firstCreatePass&&s>=f.directiveStart&&function ow(a,l,s){const{ngOnChanges:f,ngOnInit:v,ngDoCheck:_}=l.type.prototype;if(f){const w=wM(l);(s.preOrderHooks??=[]).push(a,w),(s.preOrderCheckHooks??=[]).push(a,w)}v&&(s.preOrderHooks??=[]).push(0-a,v),_&&((s.preOrderHooks??=[]).push(a,_),(s.preOrderCheckHooks??=[]).push(a,_))}(s,_[s],l)}finally{null!==P&&Or(P),cw(x),w.resolving=!1,im()}}return v}function il(a,l,s){return!!(s[l+(a>>FM)]&1<<a)}function hw(a,l){return!(a&mt.Self||a&mt.Host&&l)}class Fr{constructor(l,s){this._tNode=l,this._lView=s}get(l,s,f){return fw(this._tNode,this._lView,l,su(f),s)}}function dw(){return new Fr(ir(),ae())}function sr(a){return Xi(()=>{const l=a.prototype.constructor,s=l[ao]||um(l),f=Object.prototype;let v=Object.getPrototypeOf(a.prototype).constructor;for(;v&&v!==f;){const _=v[ao]||um(v);if(_&&_!==s)return _;v=Object.getPrototypeOf(v)}return _=>new _})}function um(a){return GT(a)?()=>{const l=um(tt(a));return l&&l()}:Qs(a)}function HM(a){const l=a[Se],s=l.type;return 2===s?l.declTNode:1===s?a[cn]:null}const qo="__parameters__";function Df(a,l,s){return Xi(()=>{const f=function pw(a){return function(...s){if(a){const f=a(...s);for(const v in f)this[v]=f[v]}}}(l);function v(..._){if(this instanceof v)return f.apply(this,_),this;const w=new v(..._);return x.annotation=w,x;function x(A,P,N){const z=A.hasOwnProperty(qo)?A[qo]:Object.defineProperty(A,qo,{value:[]})[qo];for(;z.length<=N;)z.push(null);return(z[N]=z[N]||[]).push(w),A}}return s&&(v.prototype=Object.create(s.prototype)),v.prototype.ngMetadataName=a,v.annotationCls=v,v})}function Cf(a,l){a.forEach(s=>Array.isArray(s)?Cf(s,l):l(s))}function YM(a,l,s){l>=a.length?a.push(s):a.splice(l,0,s)}function fm(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function Ei(a,l,s){let f=al(a,l);return f>=0?a[1|f]=s:(f=~f,function hm(a,l,s,f){let v=a.length;if(v==l)a.push(s,f);else if(1===v)a.push(f,a[0]),a[0]=s;else{for(v--,a.push(a[v-1],a[v]);v>l;)a[v]=a[v-2],v--;a[l]=s,a[l+1]=f}}(a,f,l,s)),f}function mw(a,l){const s=al(a,l);if(s>=0)return a[1|s]}function al(a,l){return function qM(a,l,s){let f=0,v=a.length>>s;for(;v!==f;){const _=f+(v-f>>1),w=a[_<<s];if(l===w)return _<<s;w>l?v=_:f=_+1}return~(v<<s)}(a,l,1)}const Su=Zc(Df("Optional"),8),kd=Zc(Df("SkipSelf"),4);function _m(a){return 128==(128&a.flags)}var ll=function(a){return a[a.Important=1]="Important",a[a.DashCase=2]="DashCase",a}(ll||{});const Sm=new Map;let Vd=0;const wm="__ngContext__";function mn(a,l){nr(l)?(a[wm]=l[Sd],function Kk(a){Sm.set(a[Sd],a)}(l)):a[wm]=l}let bm;function Dm(a,l){return bm(a,l)}function zd(a){const l=a[Jt];return kn(l)?l[Jt]:l}function Aw(a){return Ew(a[Qc])}function Iw(a){return Ew(a[ri])}function Ew(a){for(;null!==a&&!kn(a);)a=a[ri];return a}function cl(a,l,s,f,v){if(null!=f){let _,w=!1;kn(f)?_=f:nr(f)&&(w=!0,f=f[zt]);const x=tn(f);0===a&&null!==s?null==v?Iu(l,s,x):La(l,s,x,v||null,!0):1===a&&null!==s?La(l,s,x,v||null,!0):2===a?function Mm(a,l,s){const f=Wd(a,l);f&&function yA(a,l,s,f){a.removeChild(l,s,f)}(a,f,l,s)}(l,x,w):3===a&&l.destroyNode(x),null!=_&&function bA(a,l,s,f,v){const _=s[Sr];_!==tn(s)&&cl(l,a,f,_,v);for(let x=zn;x<s.length;x++){const A=s[x];Eu(A[Se],A,a,l,f,_)}}(l,a,_,s,v)}}function Gd(a,l,s){return a.createElement(l,s)}function Cr(a,l){const s=a[Ai],f=s.indexOf(l);Ia(l),s.splice(f,1)}function fl(a,l){if(a.length<=zn)return;const s=zn+l,f=a[s];if(f){const v=f[_d];null!==v&&v!==a&&Cr(v,f),l>0&&(a[s-1][ri]=f[ri]);const _=fm(a,zn+l);!function gA(a,l){Eu(a,l,l[nt],2,null,null),l[zt]=null,l[cn]=null}(f[Se],f);const w=_[oo];null!==w&&w.detachView(_[Se]),f[Jt]=null,f[ri]=null,f[Le]&=-129}return f}function hl(a,l){if(!(256&l[Le])){const s=l[nt];l[Wo]&&pM(l[Wo]),l[ef]&&pM(l[ef]),s.destroyNode&&Eu(a,l,s,3,null,null),function Lw(a){let l=a[Qc];if(!l)return Rw(a[Se],a);for(;l;){let s=null;if(nr(l))s=l[Qc];else{const f=l[zn];f&&(s=f)}if(!s){for(;l&&!l[ri]&&l!==a;)nr(l)&&Rw(l[Se],l),l=l[Jt];null===l&&(l=a),nr(l)&&Rw(l[Se],l),s=l&&l[ri]}l=s}}(l)}}function Rw(a,l){if(!(256&l[Le])){l[Le]&=-129,l[Le]|=256,function xm(a,l){let s;if(null!=a&&null!=(s=a.destroyHooks))for(let f=0;f<s.length;f+=2){const v=l[s[f]];if(!(v instanceof gf)){const _=s[f+1];if(Array.isArray(_))for(let w=0;w<_.length;w+=2){const x=v[_[w]],A=_[w+1];lo(4,x,A);try{A.call(x)}finally{lo(5,x,A)}}else{lo(4,v,_);try{_.call(v)}finally{lo(5,v,_)}}}}}(a,l),function Mu(a,l){const s=a.cleanup,f=l[cu];if(null!==s)for(let _=0;_<s.length-1;_+=2)if("string"==typeof s[_]){const w=s[_+3];w>=0?f[w]():f[-w].unsubscribe(),_+=2}else s[_].call(f[s[_+1]]);null!==f&&(l[cu]=null);const v=l[Ks];if(null!==v){l[Ks]=null;for(let _=0;_<v.length;_++)(0,v[_])()}}(a,l),1===l[Se].type&&l[nt].destroy();const s=l[_d];if(null!==s&&kn(l[Jt])){s!==l[Jt]&&Cr(s,l);const f=l[oo];null!==f&&f.detachView(a)}!function oA(a){Sm.delete(a[Sd])}(l)}}function Au(a,l,s){return function jd(a,l,s){let f=l;for(;null!==f&&40&f.type;)f=(l=f).parent;if(null===f)return s[zt];{const{componentOffset:v}=f;if(v>-1){const{encapsulation:_}=a.data[f.directiveStart+v];if(_===er.None||_===er.Emulated)return null}return br(f,s)}}(a,l.parent,s)}function La(a,l,s,f,v){a.insertBefore(l,s,f,v)}function Iu(a,l,s){a.appendChild(l,s)}function Nw(a,l,s,f,v){null!==f?La(a,l,s,f,v):Iu(a,l,s)}function Wd(a,l){return a.parentNode(l)}let Fw,Yd,SA=function kw(a,l,s){return 40&a.type?br(a,s):null};function aa(a,l,s,f){const v=Au(a,f,l),_=l[nt],x=function Tm(a,l,s){return SA(a,l,s)}(f.parent||l[cn],f,l);if(null!=v)if(Array.isArray(s))for(let A=0;A<s.length;A++)Nw(_,v,s[A],x,!1);else Nw(_,v,s,x,!1);void 0!==Fw&&Fw(_,f,l,s,v)}function dl(a,l){if(null!==l){const s=l.type;if(3&s)return br(l,a);if(4&s)return Bw(-1,a[l.index]);if(8&s){const f=l.child;if(null!==f)return dl(a,f);{const v=a[l.index];return kn(v)?Bw(-1,v):tn(v)}}if(32&s)return Dm(l,a)()||tn(a[l.index]);{const f=Jk(a,l);return null!==f?Array.isArray(f)?f[0]:dl(zd(a[xn]),f):dl(a,l.next)}}return null}function Jk(a,l){return null!==l?a[xn][cn].projection[l.projection]:null}function Bw(a,l){const s=zn+a+1;if(s<l.length){const f=l[s],v=f[Se].firstChild;if(null!==v)return dl(f,v)}return l[Sr]}function zw(a,l,s,f,v,_,w){for(;null!=s;){const x=f[s.index],A=s.type;if(w&&0===l&&(x&&mn(tn(x),f),s.flags|=2),32!=(32&s.flags))if(8&A)zw(a,l,s.child,f,v,_,!1),cl(l,a,v,x,_);else if(32&A){const P=Dm(s,f);let N;for(;N=P();)cl(l,a,v,N,_);cl(l,a,v,x,_)}else 16&A?Hw(a,l,f,s,v,_):cl(l,a,v,x,_);s=w?s.projectionNext:s.next}}function Eu(a,l,s,f,v,_){zw(s,f,a.firstChild,l,v,_,!1)}function Hw(a,l,s,f,v,_){const w=s[xn],A=w[cn].projection[f.projection];if(Array.isArray(A))for(let P=0;P<A.length;P++)cl(l,a,v,A[P],_);else{let P=A;const N=w[Jt];_m(f)&&(P.flags|=128),zw(a,l,P,N,v,_,!0)}}function Gw(a,l,s){""===s?a.removeAttribute(l,"class"):a.setAttribute(l,"class",s)}function Am(a,l,s){const{mergedAttrs:f,classes:v,styles:_}=s;null!==f&&uu(a,l,f),null!==v&&Gw(a,l,v),null!==_&&function es(a,l,s){a.setAttribute(l,"style",s)}(a,l,_)}class nn{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Qd=new we("ENVIRONMENT_INITIALIZER"),VA=new we("INJECTOR",-1),ns=new we("INJECTOR_DEF_TYPES");class Xw{get(l,s=ou){if(s===ou){const f=new Error(`NullInjectorError: No provider for ${Rn(l)}!`);throw f.name="NullInjectorError",f}return s}}function Nm(...a){return{\u0275providers:Om(0,a),\u0275fromNgModule:!0}}function Om(a,...l){const s=[],f=new Set;let v;const _=w=>{s.push(w)};return Cf(l,w=>{const x=w;Ou(x,_,[],f)&&(v||=[],v.push(x))}),void 0!==v&&Nf(v,_),s}function Nf(a,l){for(let s=0;s<a.length;s++){const{ngModule:f,providers:v}=a[s];km(v,_=>{l(_,f)})}}function Ou(a,l,s,f){if(!(a=tt(a)))return!1;let v=null,_=zo(a);const w=!_&&Dt(a);if(_||w){if(w&&!w.standalone)return!1;v=a}else{const A=a.ngModule;if(_=zo(A),!_)return!1;v=A}const x=f.has(v);if(w){if(x)return!1;if(f.add(v),w.dependencies){const A="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const P of A)Ou(P,l,s,f)}}else{if(!_)return!1;{if(null!=_.imports&&!x){let P;f.add(v);try{Cf(_.imports,N=>{Ou(N,l,s,f)&&(P||=[],P.push(N))})}finally{}void 0!==P&&Nf(P,l)}if(!x){const P=Qs(v)||(()=>new v);l({provide:v,useFactory:P,deps:gt},v),l({provide:ns,useValue:v,multi:!0},v),l({provide:Qd,useValue:()=>Ae(v),multi:!0},v)}const A=_.providers;if(null!=A&&!x){const P=a;km(A,N=>{l(N,P)})}}}return v!==a&&void 0!==a.providers}function km(a,l){for(let s of a)UT(s)&&(s=s.\u0275providers),Array.isArray(s)?km(s,l):l(s)}const Qw=jt({provide:String,useValue:jt});function Jw(a){return null!==a&&"object"==typeof a&&Qw in a}function rs(a){return"function"==typeof a}const ku=new we("Set Injector scope."),Hr={},HA={};let Fu;function Vu(){return void 0===Fu&&(Fu=new Xw),Fu}class di{}class ml extends di{get destroyed(){return this._destroyed}constructor(l,s,f,v){super(),this.parent=s,this.source=f,this.scopes=v,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bm(l,w=>this.processProvider(w)),this.records.set(VA,kf(void 0,this)),v.has("environment")&&this.records.set(di,kf(void 0,this));const _=this.records.get(ku);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(ns.multi,gt,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const s of this._ngOnDestroyHooks)s.ngOnDestroy();const l=this._onDestroyHooks;this._onDestroyHooks=[];for(const s of l)s()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(l){return this.assertNotDestroyed(),this._onDestroyHooks.push(l),()=>this.removeOnDestroy(l)}runInContext(l){this.assertNotDestroyed();const s=Zi(this),f=Or(void 0);try{return l()}finally{Zi(s),Or(f)}}get(l,s=ou,f=mt.Default){if(this.assertNotDestroyed(),l.hasOwnProperty(KT))return l[KT](this);f=su(f);const _=Zi(this),w=Or(void 0);try{if(!(f&mt.SkipSelf)){let A=this.records.get(l);if(void 0===A){const P=function UA(a){return"function"==typeof a||"object"==typeof a&&a instanceof we}(l)&&$s(l);A=P&&this.injectableDefInScope(P)?kf(Vm(l),Hr):null,this.records.set(l,A)}if(null!=A)return this.hydrate(l,A)}return(f&mt.Self?Vu():this.parent).get(l,s=f&mt.Optional&&s===ou?null:s)}catch(x){if("NullInjectorError"===x.name){if((x[Yi]=x[Yi]||[]).unshift(Rn(l)),_)throw x;return function ze(a,l,s,f){const v=a[Yi];throw l[XT]&&v.unshift(l[XT]),a.message=function Fg(a,l,s,f=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let v=Rn(l);if(Array.isArray(l))v=l.map(Rn).join(" -> ");else if("object"==typeof l){let _=[];for(let w in l)if(l.hasOwnProperty(w)){let x=l[w];_.push(w+":"+("string"==typeof x?JSON.stringify(x):Rn(x)))}v=`{${_.join(", ")}}`}return`${s}${f?"("+f+")":""}[${v}]: ${a.replace(sk,"\n  ")}`}("\n"+a.message,v,s,f),a.ngTokenPath=v,a[Yi]=null,a}(x,l,"R3InjectorError",this.source)}throw x}finally{Or(w),Zi(_)}}resolveInjectorInitializers(){const l=Zi(this),s=Or(void 0);try{const v=this.get(Qd.multi,gt,mt.Self);for(const _ of v)_()}finally{Zi(l),Or(s)}}toString(){const l=[],s=this.records;for(const f of s.keys())l.push(Rn(f));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ue(205,!1)}processProvider(l){let s=rs(l=tt(l))?l:tt(l&&l.provide);const f=function Of(a){return Jw(a)?kf(void 0,a.useValue):kf(GA(a),Hr)}(l);if(rs(l)||!0!==l.multi)this.records.get(s);else{let v=this.records.get(s);v||(v=kf(void 0,Hr,!0),v.factory=()=>Ho(v.multi),this.records.set(s,v)),s=l,v.multi.push(l)}this.records.set(s,f)}hydrate(l,s){return s.value===Hr&&(s.value=HA,s.value=s.factory()),"object"==typeof s.value&&s.value&&function fF(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(l){if(!l.providedIn)return!1;const s=tt(l.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}removeOnDestroy(l){const s=this._onDestroyHooks.indexOf(l);-1!==s&&this._onDestroyHooks.splice(s,1)}}function Vm(a){const l=$s(a),s=null!==l?l.factory:Qs(a);if(null!==s)return s;if(a instanceof we)throw new ue(204,!1);if(a instanceof Function)return function Gr(a){const l=a.length;if(l>0)throw function xf(a,l){const s=[];for(let f=0;f<a;f++)s.push(l);return s}(l,"?"),new ue(204,!1);const s=function Bo(a){return a&&(a[Ng]||a[WT])||null}(a);return null!==s?()=>s.factory(a):()=>new a}(a);throw new ue(204,!1)}function GA(a,l,s){let f;if(rs(a)){const v=tt(a);return Qs(v)||Vm(v)}if(Jw(a))f=()=>tt(a.useValue);else if(function zA(a){return!(!a||!a.useFactory)}(a))f=()=>a.useFactory(...Ho(a.deps||[]));else if(function Fm(a){return!(!a||!a.useExisting)}(a))f=()=>Ae(tt(a.useExisting));else{const v=tt(a&&(a.useClass||a.provide));if(!function Jd(a){return!!a.deps}(a))return Qs(v)||Vm(v);f=()=>new v(...Ho(a.deps))}return f}function kf(a,l,s=!1){return{factory:a,value:l,multi:s?[]:void 0}}function Bm(a,l){for(const s of a)Array.isArray(s)?Bm(s,l):s&&UT(s)?Bm(s.\u0275providers,l):l(s)}const Ff=new we("AppId",{providedIn:"root",factory:()=>Vf}),Vf="ng",ep=new we("Platform Initializer"),Ra=new we("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),tp=new we("CSP nonce",{providedIn:"root",factory:()=>function Pf(){if(void 0!==Yd)return Yd;if(typeof document<"u")return document;throw new ue(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let sp=(a,l,s)=>null;function lp(a,l,s=!1){return sp(a,l,s)}class vF{}class Gu{}class Bf{resolveComponentFactory(l){throw function gF(a){const l=Error(`No component factory found for ${Rn(a)}.`);return l.ngComponent=a,l}(l)}}let Um=(()=>{class a{static#e=this.NULL=new Bf}return a})();function $A(){return ur(ir(),ae())}function ur(a,l){return new Ht(br(a,l))}let Ht=(()=>{class a{constructor(s){this.nativeElement=s}static#e=this.__NG_ELEMENT_ID__=$A}return a})();class Oa{}let cr=(()=>{class a{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function YA(){const a=ae(),s=oi(ir().index,a);return(nr(s)?s:a)[nt]}()}return a})(),yo=(()=>{class a{static#e=this.\u0275prov=Fe({token:a,providedIn:"root",factory:()=>null})}return a})();class _o{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const fr=new _o("16.2.12"),jm={};function qA(a,l=null,s=null,f){const v=Zm(a,l,s,f);return v.resolveInjectorInitializers(),v}function Zm(a,l=null,s=null,f,v=new Set){const _=[s||gt,Nm(a)];return f=f||("object"==typeof a?void 0:Rn(a)),new ml(_,l||Vu(),f||null,v)}let Ur=(()=>{class a{static#e=this.THROW_IF_NOT_FOUND=ou;static#t=this.NULL=new Xw;static create(s,f){if(Array.isArray(s))return qA({name:""},f,s,"");{const v=s.name??"";return qA({name:v},s.parent,s.providers,v)}}static#n=this.\u0275prov=Fe({token:a,providedIn:"any",factory:()=>Ae(VA)});static#r=this.__NG_ELEMENT_ID__=-1}return a})();function lb(a){return a.ngOriginalError}class la{constructor(){this._console=console}handleError(l){const s=this._findOriginalError(l);this._console.error("ERROR",l),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(l){let s=l&&lb(l);for(;s&&lb(s);)s=lb(s);return s||null}}function ub(a){return l=>{setTimeout(a,void 0,l)}}const fn=class CF extends ji{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,s,f){let v=l,_=s||(()=>null),w=f;if(l&&"object"==typeof l){const A=l;v=A.next?.bind(A),_=A.error?.bind(A),w=A.complete?.bind(A)}this.__isAsync&&(_=ub(_),v&&(v=ub(v)),w&&(w=ub(w)));const x=super.subscribe({next:v,error:_,complete:w});return l instanceof Xn&&l.add(x),x}};function cb(...a){}class Zt{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new fn(!1),this.onMicrotaskEmpty=new fn(!1),this.onStable=new fn(!1),this.onError=new fn(!1),typeof Zone>"u")throw new ue(908,!1);Zone.assertZonePatched();const v=this;v._nesting=0,v._outer=v._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(v._inner=v._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(v._inner=v._inner.fork(Zone.longStackTraceZoneSpec)),v.shouldCoalesceEventChangeDetection=!f&&s,v.shouldCoalesceRunChangeDetection=f,v.lastRequestAnimationFrameId=-1,v.nativeRequestAnimationFrame=function dj(){const a="function"==typeof Wt.requestAnimationFrame;let l=Wt[a?"requestAnimationFrame":"setTimeout"],s=Wt[a?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&l&&s){const f=l[Zone.__symbol__("OriginalDelegate")];f&&(l=f);const v=s[Zone.__symbol__("OriginalDelegate")];v&&(s=v)}return{nativeRequestAnimationFrame:l,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function JA(a){const l=()=>{!function QA(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Wt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Xm(a),a.isCheckStableRunning=!0,qm(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Xm(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,f,v,_,w,x)=>{if(function zf(a){return!(!Array.isArray(a)||1!==a.length)&&!0===a[0].data?.__ignore_ng_zone__}(x))return s.invokeTask(v,_,w,x);try{return eI(a),s.invokeTask(v,_,w,x)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),tI(a)}},onInvoke:(s,f,v,_,w,x,A)=>{try{return eI(a),s.invoke(v,_,w,x,A)}finally{a.shouldCoalesceRunChangeDetection&&l(),tI(a)}},onHasTask:(s,f,v,_)=>{s.hasTask(v,_),f===v&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,Xm(a),qm(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(s,f,v,_)=>(s.handleError(v,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(v)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zt.isInAngularZone())throw new ue(909,!1)}static assertNotInAngularZone(){if(Zt.isInAngularZone())throw new ue(909,!1)}run(l,s,f){return this._inner.run(l,s,f)}runTask(l,s,f,v){const _=this._inner,w=_.scheduleEventTask("NgZoneEvent: "+v,l,TF,cb,cb);try{return _.runTask(w,s,f)}finally{_.cancelTask(w)}}runGuarded(l,s,f){return this._inner.runGuarded(l,s,f)}runOutsideAngular(l){return this._outer.run(l)}}const TF={};function qm(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Xm(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function eI(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function tI(a){a._nesting--,qm(a)}class nI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new fn,this.onMicrotaskEmpty=new fn,this.onStable=new fn,this.onError=new fn}run(l,s,f){return l.apply(s,f)}runGuarded(l,s,f){return l.apply(s,f)}runOutsideAngular(l){return l()}runTask(l,s,f,v){return l.apply(s,f)}}const Km=new we("",{providedIn:"root",factory:rI});function rI(){const a=ge(Zt);let l=!0;return function dd(...a){const l=Fo(a),s=function Wc(a,l){return"number"==typeof ei(a)?a.pop():l}(a,1/0),f=a;return f.length?1===f.length?Qn(f[0]):ke(s)(ht(f,l)):Ln}(new pn(v=>{l=a.isStable&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks,a.runOutsideAngular(()=>{v.next(l),v.complete()})}),new pn(v=>{let _;a.runOutsideAngular(()=>{_=a.onStable.subscribe(()=>{Zt.assertNotInAngularZone(),queueMicrotask(()=>{!l&&!a.hasPendingMacrotasks&&!a.hasPendingMicrotasks&&(l=!0,v.next(!0))})})});const w=a.onUnstable.subscribe(()=>{Zt.assertInAngularZone(),l&&(l=!1,a.runOutsideAngular(()=>{v.next(!1)}))});return()=>{_.unsubscribe(),w.unsubscribe()}}).pipe(lS()))}function os(a){return a instanceof Function?a():a}let fp=(()=>{class a{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=Fe({token:a,providedIn:"root",factory:()=>new a})}return a})();function Fn(a){for(;a;){a[Le]|=64;const l=zd(a);if(LS(a)&&!l)return a;a=l}return null}const Li=new we("",{providedIn:"root",factory:()=>!1});let hp=null;function lI(a,l){return a[l]??fI()}function hb(a,l){const s=fI();s.producerNode?.length&&(a[l]=hp,s.lView=a,hp=cI())}const uI={...NS,consumerIsAlwaysLive:!0,consumerMarkedDirty:a=>{Fn(a.lView)},lView:null};function cI(){return Object.create(uI)}function fI(){return hp??=cI(),hp}const Qe={};function Tr(a){Jm(_t(),ae(),ar()+a,!1)}function Jm(a,l,s,f){if(!f)if(3==(3&l[Le])){const _=a.preOrderCheckHooks;null!==_&&Pd(l,_,s)}else{const _=a.preOrderHooks;null!==_&&Ld(l,_,0,s)}Zo(s)}function se(a,l=mt.Default){const s=ae();return null===s?Ae(a,l):fw(ir(),s,tt(a),l)}function ey(a,l,s,f,v,_,w,x,A,P,N){const z=l.blueprint.slice();return z[zt]=v,z[Le]=140|f,(null!==P||a&&2048&a[Le])&&(z[Le]|=2048),Kg(z),z[Jt]=z[fu]=a,z[Cn]=s,z[qs]=w||a&&a[qs],z[nt]=x||a&&a[nt],z[en]=A||a&&a[en]||null,z[cn]=_,z[Sd]=function Xk(){return Vd++}(),z[jo]=N,z[PS]=P,z[xn]=2==l.type?a[xn]:z,z}function Wf(a,l,s,f,v){let _=a.data[l];if(null===_)_=function ty(a,l,s,f,v){const _=AM(),w=tm(),A=a.data[l]=function gb(a,l,s,f,v,_){let w=l?l.injectorIndex:-1,x=0;return function Dr(){return null!==Ne.skipHydrationRootTNode}()&&(x|=128),{type:s,index:f,insertBeforeIndex:null,injectorIndex:w,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:x,providerIndexes:0,value:v,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?_:_&&_.parent,s,l,f,v);return null===a.firstChild&&(a.firstChild=A),null!==_&&(w?null==_.child&&null!==A.parent&&(_.child=A):null===_.next&&(_.next=A,A.prev=_)),A}(a,l,s,f,v),function xk(){return Ne.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=s,_.value=f,_.attrs=v;const w=function Md(){const a=Ne.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===w?-1:w.injectorIndex}return fo(_,!0),_}function $f(a,l,s,f){if(0===s)return-1;const v=l.length;for(let _=0;_<s;_++)l.push(f),a.blueprint.push(f),a.data.push(null);return v}function db(a,l,s,f,v){const _=lI(l,Wo),w=ar(),x=2&f;try{Zo(-1),x&&l.length>Ke&&Jm(a,l,Ke,!1),lo(x?2:0,v);const P=x?_:null,N=kS(P);try{null!==P&&(P.dirty=!1),s(f,v)}finally{rf(P,N)}}finally{x&&null===l[Wo]&&hb(l,Wo),Zo(w),lo(x?3:1,v)}}function ls(a,l,s){if(rr(l)){const f=kr(null);try{const _=l.directiveEnd;for(let w=l.directiveStart;w<_;w++){const x=a.data[w];x.contentQueries&&x.contentQueries(1,s[w],w)}}finally{kr(f)}}}function us(a,l,s){Dk()&&(function wI(a,l,s,f){const v=s.directiveStart,_=s.directiveEnd;$o(s)&&function St(a,l,s){const f=br(l,a),v=pb(s);let w=16;s.signals?w=4096:s.onPush&&(w=64);const x=ry(a,ey(a,v,null,w,f,l,null,a[qs].rendererFactory.createRenderer(f,s),null,null,null));a[l.index]=x}(l,s,a.data[v+s.componentOffset]),a.firstCreatePass||po(s,l),mn(f,l);const w=s.initialInputs;for(let x=v;x<_;x++){const A=a.data[x],P=rl(l,a,x,s);mn(P,l),null!==w&&DI(0,x-v,P,A,0,w),ii(A)&&(oi(s.index,l)[Cn]=rl(l,a,x,s))}}(a,l,s,br(s,l)),64==(64&s.flags)&&bI(a,l,s))}function cs(a,l,s=br){const f=l.localNames;if(null!==f){let v=l.index+1;for(let _=0;_<f.length;_+=2){const w=f[_+1],x=-1===w?s(l,a):a[w];a[v++]=x}}}function pb(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=ny(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts,a.id):l}function ny(a,l,s,f,v,_,w,x,A,P,N){const z=Ke+f,U=z+v,$=function pI(a,l){const s=[];for(let f=0;f<l;f++)s.push(f<a?null:Qe);return s}(z,U),Z="function"==typeof P?P():P;return $[Se]={type:a,blueprint:$,template:s,queries:null,viewQuery:x,declTNode:l,data:$.slice().fill(null,z),bindingStartIndex:z,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:A,consts:Z,incompleteFirstPass:!1,ssrId:N}}let vb=a=>null;function yI(a,l,s,f){for(let v in a)if(a.hasOwnProperty(v)){s=null===s?{}:s;const _=a[v];null===f?mb(s,l,v,_):f.hasOwnProperty(v)&&mb(s,l,f[v],_)}return s}function mb(a,l,s,f){a.hasOwnProperty(s)?a[s].push(l,f):a[s]=[l,f]}function ju(a,l,s,f){if(Dk()){const v=null===f?null:{"":-1},_=function mj(a,l){const s=a.directiveRegistry;let f=null,v=null;if(s)for(let _=0;_<s.length;_++){const w=s[_];if(xS(l,w.selectors,!1))if(f||(f=[]),ii(w))if(null!==w.findHostDirectiveDefs){const x=[];v=v||new Map,w.findHostDirectiveDefs(w,x,v),f.unshift(...x,w),wb(a,l,x.length)}else f.unshift(w),wb(a,l,0);else v=v||new Map,w.findHostDirectiveDefs?.(w,f,v),f.push(w)}return null===f?null:[f,v]}(a,s);let w,x;null===_?w=x=null:[w,x]=_,null!==w&&_I(a,l,s,w,v,x),v&&function yj(a,l,s){if(l){const f=a.localNames=[];for(let v=0;v<l.length;v+=2){const _=s[l[v+1]];if(null==_)throw new ue(-301,!1);f.push(l[v],_)}}}(s,f,v)}s.mergedAttrs=qc(s.mergedAttrs,s.attrs)}function _I(a,l,s,f,v,_){for(let P=0;P<f.length;P++)Nd(po(s,l),a,f[P].type);!function Sj(a,l,s){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+s,a.providerIndexes=l}(s,a.data.length,f.length);for(let P=0;P<f.length;P++){const N=f[P];N.providersResolver&&N.providersResolver(N)}let w=!1,x=!1,A=$f(a,l,f.length,null);for(let P=0;P<f.length;P++){const N=f[P];s.mergedAttrs=qc(s.mergedAttrs,N.hostAttrs),wj(a,s,l,A,N),_j(A,N,v),null!==N.contentQueries&&(s.flags|=4),(null!==N.hostBindings||null!==N.hostAttrs||0!==N.hostVars)&&(s.flags|=64);const z=N.type.prototype;!w&&(z.ngOnChanges||z.ngOnInit||z.ngDoCheck)&&((a.preOrderHooks??=[]).push(s.index),w=!0),!x&&(z.ngOnChanges||z.ngDoCheck)&&((a.preOrderCheckHooks??=[]).push(s.index),x=!0),A++}!function yb(a,l,s){const v=l.directiveEnd,_=a.data,w=l.attrs,x=[];let A=null,P=null;for(let N=l.directiveStart;N<v;N++){const z=_[N],U=s?s.get(z):null,Z=U?U.outputs:null;A=yI(z.inputs,N,A,U?U.inputs:null),P=yI(z.outputs,N,P,Z);const Q=null===A||null===w||nM(l)?null:VF(A,N,w);x.push(Q)}null!==A&&(A.hasOwnProperty("class")&&(l.flags|=8),A.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=x,l.inputs=A,l.outputs=P}(a,s,_)}function bI(a,l,s){const f=s.directiveStart,v=s.directiveEnd,_=s.index,w=function LM(){return Ne.lFrame.currentDirectiveIndex}();try{Zo(_);for(let x=f;x<v;x++){const A=a.data[x],P=l[x];tw(x),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&Sb(A,P)}}finally{Zo(-1),tw(w)}}function Sb(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function wb(a,l,s){l.componentOffset=s,(a.components??=[]).push(l.index)}function _j(a,l,s){if(s){if(l.exportAs)for(let f=0;f<l.exportAs.length;f++)s[l.exportAs[f]]=a;ii(l)&&(s[""]=a)}}function wj(a,l,s,f,v){a.data[f]=v;const _=v.factory||(v.factory=Qs(v.type)),w=new gf(_,ii(v),se);a.blueprint[f]=w,s[f]=w,function SI(a,l,s,f,v){const _=v.hostBindings;if(_){let w=a.hostBindingOpCodes;null===w&&(w=a.hostBindingOpCodes=[]);const x=~l.index;(function FF(a){let l=a.length;for(;l>0;){const s=a[--l];if("number"==typeof s&&s<0)return s}return 0})(w)!=x&&w.push(x),w.push(s,f,_)}}(a,l,f,$f(a,s,v.hostVars,Qe),v)}function DI(a,l,s,f,v,_){const w=_[l];if(null!==w)for(let x=0;x<w.length;)Db(f,s,w[x++],w[x++],w[x++])}function Db(a,l,s,f,v){const _=kr(null);try{const w=a.inputTransforms;null!==w&&w.hasOwnProperty(f)&&(v=w[f].call(l,v)),null!==a.setInput?a.setInput(l,v,s,f):l[f]=v}finally{kr(_)}}function VF(a,l,s){let f=null,v=0;for(;v<s.length;){const _=s[v];if(0!==_)if(5!==_){if("number"==typeof _)break;if(a.hasOwnProperty(_)){null===f&&(f=[]);const w=a[_];for(let x=0;x<w.length;x+=2)if(w[x]===l){f.push(_,w[x+1],s[v+1]);break}}v+=2}else v+=2;else v+=4}return f}function Cb(a,l,s,f){return[a,!0,!1,l,null,0,f,s,null,null,null]}function CI(a,l){const s=a.contentQueries;if(null!==s)for(let f=0;f<s.length;f+=2){const _=s[f+1];if(-1!==_){const w=a.data[_];rw(s[f]),w.contentQueries(2,l[_],_)}}}function ry(a,l){return a[Qc]?a[Jc][ri]=l:a[Qc]=l,a[Jc]=l,l}function xb(a,l,s){rw(0);const f=kr(null);try{l(a,s)}finally{kr(f)}}function AI(a,l){const s=a[en],f=s?s.get(la,null):null;f&&f.handleError(l)}function iy(a,l,s,f,v){for(let _=0;_<s.length;){const w=s[_++],x=s[_++];Db(a.data[w],l[w],f,x,v)}}function BF(a,l){const s=oi(l,a),f=s[Se];!function zF(a,l){for(let s=l.length;s<a.blueprint.length;s++)l.push(a.blueprint[s])}(f,s);const v=s[zt];null!==v&&null===s[jo]&&(s[jo]=lp(v,s[en])),dp(f,s,s[Cn])}function dp(a,l,s){Kt(l);try{const f=a.viewQuery;null!==f&&xb(1,f,s);const v=a.template;null!==v&&db(a,l,v,1,s),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&CI(a,l),a.staticViewQueries&&xb(2,a.viewQuery,s);const _=a.components;null!==_&&function ay(a,l){for(let s=0;s<l.length;s++)BF(a,l[s])}(l,_)}catch(f){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),f}finally{l[Le]&=-5,aw()}}let II=(()=>{class a{constructor(){this.all=new Set,this.queue=new Map}create(s,f,v){const _=typeof Zone>"u"?null:Zone.current,w=function _M(a,l,s){const f=Object.create(Sk);s&&(f.consumerAllowSignalWrites=!0),f.fn=a,f.schedule=l;const v=w=>{f.cleanupFn=w};return f.ref={notify:()=>Yg(f),run:()=>{if(f.dirty=!1,f.hasRun&&!FS(f))return;f.hasRun=!0;const w=kS(f);try{f.cleanupFn(),f.cleanupFn=qg,f.fn(v)}finally{rf(f,w)}},cleanup:()=>f.cleanupFn()},f.ref}(s,P=>{this.all.has(P)&&this.queue.set(P,_)},v);let x;this.all.add(w),w.notify();const A=()=>{w.cleanup(),x?.(),this.all.delete(w),this.queue.delete(w)};return x=f?.onDestroy(A),{destroy:A}}flush(){if(0!==this.queue.size)for(const[s,f]of this.queue)this.queue.delete(s),f?f.run(()=>s.run()):s.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=Fe({token:a,providedIn:"root",factory:()=>new a})}return a})();function pp(a,l,s){let f=s?a.styles:null,v=s?a.classes:null,_=0;if(null!==l)for(let w=0;w<l.length;w++){const x=l[w];"number"==typeof x?_=x:1==_?v=zT(v,x):2==_&&(f=zT(f,x+": "+l[++w]+";"))}s?a.styles=f:a.stylesWithoutHost=f,s?a.classes=v:a.classesWithoutHost=v}function Zf(a,l,s,f,v=!1){for(;null!==s;){const _=l[s.index];null!==_&&f.push(tn(_)),kn(_)&&Tb(_,f);const w=s.type;if(8&w)Zf(a,l,s.child,f);else if(32&w){const x=Dm(s,l);let A;for(;A=x();)f.push(A)}else if(16&w){const x=Jk(l,s);if(Array.isArray(x))f.push(...x);else{const A=zd(l[xn]);Zf(A[Se],A,x,f,!0)}}s=v?s.projectionNext:s.next}return f}function Tb(a,l){for(let s=zn;s<a.length;s++){const f=a[s],v=f[Se].firstChild;null!==v&&Zf(f[Se],f,v,l)}a[Sr]!==a[zt]&&l.push(a[Sr])}function qf(a,l,s,f=!0){const v=l[qs],_=v.rendererFactory,w=v.afterRenderEventManager;_.begin?.(),w?.begin();try{EI(a,l,a.template,s)}catch(A){throw f&&AI(l,A),A}finally{_.end?.(),v.effectManager?.flush(),w?.end()}}function EI(a,l,s,f){const v=l[Le];if(256!=(256&v)){l[qs].effectManager?.flush(),Kt(l);try{Kg(l),function EM(a){return Ne.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==s&&db(a,l,s,2,f);const w=3==(3&v);if(w){const P=a.preOrderCheckHooks;null!==P&&Pd(l,P,null)}else{const P=a.preOrderHooks;null!==P&&Ld(l,P,0,null),sm(l,0)}if(function GF(a){for(let l=Aw(a);null!==l;l=Iw(l)){if(!l[zg])continue;const s=l[Ai];for(let f=0;f<s.length;f++){bk(s[f])}}}(l),Mb(l,2),null!==a.contentQueries&&CI(a,l),w){const P=a.contentCheckHooks;null!==P&&Pd(l,P)}else{const P=a.contentHooks;null!==P&&Ld(l,P,1),sm(l,1)}!function dI(a,l){const s=a.hostBindingOpCodes;if(null===s)return;const f=lI(l,ef);try{for(let v=0;v<s.length;v++){const _=s[v];if(_<0)Zo(~_);else{const w=_,x=s[++v],A=s[++v];Tk(x,w),f.dirty=!1;const P=kS(f);try{A(2,l[w])}finally{rf(f,P)}}}}finally{null===l[ef]&&hb(l,ef),Zo(-1)}}(a,l);const x=a.components;null!==x&&Eb(l,x,0);const A=a.viewQuery;if(null!==A&&xb(2,A,f),w){const P=a.viewCheckHooks;null!==P&&Pd(l,P)}else{const P=a.viewHooks;null!==P&&Ld(l,P,2),sm(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[Le]&=-73,Ia(l)}finally{aw()}}}function Mb(a,l){for(let s=Aw(a);null!==s;s=Iw(s))for(let f=zn;f<s.length;f++)Ib(s[f],l)}function Ab(a,l,s){Ib(oi(l,a),s)}function Ib(a,l){if(!function gu(a){return 128==(128&a[Le])}(a))return;const s=a[Se],f=a[Le];if(80&f&&0===l||1024&f||2===l)EI(s,a,s.template,a[Cn]);else if(a[Kc]>0){Mb(a,1);const v=s.components;null!==v&&Eb(a,v,1)}}function Eb(a,l,s){for(let f=0;f<l.length;f++)Ab(a,l[f],s)}class Dl{get rootNodes(){const l=this._lView,s=l[Se];return Zf(s,l,s.firstChild,[])}constructor(l,s){this._lView=l,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(l){this._lView[Cn]=l}get destroyed(){return 256==(256&this._lView[Le])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[Jt];if(kn(l)){const s=l[8],f=s?s.indexOf(this):-1;f>-1&&(fl(l,f),fm(s,f))}this._attachedToViewContainer=!1}hl(this._lView[Se],this._lView)}onDestroy(l){!function co(a,l){if(256==(256&a[Le]))throw new ue(911,!1);null===a[Ks]&&(a[Ks]=[]),a[Ks].push(l)}(this._lView,l)}markForCheck(){Fn(this._cdRefInjectingView||this._lView)}detach(){this._lView[Le]&=-129}reattach(){this._lView[Le]|=128}detectChanges(){qf(this._lView[Se],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ue(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Pw(a,l){Eu(a,l,l[nt],2,null,null)}(this._lView[Se],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ue(902,!1);this._appRef=l}}class PI extends Dl{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;qf(l[Se],l,l[Cn],!1)}checkNoChanges(){}get context(){return null}}class Pb extends Um{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const s=Dt(l);return new hn(s,this.ngModule)}}function Lb(a){const l=[];for(let s in a)a.hasOwnProperty(s)&&l.push({propName:a[s],templateName:s});return l}class jF{constructor(l,s){this.injector=l,this.parentInjector=s}get(l,s,f){f=su(f);const v=this.injector.get(l,jm,f);return v!==jm||s===jm?v:this.parentInjector.get(l,s,f)}}class hn extends Gu{get inputs(){const l=this.componentDef,s=l.inputTransforms,f=Lb(l.inputs);if(null!==s)for(const v of f)s.hasOwnProperty(v.propName)&&(v.transform=s[v.propName]);return f}get outputs(){return Lb(this.componentDef.outputs)}constructor(l,s){super(),this.componentDef=l,this.ngModule=s,this.componentType=l.type,this.selector=function Ti(a){return a.map(Bg).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!s}create(l,s,f,v){let _=(v=v||this.ngModule)instanceof di?v:v?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const w=_?new jF(l,_):l,x=w.get(Oa,null);if(null===x)throw new ue(407,!1);const z={rendererFactory:x,sanitizer:w.get(yo,null),effectManager:w.get(II,null),afterRenderEventManager:w.get(fp,null)},U=x.createRenderer(null,this.componentDef),$=this.componentDef.selectors[0][0]||"div",Z=f?function vI(a,l,s,f){const _=f.get(Li,!1)||s===er.ShadowDom,w=a.selectRootElement(l,_);return function RF(a){vb(a)}(w),w}(U,f,this.componentDef.encapsulation,w):Gd(U,$,function UF(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}($)),ce=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ne=null;null!==Z&&(ne=lp(Z,w,!0));const Ce=ny(0,null,null,1,0,null,null,null,null,null,null),He=ey(null,Ce,null,ce,null,null,z,U,w,null,ne);let pt,jn;Kt(He);try{const Ui=this.componentDef;let Ja,pT=null;Ui.findHostDirectiveDefs?(Ja=[],pT=new Map,Ui.findHostDirectiveDefs(Ui,Ja,pT),Ja.push(Ui)):Ja=[Ui];const M3=function LI(a,l){const s=a[Se],f=Ke;return a[f]=l,Wf(s,f,2,"#host",null)}(He,Z),A3=function RI(a,l,s,f,v,_,w){const x=v[Se];!function WF(a,l,s,f){for(const v of a)l.mergedAttrs=qc(l.mergedAttrs,v.hostAttrs);null!==l.mergedAttrs&&(pp(l,l.mergedAttrs,!0),null!==s&&Am(f,s,l))}(f,a,l,w);let A=null;null!==l&&(A=lp(l,v[en]));const P=_.rendererFactory.createRenderer(l,s);let N=16;s.signals?N=4096:s.onPush&&(N=64);const z=ey(v,pb(s),null,N,v[a.index],a,_,P,null,null,A);return x.firstCreatePass&&wb(x,a,f.length-1),ry(v,z),v[a.index]=z}(M3,Z,Ui,Ja,He,z,U);jn=TM(Ce,Ke),Z&&function NI(a,l,s,f){if(f)uu(a,s,["ng-version",fr.full]);else{const{attrs:v,classes:_}=function md(a){const l=[],s=[];let f=1,v=2;for(;f<a.length;){let _=a[f];if("string"==typeof _)2===v?""!==_&&l.push(_,a[++f]):8===v&&s.push(_);else{if(!Ki(v))break;v=_}f++}return{attrs:l,classes:s}}(l.selectors[0]);v&&uu(a,s,v),_&&_.length>0&&Gw(a,s,_.join(" "))}}(U,Ui,Z,f),void 0!==s&&function YF(a,l,s){const f=a.projection=[];for(let v=0;v<l.length;v++){const _=s[v];f.push(null!=_?Array.from(_):null)}}(jn,this.ngContentSelectors,s),pt=function $F(a,l,s,f,v,_){const w=ir(),x=v[Se],A=br(w,v);_I(x,v,w,s,null,f);for(let N=0;N<s.length;N++)mn(rl(v,x,w.directiveStart+N,w),v);bI(x,v,w),A&&mn(A,v);const P=rl(v,x,w.directiveStart+w.componentOffset,w);if(a[Cn]=v[Cn]=P,null!==_)for(const N of _)N(P,l);return ls(x,w,a),P}(A3,Ui,Ja,pT,He,[Nb]),dp(Ce,He,null)}finally{aw()}return new Rb(this.componentType,pt,ur(jn,He),He,jn)}}class Rb extends vF{constructor(l,s,f,v,_){super(),this.location=f,this._rootLView=v,this._tNode=_,this.previousInputValues=null,this.instance=s,this.hostView=this.changeDetectorRef=new PI(v),this.componentType=l}setInput(l,s){const f=this._tNode.inputs;let v;if(null!==f&&(v=f[l])){if(this.previousInputValues??=new Map,this.previousInputValues.has(l)&&Object.is(this.previousInputValues.get(l),s))return;const _=this._rootLView;iy(_[Se],_,v,l,s),this.previousInputValues.set(l,s),Fn(oi(this._tNode.index,_))}}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function Nb(){const a=ir();Ed(ae()[Se],a)}function Gt(a){let l=function OI(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),s=!0;const f=[a];for(;l;){let v;if(ii(a))v=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ue(903,!1);v=l.\u0275dir}if(v){if(s){f.push(v);const w=a;w.inputs=sy(a.inputs),w.inputTransforms=sy(a.inputTransforms),w.declaredInputs=sy(a.declaredInputs),w.outputs=sy(a.outputs);const x=v.hostBindings;x&&Ob(a,x);const A=v.viewQuery,P=v.contentQueries;if(A&&FI(a,A),P&&VI(a,P),uS(a.inputs,v.inputs),uS(a.declaredInputs,v.declaredInputs),uS(a.outputs,v.outputs),null!==v.inputTransforms&&(null===w.inputTransforms&&(w.inputTransforms={}),uS(w.inputTransforms,v.inputTransforms)),ii(v)&&v.data.animation){const N=a.data;N.animation=(N.animation||[]).concat(v.data.animation)}}const _=v.features;if(_)for(let w=0;w<_.length;w++){const x=_[w];x&&x.ngInherit&&x(a),x===Gt&&(s=!1)}}l=Object.getPrototypeOf(l)}!function kI(a){let l=0,s=null;for(let f=a.length-1;f>=0;f--){const v=a[f];v.hostVars=l+=v.hostVars,v.hostAttrs=qc(v.hostAttrs,s=qc(s,v.hostAttrs))}}(f)}function sy(a){return a===_r?{}:a===gt?[]:a}function FI(a,l){const s=a.viewQuery;a.viewQuery=s?(f,v)=>{l(f,v),s(f,v)}:l}function VI(a,l){const s=a.contentQueries;a.contentQueries=s?(f,v,_)=>{l(f,v,_),s(f,v,_)}:l}function Ob(a,l){const s=a.hostBindings;a.hostBindings=s?(f,v)=>{l(f,v),s(f,v)}:l}function In(a,l,s){return!Object.is(a[l],s)&&(a[l]=s,!0)}function Al(a,l,s,f,v,_,w,x){const A=ae(),P=_t(),N=a+Ke,z=P.firstCreatePass?function iV(a,l,s,f,v,_,w,x,A){const P=l.consts,N=Wf(l,a,4,w||null,uo(P,x));ju(l,s,N,uo(P,A)),Ed(l,N);const z=N.tView=ny(2,N,f,v,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,P,null);return null!==l.queries&&(l.queries.template(l,N),z.queries=l.queries.embeddedTView(N)),N}(N,P,A,l,s,f,v,_,w):P.data[N];fo(z,!1);const U=Wb(P,A,z,a);vf()&&aa(P,A,U,z),mn(U,A),ry(A,A[N]=Cb(U,A,U,z)),Hg(z)&&us(P,A,z),null!=w&&cs(A,z,x)}let Wb=function Vn(a,l,s,f){return or(!0),l[nt].createComment("")};function $r(a,l,s){const f=ae();return In(f,pf(),l)&&function ua(a,l,s,f,v,_,w,x){const A=br(l,s);let N,P=l.inputs;!x&&null!=P&&(N=P[f])?(iy(a,s,N,f,v),$o(l)&&function OF(a,l){const s=oi(l,a);16&s[Le]||(s[Le]|=64)}(s,l.index)):3&l.type&&(f=function Yf(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(f),v=null!=w?w(v,l.value||"",f):v,_.setProperty(A,f,v))}(_t(),function Yt(){const a=Ne.lFrame;return TM(a.tView,a.selectedIndex)}(),f,a,l,f[nt],s,!1),$r}function $b(a,l,s,f,v){const w=v?"class":"style";iy(a,s,l.inputs[w],w,f)}function En(a,l,s,f){const v=ae(),_=_t(),w=Ke+a,x=v[nt],A=_.firstCreatePass?function JI(a,l,s,f,v,_){const w=l.consts,A=Wf(l,a,2,f,uo(w,v));return ju(l,s,A,uo(w,_)),null!==A.attrs&&pp(A,A.attrs,!1),null!==A.mergedAttrs&&pp(A,A.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,A),A}(w,_,v,l,s,f):_.data[w],P=eE(_,v,A,x,l,a);v[w]=P;const N=Hg(A);return fo(A,!0),Am(x,P,A),32!=(32&A.flags)&&vf()&&aa(_,v,P,A),0===function Td(){return Ne.lFrame.elementDepthCount}()&&mn(P,v),function hf(){Ne.lFrame.elementDepthCount++}(),N&&(us(_,v,A),ls(_,A,v)),null!==f&&cs(v,A),En}function Gn(){let a=ir();tm()?function nm(){Ne.lFrame.isParent=!1}():(a=a.parent,fo(a,!1));const l=a;(function em(a){return Ne.skipHydrationRootTNode===a})(l)&&function df(){Ne.skipHydrationRootTNode=null}(),function Jg(){Ne.lFrame.elementDepthCount--}();const s=_t();return s.firstCreatePass&&(Ed(s,a),rr(a)&&s.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Ik(a){return 0!=(8&a.flags)}(l)&&$b(s,l,ae(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ek(a){return 0!=(16&a.flags)}(l)&&$b(s,l,ae(),l.stylesWithoutHost,!1),Gn}function Ni(a,l,s,f){return En(a,l,s,f),Gn(),Ni}let eE=(a,l,s,f,v,_)=>(or(!0),Gd(f,v,function om(){return Ne.lFrame.currentNamespace}()));function Pl(a){return!!a&&"function"==typeof a.then}function nE(a){return!!a&&"function"==typeof a.subscribe}function Oi(a,l,s,f){const v=ae(),_=_t(),w=ir();return function Dp(a,l,s,f,v,_,w){const x=Hg(f),P=a.firstCreatePass&&function TI(a){return a.cleanup||(a.cleanup=[])}(a),N=l[Cn],z=function xI(a){return a[cu]||(a[cu]=[])}(l);let U=!0;if(3&f.type||w){const Q=br(f,l),ie=w?w(Q):Q,ce=z.length,ne=w?He=>w(tn(He[f.index])):f.index;let Ce=null;if(!w&&x&&(Ce=function gy(a,l,s,f){const v=a.cleanup;if(null!=v)for(let _=0;_<v.length-1;_+=2){const w=v[_];if(w===s&&v[_+1]===f){const x=l[cu],A=v[_+2];return x.length>A?x[A]:null}"string"==typeof w&&(_+=2)}return null}(a,l,v,f.index)),null!==Ce)(Ce.__ngLastListenerFn__||Ce).__ngNextListenerFn__=_,Ce.__ngLastListenerFn__=_,U=!1;else{_=qb(f,l,N,_,!1);const He=s.listen(ie,v,_);z.push(_,He),P&&P.push(v,ne,ce,ce+1)}}else _=qb(f,l,N,_,!1);const $=f.outputs;let Z;if(U&&null!==$&&(Z=$[v])){const Q=Z.length;if(Q)for(let ie=0;ie<Q;ie+=2){const pt=l[Z[ie]][Z[ie+1]].subscribe(_),jn=z.length;z.push(_,pt),P&&P.push(v,f.index,jn,-(jn+1))}}}(_,v,v[nt],w,a,l,f),Oi}function my(a,l,s,f){try{return lo(6,l,s),!1!==s(f)}catch(v){return AI(a,v),!1}finally{lo(7,l,s)}}function qb(a,l,s,f,v){return function _(w){if(w===Function)return f;Fn(a.componentOffset>-1?oi(a.index,l):l);let A=my(l,s,f,w),P=_.__ngNextListenerFn__;for(;P;)A=my(l,s,P,w)&&A,P=P.__ngNextListenerFn__;return v&&!1===A&&w.preventDefault(),A}}function Cp(a=1){return function RM(a){return(Ne.lFrame.contextLView=function Mk(a,l){for(;a>0;)l=l[fu],a--;return l}(a,Ne.lFrame.contextLView))[Cn]}(a)}function Ku(a,l){return a<<17|l<<2}function gs(a){return a>>17&32767}function Ap(a){return 2|a}function Ll(a){return(131068&a)>>2}function Rl(a,l){return-131069&a|l<<2}function Sy(a){return 1|a}function ms(a,l,s,f,v){const _=a[s+1],w=null===l;let x=f?gs(_):Ll(_),A=!1;for(;0!==x&&(!1===A||w);){const N=a[x+1];sE(a[x],l)&&(A=!0,a[x+1]=f?Sy(N):Ap(N)),x=f?gs(N):Ll(N)}A&&(a[s+1]=f?Ap(_):Sy(_))}function sE(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&al(a,l)>=0}function by(a,l){return function Ba(a,l,s,f){const v=ae(),_=_t(),w=function Ea(a){const l=Ne.lFrame,s=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,s}(2);_.firstUpdatePass&&function vE(a,l,s,f){const v=a.data;if(null===v[s+1]){const _=v[ar()],w=function Pp(a,l){return l>=a.expandoStartIndex}(a,s);(function Jb(a,l){return 0!=(a.flags&(l?8:16))})(_,f)&&null===l&&!w&&(l=!1),l=function hV(a,l,s,f){const v=function rm(a){const l=Ne.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}(a);let _=f?l.residualClasses:l.residualStyles;if(null===v)0===(f?l.classBindings:l.styleBindings)&&(s=Lp(s=Qb(null,a,l,s,f),l.attrs,f),_=null);else{const w=l.directiveStylingLast;if(-1===w||a[w]!==v)if(s=Qb(v,a,l,s,f),null===_){let A=function dV(a,l,s){const f=s?l.classBindings:l.styleBindings;if(0!==Ll(f))return a[gs(f)]}(a,l,f);void 0!==A&&Array.isArray(A)&&(A=Qb(null,a,l,A[1],f),A=Lp(A,l.attrs,f),function pV(a,l,s,f){a[gs(s?l.classBindings:l.styleBindings)]=f}(a,l,f,A))}else _=function vV(a,l,s){let f;const v=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<v;_++)f=Lp(f,a[_].hostAttrs,s);return Lp(f,l.attrs,s)}(a,l,f)}return void 0!==_&&(f?l.residualClasses=_:l.residualStyles=_),s}(v,_,l,f),function nh(a,l,s,f,v,_){let w=_?l.classBindings:l.styleBindings,x=gs(w),A=Ll(w);a[f]=s;let N,P=!1;if(Array.isArray(s)?(N=s[1],(null===N||al(s,N)>0)&&(P=!0)):N=s,v)if(0!==A){const U=gs(a[x+1]);a[f+1]=Ku(U,x),0!==U&&(a[U+1]=Rl(a[U+1],f)),a[x+1]=function Mp(a,l){return 131071&a|l<<17}(a[x+1],f)}else a[f+1]=Ku(x,0),0!==x&&(a[x+1]=Rl(a[x+1],f)),x=f;else a[f+1]=Ku(A,0),0===x?x=f:a[A+1]=Rl(a[A+1],f),A=f;P&&(a[f+1]=Ap(a[f+1])),ms(a,N,f,!0),ms(a,N,f,!1),function oE(a,l,s,f,v){const _=v?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&al(_,l)>=0&&(s[f+1]=Sy(s[f+1]))}(l,N,a,f,_),w=Ku(x,A),_?l.classBindings=w:l.styleBindings=w}(v,_,l,s,w,f)}}(_,a,w,f),l!==Qe&&In(v,w,l)&&function yE(a,l,s,f,v,_,w,x){if(!(3&l.type))return;const A=a.data,P=A[x+1],N=function Ip(a){return 1==(1&a)}(P)?ah(A,l,s,v,Ll(P),w):void 0;Rp(N)||(Rp(_)||function lV(a){return 2==(2&a)}(P)&&(_=ah(A,null,s,v,x,w)),function Jo(a,l,s,f,v){if(l)v?a.addClass(s,f):a.removeClass(s,f);else{let _=-1===f.indexOf("-")?void 0:ll.DashCase;null==v?a.removeStyle(s,f,_):("string"==typeof v&&v.endsWith("!important")&&(v=v.slice(0,-10),_|=ll.Important),a.setStyle(s,f,v,_))}}(f,w,cf(ar(),s),v,_))}(_,_.data[ar()],v,v[nt],a,v[w+1]=function Dy(a,l){return null==a||""===a||("string"==typeof l?a+=l:"object"==typeof a&&(a=Rn(function oa(a){return a instanceof nn?a.changingThisBreaksApplicationSecurity:a}(a)))),a}(l,s),f,w)}(a,l,null,!0),by}function Qb(a,l,s,f,v){let _=null;const w=s.directiveEnd;let x=s.directiveStylingLast;for(-1===x?x=s.directiveStart:x++;x<w&&(_=l[x],f=Lp(f,_.hostAttrs,v),_!==a);)x++;return null!==a&&(s.directiveStylingLast=x),f}function Lp(a,l,s){const f=s?1:2;let v=-1;if(null!==l)for(let _=0;_<l.length;_++){const w=l[_];"number"==typeof w?v=w:v===f&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Ei(a,w,!!s||l[++_]))}return void 0===a?null:a}function ah(a,l,s,f,v,_){const w=null===l;let x;for(;v>0;){const A=a[v],P=Array.isArray(A),N=P?A[1]:A,z=null===N;let U=s[v+1];U===Qe&&(U=z?gt:void 0);let $=z?mw(U,f):N===f?U:void 0;if(P&&!Rp($)&&($=mw(A,f)),Rp($)&&(x=$,w))return x;const Z=a[v+1];v=w?gs(Z):Ll(Z)}if(null!==l){let A=_?l.residualClasses:l.residualStyles;null!=A&&(x=mw(A,f))}return x}function Rp(a){return void 0!==a}function ki(a,l=""){const s=ae(),f=_t(),v=a+Ke,_=f.firstCreatePass?Wf(f,v,1,l,null):f.data[v],w=eD(f,s,_,l,a);s[v]=w,vf()&&aa(f,s,w,_),fo(_,!1)}let eD=(a,l,s,f,v)=>(or(!0),function rt(a,l){return a.createText(l)}(l[nt],f));function Do(a,l,s){const f=ae(),v=function hs(a,l,s,f){return In(a,pf(),s)?l+it(s)+f:Qe}(f,a,l,s);return v!==Qe&&function fs(a,l,s){const f=cf(l,a);!function Oe(a,l,s){a.setValue(l,s)}(a[nt],f,s)}(f,ar(),v),Do}const ec="en-US";let RE=ec;function Ly(a,l,s,f,v){if(a=tt(a),Array.isArray(a))for(let _=0;_<a.length;_++)Ly(a[_],l,s,f,v);else{const _=_t(),w=ae(),x=ir();let A=rs(a)?a:tt(a.provide);const P=GA(a),N=1048575&x.providerIndexes,z=x.directiveStart,U=x.providerIndexes>>20;if(rs(a)||!a.multi){const $=new gf(P,v,se),Z=fh(A,l,v?N:N+U,z);-1===Z?(Nd(po(x,w),_,A),Yp(_,a,l.length),l.push(A),x.directiveStart++,x.directiveEnd++,v&&(x.providerIndexes+=1048576),s.push($),w.push($)):(s[Z]=$,w[Z]=$)}else{const $=fh(A,l,N+U,z),Z=fh(A,l,N,N+U),ie=Z>=0&&s[Z];if(v&&!ie||!v&&!($>=0&&s[$])){Nd(po(x,w),_,A);const ce=function $V(a,l,s,f,v){const _=new gf(a,s,se);return _.multi=[],_.index=l,_.componentProviders=0,Fl(_,v,f&&!s),_}(v?WV:jV,s.length,v,f,P);!v&&ie&&(s[Z].providerFactory=ce),Yp(_,a,l.length,0),l.push(A),x.directiveStart++,x.directiveEnd++,v&&(x.providerIndexes+=1048576),s.push(ce),w.push(ce)}else Yp(_,a,$>-1?$:Z,Fl(s[v?Z:$],P,!v&&f));!v&&f&&ie&&s[Z].componentProviders++}}}function Yp(a,l,s,f){const v=rs(l),_=function eb(a){return!!a.useClass}(l);if(v||_){const A=(_?tt(l.useClass):l).prototype.ngOnDestroy;if(A){const P=a.destroyHooks||(a.destroyHooks=[]);if(!v&&l.multi){const N=P.indexOf(s);-1===N?P.push(s,[f,A]):P[N+1].push(f,A)}else P.push(s,A)}}}function Fl(a,l,s){return s&&a.componentProviders++,a.multi.push(l)-1}function fh(a,l,s,f){for(let v=s;v<f;v++)if(l[v]===a)return v;return-1}function jV(a,l,s,f){return Zp(this.multi,[])}function WV(a,l,s,f){const v=this.multi;let _;if(this.providerFactory){const w=this.providerFactory.componentProviders,x=rl(s,s[Se],this.providerFactory.index,f);_=x.slice(0,w),Zp(v,_);for(let A=w;A<x.length;A++)_.push(x[A])}else _=[],Zp(v,_);return _}function Zp(a,l){for(let s=0;s<a.length;s++)l.push((0,a[s])());return l}function an(a,l=[]){return s=>{s.providersResolver=(f,v)=>function Py(a,l,s){const f=_t();if(f.firstCreatePass){const v=ii(a);Ly(s,f.data,f.blueprint,v,!0),Ly(l,f.data,f.blueprint,v,!1)}}(f,v?v(a):a,l)}}class Vl{}class rP{}class ED extends Vl{constructor(l,s,f){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Pb(this);const v=ni(l);this._bootstrapComponents=os(v.bootstrap),this._r3Injector=Zm(l,s,[{provide:Vl,useValue:this},{provide:Um,useValue:this.componentFactoryResolver},...f],Rn(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class qp extends rP{constructor(l){super(),this.moduleType=l}create(l){return new ED(this.moduleType,l,[])}}class Ry extends Vl{constructor(l){super(),this.componentFactoryResolver=new Pb(this),this.instance=null;const s=new ml([...l.providers,{provide:Vl,useValue:this},{provide:Um,useValue:this.componentFactoryResolver}],l.parent||Vu(),l.debugName,new Set(["environment"]));this.injector=s,l.runEnvironmentInitializers&&s.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Ny(a,l,s=null){return new Ry({providers:a,parent:l,debugName:s,runEnvironmentInitializers:!0}).injector}let aP=(()=>{class a{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s)){const f=Om(0,s.type),v=f.length>0?Ny([f],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s,v)}return this.cachedInjectors.get(s)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=Fe({token:a,providedIn:"environment",factory:()=>new a(Ae(di))})}return a})();function Xp(a){a.getStandaloneInjector=l=>l.get(aP).getOrCreateStandaloneInjector(a)}function WD(a,l,s,f=!0){const v=l[Se];if(function Ud(a,l,s,f){const v=zn+f,_=s.length;f>0&&(s[v-1][ri]=l),f<_-zn?(l[ri]=s[v],YM(s,zn+f,l)):(s.push(l),l[ri]=null),l[Jt]=s;const w=l[_d];null!==w&&s!==w&&function Cm(a,l){const s=a[Ai];l[xn]!==l[Jt][Jt][xn]&&(a[zg]=!0),null===s?a[Ai]=[l]:s.push(l)}(w,l);const x=l[oo];null!==x&&x.insertView(a),l[Le]|=128}(v,l,a,s),f){const _=Bw(s,a),w=l[nt],x=Wd(w,a[Sr]);null!==x&&function mA(a,l,s,f,v,_){f[zt]=v,f[cn]=l,Eu(a,f,s,1,v,_)}(v,a[cn],w,l,x,_)}}Symbol;let on=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=aB}return a})();const iB=on,hh=class extends iB{constructor(l,s,f){super(),this._declarationLView=l,this._declarationTContainer=s,this.elementRef=f}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(l,s){return this.createEmbeddedViewImpl(l,s)}createEmbeddedViewImpl(l,s,f){const v=function UD(a,l,s,f){const v=l.tView,x=ey(a,v,s,4096&a[Le]?4096:16,null,l,null,null,null,f?.injector??null,f?.hydrationInfo??null);x[_d]=a[l.index];const P=a[oo];return null!==P&&(x[oo]=P.createEmbeddedView(v)),dp(v,x,s),x}(this._declarationLView,this._declarationTContainer,l,{injector:s,hydrationInfo:f});return new Dl(v)}};function aB(){return function Fy(a,l){return 4&a.type?new hh(l,a,ur(a,l)):null}(ir(),ae())}let Ga=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=sB}return a})();function sB(){return function Co(a,l){let s;const f=l[a.index];return kn(f)?s=f:(s=Cb(f,l,null,a),l[a.index]=s,ry(l,s)),SP(s,l,a,f),new _P(s,a,l)}(ir(),ae())}const lB=Ga,_P=class extends lB{constructor(l,s,f){super(),this._lContainer=l,this._hostTNode=s,this._hostLView=f}get element(){return ur(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){const l=nl(this._hostTNode,this._hostLView);if(uw(l)){const s=rn(l,this._hostLView),f=yf(l);return new Fr(s[Se].data[f+8],s)}return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const s=Ua(this._lContainer);return null!==s&&s[l]||null}get length(){return this._lContainer.length-zn}createEmbeddedView(l,s,f){let v,_;"number"==typeof f?v=f:null!=f&&(v=f.index,_=f.injector);const x=l.createEmbeddedViewImpl(s||{},_,null);return this.insertImpl(x,v,false),x}createComponent(l,s,f,v,_){const w=l&&!function Od(a){return"function"==typeof a}(l);let x;if(w)x=s;else{const Q=s||{};x=Q.index,f=Q.injector,v=Q.projectableNodes,_=Q.environmentInjector||Q.ngModuleRef}const A=w?l:new hn(Dt(l)),P=f||this.parentInjector;if(!_&&null==A.ngModule){const ie=(w?P:this.parentInjector).get(di,null);ie&&(_=ie)}Dt(A.componentType??{});const $=A.create(P,v,null,_);return this.insertImpl($.hostView,x,false),$}insert(l,s){return this.insertImpl(l,s,!1)}insertImpl(l,s,f){const v=l._lView;if(function ff(a){return kn(a[Jt])}(v)){const A=this.indexOf(l);if(-1!==A)this.detach(A);else{const P=v[Jt],N=new _P(P,P[cn],P[Jt]);N.detach(N.indexOf(l))}}const w=this._adjustIndex(s),x=this._lContainer;return WD(x,v,w,!f),l.attachToViewContainerRef(),YM(By(x),w,l),l}move(l,s){return this.insert(l,s)}indexOf(l){const s=Ua(this._lContainer);return null!==s?s.indexOf(l):-1}remove(l){const s=this._adjustIndex(l,-1),f=fl(this._lContainer,s);f&&(fm(By(this._lContainer),s),hl(f[Se],f))}detach(l){const s=this._adjustIndex(l,-1),f=fl(this._lContainer,s);return f&&null!=fm(By(this._lContainer),s)?new Dl(f):null}_adjustIndex(l,s=0){return l??this.length+s}};function Ua(a){return a[8]}function By(a){return a[8]||(a[8]=[])}let SP=function wP(a,l,s,f){if(a[Sr])return;let v;v=8&s.type?tn(f):function uB(a,l){const s=a[nt],f=s.createComment(""),v=br(l,a);return La(s,Wd(s,v),f,function _A(a,l){return a.nextSibling(l)}(s,v),!1),f}(l,s),a[Sr]=v};const Qy=new we("Application Initializer");let Jy=(()=>{class a{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((s,f)=>{this.resolve=s,this.reject=f}),this.appInits=ge(Qy,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const s=[];for(const v of this.appInits){const _=v();if(Pl(_))s.push(_);else if(nE(_)){const w=new Promise((x,A)=>{_.subscribe({complete:x,error:A})});s.push(w)}}const f=()=>{this.done=!0,this.resolve()};Promise.all(s).then(()=>{f()}).catch(v=>{this.reject(v)}),0===s.length&&f(),this.initialized=!0}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),oC=(()=>{class a{log(s){console.log(s)}warn(s){console.warn(s)}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();const xs=new we("LocaleId",{providedIn:"root",factory:()=>ge(xs,mt.Optional|mt.SkipSelf)||function FP(){return typeof $localize<"u"&&$localize.locale||ec}()});let e0=(()=>{class a{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ti(!1)}add(){this.hasPendingTasks.next(!0);const s=this.taskId++;return this.pendingTasks.add(s),s}remove(s){this.pendingTasks.delete(s),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class sv{constructor(l,s){this.ngModuleFactory=l,this.componentFactories=s}}let BP=(()=>{class a{compileModuleSync(s){return new qp(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const f=this.compileModuleSync(s),_=os(ni(s).declarations).reduce((w,x)=>{const A=Dt(x);return A&&w.push(new hn(A)),w},[]);return new sv(f,_)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const YP=new we(""),_i=new we("");let ma,Ot=(()=>{class a{constructor(s,f,v){this._ngZone=s,this.registry=f,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,ma||(function To(a){ma=a}(v),v.addToWindow(f)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(s)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,f,v){let _=-1;f&&f>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),s(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:s,timeoutId:_,updateCb:v})}whenStable(s,f,v){if(v&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,f,v),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,f,v){return[]}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Zt),Ae(sn),Ae(_i))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})(),sn=(()=>{class a{constructor(){this._applications=new Map}registerApplication(s,f){this._applications.set(s,f)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,f=!0){return ma?.findTestabilityInTree(this,s,f)??null}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})(),Ts=null;const fv=new we("AllowMultipleToken"),pr=new we("PlatformDestroyListeners"),r0=new we("appBootstrapListener");class a0{constructor(l,s){this.name=l,this.token=s}}function fC(a,l,s=[]){const f=`Platform: ${l}`,v=new we(f);return(_=[])=>{let w=vr();if(!w||w.injector.get(fv,!1)){const x=[...s,..._,{provide:v,useValue:!0}];a?a(x):function qP(a){if(Ts&&!Ts.get(fv,!1))throw new ue(400,!1);(function ZP(){!function Cd(a){HS=a}(()=>{throw new ue(600,!1)})})(),Ts=a;const l=a.get(o0);(function KP(a){a.get(ep,null)?.forEach(s=>s())})(a)}(function QP(a=[],l){return Ur.create({name:l,providers:[{provide:ku,useValue:"platform"},{provide:pr,useValue:new Set([()=>Ts=null])},...a]})}(x,f))}return function GB(a){const l=vr();if(!l)throw new ue(401,!1);return l}()}}function vr(){return Ts?.get(o0)??null}let o0=(()=>{class a{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,f){const v=function s0(a="zone.js",l){return"noop"===a?new nI:"zone.js"===a?new Zt(l):a}(f?.ngZone,function JP(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:a?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:a?.runCoalescing??!1}}({eventCoalescing:f?.ngZoneEventCoalescing,runCoalescing:f?.ngZoneRunCoalescing}));return v.run(()=>{const _=function PD(a,l,s){return new ED(a,l,s)}(s.moduleType,this.injector,function Gl(a){return[{provide:Zt,useFactory:a},{provide:Qd,multi:!0,useFactory:()=>{const l=ge(pC,{optional:!0});return()=>l.initialize()}},{provide:dC,useFactory:jB},{provide:Km,useFactory:rI}]}(()=>v)),w=_.injector.get(la,null);return v.runOutsideAngular(()=>{const x=v.onError.subscribe({next:A=>{w.handleError(A)}});_.onDestroy(()=>{wh(this._modules,_),x.unsubscribe()})}),function hv(a,l,s){try{const f=s();return Pl(f)?f.catch(v=>{throw l.runOutsideAngular(()=>a.handleError(v)),v}):f}catch(f){throw l.runOutsideAngular(()=>a.handleError(f)),f}}(w,v,()=>{const x=_.injector.get(Jy);return x.runInitializers(),x.donePromise.then(()=>(function fD(a){Wi(a,"Expected localeId to be defined"),"string"==typeof a&&(RE=a.toLowerCase().replace(/_/g,"-"))}(_.injector.get(xs,ec)||ec),this._moduleDoBootstrap(_),_))})})}bootstrapModule(s,f=[]){const v=eL({},f);return function BB(a,l,s){const f=new qp(s);return Promise.resolve(f)}(0,0,s).then(_=>this.bootstrapModuleFactory(_,v))}_moduleDoBootstrap(s){const f=s.injector.get(Sh);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(v=>f.bootstrap(v));else{if(!s.instance.ngDoBootstrap)throw new ue(-403,!1);s.instance.ngDoBootstrap(f)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ue(404,!1);this._modules.slice().forEach(f=>f.destroy()),this._destroyListeners.forEach(f=>f());const s=this._injector.get(pr,null);s&&(s.forEach(f=>f()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Ur))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"platform"})}return a})();function eL(a,l){return Array.isArray(l)?l.reduce(eL,a):{...a,...l}}let Sh=(()=>{class a{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=ge(dC),this.zoneIsStable=ge(Km),this.componentTypes=[],this.components=[],this.isStable=ge(e0).hasPendingTasks.pipe(xa(s=>s?ye(!1):this.zoneIsStable),function OU(a,l=tu){return a=a??kU,qt((s,f)=>{let v,_=!0;s.subscribe(vn(f,w=>{const x=l(w);(_||!a(v,x))&&(_=!1,v=x,f.next(w))}))})}(),lS()),this._injector=ge(di)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,f){const v=s instanceof Gu;if(!this._injector.get(Jy).done)throw!v&&function Uo(a){const l=Dt(a)||On(a)||gn(a);return null!==l&&l.standalone}(s),new ue(405,!1);let w;w=v?s:this._injector.get(Um).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const x=function cC(a){return a.isBoundToModule}(w)?void 0:this._injector.get(Vl),P=w.create(Ur.NULL,[],f||w.selector,x),N=P.location.nativeElement,z=P.injector.get(YP,null);return z?.registerApplication(N),P.onDestroy(()=>{this.detachView(P.hostView),wh(this.components,P),z?.unregisterApplication(N)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new ue(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this.internalErrorHandler(s)}finally{this._runningTick=!1}}attachView(s){const f=s;this._views.push(f),f.attachToAppRef(this)}detachView(s){const f=s;wh(this._views,f),f.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s);const f=this._injector.get(r0,[]);f.push(...this._bootstrapListeners),f.forEach(v=>v(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>wh(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new ue(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function wh(a,l){const s=a.indexOf(l);s>-1&&a.splice(s,1)}const dC=new we("",{providedIn:"root",factory:()=>ge(la).handleError.bind(void 0)});function jB(){const a=ge(Zt),l=ge(la);return s=>a.runOutsideAngular(()=>l.handleError(s))}let pC=(()=>{class a{constructor(){this.zone=ge(Zt),this.applicationRef=ge(Sh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();let u0=(()=>{class a{static#e=this.__NG_ELEMENT_ID__=vC}return a})();function vC(a){return function gC(a,l,s){if($o(a)&&!s){const f=oi(a.index,l);return new Dl(f,f)}return 47&a.type?new Dl(l[xn],l):null}(ir(),ae(),16==(16&a))}const dL=fC(null,"core",[]);let pL=(()=>{class a{constructor(s){}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Sh))};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({})}return a})(),IC=null;function As(){return IC}class iz{}const Vi=new we("DocumentToken");let EC=(()=>{class a{historyGo(s){throw new Error("Not implemented")}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:function(){return ge(xh)},providedIn:"platform"})}return a})();const az=new we("Location Initialized");let xh=(()=>{class a extends EC{constructor(){super(),this._doc=ge(Vi),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return As().getBaseHref(this._doc)}onPopState(s){const f=As().getGlobalEventTarget(this._doc,"window");return f.addEventListener("popstate",s,!1),()=>f.removeEventListener("popstate",s)}onHashChange(s){const f=As().getGlobalEventTarget(this._doc,"window");return f.addEventListener("hashchange",s,!1),()=>f.removeEventListener("hashchange",s)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(s){this._location.pathname=s}pushState(s,f,v){this._history.pushState(s,f,v)}replaceState(s,f,v){this._history.replaceState(s,f,v)}forward(){this._history.forward()}back(){this._history.back()}historyGo(s=0){this._history.go(s)}getState(){return this._history.state}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:function(){return new a},providedIn:"platform"})}return a})();function y0(a,l){if(0==a.length)return l;if(0==l.length)return a;let s=0;return a.endsWith("/")&&s++,l.startsWith("/")&&s++,2==s?a+l.substring(1):1==s?a+l:a+"/"+l}function CL(a){const l=a.match(/#|\?|$/),s=l&&l.index||a.length;return a.slice(0,s-("/"===a[s-1]?1:0))+a.slice(s)}function Is(a){return a&&"?"!==a[0]?"?"+a:a}let Wa=(()=>{class a{historyGo(s){throw new Error("Not implemented")}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:function(){return ge(PC)},providedIn:"root"})}return a})();const _0=new we("appBaseHref");let PC=(()=>{class a extends Wa{constructor(s,f){super(),this._platformLocation=s,this._removeListenerFns=[],this._baseHref=f??this._platformLocation.getBaseHrefFromDOM()??ge(Vi).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(s){this._removeListenerFns.push(this._platformLocation.onPopState(s),this._platformLocation.onHashChange(s))}getBaseHref(){return this._baseHref}prepareExternalUrl(s){return y0(this._baseHref,s)}path(s=!1){const f=this._platformLocation.pathname+Is(this._platformLocation.search),v=this._platformLocation.hash;return v&&s?`${f}${v}`:f}pushState(s,f,v,_){const w=this.prepareExternalUrl(v+Is(_));this._platformLocation.pushState(s,f,w)}replaceState(s,f,v,_){const w=this.prepareExternalUrl(v+Is(_));this._platformLocation.replaceState(s,f,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(s=0){this._platformLocation.historyGo?.(s)}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(EC),Ae(_0,8))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),xL=(()=>{class a extends Wa{constructor(s,f){super(),this._platformLocation=s,this._baseHref="",this._removeListenerFns=[],null!=f&&(this._baseHref=f)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(s){this._removeListenerFns.push(this._platformLocation.onPopState(s),this._platformLocation.onHashChange(s))}getBaseHref(){return this._baseHref}path(s=!1){let f=this._platformLocation.hash;return null==f&&(f="#"),f.length>0?f.substring(1):f}prepareExternalUrl(s){const f=y0(this._baseHref,s);return f.length>0?"#"+f:f}pushState(s,f,v,_){let w=this.prepareExternalUrl(v+Is(_));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.pushState(s,f,w)}replaceState(s,f,v,_){let w=this.prepareExternalUrl(v+Is(_));0==w.length&&(w=this._platformLocation.pathname),this._platformLocation.replaceState(s,f,w)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(s=0){this._platformLocation.historyGo?.(s)}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(EC),Ae(_0,8))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})(),LC=(()=>{class a{constructor(s){this._subject=new fn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=s;const f=this._locationStrategy.getBaseHref();this._basePath=function AL(a){if(new RegExp("^(https?:)?//").test(a)){const[,s]=a.split(/\/\/[^\/]+/);return s}return a}(CL(ML(f))),this._locationStrategy.onPopState(v=>{this._subject.emit({url:this.path(!0),pop:!0,state:v.state,type:v.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(s=!1){return this.normalize(this._locationStrategy.path(s))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(s,f=""){return this.path()==this.normalize(s+Is(f))}normalize(s){return a.stripTrailingSlash(function TL(a,l){if(!a||!l.startsWith(a))return l;const s=l.substring(a.length);return""===s||["/",";","?","#"].includes(s[0])?s:l}(this._basePath,ML(s)))}prepareExternalUrl(s){return s&&"/"!==s[0]&&(s="/"+s),this._locationStrategy.prepareExternalUrl(s)}go(s,f="",v=null){this._locationStrategy.pushState(v,"",s,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+Is(f)),v)}replaceState(s,f="",v=null){this._locationStrategy.replaceState(v,"",s,f),this._notifyUrlChangeListeners(this.prepareExternalUrl(s+Is(f)),v)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(s=0){this._locationStrategy.historyGo?.(s)}onUrlChange(s){return this._urlChangeListeners.push(s),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(f=>{this._notifyUrlChangeListeners(f.url,f.state)})),()=>{const f=this._urlChangeListeners.indexOf(s);this._urlChangeListeners.splice(f,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(s="",f){this._urlChangeListeners.forEach(v=>v(s,f))}subscribe(s,f,v){return this._subject.subscribe({next:s,error:f,complete:v})}static#e=this.normalizeQueryParams=Is;static#t=this.joinWithSlash=y0;static#n=this.stripTrailingSlash=CL;static#r=this.\u0275fac=function(f){return new(f||a)(Ae(Wa))};static#i=this.\u0275prov=Fe({token:a,factory:function(){return function gv(){return new LC(Ae(Wa))}()},providedIn:"root"})}return a})();function ML(a){return a.replace(/\/index.html$/,"")}function ZL(a,l){l=encodeURIComponent(l);for(const s of a.split(";")){const f=s.indexOf("="),[v,_]=-1==f?[s,""]:[s.slice(0,f),s.slice(f+1)];if(v.trim()===l)return decodeURIComponent(_)}return null}let QL=(()=>{class a{constructor(s,f){this._viewContainer=s,this._context=new Tz,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=f}set ngIf(s){this._context.$implicit=this._context.ngIf=s,this._updateView()}set ngIfThen(s){JL("ngIfThen",s),this._thenTemplateRef=s,this._thenViewRef=null,this._updateView()}set ngIfElse(s){JL("ngIfElse",s),this._elseTemplateRef=s,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(s,f){return!0}static#e=this.\u0275fac=function(f){return new(f||a)(se(Ga),se(on))};static#t=this.\u0275dir=Ye({type:a,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return a})();class Tz{constructor(){this.$implicit=null,this.ngIf=null}}function JL(a,l){if(l&&!l.createEmbeddedView)throw new Error(`${a} must be a TemplateRef, but received '${Rn(l)}'.`)}let Hz=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({})}return a})();function uR(a){return"server"===a}let cR=(()=>{class a{static#e=this.\u0275prov=Fe({token:a,providedIn:"root",factory:()=>new jz(Ae(Vi),window)})}return a})();class jz{constructor(l,s){this.document=l,this.window=s,this.offset=()=>[0,0]}setOffset(l){this.offset=Array.isArray(l)?()=>l:l}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(l){this.supportsScrolling()&&this.window.scrollTo(l[0],l[1])}scrollToAnchor(l){if(!this.supportsScrolling())return;const s=function Wz(a,l){const s=a.getElementById(l)||a.getElementsByName(l)[0];if(s)return s;if("function"==typeof a.createTreeWalker&&a.body&&"function"==typeof a.body.attachShadow){const f=a.createTreeWalker(a.body,NodeFilter.SHOW_ELEMENT);let v=f.currentNode;for(;v;){const _=v.shadowRoot;if(_){const w=_.getElementById(l)||_.querySelector(`[name="${l}"]`);if(w)return w}v=f.nextNode()}}return null}(this.document,l);s&&(this.scrollToElement(s),s.focus())}setHistoryScrollRestoration(l){this.supportsScrolling()&&(this.window.history.scrollRestoration=l)}scrollToElement(l){const s=l.getBoundingClientRect(),f=s.left+this.window.pageXOffset,v=s.top+this.window.pageYOffset,_=this.offset();this.window.scrollTo(f-_[0],v-_[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Io{}class vH extends iz{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class F0 extends vH{static makeCurrent(){!function rz(a){IC||(IC=a)}(new F0)}onAndCancel(l,s,f){return l.addEventListener(s,f),()=>{l.removeEventListener(s,f)}}dispatchEvent(l,s){l.dispatchEvent(s)}remove(l){l.parentNode&&l.parentNode.removeChild(l)}createElement(l,s){return(s=s||this.getDefaultDocument()).createElement(l)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(l){return l.nodeType===Node.ELEMENT_NODE}isShadowRoot(l){return l instanceof DocumentFragment}getGlobalEventTarget(l,s){return"window"===s?window:"document"===s?l:"body"===s?l.body:null}getBaseHref(l){const s=function gH(){return Av=Av||document.querySelector("base"),Av?Av.getAttribute("href"):null}();return null==s?null:function mH(a){dc=dc||document.createElement("a"),dc.setAttribute("href",a);const l=dc.pathname;return"/"===l.charAt(0)?l:`/${l}`}(s)}resetBaseElement(){Av=null}getUserAgent(){return window.navigator.userAgent}getCookie(l){return ZL(document.cookie,l)}}let dc,Av=null,yH=(()=>{class a{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();const V0=new we("EventManagerPlugins");let ux=(()=>{class a{constructor(s,f){this._zone=f,this._eventNameToPlugin=new Map,s.forEach(v=>{v.manager=this}),this._plugins=s.slice().reverse()}addEventListener(s,f,v){return this._findPluginFor(f).addEventListener(s,f,v)}getZone(){return this._zone}_findPluginFor(s){let f=this._eventNameToPlugin.get(s);if(f)return f;if(f=this._plugins.find(_=>_.supports(s)),!f)throw new ue(5101,!1);return this._eventNameToPlugin.set(s,f),f}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(V0),Ae(Zt))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();class bR{constructor(l){this._doc=l}}const B0="ng-app-id";let DR=(()=>{class a{constructor(s,f,v,_={}){this.doc=s,this.appId=f,this.nonce=v,this.platformId=_,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=uR(_),this.resetHostNodes()}addStyles(s){for(const f of s)1===this.changeUsageCount(f,1)&&this.onStyleAdded(f)}removeStyles(s){for(const f of s)this.changeUsageCount(f,-1)<=0&&this.onStyleRemoved(f)}ngOnDestroy(){const s=this.styleNodesInDOM;s&&(s.forEach(f=>f.remove()),s.clear());for(const f of this.getAllStyles())this.onStyleRemoved(f);this.resetHostNodes()}addHost(s){this.hostNodes.add(s);for(const f of this.getAllStyles())this.addStyleToHost(s,f)}removeHost(s){this.hostNodes.delete(s)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(s){for(const f of this.hostNodes)this.addStyleToHost(f,s)}onStyleRemoved(s){const f=this.styleRef;f.get(s)?.elements?.forEach(v=>v.remove()),f.delete(s)}collectServerRenderedStyles(){const s=this.doc.head?.querySelectorAll(`style[${B0}="${this.appId}"]`);if(s?.length){const f=new Map;return s.forEach(v=>{null!=v.textContent&&f.set(v.textContent,v)}),f}return null}changeUsageCount(s,f){const v=this.styleRef;if(v.has(s)){const _=v.get(s);return _.usage+=f,_.usage}return v.set(s,{usage:f,elements:[]}),f}getStyleElement(s,f){const v=this.styleNodesInDOM,_=v?.get(f);if(_?.parentNode===s)return v.delete(f),_.removeAttribute(B0),_;{const w=this.doc.createElement("style");return this.nonce&&w.setAttribute("nonce",this.nonce),w.textContent=f,this.platformIsServer&&w.setAttribute(B0,this.appId),w}}addStyleToHost(s,f){const v=this.getStyleElement(s,f);s.appendChild(v);const _=this.styleRef,w=_.get(f)?.elements;w?w.push(v):_.set(f,{elements:[v],usage:1})}resetHostNodes(){const s=this.hostNodes;s.clear(),s.add(this.doc.head)}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Vi),Ae(Ff),Ae(tp,8),Ae(Ra))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();const cx={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fx=/%COMP%/g,pc=new we("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function TR(a,l){return l.map(s=>s.replace(fx,a))}let MR=(()=>{class a{constructor(s,f,v,_,w,x,A,P=null){this.eventManager=s,this.sharedStylesHost=f,this.appId=v,this.removeStylesOnCompDestroy=_,this.doc=w,this.platformId=x,this.ngZone=A,this.nonce=P,this.rendererByCompId=new Map,this.platformIsServer=uR(x),this.defaultRenderer=new dx(s,w,A,this.platformIsServer)}createRenderer(s,f){if(!s||!f)return this.defaultRenderer;this.platformIsServer&&f.encapsulation===er.ShadowDom&&(f={...f,encapsulation:er.Emulated});const v=this.getOrCreateRenderer(s,f);return v instanceof IR?v.applyToHost(s):v instanceof px&&v.applyStyles(),v}getOrCreateRenderer(s,f){const v=this.rendererByCompId;let _=v.get(f.id);if(!_){const w=this.doc,x=this.ngZone,A=this.eventManager,P=this.sharedStylesHost,N=this.removeStylesOnCompDestroy,z=this.platformIsServer;switch(f.encapsulation){case er.Emulated:_=new IR(A,P,f,this.appId,N,w,x,z);break;case er.ShadowDom:return new wH(A,P,s,f,w,x,this.nonce,z);default:_=new px(A,P,f,N,w,x,z)}v.set(f.id,_)}return _}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(ux),Ae(DR),Ae(Ff),Ae(pc),Ae(Vi),Ae(Ra),Ae(Zt),Ae(tp))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();class dx{constructor(l,s,f,v){this.eventManager=l,this.doc=s,this.ngZone=f,this.platformIsServer=v,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(l,s){return s?this.doc.createElementNS(cx[s]||s,l):this.doc.createElement(l)}createComment(l){return this.doc.createComment(l)}createText(l){return this.doc.createTextNode(l)}appendChild(l,s){(AR(l)?l.content:l).appendChild(s)}insertBefore(l,s,f){l&&(AR(l)?l.content:l).insertBefore(s,f)}removeChild(l,s){l&&l.removeChild(s)}selectRootElement(l,s){let f="string"==typeof l?this.doc.querySelector(l):l;if(!f)throw new ue(-5104,!1);return s||(f.textContent=""),f}parentNode(l){return l.parentNode}nextSibling(l){return l.nextSibling}setAttribute(l,s,f,v){if(v){s=v+":"+s;const _=cx[v];_?l.setAttributeNS(_,s,f):l.setAttribute(s,f)}else l.setAttribute(s,f)}removeAttribute(l,s,f){if(f){const v=cx[f];v?l.removeAttributeNS(v,s):l.removeAttribute(`${f}:${s}`)}else l.removeAttribute(s)}addClass(l,s){l.classList.add(s)}removeClass(l,s){l.classList.remove(s)}setStyle(l,s,f,v){v&(ll.DashCase|ll.Important)?l.style.setProperty(s,f,v&ll.Important?"important":""):l.style[s]=f}removeStyle(l,s,f){f&ll.DashCase?l.style.removeProperty(s):l.style[s]=""}setProperty(l,s,f){l[s]=f}setValue(l,s){l.nodeValue=s}listen(l,s,f){if("string"==typeof l&&!(l=As().getGlobalEventTarget(this.doc,l)))throw new Error(`Unsupported event target ${l} for event ${s}`);return this.eventManager.addEventListener(l,s,this.decoratePreventDefault(f))}decoratePreventDefault(l){return s=>{if("__ngUnwrap__"===s)return l;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>l(s)):l(s))&&s.preventDefault()}}}function AR(a){return"TEMPLATE"===a.tagName&&void 0!==a.content}class wH extends dx{constructor(l,s,f,v,_,w,x,A){super(l,_,w,A),this.sharedStylesHost=s,this.hostEl=f,this.shadowRoot=f.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const P=TR(v.id,v.styles);for(const N of P){const z=document.createElement("style");x&&z.setAttribute("nonce",x),z.textContent=N,this.shadowRoot.appendChild(z)}}nodeOrShadowRoot(l){return l===this.hostEl?this.shadowRoot:l}appendChild(l,s){return super.appendChild(this.nodeOrShadowRoot(l),s)}insertBefore(l,s,f){return super.insertBefore(this.nodeOrShadowRoot(l),s,f)}removeChild(l,s){return super.removeChild(this.nodeOrShadowRoot(l),s)}parentNode(l){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(l)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class px extends dx{constructor(l,s,f,v,_,w,x,A){super(l,_,w,x),this.sharedStylesHost=s,this.removeStylesOnCompDestroy=v,this.styles=A?TR(A,f.styles):f.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class IR extends px{constructor(l,s,f,v,_,w,x,A){const P=v+"-"+f.id;super(l,s,f,_,w,x,A,P),this.contentAttr=function vc(a){return"_ngcontent-%COMP%".replace(fx,a)}(P),this.hostAttr=function Ph(a){return"_nghost-%COMP%".replace(fx,a)}(P)}applyToHost(l){this.applyStyles(),this.setAttribute(l,this.hostAttr,"")}createElement(l,s){const f=super.createElement(l,s);return super.setAttribute(f,this.contentAttr,""),f}}let Iv=(()=>{class a extends bR{constructor(s){super(s)}supports(s){return!0}addEventListener(s,f,v){return s.addEventListener(f,v,!1),()=>this.removeEventListener(s,f,v)}removeEventListener(s,f,v){return s.removeEventListener(f,v)}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Vi))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();const Eo=["alt","control","meta","shift"],vx={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bH={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let DH=(()=>{class a extends bR{constructor(s){super(s)}supports(s){return null!=a.parseEventName(s)}addEventListener(s,f,v){const _=a.parseEventName(f),w=a.eventCallback(_.fullKey,v,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>As().onAndCancel(s,_.domEventName,w))}static parseEventName(s){const f=s.toLowerCase().split("."),v=f.shift();if(0===f.length||"keydown"!==v&&"keyup"!==v)return null;const _=a._normalizeKey(f.pop());let w="",x=f.indexOf("code");if(x>-1&&(f.splice(x,1),w="code."),Eo.forEach(P=>{const N=f.indexOf(P);N>-1&&(f.splice(N,1),w+=P+".")}),w+=_,0!=f.length||0===_.length)return null;const A={};return A.domEventName=v,A.fullKey=w,A}static matchEventFullKeyCode(s,f){let v=vx[s.key]||s.key,_="";return f.indexOf("code.")>-1&&(v=s.code,_="code."),!(null==v||!v)&&(v=v.toLowerCase()," "===v?v="space":"."===v&&(v="dot"),Eo.forEach(w=>{w!==v&&(0,bH[w])(s)&&(_+=w+".")}),_+=v,_===f)}static eventCallback(s,f,v){return _=>{a.matchEventFullKeyCode(_,s)&&v.runGuarded(()=>f(_))}}static _normalizeKey(s){return"esc"===s?"escape":s}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Vi))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();const LR=fC(dL,"browser",[{provide:Ra,useValue:"browser"},{provide:ep,useValue:function TH(){F0.makeCurrent()},multi:!0},{provide:Vi,useFactory:function PR(){return function tF(a){Yd=a}(document),document},deps:[]}]),RR=new we(""),mx=[{provide:_i,useClass:class lx{addToWindow(l){Wt.getAngularTestability=(f,v=!0)=>{const _=l.findTestabilityInTree(f,v);if(null==_)throw new ue(5103,!1);return _},Wt.getAllAngularTestabilities=()=>l.getAllTestabilities(),Wt.getAllAngularRootElements=()=>l.getAllRootElements(),Wt.frameworkStabilizers||(Wt.frameworkStabilizers=[]),Wt.frameworkStabilizers.push(f=>{const v=Wt.getAllAngularTestabilities();let _=v.length,w=!1;const x=function(A){w=w||A,_--,0==_&&f(w)};v.forEach(A=>{A.whenStable(x)})})}findTestabilityInTree(l,s,f){return null==s?null:l.getTestability(s)??(f?As().isShadowRoot(s)?this.findTestabilityInTree(l,s.host,!0):this.findTestabilityInTree(l,s.parentElement,!0):null)}},deps:[]},{provide:YP,useClass:Ot,deps:[Zt,sn,_i]},{provide:Ot,useClass:Ot,deps:[Zt,sn,_i]}],yx=[{provide:ku,useValue:"root"},{provide:la,useFactory:function ER(){return new la},deps:[]},{provide:V0,useClass:Iv,multi:!0,deps:[Vi,Zt,Ra]},{provide:V0,useClass:DH,multi:!0,deps:[Vi]},MR,DR,ux,{provide:Oa,useExisting:MR},{provide:Io,useClass:yH,deps:[]},[]];let MH=(()=>{class a{constructor(s){}static withServerTransition(s){return{ngModule:a,providers:[{provide:Ff,useValue:s.appId}]}}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(RR,12))};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({providers:[...yx,...mx],imports:[Hz,pL]})}return a})(),NR=(()=>{class a{constructor(s){this._doc=s}getTitle(){return this._doc.title}setTitle(s){this._doc.title=s||""}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Vi))};static#t=this.\u0275prov=Fe({token:a,factory:function(f){let v=null;return v=f?new f:function IH(){return new NR(Ae(Vi))}(),v},providedIn:"root"})}return a})();function mc(a,l){return Bt(l)?bt(a,l,1):bt(a,1)}function Hi(a,l){return qt((s,f)=>{let v=0;s.subscribe(vn(f,_=>a.call(l,_,v++)&&f.next(_)))})}function Pv(a){return qt((l,s)=>{try{l.subscribe(s)}finally{s.add(a)}})}typeof window<"u"&&window;class z0{}class H0{}class _a{constructor(l){this.normalizedNames=new Map,this.lazyUpdate=null,l?"string"==typeof l?this.lazyInit=()=>{this.headers=new Map,l.split("\n").forEach(s=>{const f=s.indexOf(":");if(f>0){const v=s.slice(0,f),_=v.toLowerCase(),w=s.slice(f+1).trim();this.maybeSetNormalizedName(v,_),this.headers.has(_)?this.headers.get(_).push(w):this.headers.set(_,[w])}})}:typeof Headers<"u"&&l instanceof Headers?(this.headers=new Map,l.forEach((s,f)=>{this.setHeaderEntries(f,s)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(l).forEach(([s,f])=>{this.setHeaderEntries(s,f)})}:this.headers=new Map}has(l){return this.init(),this.headers.has(l.toLowerCase())}get(l){this.init();const s=this.headers.get(l.toLowerCase());return s&&s.length>0?s[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(l){return this.init(),this.headers.get(l.toLowerCase())||null}append(l,s){return this.clone({name:l,value:s,op:"a"})}set(l,s){return this.clone({name:l,value:s,op:"s"})}delete(l,s){return this.clone({name:l,value:s,op:"d"})}maybeSetNormalizedName(l,s){this.normalizedNames.has(s)||this.normalizedNames.set(s,l)}init(){this.lazyInit&&(this.lazyInit instanceof _a?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(l=>this.applyUpdate(l)),this.lazyUpdate=null))}copyFrom(l){l.init(),Array.from(l.headers.keys()).forEach(s=>{this.headers.set(s,l.headers.get(s)),this.normalizedNames.set(s,l.normalizedNames.get(s))})}clone(l){const s=new _a;return s.lazyInit=this.lazyInit&&this.lazyInit instanceof _a?this.lazyInit:this,s.lazyUpdate=(this.lazyUpdate||[]).concat([l]),s}applyUpdate(l){const s=l.name.toLowerCase();switch(l.op){case"a":case"s":let f=l.value;if("string"==typeof f&&(f=[f]),0===f.length)return;this.maybeSetNormalizedName(l.name,s);const v=("a"===l.op?this.headers.get(s):void 0)||[];v.push(...f),this.headers.set(s,v);break;case"d":const _=l.value;if(_){let w=this.headers.get(s);if(!w)return;w=w.filter(x=>-1===_.indexOf(x)),0===w.length?(this.headers.delete(s),this.normalizedNames.delete(s)):this.headers.set(s,w)}else this.headers.delete(s),this.normalizedNames.delete(s)}}setHeaderEntries(l,s){const f=(Array.isArray(s)?s:[s]).map(_=>_.toString()),v=l.toLowerCase();this.headers.set(v,f),this.maybeSetNormalizedName(l,v)}forEach(l){this.init(),Array.from(this.normalizedNames.keys()).forEach(s=>l(this.normalizedNames.get(s),this.headers.get(s)))}}class VH{encodeKey(l){return HR(l)}encodeValue(l){return HR(l)}decodeKey(l){return decodeURIComponent(l)}decodeValue(l){return decodeURIComponent(l)}}const zH=/%(\d[a-f0-9])/gi,HH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function HR(a){return encodeURIComponent(a).replace(zH,(l,s)=>HH[s]??l)}function G0(a){return`${a}`}class Rs{constructor(l={}){if(this.updates=null,this.cloneFrom=null,this.encoder=l.encoder||new VH,l.fromString){if(l.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function BH(a,l){const s=new Map;return a.length>0&&a.replace(/^\?/,"").split("&").forEach(v=>{const _=v.indexOf("="),[w,x]=-1==_?[l.decodeKey(v),""]:[l.decodeKey(v.slice(0,_)),l.decodeValue(v.slice(_+1))],A=s.get(w)||[];A.push(x),s.set(w,A)}),s}(l.fromString,this.encoder)}else l.fromObject?(this.map=new Map,Object.keys(l.fromObject).forEach(s=>{const f=l.fromObject[s],v=Array.isArray(f)?f.map(G0):[G0(f)];this.map.set(s,v)})):this.map=null}has(l){return this.init(),this.map.has(l)}get(l){this.init();const s=this.map.get(l);return s?s[0]:null}getAll(l){return this.init(),this.map.get(l)||null}keys(){return this.init(),Array.from(this.map.keys())}append(l,s){return this.clone({param:l,value:s,op:"a"})}appendAll(l){const s=[];return Object.keys(l).forEach(f=>{const v=l[f];Array.isArray(v)?v.forEach(_=>{s.push({param:f,value:_,op:"a"})}):s.push({param:f,value:v,op:"a"})}),this.clone(s)}set(l,s){return this.clone({param:l,value:s,op:"s"})}delete(l,s){return this.clone({param:l,value:s,op:"d"})}toString(){return this.init(),this.keys().map(l=>{const s=this.encoder.encodeKey(l);return this.map.get(l).map(f=>s+"="+this.encoder.encodeValue(f)).join("&")}).filter(l=>""!==l).join("&")}clone(l){const s=new Rs({encoder:this.encoder});return s.cloneFrom=this.cloneFrom||this,s.updates=(this.updates||[]).concat(l),s}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(l=>this.map.set(l,this.cloneFrom.map.get(l))),this.updates.forEach(l=>{switch(l.op){case"a":case"s":const s=("a"===l.op?this.map.get(l.param):void 0)||[];s.push(G0(l.value)),this.map.set(l.param,s);break;case"d":if(void 0===l.value){this.map.delete(l.param);break}{let f=this.map.get(l.param)||[];const v=f.indexOf(G0(l.value));-1!==v&&f.splice(v,1),f.length>0?this.map.set(l.param,f):this.map.delete(l.param)}}}),this.cloneFrom=this.updates=null)}}class UH{constructor(){this.map=new Map}set(l,s){return this.map.set(l,s),this}get(l){return this.map.has(l)||this.map.set(l,l.defaultValue()),this.map.get(l)}delete(l){return this.map.delete(l),this}has(l){return this.map.has(l)}keys(){return this.map.keys()}}function Sx(a){return typeof ArrayBuffer<"u"&&a instanceof ArrayBuffer}function bx(a){return typeof Blob<"u"&&a instanceof Blob}function U0(a){return typeof FormData<"u"&&a instanceof FormData}class Lr{constructor(l,s,f,v){let _;if(this.url=s,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=l.toUpperCase(),function GR(a){switch(a){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||v?(this.body=void 0!==f?f:null,_=v):_=f,_&&(this.reportProgress=!!_.reportProgress,this.withCredentials=!!_.withCredentials,_.responseType&&(this.responseType=_.responseType),_.headers&&(this.headers=_.headers),_.context&&(this.context=_.context),_.params&&(this.params=_.params)),this.headers||(this.headers=new _a),this.context||(this.context=new UH),this.params){const w=this.params.toString();if(0===w.length)this.urlWithParams=s;else{const x=s.indexOf("?");this.urlWithParams=s+(-1===x?"?":x<s.length-1?"&":"")+w}}else this.params=new Rs,this.urlWithParams=s}serializeBody(){return null===this.body?null:Sx(this.body)||bx(this.body)||U0(this.body)||function jH(a){return typeof URLSearchParams<"u"&&a instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Rs?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||U0(this.body)?null:bx(this.body)?this.body.type||null:Sx(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Rs?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(l={}){const s=l.method||this.method,f=l.url||this.url,v=l.responseType||this.responseType,_=void 0!==l.body?l.body:this.body,w=void 0!==l.withCredentials?l.withCredentials:this.withCredentials,x=void 0!==l.reportProgress?l.reportProgress:this.reportProgress;let A=l.headers||this.headers,P=l.params||this.params;const N=l.context??this.context;return void 0!==l.setHeaders&&(A=Object.keys(l.setHeaders).reduce((z,U)=>z.set(U,l.setHeaders[U]),A)),l.setParams&&(P=Object.keys(l.setParams).reduce((z,U)=>z.set(U,l.setParams[U]),P)),new Lr(s,f,_,{params:P,headers:A,context:N,reportProgress:x,responseType:v,withCredentials:w})}}var Lh=function(a){return a[a.Sent=0]="Sent",a[a.UploadProgress=1]="UploadProgress",a[a.ResponseHeader=2]="ResponseHeader",a[a.DownloadProgress=3]="DownloadProgress",a[a.Response=4]="Response",a[a.User=5]="User",a}(Lh||{});class Dx{constructor(l,s=200,f="OK"){this.headers=l.headers||new _a,this.status=void 0!==l.status?l.status:s,this.statusText=l.statusText||f,this.url=l.url||null,this.ok=this.status>=200&&this.status<300}}class Cx extends Dx{constructor(l={}){super(l),this.type=Lh.ResponseHeader}clone(l={}){return new Cx({headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class Rh extends Dx{constructor(l={}){super(l),this.type=Lh.Response,this.body=void 0!==l.body?l.body:null}clone(l={}){return new Rh({body:void 0!==l.body?l.body:this.body,headers:l.headers||this.headers,status:void 0!==l.status?l.status:this.status,statusText:l.statusText||this.statusText,url:l.url||this.url||void 0})}}class UR extends Dx{constructor(l){super(l,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${l.url||"(unknown url)"}`:`Http failure response for ${l.url||"(unknown url)"}: ${l.status} ${l.statusText}`,this.error=l.error||null}}function xx(a,l){return{body:l,headers:a.headers,context:a.context,observe:a.observe,params:a.params,reportProgress:a.reportProgress,responseType:a.responseType,withCredentials:a.withCredentials}}let jR=(()=>{class a{constructor(s){this.handler=s}request(s,f,v={}){let _;if(s instanceof Lr)_=s;else{let A,P;A=v.headers instanceof _a?v.headers:new _a(v.headers),v.params&&(P=v.params instanceof Rs?v.params:new Rs({fromObject:v.params})),_=new Lr(s,f,void 0!==v.body?v.body:null,{headers:A,context:v.context,params:P,reportProgress:v.reportProgress,responseType:v.responseType||"json",withCredentials:v.withCredentials})}const w=ye(_).pipe(mc(A=>this.handler.handle(A)));if(s instanceof Lr||"events"===v.observe)return w;const x=w.pipe(Hi(A=>A instanceof Rh));switch(v.observe||"body"){case"body":switch(_.responseType){case"arraybuffer":return x.pipe(Tt(A=>{if(null!==A.body&&!(A.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return A.body}));case"blob":return x.pipe(Tt(A=>{if(null!==A.body&&!(A.body instanceof Blob))throw new Error("Response is not a Blob.");return A.body}));case"text":return x.pipe(Tt(A=>{if(null!==A.body&&"string"!=typeof A.body)throw new Error("Response is not a string.");return A.body}));default:return x.pipe(Tt(A=>A.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${v.observe}}`)}}delete(s,f={}){return this.request("DELETE",s,f)}get(s,f={}){return this.request("GET",s,f)}head(s,f={}){return this.request("HEAD",s,f)}jsonp(s,f){return this.request("JSONP",s,{params:(new Rs).append(f,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(s,f={}){return this.request("OPTIONS",s,f)}patch(s,f,v={}){return this.request("PATCH",s,xx(v,f))}post(s,f,v={}){return this.request("POST",s,xx(v,f))}put(s,f,v={}){return this.request("PUT",s,xx(v,f))}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(z0))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();function Nh(a,l){return l(a)}function ZR(a,l){return(s,f)=>l.intercept(s,{handle:v=>a(v,f)})}const j0=new we(""),Lv=new we(""),qR=new we("");function YH(){let a=null;return(l,s)=>{null===a&&(a=(ge(j0,{optional:!0})??[]).reduceRight(ZR,Nh));const f=ge(e0),v=f.add();return a(l,s).pipe(Pv(()=>f.remove(v)))}}let Oh=(()=>{class a extends z0{constructor(s,f){super(),this.backend=s,this.injector=f,this.chain=null,this.pendingTasks=ge(e0)}handle(s){if(null===this.chain){const v=Array.from(new Set([...this.injector.get(Lv),...this.injector.get(qR,[])]));this.chain=v.reduceRight((_,w)=>function Mx(a,l,s){return(f,v)=>s.runInContext(()=>l(f,_=>a(_,v)))}(_,w,this.injector),Nh)}const f=this.pendingTasks.add();return this.chain(s,v=>this.backend.handle(v)).pipe(Pv(()=>this.pendingTasks.remove(f)))}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(H0),Ae(di))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();const XH=/^\)\]\}',?\n/;let Ax=(()=>{class a{constructor(s){this.xhrFactory=s}handle(s){if("JSONP"===s.method)throw new ue(-2800,!1);const f=this.xhrFactory;return(f.\u0275loadImpl?ht(f.\u0275loadImpl()):ye(null)).pipe(xa(()=>new pn(_=>{const w=f.build();if(w.open(s.method,s.urlWithParams),s.withCredentials&&(w.withCredentials=!0),s.headers.forEach((Q,ie)=>w.setRequestHeader(Q,ie.join(","))),s.headers.has("Accept")||w.setRequestHeader("Accept","application/json, text/plain, */*"),!s.headers.has("Content-Type")){const Q=s.detectContentTypeHeader();null!==Q&&w.setRequestHeader("Content-Type",Q)}if(s.responseType){const Q=s.responseType.toLowerCase();w.responseType="json"!==Q?Q:"text"}const x=s.serializeBody();let A=null;const P=()=>{if(null!==A)return A;const Q=w.statusText||"OK",ie=new _a(w.getAllResponseHeaders()),ce=function KH(a){return"responseURL"in a&&a.responseURL?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):null}(w)||s.url;return A=new Cx({headers:ie,status:w.status,statusText:Q,url:ce}),A},N=()=>{let{headers:Q,status:ie,statusText:ce,url:ne}=P(),Ce=null;204!==ie&&(Ce=typeof w.response>"u"?w.responseText:w.response),0===ie&&(ie=Ce?200:0);let He=ie>=200&&ie<300;if("json"===s.responseType&&"string"==typeof Ce){const pt=Ce;Ce=Ce.replace(XH,"");try{Ce=""!==Ce?JSON.parse(Ce):null}catch(jn){Ce=pt,He&&(He=!1,Ce={error:jn,text:Ce})}}He?(_.next(new Rh({body:Ce,headers:Q,status:ie,statusText:ce,url:ne||void 0})),_.complete()):_.error(new UR({error:Ce,headers:Q,status:ie,statusText:ce,url:ne||void 0}))},z=Q=>{const{url:ie}=P(),ce=new UR({error:Q,status:w.status||0,statusText:w.statusText||"Unknown Error",url:ie||void 0});_.error(ce)};let U=!1;const $=Q=>{U||(_.next(P()),U=!0);let ie={type:Lh.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(ie.total=Q.total),"text"===s.responseType&&w.responseText&&(ie.partialText=w.responseText),_.next(ie)},Z=Q=>{let ie={type:Lh.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(ie.total=Q.total),_.next(ie)};return w.addEventListener("load",N),w.addEventListener("error",z),w.addEventListener("timeout",z),w.addEventListener("abort",z),s.reportProgress&&(w.addEventListener("progress",$),null!==x&&w.upload&&w.upload.addEventListener("progress",Z)),w.send(x),_.next({type:Lh.Sent}),()=>{w.removeEventListener("error",z),w.removeEventListener("abort",z),w.removeEventListener("load",N),w.removeEventListener("timeout",z),s.reportProgress&&(w.removeEventListener("progress",$),null!==x&&w.upload&&w.upload.removeEventListener("progress",Z)),w.readyState!==w.DONE&&w.abort()}})))}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Io))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();const Rv=new we("XSRF_ENABLED"),JR=new we("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),eN=new we("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class tN{}let eG=(()=>{class a{constructor(s,f,v){this.doc=s,this.platform=f,this.cookieName=v,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const s=this.doc.cookie||"";return s!==this.lastCookieString&&(this.parseCount++,this.lastToken=ZL(s,this.cookieName),this.lastCookieString=s),this.lastToken}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(Vi),Ae(Ra),Ae(JR))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();function Ix(a,l){const s=a.url.toLowerCase();if(!ge(Rv)||"GET"===a.method||"HEAD"===a.method||s.startsWith("http://")||s.startsWith("https://"))return l(a);const f=ge(tN).getToken(),v=ge(eN);return null!=f&&!a.headers.has(v)&&(a=a.clone({headers:a.headers.set(v,f)})),l(a)}var Ns=function(a){return a[a.Interceptors=0]="Interceptors",a[a.LegacyInterceptors=1]="LegacyInterceptors",a[a.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",a[a.NoXsrfProtection=3]="NoXsrfProtection",a[a.JsonpSupport=4]="JsonpSupport",a[a.RequestsMadeViaParent=5]="RequestsMadeViaParent",a[a.Fetch=6]="Fetch",a}(Ns||{});function nN(...a){const l=[jR,Ax,Oh,{provide:z0,useExisting:Oh},{provide:H0,useExisting:Ax},{provide:Lv,useValue:Ix,multi:!0},{provide:Rv,useValue:!0},{provide:tN,useClass:eG}];for(const s of a)l.push(...s.\u0275providers);return function Kw(a){return{\u0275providers:a}}(l)}const rN=new we("LEGACY_INTERCEPTOR_FN");function nG(){return function jl(a,l){return{\u0275kind:a,\u0275providers:l}}(Ns.LegacyInterceptors,[{provide:rN,useFactory:YH},{provide:Lv,useExisting:rN,multi:!0}])}let iG=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({providers:[nN(nG())]})}return a})();let Fh=(()=>{class a{constructor(s){this.http=s}getLastSevenDays(){let s="";for(let f=0;f<7;f++){let v=new Date;v.setDate(v.getDate()-f);let _=""+(v.getMonth()+1),w=""+v.getDate(),x=v.getFullYear();_.length<2&&(_="0"+_),w.length<2&&(w="0"+w),s+=x+"-"+_+"-"+w,f<6&&(s+=";")}return s}getHistorical(s){const f=this.getLastSevenDays();return this.http.get("https://api.weatherstack.com/historical?access_key=a2f166f0b22ad0b1e99c4e1ac603ab0f&query="+s+"&historical_date="+f+"&hourly=1&interval=24&units=f")}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(jR))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const{isArray:Lx}=Array,{getPrototypeOf:Rx,prototype:oN,keys:lG}=Object;function Ov(a){if(1===a.length){const l=a[0];if(Lx(l))return{args:l,keys:null};if(function gr(a){return a&&"object"==typeof a&&Rx(a)===oN}(l)){const s=lG(l);return{args:s.map(f=>l[f]),keys:s}}}return{args:a,keys:null}}const{isArray:uG}=Array;function lN(a){return Tt(l=>function sN(a,l){return uG(l)?a(...l):a(l)}(a,l))}function Nx(a,l){return a.reduce((s,f,v)=>(s[f]=l[v],s),{})}function Ox(...a){const l=Fo(a),s=aS(a),{args:f,keys:v}=Ov(a);if(0===f.length)return ht([],l);const _=new pn(function uN(a,l,s=tu){return f=>{cN(l,()=>{const{length:v}=a,_=new Array(v);let w=v,x=v;for(let A=0;A<v;A++)cN(l,()=>{const P=ht(a[A],l);let N=!1;P.subscribe(vn(f,z=>{_[A]=z,N||(N=!0,x--),x||f.next(s(_.slice()))},()=>{--w||f.complete()}))},f)},f)}}(f,l,v?w=>Nx(v,w):tu));return s?_.pipe(lN(s)):_}function cN(a,l,s){a?to(s,a,l):l()}const Vh=sd(a=>function(){a(this),this.name="EmptyError",this.message="no elements in sequence"});function kv(...a){return function cG(){return ke(1)}()(ht(a,Fo(a)))}function fN(a){return new pn(l=>{Qn(a()).subscribe(l)})}function Os(a,l){const s=Bt(a)?a:()=>a,f=v=>v.error(s());return new pn(l?v=>l.schedule(f,0,v):f)}function Bh(){return qt((a,l)=>{let s=null;a._refCount++;const f=vn(l,void 0,void 0,void 0,()=>{if(!a||a._refCount<=0||0<--a._refCount)return void(s=null);const v=a._connection,_=s;s=null,v&&(!_||v===_)&&v.unsubscribe(),l.unsubscribe()});a.subscribe(f),f.closed||(s=a.connect())})}class kx extends pn{constructor(l,s){super(),this.source=l,this.subjectFactory=s,this._subject=null,this._refCount=0,this._connection=null,PT(l)&&(this.lift=l.lift)}_subscribe(l){return this.getSubject().subscribe(l)}getSubject(){const l=this._subject;return(!l||l.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:l}=this;this._subject=this._connection=null,l?.unsubscribe()}connect(){let l=this._connection;if(!l){l=this._connection=new Xn;const s=this.getSubject();l.add(this.source.subscribe(vn(s,void 0,()=>{this._teardown(),s.complete()},f=>{this._teardown(),s.error(f)},()=>this._teardown()))),l.closed&&(this._connection=null,l=Xn.EMPTY)}return l}refCount(){return Bh()(this)}}function $l(a){return a<=0?()=>Ln:qt((l,s)=>{let f=0;l.subscribe(vn(s,v=>{++f<=a&&(s.next(v),a<=f&&s.complete())}))})}function Z0(a){return qt((l,s)=>{let f=!1;l.subscribe(vn(s,v=>{f=!0,s.next(v)},()=>{f||s.next(a),s.complete()}))})}function dN(a=fG){return qt((l,s)=>{let f=!1;l.subscribe(vn(s,v=>{f=!0,s.next(v)},()=>f?s.complete():s.error(a())))})}function fG(){return new Vh}function _c(a,l){const s=arguments.length>=2;return f=>f.pipe(a?Hi((v,_)=>a(v,_,f)):tu,$l(1),s?Z0(l):dN(()=>new Vh))}function mr(a,l,s){const f=Bt(a)||l||s?{next:a,error:l,complete:s}:a;return f?qt((v,_)=>{var w;null===(w=f.subscribe)||void 0===w||w.call(f);let x=!0;v.subscribe(vn(_,A=>{var P;null===(P=f.next)||void 0===P||P.call(f,A),_.next(A)},()=>{var A;x=!1,null===(A=f.complete)||void 0===A||A.call(f),_.complete()},A=>{var P;x=!1,null===(P=f.error)||void 0===P||P.call(f,A),_.error(A)},()=>{var A,P;x&&(null===(A=f.unsubscribe)||void 0===A||A.call(f)),null===(P=f.finalize)||void 0===P||P.call(f)}))}):tu}function Sc(a){return qt((l,s)=>{let _,f=null,v=!1;f=l.subscribe(vn(s,void 0,void 0,w=>{_=Qn(a(w,Sc(a)(l))),f?(f.unsubscribe(),f=null,_.subscribe(s)):v=!0})),v&&(f.unsubscribe(),f=null,_.subscribe(s))})}function Fx(a){return a<=0?()=>Ln:qt((l,s)=>{let f=[];l.subscribe(vn(s,v=>{f.push(v),a<f.length&&f.shift()},()=>{for(const v of f)s.next(v);s.complete()},void 0,()=>{f=null}))})}const lt="primary",zh=Symbol("RouteTitle");class vN{constructor(l){this.params=l||{}}has(l){return Object.prototype.hasOwnProperty.call(this.params,l)}get(l){if(this.has(l)){const s=this.params[l];return Array.isArray(s)?s[0]:s}return null}getAll(l){if(this.has(l)){const s=this.params[l];return Array.isArray(s)?s:[s]}return[]}get keys(){return Object.keys(this.params)}}function Hh(a){return new vN(a)}function gG(a,l,s){const f=s.path.split("/");if(f.length>a.length||"full"===s.pathMatch&&(l.hasChildren()||f.length<a.length))return null;const v={};for(let _=0;_<f.length;_++){const w=f[_],x=a[_];if(w.startsWith(":"))v[w.substring(1)]=x;else if(w!==x.path)return null}return{consumed:a.slice(0,f.length),posParams:v}}function Gi(a,l){const s=a?Object.keys(a):void 0,f=l?Object.keys(l):void 0;if(!s||!f||s.length!=f.length)return!1;let v;for(let _=0;_<s.length;_++)if(v=s[_],!gN(a[v],l[v]))return!1;return!0}function gN(a,l){if(Array.isArray(a)&&Array.isArray(l)){if(a.length!==l.length)return!1;const s=[...a].sort(),f=[...l].sort();return s.every((v,_)=>f[_]===v)}return a===l}function q0(a){return a.length>0?a[a.length-1]:null}function Za(a){return function yc(a){return!!a&&(a instanceof pn||Bt(a.lift)&&Bt(a.subscribe))}(a)?a:Pl(a)?ht(Promise.resolve(a)):ye(a)}const mN={exact:function yN(a,l,s){if(!qa(a.segments,l.segments)||!Uh(a.segments,l.segments,s)||a.numberOfChildren!==l.numberOfChildren)return!1;for(const f in l.children)if(!a.children[f]||!yN(a.children[f],l.children[f],s))return!1;return!0},subset:_N},Gh={exact:function yG(a,l){return Gi(a,l)},subset:function Bx(a,l){return Object.keys(l).length<=Object.keys(a).length&&Object.keys(l).every(s=>gN(a[s],l[s]))},ignored:()=>!0};function Vx(a,l,s){return mN[s.paths](a.root,l.root,s.matrixParams)&&Gh[s.queryParams](a.queryParams,l.queryParams)&&!("exact"===s.fragment&&a.fragment!==l.fragment)}function _N(a,l,s){return SN(a,l,l.segments,s)}function SN(a,l,s,f){if(a.segments.length>s.length){const v=a.segments.slice(0,s.length);return!(!qa(v,s)||l.hasChildren()||!Uh(v,s,f))}if(a.segments.length===s.length){if(!qa(a.segments,s)||!Uh(a.segments,s,f))return!1;for(const v in l.children)if(!a.children[v]||!_N(a.children[v],l.children[v],f))return!1;return!0}{const v=s.slice(0,a.segments.length),_=s.slice(a.segments.length);return!!(qa(a.segments,v)&&Uh(a.segments,v,f)&&a.children[lt])&&SN(a.children[lt],l,_,f)}}function Uh(a,l,s){return l.every((f,v)=>Gh[s](a[v].parameters,f.parameters))}class wc{constructor(l=new kt([],{}),s={},f=null){this.root=l,this.queryParams=s,this.fragment=f}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hh(this.queryParams)),this._queryParamMap}toString(){return _G.serialize(this)}}class kt{constructor(l,s){this.segments=l,this.children=s,this.parent=null,Object.values(s).forEach(f=>f.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zv(this)}}class Fv{constructor(l,s){this.path=l,this.parameters=s}get parameterMap(){return this._parameterMap||(this._parameterMap=Hh(this.parameters)),this._parameterMap}toString(){return Q0(this)}}function qa(a,l){return a.length===l.length&&a.every((s,f)=>s.path===l[f].path)}let bc=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:function(){return new Bv},providedIn:"root"})}return a})();class Bv{parse(l){const s=new Wx(l);return new wc(s.parseRootSegment(),s.parseQueryParams(),s.parseFragment())}serialize(l){const s=`/${Hv(l.root,!0)}`,f=function mW(a){const l=Object.keys(a).map(s=>{const f=a[s];return Array.isArray(f)?f.map(v=>`${X0(s)}=${X0(v)}`).join("&"):`${X0(s)}=${X0(f)}`}).filter(s=>!!s);return l.length?`?${l.join("&")}`:""}(l.queryParams);return`${s}${f}${"string"==typeof l.fragment?`#${function SG(a){return encodeURI(a)}(l.fragment)}`:""}`}}const _G=new Bv;function zv(a){return a.segments.map(l=>Q0(l)).join("/")}function Hv(a,l){if(!a.hasChildren())return zv(a);if(l){const s=a.children[lt]?Hv(a.children[lt],!1):"",f=[];return Object.entries(a.children).forEach(([v,_])=>{v!==lt&&f.push(`${v}:${Hv(_,!1)}`)}),f.length>0?`${s}(${f.join("//")})`:s}{const s=function wN(a,l){let s=[];return Object.entries(a.children).forEach(([f,v])=>{f===lt&&(s=s.concat(l(v,f)))}),Object.entries(a.children).forEach(([f,v])=>{f!==lt&&(s=s.concat(l(v,f)))}),s}(a,(f,v)=>v===lt?[Hv(a.children[lt],!1)]:[`${v}:${Hv(f,!1)}`]);return 1===Object.keys(a.children).length&&null!=a.children[lt]?`${zv(a)}/${s[0]}`:`${zv(a)}/(${s.join("//")})`}}function Dc(a){return encodeURIComponent(a).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function X0(a){return Dc(a).replace(/%3B/gi,";")}function zx(a){return Dc(a).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function K0(a){return decodeURIComponent(a)}function Hx(a){return K0(a.replace(/\+/g,"%20"))}function Q0(a){return`${zx(a.path)}${function bN(a){return Object.keys(a).map(l=>`;${zx(l)}=${zx(a[l])}`).join("")}(a.parameters)}`}const Gx=/^[^\/()?;#]+/;function Ux(a){const l=a.match(Gx);return l?l[0]:""}const wG=/^[^\/()?;=#]+/,DN=/^[^=?&#]+/,xN=/^[^&#]+/;class Wx{constructor(l){this.url=l,this.remaining=l}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kt([],{}):new kt([],this.parseChildren())}parseQueryParams(){const l={};if(this.consumeOptional("?"))do{this.parseQueryParam(l)}while(this.consumeOptional("&"));return l}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const l=[];for(this.peekStartsWith("(")||l.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),l.push(this.parseSegment());let s={};this.peekStartsWith("/(")&&(this.capture("/"),s=this.parseParens(!0));let f={};return this.peekStartsWith("(")&&(f=this.parseParens(!1)),(l.length>0||Object.keys(s).length>0)&&(f[lt]=new kt(l,s)),f}parseSegment(){const l=Ux(this.remaining);if(""===l&&this.peekStartsWith(";"))throw new ue(4009,!1);return this.capture(l),new Fv(K0(l),this.parseMatrixParams())}parseMatrixParams(){const l={};for(;this.consumeOptional(";");)this.parseParam(l);return l}parseParam(l){const s=function jx(a){const l=a.match(wG);return l?l[0]:""}(this.remaining);if(!s)return;this.capture(s);let f="";if(this.consumeOptional("=")){const v=Ux(this.remaining);v&&(f=v,this.capture(f))}l[K0(s)]=K0(f)}parseQueryParam(l){const s=function CN(a){const l=a.match(DN);return l?l[0]:""}(this.remaining);if(!s)return;this.capture(s);let f="";if(this.consumeOptional("=")){const w=function bG(a){const l=a.match(xN);return l?l[0]:""}(this.remaining);w&&(f=w,this.capture(f))}const v=Hx(s),_=Hx(f);if(l.hasOwnProperty(v)){let w=l[v];Array.isArray(w)||(w=[w],l[v]=w),w.push(_)}else l[v]=_}parseParens(l){const s={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const f=Ux(this.remaining),v=this.remaining[f.length];if("/"!==v&&")"!==v&&";"!==v)throw new ue(4010,!1);let _;f.indexOf(":")>-1?(_=f.slice(0,f.indexOf(":")),this.capture(_),this.capture(":")):l&&(_=lt);const w=this.parseChildren();s[_]=1===Object.keys(w).length?w[lt]:new kt([],w),this.consumeOptional("//")}return s}peekStartsWith(l){return this.remaining.startsWith(l)}consumeOptional(l){return!!this.peekStartsWith(l)&&(this.remaining=this.remaining.substring(l.length),!0)}capture(l){if(!this.consumeOptional(l))throw new ue(4011,!1)}}function TN(a){return a.segments.length>0?new kt([],{[lt]:a}):a}function J0(a){const l={};for(const f of Object.keys(a.children)){const _=J0(a.children[f]);if(f===lt&&0===_.segments.length&&_.hasChildren())for(const[w,x]of Object.entries(_.children))l[w]=x;else(_.segments.length>0||_.hasChildren())&&(l[f]=_)}return function DG(a){if(1===a.numberOfChildren&&a.children[lt]){const l=a.children[lt];return new kt(a.segments.concat(l.segments),l.children)}return a}(new kt(a.segments,l))}function Cc(a){return a instanceof wc}function $x(a){let l;const v=TN(function s(_){const w={};for(const A of _.children){const P=s(A);w[A.outlet]=P}const x=new kt(_.url,w);return _===a&&(l=x),x}(a.root));return l??v}function e_(a,l,s,f){let v=a;for(;v.parent;)v=v.parent;if(0===l.length)return Gv(v,v,v,s,f);const _=function Yx(a){if("string"==typeof a[0]&&1===a.length&&"/"===a[0])return new Tc(!0,0,a);let l=0,s=!1;const f=a.reduce((v,_,w)=>{if("object"==typeof _&&null!=_){if(_.outlets){const x={};return Object.entries(_.outlets).forEach(([A,P])=>{x[A]="string"==typeof P?P.split("/"):P}),[...v,{outlets:x}]}if(_.segmentPath)return[...v,_.segmentPath]}return"string"!=typeof _?[...v,_]:0===w?(_.split("/").forEach((x,A)=>{0==A&&"."===x||(0==A&&""===x?s=!0:".."===x?l++:""!=x&&v.push(x))}),v):[...v,_]},[]);return new Tc(s,l,f)}(l);if(_.toRoot())return Gv(v,v,new kt([],{}),s,f);const w=function AN(a,l,s){if(a.isAbsolute)return new Uv(l,!0,0);if(!s)return new Uv(l,!1,NaN);if(null===s.parent)return new Uv(s,!0,0);const f=jh(a.commands[0])?0:1;return function Zx(a,l,s){let f=a,v=l,_=s;for(;_>v;){if(_-=v,f=f.parent,!f)throw new ue(4005,!1);v=f.segments.length}return new Uv(f,!1,v-_)}(s,s.segments.length-1+f,a.numberOfDoubleDots)}(_,v,a),x=w.processChildren?jv(w.segmentGroup,w.index,_.commands):EN(w.segmentGroup,w.index,_.commands);return Gv(v,w.segmentGroup,x,s,f)}function jh(a){return"object"==typeof a&&null!=a&&!a.outlets&&!a.segmentPath}function xc(a){return"object"==typeof a&&null!=a&&a.outlets}function Gv(a,l,s,f,v){let w,_={};f&&Object.entries(f).forEach(([A,P])=>{_[A]=Array.isArray(P)?P.map(N=>`${N}`):`${P}`}),w=a===l?s:t_(a,l,s);const x=TN(J0(w));return new wc(x,_,v)}function t_(a,l,s){const f={};return Object.entries(a.children).forEach(([v,_])=>{f[v]=_===l?s:t_(_,l,s)}),new kt(a.segments,f)}class Tc{constructor(l,s,f){if(this.isAbsolute=l,this.numberOfDoubleDots=s,this.commands=f,l&&f.length>0&&jh(f[0]))throw new ue(4003,!1);const v=f.find(xc);if(v&&v!==q0(f))throw new ue(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uv{constructor(l,s,f){this.segmentGroup=l,this.processChildren=s,this.index=f}}function EN(a,l,s){if(a||(a=new kt([],{})),0===a.segments.length&&a.hasChildren())return jv(a,l,s);const f=function Wh(a,l,s){let f=0,v=l;const _={match:!1,pathIndex:0,commandIndex:0};for(;v<a.segments.length;){if(f>=s.length)return _;const w=a.segments[v],x=s[f];if(xc(x))break;const A=`${x}`,P=f<s.length-1?s[f+1]:null;if(v>0&&void 0===A)break;if(A&&P&&"object"==typeof P&&void 0===P.outlets){if(!Kx(A,P,w))return _;f+=2}else{if(!Kx(A,{},w))return _;f++}v++}return{match:!0,pathIndex:v,commandIndex:f}}(a,l,s),v=s.slice(f.commandIndex);if(f.match&&f.pathIndex<a.segments.length){const _=new kt(a.segments.slice(0,f.pathIndex),{});return _.children[lt]=new kt(a.segments.slice(f.pathIndex),a.children),jv(_,0,v)}return f.match&&0===v.length?new kt(a.segments,{}):f.match&&!a.hasChildren()?qx(a,l,s):f.match?jv(a,0,v):qx(a,l,s)}function jv(a,l,s){if(0===s.length)return new kt(a.segments,{});{const f=function IN(a){return xc(a[0])?a[0].outlets:{[lt]:a}}(s),v={};if(Object.keys(f).some(_=>_!==lt)&&a.children[lt]&&1===a.numberOfChildren&&0===a.children[lt].segments.length){const _=jv(a.children[lt],l,s);return new kt(a.segments,_.children)}return Object.entries(f).forEach(([_,w])=>{"string"==typeof w&&(w=[w]),null!==w&&(v[_]=EN(a.children[_],l,w))}),Object.entries(a.children).forEach(([_,w])=>{void 0===f[_]&&(v[_]=w)}),new kt(a.segments,v)}}function qx(a,l,s){const f=a.segments.slice(0,l);let v=0;for(;v<s.length;){const _=s[v];if(xc(_)){const A=Mc(_.outlets);return new kt(f,A)}if(0===v&&jh(s[0])){f.push(new Fv(a.segments[l].path,Xx(s[0]))),v++;continue}const w=xc(_)?_.outlets[lt]:`${_}`,x=v<s.length-1?s[v+1]:null;w&&x&&jh(x)?(f.push(new Fv(w,Xx(x))),v+=2):(f.push(new Fv(w,{})),v++)}return new kt(f,{})}function Mc(a){const l={};return Object.entries(a).forEach(([s,f])=>{"string"==typeof f&&(f=[f]),null!==f&&(l[s]=qx(new kt([],{}),0,f))}),l}function Xx(a){const l={};return Object.entries(a).forEach(([s,f])=>l[s]=`${f}`),l}function Kx(a,l,s){return a==s.path&&Gi(l,s.parameters)}const Wv="imperative";class Xa{constructor(l,s){this.id=l,this.url=s}}class n_ extends Xa{constructor(l,s,f="imperative",v=null){super(l,s),this.type=0,this.navigationTrigger=f,this.restoredState=v}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Yl extends Xa{constructor(l,s,f){super(l,s),this.urlAfterRedirects=f,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $v extends Xa{constructor(l,s,f,v){super(l,s),this.reason=f,this.code=v,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class $h extends Xa{constructor(l,s,f,v){super(l,s),this.reason=f,this.code=v,this.type=16}}class r_ extends Xa{constructor(l,s,f,v){super(l,s),this.error=f,this.target=v,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class PN extends Xa{constructor(l,s,f,v){super(l,s),this.urlAfterRedirects=f,this.state=v,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CG extends Xa{constructor(l,s,f,v){super(l,s),this.urlAfterRedirects=f,this.state=v,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xG extends Xa{constructor(l,s,f,v,_){super(l,s),this.urlAfterRedirects=f,this.state=v,this.shouldActivate=_,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class i_ extends Xa{constructor(l,s,f,v){super(l,s),this.urlAfterRedirects=f,this.state=v,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TG extends Xa{constructor(l,s,f,v){super(l,s),this.urlAfterRedirects=f,this.state=v,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class MG{constructor(l){this.route=l,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class AG{constructor(l){this.route=l,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class IG{constructor(l){this.snapshot=l,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EG{constructor(l){this.snapshot=l,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PG{constructor(l){this.snapshot=l,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LG{constructor(l){this.snapshot=l,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LN{constructor(l,s,f){this.routerEvent=l,this.position=s,this.anchor=f,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Qx{}class Jx{constructor(l){this.url=l}}class RG{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Yv,this.attachRef=null}}let Yv=(()=>{class a{constructor(){this.contexts=new Map}onChildOutletCreated(s,f){const v=this.getOrCreateContext(s);v.outlet=f,this.contexts.set(s,v)}onChildOutletDestroyed(s){const f=this.getContext(s);f&&(f.outlet=null,f.attachRef=null)}onOutletDeactivated(){const s=this.contexts;return this.contexts=new Map,s}onOutletReAttached(s){this.contexts=s}getOrCreateContext(s){let f=this.getContext(s);return f||(f=new RG,this.contexts.set(s,f)),f}getContext(s){return this.contexts.get(s)||null}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();class RN{constructor(l){this._root=l}get root(){return this._root.value}parent(l){const s=this.pathFromRoot(l);return s.length>1?s[s.length-2]:null}children(l){const s=e1(l,this._root);return s?s.children.map(f=>f.value):[]}firstChild(l){const s=e1(l,this._root);return s&&s.children.length>0?s.children[0].value:null}siblings(l){const s=t1(l,this._root);return s.length<2?[]:s[s.length-2].children.map(v=>v.value).filter(v=>v!==l)}pathFromRoot(l){return t1(l,this._root).map(s=>s.value)}}function e1(a,l){if(a===l.value)return l;for(const s of l.children){const f=e1(a,s);if(f)return f}return null}function t1(a,l){if(a===l.value)return[l];for(const s of l.children){const f=t1(a,s);if(f.length)return f.unshift(l),f}return[]}class ks{constructor(l,s){this.value=l,this.children=s}toString(){return`TreeNode(${this.value})`}}function Yh(a){const l={};return a&&a.children.forEach(s=>l[s.value.outlet]=s),l}class NN extends RN{constructor(l,s){super(l),this.snapshot=s,r1(this,l)}toString(){return this.snapshot.toString()}}function n1(a,l){const s=function ON(a,l){const w=new o_([],{},{},"",{},lt,l,null,{});return new kN("",new ks(w,[]))}(0,l),f=new ti([new Fv("",{})]),v=new ti({}),_=new ti({}),w=new ti({}),x=new ti(""),A=new Ac(f,v,w,x,_,lt,l,s.root);return A.snapshot=s.root,new NN(new ks(A,[]),s)}class Ac{constructor(l,s,f,v,_,w,x,A){this.urlSubject=l,this.paramsSubject=s,this.queryParamsSubject=f,this.fragmentSubject=v,this.dataSubject=_,this.outlet=w,this.component=x,this._futureSnapshot=A,this.title=this.dataSubject?.pipe(Tt(P=>P[zh]))??ye(void 0),this.url=l,this.params=s,this.queryParams=f,this.fragment=v,this.data=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Tt(l=>Hh(l)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Tt(l=>Hh(l)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function a_(a,l="emptyOnly"){const s=a.pathFromRoot;let f=0;if("always"!==l)for(f=s.length-1;f>=1;){const v=s[f],_=s[f-1];if(v.routeConfig&&""===v.routeConfig.path)f--;else{if(_.component)break;f--}}return function NG(a){return a.reduce((l,s)=>({params:{...l.params,...s.params},data:{...l.data,...s.data},resolve:{...s.data,...l.resolve,...s.routeConfig?.data,...s._resolvedData}}),{params:{},data:{},resolve:{}})}(s.slice(f))}class o_{get title(){return this.data?.[zh]}constructor(l,s,f,v,_,w,x,A,P){this.url=l,this.params=s,this.queryParams=f,this.fragment=v,this.data=_,this.outlet=w,this.component=x,this.routeConfig=A,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hh(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hh(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(f=>f.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kN extends RN{constructor(l,s){super(s),this.url=l,r1(this,s)}toString(){return FN(this._root)}}function r1(a,l){l.value._routerState=a,l.children.forEach(s=>r1(a,s))}function FN(a){const l=a.children.length>0?` { ${a.children.map(FN).join(", ")} } `:"";return`${a.value}${l}`}function i1(a){if(a.snapshot){const l=a.snapshot,s=a._futureSnapshot;a.snapshot=s,Gi(l.queryParams,s.queryParams)||a.queryParamsSubject.next(s.queryParams),l.fragment!==s.fragment&&a.fragmentSubject.next(s.fragment),Gi(l.params,s.params)||a.paramsSubject.next(s.params),function mG(a,l){if(a.length!==l.length)return!1;for(let s=0;s<a.length;++s)if(!Gi(a[s],l[s]))return!1;return!0}(l.url,s.url)||a.urlSubject.next(s.url),Gi(l.data,s.data)||a.dataSubject.next(s.data)}else a.snapshot=a._futureSnapshot,a.dataSubject.next(a._futureSnapshot.data)}function a1(a,l){const s=Gi(a.params,l.params)&&function Vv(a,l){return qa(a,l)&&a.every((s,f)=>Gi(s.parameters,l[f].parameters))}(a.url,l.url);return s&&!(!a.parent!=!l.parent)&&(!a.parent||a1(a.parent,l.parent))}let o1=(()=>{class a{constructor(){this.activated=null,this._activatedRoute=null,this.name=lt,this.activateEvents=new fn,this.deactivateEvents=new fn,this.attachEvents=new fn,this.detachEvents=new fn,this.parentContexts=ge(Yv),this.location=ge(Ga),this.changeDetector=ge(u0),this.environmentInjector=ge(di),this.inputBinder=ge(s_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(s){if(s.name){const{firstChange:f,previousValue:v}=s.name;if(f)return;this.isTrackedInParentContexts(v)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(v)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(s){return this.parentContexts.getContext(s)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const s=this.parentContexts.getContext(this.name);s?.route&&(s.attachRef?this.attach(s.attachRef,s.route):this.activateWith(s.route,s.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ue(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ue(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ue(4012,!1);this.location.detach();const s=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(s.instance),s}attach(s,f){this.activated=s,this._activatedRoute=f,this.location.insert(s.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(s.instance)}deactivate(){if(this.activated){const s=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(s)}}activateWith(s,f){if(this.isActivated)throw new ue(4013,!1);this._activatedRoute=s;const v=this.location,w=s.snapshot.component,x=this.parentContexts.getOrCreateContext(this.name).children,A=new OG(s,x,v.injector);this.activated=v.createComponent(w,{index:v.length,injector:A,environmentInjector:f??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275dir=Ye({type:a,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ai]})}return a})();class OG{constructor(l,s,f){this.route=l,this.childContexts=s,this.parent=f}get(l,s){return l===Ac?this.route:l===Yv?this.childContexts:this.parent.get(l,s)}}const s_=new we("");let VN=(()=>{class a{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(s){this.unsubscribeFromRouteData(s),this.subscribeToRouteData(s)}unsubscribeFromRouteData(s){this.outletDataSubscriptions.get(s)?.unsubscribe(),this.outletDataSubscriptions.delete(s)}subscribeToRouteData(s){const{activatedRoute:f}=s,v=Ox([f.queryParams,f.params,f.data]).pipe(xa(([_,w,x],A)=>(x={..._,...w,...x},0===A?ye(x):Promise.resolve(x)))).subscribe(_=>{if(!s.isActivated||!s.activatedComponentRef||s.activatedRoute!==f||null===f.component)return void this.unsubscribeFromRouteData(s);const w=function nz(a){const l=Dt(a);if(!l)return null;const s=new hn(l);return{get selector(){return s.selector},get type(){return s.componentType},get inputs(){return s.inputs},get outputs(){return s.outputs},get ngContentSelectors(){return s.ngContentSelectors},get isStandalone(){return l.standalone},get isSignal(){return l.signals}}}(f.component);if(w)for(const{templateName:x}of w.inputs)s.activatedComponentRef.setInput(x,_[x]);else this.unsubscribeFromRouteData(s)});this.outletDataSubscriptions.set(s,v)}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();function Zv(a,l,s){if(s&&a.shouldReuseRoute(l.value,s.value.snapshot)){const f=s.value;f._futureSnapshot=l.value;const v=function FG(a,l,s){return l.children.map(f=>{for(const v of s.children)if(a.shouldReuseRoute(f.value,v.value.snapshot))return Zv(a,f,v);return Zv(a,f)})}(a,l,s);return new ks(f,v)}{if(a.shouldAttach(l.value)){const _=a.retrieve(l.value);if(null!==_){const w=_.route;return w.value._futureSnapshot=l.value,w.children=l.children.map(x=>Zv(a,x)),w}}const f=function VG(a){return new Ac(new ti(a.url),new ti(a.params),new ti(a.queryParams),new ti(a.fragment),new ti(a.data),a.outlet,a.component,a)}(l.value),v=l.children.map(_=>Zv(a,_));return new ks(f,v)}}const qv="ngNavigationCancelingError";function BN(a,l){const{redirectTo:s,navigationBehaviorOptions:f}=Cc(l)?{redirectTo:l,navigationBehaviorOptions:void 0}:l,v=zN(!1,0,l);return v.url=s,v.navigationBehaviorOptions=f,v}function zN(a,l,s){const f=new Error("NavigationCancelingError: "+(a||""));return f[qv]=!0,f.cancellationCode=l,s&&(f.url=s),f}function HN(a){return a&&a[qv]}let GN=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275cmp=Go({type:a,selectors:[["ng-component"]],standalone:!0,features:[Xp],decls:1,vars:0,template:function(f,v){1&f&&Ni(0,"router-outlet")},dependencies:[o1],encapsulation:2})}return a})();function s1(a){const l=a.children&&a.children.map(s1),s=l?{...a,children:l}:{...a};return!s.component&&!s.loadComponent&&(l||s.loadChildren)&&s.outlet&&s.outlet!==lt&&(s.component=GN),s}function Ka(a){return a.outlet||lt}function Kv(a){if(!a)return null;if(a.routeConfig?._injector)return a.routeConfig._injector;for(let l=a.parent;l;l=l.parent){const s=l.routeConfig;if(s?._loadedInjector)return s._loadedInjector;if(s?._injector)return s._injector}return null}class jG{constructor(l,s,f,v,_){this.routeReuseStrategy=l,this.futureState=s,this.currState=f,this.forwardEvent=v,this.inputBindingEnabled=_}activate(l){const s=this.futureState._root,f=this.currState?this.currState._root:null;this.deactivateChildRoutes(s,f,l),i1(this.futureState.root),this.activateChildRoutes(s,f,l)}deactivateChildRoutes(l,s,f){const v=Yh(s);l.children.forEach(_=>{const w=_.value.outlet;this.deactivateRoutes(_,v[w],f),delete v[w]}),Object.values(v).forEach(_=>{this.deactivateRouteAndItsChildren(_,f)})}deactivateRoutes(l,s,f){const v=l.value,_=s?s.value:null;if(v===_)if(v.component){const w=f.getContext(v.outlet);w&&this.deactivateChildRoutes(l,s,w.children)}else this.deactivateChildRoutes(l,s,f);else _&&this.deactivateRouteAndItsChildren(s,f)}deactivateRouteAndItsChildren(l,s){l.value.component&&this.routeReuseStrategy.shouldDetach(l.value.snapshot)?this.detachAndStoreRouteSubtree(l,s):this.deactivateRouteAndOutlet(l,s)}detachAndStoreRouteSubtree(l,s){const f=s.getContext(l.value.outlet),v=f&&l.value.component?f.children:s,_=Yh(l);for(const w of Object.keys(_))this.deactivateRouteAndItsChildren(_[w],v);if(f&&f.outlet){const w=f.outlet.detach(),x=f.children.onOutletDeactivated();this.routeReuseStrategy.store(l.value.snapshot,{componentRef:w,route:l,contexts:x})}}deactivateRouteAndOutlet(l,s){const f=s.getContext(l.value.outlet),v=f&&l.value.component?f.children:s,_=Yh(l);for(const w of Object.keys(_))this.deactivateRouteAndItsChildren(_[w],v);f&&(f.outlet&&(f.outlet.deactivate(),f.children.onOutletDeactivated()),f.attachRef=null,f.route=null)}activateChildRoutes(l,s,f){const v=Yh(s);l.children.forEach(_=>{this.activateRoutes(_,v[_.value.outlet],f),this.forwardEvent(new LG(_.value.snapshot))}),l.children.length&&this.forwardEvent(new EG(l.value.snapshot))}activateRoutes(l,s,f){const v=l.value,_=s?s.value:null;if(i1(v),v===_)if(v.component){const w=f.getOrCreateContext(v.outlet);this.activateChildRoutes(l,s,w.children)}else this.activateChildRoutes(l,s,f);else if(v.component){const w=f.getOrCreateContext(v.outlet);if(this.routeReuseStrategy.shouldAttach(v.snapshot)){const x=this.routeReuseStrategy.retrieve(v.snapshot);this.routeReuseStrategy.store(v.snapshot,null),w.children.onOutletReAttached(x.contexts),w.attachRef=x.componentRef,w.route=x.route.value,w.outlet&&w.outlet.attach(x.componentRef,x.route.value),i1(x.route.value),this.activateChildRoutes(l,null,w.children)}else{const x=Kv(v.snapshot);w.attachRef=null,w.route=v,w.injector=x,w.outlet&&w.outlet.activateWith(v,w.injector),this.activateChildRoutes(l,null,w.children)}}else this.activateChildRoutes(l,null,f)}}class YN{constructor(l){this.path=l,this.route=this.path[this.path.length-1]}}class u_{constructor(l,s){this.component=l,this.route=s}}function ZN(a,l,s){const f=a._root;return Fs(f,l?l._root:null,s,[f.value])}function Sa(a,l){const s=Symbol(),f=l.get(a,s);return f===s?"function"!=typeof a||function Wn(a){return null!==$s(a)}(a)?l.get(a):a:f}function Fs(a,l,s,f,v={canDeactivateChecks:[],canActivateChecks:[]}){const _=Yh(l);return a.children.forEach(w=>{(function Zh(a,l,s,f,v={canDeactivateChecks:[],canActivateChecks:[]}){const _=a.value,w=l?l.value:null,x=s?s.getContext(a.value.outlet):null;if(w&&_.routeConfig===w.routeConfig){const A=function WG(a,l,s){if("function"==typeof s)return s(a,l);switch(s){case"pathParamsChange":return!qa(a.url,l.url);case"pathParamsOrQueryParamsChange":return!qa(a.url,l.url)||!Gi(a.queryParams,l.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!a1(a,l)||!Gi(a.queryParams,l.queryParams);default:return!a1(a,l)}}(w,_,_.routeConfig.runGuardsAndResolvers);A?v.canActivateChecks.push(new YN(f)):(_.data=w.data,_._resolvedData=w._resolvedData),Fs(a,l,_.component?x?x.children:null:s,f,v),A&&x&&x.outlet&&x.outlet.isActivated&&v.canDeactivateChecks.push(new u_(x.outlet.component,w))}else w&&Qv(l,x,v),v.canActivateChecks.push(new YN(f)),Fs(a,null,_.component?x?x.children:null:s,f,v)})(w,_[w.value.outlet],s,f.concat([w.value]),v),delete _[w.value.outlet]}),Object.entries(_).forEach(([w,x])=>Qv(x,s.getContext(w),v)),v}function Qv(a,l,s){const f=Yh(a),v=a.value;Object.entries(f).forEach(([_,w])=>{Qv(w,v.component?l?l.children.getContext(_):null:l,s)}),s.canDeactivateChecks.push(new u_(v.component&&l&&l.outlet&&l.outlet.isActivated?l.outlet.component:null,v))}function Jv(a){return"function"==typeof a}function l1(a){return a instanceof Vh||"EmptyError"===a?.name}const eg=Symbol("INITIAL_VALUE");function Ec(){return xa(a=>Ox(a.map(l=>l.pipe($l(1),function hN(...a){const l=Fo(a);return qt((s,f)=>{(l?kv(a,s,l):kv(a,s)).subscribe(f)})}(eg)))).pipe(Tt(l=>{for(const s of l)if(!0!==s){if(s===eg)return eg;if(!1===s||s instanceof wc)return s}return!0}),Hi(l=>l!==eg),$l(1)))}function d1(a){return function EU(...a){return Z2(a)}(mr(l=>{if(Cc(l))throw BN(0,l)}),Tt(l=>!0===l))}class wa{constructor(l){this.segmentGroup=l||null}}class c_{constructor(l){this.urlTree=l}}function Lc(a){return Os(new wa(a))}function nO(a){return Os(new c_(a))}class rO{constructor(l,s){this.urlSerializer=l,this.urlTree=s}noMatchError(l){return new ue(4002,!1)}lineralizeSegments(l,s){let f=[],v=s.root;for(;;){if(f=f.concat(v.segments),0===v.numberOfChildren)return ye(f);if(v.numberOfChildren>1||!v.children[lt])return Os(new ue(4e3,!1));v=v.children[lt]}}applyRedirectCommands(l,s,f){return this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),l,f)}applyRedirectCreateUrlTree(l,s,f,v){const _=this.createSegmentGroup(l,s.root,f,v);return new wc(_,this.createQueryParams(s.queryParams,this.urlTree.queryParams),s.fragment)}createQueryParams(l,s){const f={};return Object.entries(l).forEach(([v,_])=>{if("string"==typeof _&&_.startsWith(":")){const x=_.substring(1);f[v]=s[x]}else f[v]=_}),f}createSegmentGroup(l,s,f,v){const _=this.createSegments(l,s.segments,f,v);let w={};return Object.entries(s.children).forEach(([x,A])=>{w[x]=this.createSegmentGroup(l,A,f,v)}),new kt(_,w)}createSegments(l,s,f,v){return s.map(_=>_.path.startsWith(":")?this.findPosParam(l,_,v):this.findOrReturn(_,f))}findPosParam(l,s,f){const v=f[s.path.substring(1)];if(!v)throw new ue(4001,!1);return v}findOrReturn(l,s){let f=0;for(const v of s){if(v.path===l.path)return s.splice(f),v;f++}return l}}const g1={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function iO(a,l,s,f,v){const _=tg(a,l,s);return _.matched?(f=function Ic(a,l){return a.providers&&!a._injector&&(a._injector=Ny(a.providers,l,`Route: ${a.path}`)),a._injector??l}(l,f),function p1(a,l,s,f){const v=l.canMatch;return v&&0!==v.length?ye(v.map(w=>{const x=Sa(w,a);return Za(function qG(a){return a&&Jv(a.canMatch)}(x)?x.canMatch(l,s):a.runInContext(()=>x(l,s)))})).pipe(Ec(),d1()):ye(!0)}(f,l,s).pipe(Tt(w=>!0===w?_:{...g1}))):ye(_)}function tg(a,l,s){if(""===l.path)return"full"===l.pathMatch&&(a.hasChildren()||s.length>0)?{...g1}:{matched:!0,consumedSegments:[],remainingSegments:s,parameters:{},positionalParamSegments:{}};const v=(l.matcher||gG)(s,a,l);if(!v)return{...g1};const _={};Object.entries(v.posParams??{}).forEach(([x,A])=>{_[x]=A.path});const w=v.consumed.length>0?{..._,...v.consumed[v.consumed.length-1].parameters}:_;return{matched:!0,consumedSegments:v.consumed,remainingSegments:s.slice(v.consumed.length),parameters:w,positionalParamSegments:v.posParams??{}}}function aO(a,l,s,f){return s.length>0&&function y1(a,l,s){return s.some(f=>ng(a,l,f)&&Ka(f)!==lt)}(a,s,f)?{segmentGroup:new kt(l,m1(f,new kt(s,a.children))),slicedSegments:[]}:0===s.length&&function oO(a,l,s){return s.some(f=>ng(a,l,f))}(a,s,f)?{segmentGroup:new kt(a.segments,QG(a,0,s,f,a.children)),slicedSegments:s}:{segmentGroup:new kt(a.segments,a.children),slicedSegments:s}}function QG(a,l,s,f,v){const _={};for(const w of f)if(ng(a,s,w)&&!v[Ka(w)]){const x=new kt([],{});_[Ka(w)]=x}return{...v,..._}}function m1(a,l){const s={};s[lt]=l;for(const f of a)if(""===f.path&&Ka(f)!==lt){const v=new kt([],{});s[Ka(f)]=v}return s}function ng(a,l,s){return(!(a.hasChildren()||l.length>0)||"full"!==s.pathMatch)&&""===s.path}class f_{constructor(l,s,f,v,_,w,x){this.injector=l,this.configLoader=s,this.rootComponentType=f,this.config=v,this.urlTree=_,this.paramsInheritanceStrategy=w,this.urlSerializer=x,this.allowRedirects=!0,this.applyRedirects=new rO(this.urlSerializer,this.urlTree)}noMatchError(l){return new ue(4002,!1)}recognize(){const l=aO(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,l,lt).pipe(Sc(s=>{if(s instanceof c_)return this.allowRedirects=!1,this.urlTree=s.urlTree,this.match(s.urlTree);throw s instanceof wa?this.noMatchError(s):s}),Tt(s=>{const f=new o_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},lt,this.rootComponentType,null,{}),v=new ks(f,s),_=new kN("",v),w=function MN(a,l,s=null,f=null){return e_($x(a),l,s,f)}(f,[],this.urlTree.queryParams,this.urlTree.fragment);return w.queryParams=this.urlTree.queryParams,_.url=this.urlSerializer.serialize(w),this.inheritParamsAndData(_._root),{state:_,tree:w}}))}match(l){return this.processSegmentGroup(this.injector,this.config,l.root,lt).pipe(Sc(f=>{throw f instanceof wa?this.noMatchError(f):f}))}inheritParamsAndData(l){const s=l.value,f=a_(s,this.paramsInheritanceStrategy);s.params=Object.freeze(f.params),s.data=Object.freeze(f.data),l.children.forEach(v=>this.inheritParamsAndData(v))}processSegmentGroup(l,s,f,v){return 0===f.segments.length&&f.hasChildren()?this.processChildren(l,s,f):this.processSegment(l,s,f,f.segments,v,!0)}processChildren(l,s,f){const v=[];for(const _ of Object.keys(f.children))"primary"===_?v.unshift(_):v.push(_);return ht(v).pipe(mc(_=>{const w=f.children[_],x=function l_(a,l){const s=a.filter(f=>Ka(f)===l);return s.push(...a.filter(f=>Ka(f)!==l)),s}(s,_);return this.processSegmentGroup(l,x,w,_)}),function dG(a,l){return qt(function hG(a,l,s,f,v){return(_,w)=>{let x=s,A=l,P=0;_.subscribe(vn(w,N=>{const z=P++;A=x?a(A,N,z):(x=!0,N),f&&w.next(A)},v&&(()=>{x&&w.next(A),w.complete()})))}}(a,l,arguments.length>=2,!0))}((_,w)=>(_.push(...w),_)),Z0(null),function pG(a,l){const s=arguments.length>=2;return f=>f.pipe(a?Hi((v,_)=>a(v,_,f)):tu,Fx(1),s?Z0(l):dN(()=>new Vh))}(),bt(_=>{if(null===_)return Lc(f);const w=S1(_);return function lO(a){a.sort((l,s)=>l.value.outlet===lt?-1:s.value.outlet===lt?1:l.value.outlet.localeCompare(s.value.outlet))}(w),ye(w)}))}processSegment(l,s,f,v,_,w){return ht(s).pipe(mc(x=>this.processSegmentAgainstRoute(x._injector??l,s,x,f,v,_,w).pipe(Sc(A=>{if(A instanceof wa)return ye(null);throw A}))),_c(x=>!!x),Sc(x=>{if(l1(x))return function sO(a,l,s){return 0===l.length&&!a.children[s]}(f,v,_)?ye([]):Lc(f);throw x}))}processSegmentAgainstRoute(l,s,f,v,_,w,x){return function JG(a,l,s,f){return!!(Ka(a)===f||f!==lt&&ng(l,s,a))&&("**"===a.path||tg(l,a,s).matched)}(f,v,_,w)?void 0===f.redirectTo?this.matchSegmentAgainstRoute(l,v,f,_,w,x):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(l,v,s,f,_,w):Lc(v):Lc(v)}expandSegmentAgainstRouteUsingRedirect(l,s,f,v,_,w){return"**"===v.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(l,f,v,w):this.expandRegularSegmentAgainstRouteUsingRedirect(l,s,f,v,_,w)}expandWildCardWithParamsAgainstRouteUsingRedirect(l,s,f,v){const _=this.applyRedirects.applyRedirectCommands([],f.redirectTo,{});return f.redirectTo.startsWith("/")?nO(_):this.applyRedirects.lineralizeSegments(f,_).pipe(bt(w=>{const x=new kt(w,{});return this.processSegment(l,s,x,w,v,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(l,s,f,v,_,w){const{matched:x,consumedSegments:A,remainingSegments:P,positionalParamSegments:N}=tg(s,v,_);if(!x)return Lc(s);const z=this.applyRedirects.applyRedirectCommands(A,v.redirectTo,N);return v.redirectTo.startsWith("/")?nO(z):this.applyRedirects.lineralizeSegments(v,z).pipe(bt(U=>this.processSegment(l,f,s,U.concat(P),w,!1)))}matchSegmentAgainstRoute(l,s,f,v,_,w){let x;if("**"===f.path){const A=v.length>0?q0(v).parameters:{};x=ye({snapshot:new o_(v,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w1(f),Ka(f),f.component??f._loadedComponent??null,f,h_(f)),consumedSegments:[],remainingSegments:[]}),s.children={}}else x=iO(s,f,v,l).pipe(Tt(({matched:A,consumedSegments:P,remainingSegments:N,parameters:z})=>A?{snapshot:new o_(P,z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w1(f),Ka(f),f.component??f._loadedComponent??null,f,h_(f)),consumedSegments:P,remainingSegments:N}:null));return x.pipe(xa(A=>null===A?Lc(s):this.getChildConfig(l=f._injector??l,f,v).pipe(xa(({routes:P})=>{const N=f._loadedInjector??l,{snapshot:z,consumedSegments:U,remainingSegments:$}=A,{segmentGroup:Z,slicedSegments:Q}=aO(s,U,$,P);if(0===Q.length&&Z.hasChildren())return this.processChildren(N,P,Z).pipe(Tt(ce=>null===ce?null:[new ks(z,ce)]));if(0===P.length&&0===Q.length)return ye([new ks(z,[])]);const ie=Ka(f)===_;return this.processSegment(N,P,Z,Q,ie?lt:_,!0).pipe(Tt(ce=>[new ks(z,ce)]))}))))}getChildConfig(l,s,f){return s.children?ye({routes:s.children,injector:l}):s.loadChildren?void 0!==s._loadedRoutes?ye({routes:s._loadedRoutes,injector:s._loadedInjector}):function tO(a,l,s,f){const v=l.canLoad;return void 0===v||0===v.length?ye(!0):ye(v.map(w=>{const x=Sa(w,a);return Za(function XN(a){return a&&Jv(a.canLoad)}(x)?x.canLoad(l,s):a.runInContext(()=>x(l,s)))})).pipe(Ec(),d1())}(l,s,f).pipe(bt(v=>v?this.configLoader.loadChildren(l,s).pipe(mr(_=>{s._loadedRoutes=_.routes,s._loadedInjector=_.injector})):function KG(a){return Os(zN(!1,3))}())):ye({routes:[],injector:l})}}function _1(a){const l=a.value.routeConfig;return l&&""===l.path}function S1(a){const l=[],s=new Set;for(const f of a){if(!_1(f)){l.push(f);continue}const v=l.find(_=>f.value.routeConfig===_.value.routeConfig);void 0!==v?(v.children.push(...f.children),s.add(v)):l.push(f)}for(const f of s){const v=S1(f.children);l.push(new ks(f.value,v))}return l.filter(f=>!s.has(f))}function w1(a){return a.data||{}}function h_(a){return a.resolve||{}}function uO(a){return"string"==typeof a.title||null===a.title}function b1(a){return xa(l=>{const s=a(l);return s?ht(s).pipe(Tt(()=>l)):ye(l)})}const qh=new we("ROUTES");let d_=(()=>{class a{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ge(BP)}loadComponent(s){if(this.componentLoaders.get(s))return this.componentLoaders.get(s);if(s._loadedComponent)return ye(s._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(s);const f=Za(s.loadComponent()).pipe(Tt(cO),mr(_=>{this.onLoadEndListener&&this.onLoadEndListener(s),s._loadedComponent=_}),Pv(()=>{this.componentLoaders.delete(s)})),v=new kx(f,()=>new ji).pipe(Bh());return this.componentLoaders.set(s,v),v}loadChildren(s,f){if(this.childrenLoaders.get(f))return this.childrenLoaders.get(f);if(f._loadedRoutes)return ye({routes:f._loadedRoutes,injector:f._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(f);const _=function l5(a,l,s,f){return Za(a.loadChildren()).pipe(Tt(cO),bt(v=>v instanceof rP||Array.isArray(v)?ye(v):ht(l.compileModuleAsync(v))),Tt(v=>{f&&f(a);let _,w,x=!1;return Array.isArray(v)?(w=v,!0):(_=v.create(s).injector,w=_.get(qh,[],{optional:!0,self:!0}).flat()),{routes:w.map(s1),injector:_}}))}(f,this.compiler,s,this.onLoadEndListener).pipe(Pv(()=>{this.childrenLoaders.delete(f)})),w=new kx(_,()=>new ji).pipe(Bh());return this.childrenLoaders.set(f,w),w}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function cO(a){return function u5(a){return a&&"object"==typeof a&&"default"in a}(a)?a.default:a}let p_=(()=>{class a{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ji,this.transitionAbortSubject=new ji,this.configLoader=ge(d_),this.environmentInjector=ge(di),this.urlSerializer=ge(bc),this.rootContexts=ge(Yv),this.inputBindingEnabled=null!==ge(s_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=v=>this.events.next(new AG(v)),this.configLoader.onLoadStartListener=v=>this.events.next(new MG(v))}complete(){this.transitions?.complete()}handleNavigationRequest(s){const f=++this.navigationId;this.transitions?.next({...this.transitions.value,...s,id:f})}setupNavigations(s,f,v){return this.transitions=new ti({id:0,currentUrlTree:f,currentRawUrl:f,currentBrowserUrl:f,extractedUrl:s.urlHandlingStrategy.extract(f),urlAfterRedirects:s.urlHandlingStrategy.extract(f),rawUrl:f,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Wv,restoredState:null,currentSnapshot:v.snapshot,targetSnapshot:null,currentRouterState:v,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Hi(_=>0!==_.id),Tt(_=>({..._,extractedUrl:s.urlHandlingStrategy.extract(_.rawUrl)})),xa(_=>{this.currentTransition=_;let w=!1,x=!1;return ye(_).pipe(mr(A=>{this.currentNavigation={id:A.id,initialUrl:A.rawUrl,extractedUrl:A.extractedUrl,trigger:A.source,extras:A.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),xa(A=>{const P=A.currentBrowserUrl.toString(),N=!s.navigated||A.extractedUrl.toString()!==P||P!==A.currentUrlTree.toString();if(!N&&"reload"!==(A.extras.onSameUrlNavigation??s.onSameUrlNavigation)){const U="";return this.events.next(new $h(A.id,this.urlSerializer.serialize(A.rawUrl),U,0)),A.resolve(null),Ln}if(s.urlHandlingStrategy.shouldProcessUrl(A.rawUrl))return ye(A).pipe(xa(U=>{const $=this.transitions?.getValue();return this.events.next(new n_(U.id,this.urlSerializer.serialize(U.extractedUrl),U.source,U.restoredState)),$!==this.transitions?.getValue()?Ln:Promise.resolve(U)}),function n5(a,l,s,f,v,_){return bt(w=>function e5(a,l,s,f,v,_,w="emptyOnly"){return new f_(a,l,s,f,v,w,_).recognize()}(a,l,s,f,w.extractedUrl,v,_).pipe(Tt(({state:x,tree:A})=>({...w,targetSnapshot:x,urlAfterRedirects:A}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,s.config,this.urlSerializer,s.paramsInheritanceStrategy),mr(U=>{_.targetSnapshot=U.targetSnapshot,_.urlAfterRedirects=U.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:U.urlAfterRedirects};const $=new PN(U.id,this.urlSerializer.serialize(U.extractedUrl),this.urlSerializer.serialize(U.urlAfterRedirects),U.targetSnapshot);this.events.next($)}));if(N&&s.urlHandlingStrategy.shouldProcessUrl(A.currentRawUrl)){const{id:U,extractedUrl:$,source:Z,restoredState:Q,extras:ie}=A,ce=new n_(U,this.urlSerializer.serialize($),Z,Q);this.events.next(ce);const ne=n1(0,this.rootComponentType).snapshot;return this.currentTransition=_={...A,targetSnapshot:ne,urlAfterRedirects:$,extras:{...ie,skipLocationChange:!1,replaceUrl:!1}},ye(_)}{const U="";return this.events.next(new $h(A.id,this.urlSerializer.serialize(A.extractedUrl),U,1)),A.resolve(null),Ln}}),mr(A=>{const P=new CG(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(P)}),Tt(A=>(this.currentTransition=_={...A,guards:ZN(A.targetSnapshot,A.currentSnapshot,this.rootContexts)},_)),function u1(a,l){return bt(s=>{const{targetSnapshot:f,currentSnapshot:v,guards:{canActivateChecks:_,canDeactivateChecks:w}}=s;return 0===w.length&&0===_.length?ye({...s,guardsResult:!0}):function c1(a,l,s,f){return ht(a).pipe(bt(v=>function eO(a,l,s,f,v){const _=l&&l.routeConfig?l.routeConfig.canDeactivate:null;return _&&0!==_.length?ye(_.map(x=>{const A=Kv(l)??v,P=Sa(x,A);return Za(function KN(a){return a&&Jv(a.canDeactivate)}(P)?P.canDeactivate(a,l,s,f):A.runInContext(()=>P(a,l,s,f))).pipe(_c())})).pipe(Ec()):ye(!0)}(v.component,v.route,s,l,f)),_c(v=>!0!==v,!0))}(w,f,v,a).pipe(bt(x=>x&&function $G(a){return"boolean"==typeof a}(x)?function f1(a,l,s,f){return ht(l).pipe(mc(v=>kv(function h1(a,l){return null!==a&&l&&l(new IG(a)),ye(!0)}(v.route.parent,f),function JN(a,l){return null!==a&&l&&l(new PG(a)),ye(!0)}(v.route,f),function XG(a,l,s){const f=l[l.length-1],_=l.slice(0,l.length-1).reverse().map(w=>function qN(a){const l=a.routeConfig?a.routeConfig.canActivateChild:null;return l&&0!==l.length?{node:a,guards:l}:null}(w)).filter(w=>null!==w).map(w=>fN(()=>ye(w.guards.map(A=>{const P=Kv(w.node)??s,N=Sa(A,P);return Za(function ZG(a){return a&&Jv(a.canActivateChild)}(N)?N.canActivateChild(f,a):P.runInContext(()=>N(f,a))).pipe(_c())})).pipe(Ec())));return ye(_).pipe(Ec())}(a,v.path,s),function Pc(a,l,s){const f=l.routeConfig?l.routeConfig.canActivate:null;if(!f||0===f.length)return ye(!0);const v=f.map(_=>fN(()=>{const w=Kv(l)??s,x=Sa(_,w);return Za(function YG(a){return a&&Jv(a.canActivate)}(x)?x.canActivate(l,a):w.runInContext(()=>x(l,a))).pipe(_c())}));return ye(v).pipe(Ec())}(a,v.route,s))),_c(v=>!0!==v,!0))}(f,_,a,l):ye(x)),Tt(x=>({...s,guardsResult:x})))})}(this.environmentInjector,A=>this.events.next(A)),mr(A=>{if(_.guardsResult=A.guardsResult,Cc(A.guardsResult))throw BN(0,A.guardsResult);const P=new xG(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot,!!A.guardsResult);this.events.next(P)}),Hi(A=>!!A.guardsResult||(this.cancelNavigationTransition(A,"",3),!1)),b1(A=>{if(A.guards.canActivateChecks.length)return ye(A).pipe(mr(P=>{const N=new i_(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(N)}),xa(P=>{let N=!1;return ye(P).pipe(function r5(a,l){return bt(s=>{const{targetSnapshot:f,guards:{canActivateChecks:v}}=s;if(!v.length)return ye(s);let _=0;return ht(v).pipe(mc(w=>function i5(a,l,s,f){const v=a.routeConfig,_=a._resolve;return void 0!==v?.title&&!uO(v)&&(_[zh]=v.title),function a5(a,l,s,f){const v=function o5(a){return[...Object.keys(a),...Object.getOwnPropertySymbols(a)]}(a);if(0===v.length)return ye({});const _={};return ht(v).pipe(bt(w=>function s5(a,l,s,f){const v=Kv(l)??f,_=Sa(a,v);return Za(_.resolve?_.resolve(l,s):v.runInContext(()=>_(l,s)))}(a[w],l,s,f).pipe(_c(),mr(x=>{_[w]=x}))),Fx(1),function pN(a){return Tt(()=>a)}(_),Sc(w=>l1(w)?Ln:Os(w)))}(_,a,l,f).pipe(Tt(w=>(a._resolvedData=w,a.data=a_(a,s).resolve,v&&uO(v)&&(a.data[zh]=v.title),null)))}(w.route,f,a,l)),mr(()=>_++),Fx(1),bt(w=>_===v.length?ye(s):Ln))})}(s.paramsInheritanceStrategy,this.environmentInjector),mr({next:()=>N=!0,complete:()=>{N||this.cancelNavigationTransition(P,"",2)}}))}),mr(P=>{const N=new TG(P.id,this.urlSerializer.serialize(P.extractedUrl),this.urlSerializer.serialize(P.urlAfterRedirects),P.targetSnapshot);this.events.next(N)}))}),b1(A=>{const P=N=>{const z=[];N.routeConfig?.loadComponent&&!N.routeConfig._loadedComponent&&z.push(this.configLoader.loadComponent(N.routeConfig).pipe(mr(U=>{N.component=U}),Tt(()=>{})));for(const U of N.children)z.push(...P(U));return z};return Ox(P(A.targetSnapshot.root)).pipe(Z0(),$l(1))}),b1(()=>this.afterPreactivation()),Tt(A=>{const P=function kG(a,l,s){const f=Zv(a,l._root,s?s._root:void 0);return new NN(f,l)}(s.routeReuseStrategy,A.targetSnapshot,A.currentRouterState);return this.currentTransition=_={...A,targetRouterState:P},_}),mr(()=>{this.events.next(new Qx)}),((a,l,s,f)=>Tt(v=>(new jG(l,v.targetRouterState,v.currentRouterState,s,f).activate(a),v)))(this.rootContexts,s.routeReuseStrategy,A=>this.events.next(A),this.inputBindingEnabled),$l(1),mr({next:A=>{w=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Yl(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects))),s.titleStrategy?.updateTitle(A.targetRouterState.snapshot),A.resolve(!0)},complete:()=>{w=!0}}),function vG(a){return qt((l,s)=>{Qn(a).subscribe(vn(s,()=>s.complete(),ud)),!s.closed&&l.subscribe(s)})}(this.transitionAbortSubject.pipe(mr(A=>{throw A}))),Pv(()=>{w||x||this.cancelNavigationTransition(_,"",1),this.currentNavigation?.id===_.id&&(this.currentNavigation=null)}),Sc(A=>{if(x=!0,HN(A))this.events.next(new $v(_.id,this.urlSerializer.serialize(_.extractedUrl),A.message,A.cancellationCode)),function BG(a){return HN(a)&&Cc(a.url)}(A)?this.events.next(new Jx(A.url)):_.resolve(!1);else{this.events.next(new r_(_.id,this.urlSerializer.serialize(_.extractedUrl),A,_.targetSnapshot??void 0));try{_.resolve(s.errorHandler(A))}catch(P){_.reject(P)}}return Ln}))}))}cancelNavigationTransition(s,f,v){const _=new $v(s.id,this.urlSerializer.serialize(s.extractedUrl),f,v);this.events.next(_),s.resolve(!1)}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function D1(a){return a!==Wv}let fO=(()=>{class a{buildTitle(s){let f,v=s.root;for(;void 0!==v;)f=this.getResolvedTitleForRoute(v)??f,v=v.children.find(_=>_.outlet===lt);return f}getResolvedTitleForRoute(s){return s.data[zh]}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:function(){return ge(c5)},providedIn:"root"})}return a})(),c5=(()=>{class a extends fO{constructor(s){super(),this.title=s}updateTitle(s){const f=this.buildTitle(s);void 0!==f&&this.title.setTitle(f)}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(NR))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),f5=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:function(){return ge(d5)},providedIn:"root"})}return a})();class h5{shouldDetach(l){return!1}store(l,s){}shouldAttach(l){return!1}retrieve(l){return null}shouldReuseRoute(l,s){return l.routeConfig===s.routeConfig}}let d5=(()=>{class a extends h5{static#e=this.\u0275fac=function(){let s;return function(v){return(s||(s=sr(a)))(v||a)}}();static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const v_=new we("",{providedIn:"root",factory:()=>({})});let p5=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:function(){return ge(v5)},providedIn:"root"})}return a})(),v5=(()=>{class a{shouldProcessUrl(s){return!0}extract(s){return s}merge(s,f){return s}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var rg=function(a){return a[a.COMPLETE=0]="COMPLETE",a[a.FAILED=1]="FAILED",a[a.REDIRECTING=2]="REDIRECTING",a}(rg||{});function C1(a,l){a.events.pipe(Hi(s=>s instanceof Yl||s instanceof $v||s instanceof r_||s instanceof $h),Tt(s=>s instanceof Yl||s instanceof $h?rg.COMPLETE:s instanceof $v&&(0===s.code||1===s.code)?rg.REDIRECTING:rg.FAILED),Hi(s=>s!==rg.REDIRECTING),$l(1)).subscribe(()=>{l()})}function g5(a){throw a}function m5(a,l,s){return l.parse("/")}const y5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ba=(()=>{class a{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ge(oC),this.isNgZoneEnabled=!1,this._events=new ji,this.options=ge(v_,{optional:!0})||{},this.pendingTasks=ge(e0),this.errorHandler=this.options.errorHandler||g5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||m5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ge(p5),this.routeReuseStrategy=ge(f5),this.titleStrategy=ge(fO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=ge(qh,{optional:!0})?.flat()??[],this.navigationTransitions=ge(p_),this.urlSerializer=ge(bc),this.location=ge(LC),this.componentInputBindingEnabled=!!ge(s_,{optional:!0}),this.eventsSubscription=new Xn,this.isNgZoneEnabled=ge(Zt)instanceof Zt&&Zt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new wc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=n1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(s=>{this.lastSuccessfulId=s.id,this.currentPageId=this.browserPageId},s=>{this.console.warn(`Unhandled Navigation Error: ${s}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const s=this.navigationTransitions.events.subscribe(f=>{try{const{currentTransition:v}=this.navigationTransitions;if(null===v)return void(g_(f)&&this._events.next(f));if(f instanceof n_)D1(v.source)&&(this.browserUrlTree=v.extractedUrl);else if(f instanceof $h)this.rawUrlTree=v.rawUrl;else if(f instanceof PN){if("eager"===this.urlUpdateStrategy){if(!v.extras.skipLocationChange){const _=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl);this.setBrowserUrl(_,v)}this.browserUrlTree=v.urlAfterRedirects}}else if(f instanceof Qx)this.currentUrlTree=v.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(v.urlAfterRedirects,v.rawUrl),this.routerState=v.targetRouterState,"deferred"===this.urlUpdateStrategy&&(v.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,v),this.browserUrlTree=v.urlAfterRedirects);else if(f instanceof $v)0!==f.code&&1!==f.code&&(this.navigated=!0),(3===f.code||2===f.code)&&this.restoreHistory(v);else if(f instanceof Jx){const _=this.urlHandlingStrategy.merge(f.url,v.currentRawUrl),w={skipLocationChange:v.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||D1(v.source)};this.scheduleNavigation(_,Wv,null,w,{resolve:v.resolve,reject:v.reject,promise:v.promise})}f instanceof r_&&this.restoreHistory(v,!0),f instanceof Yl&&(this.navigated=!0),g_(f)&&this._events.next(f)}catch(v){this.navigationTransitions.transitionAbortSubject.next(v)}});this.eventsSubscription.add(s)}resetRootComponentType(s){this.routerState.root.component=s,this.navigationTransitions.rootComponentType=s}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const s=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Wv,s)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(s=>{const f="popstate"===s.type?"popstate":"hashchange";"popstate"===f&&setTimeout(()=>{this.navigateToSyncWithBrowser(s.url,f,s.state)},0)}))}navigateToSyncWithBrowser(s,f,v){const _={replaceUrl:!0},w=v?.navigationId?v:null;if(v){const A={...v};delete A.navigationId,delete A.\u0275routerPageId,0!==Object.keys(A).length&&(_.state=A)}const x=this.parseUrl(s);this.scheduleNavigation(x,f,w,_)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(s){this.config=s.map(s1),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(s,f={}){const{relativeTo:v,queryParams:_,fragment:w,queryParamsHandling:x,preserveFragment:A}=f,P=A?this.currentUrlTree.fragment:w;let z,N=null;switch(x){case"merge":N={...this.currentUrlTree.queryParams,..._};break;case"preserve":N=this.currentUrlTree.queryParams;break;default:N=_||null}null!==N&&(N=this.removeEmptyProps(N));try{z=$x(v?v.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof s[0]||!s[0].startsWith("/"))&&(s=[]),z=this.currentUrlTree.root}return e_(z,s,N,P??null)}navigateByUrl(s,f={skipLocationChange:!1}){const v=Cc(s)?s:this.parseUrl(s),_=this.urlHandlingStrategy.merge(v,this.rawUrlTree);return this.scheduleNavigation(_,Wv,null,f)}navigate(s,f={skipLocationChange:!1}){return function S5(a){for(let l=0;l<a.length;l++)if(null==a[l])throw new ue(4008,!1)}(s),this.navigateByUrl(this.createUrlTree(s,f),f)}serializeUrl(s){return this.urlSerializer.serialize(s)}parseUrl(s){let f;try{f=this.urlSerializer.parse(s)}catch(v){f=this.malformedUriErrorHandler(v,this.urlSerializer,s)}return f}isActive(s,f){let v;if(v=!0===f?{...y5}:!1===f?{..._5}:f,Cc(s))return Vx(this.currentUrlTree,s,v);const _=this.parseUrl(s);return Vx(this.currentUrlTree,_,v)}removeEmptyProps(s){return Object.keys(s).reduce((f,v)=>{const _=s[v];return null!=_&&(f[v]=_),f},{})}scheduleNavigation(s,f,v,_,w){if(this.disposed)return Promise.resolve(!1);let x,A,P;w?(x=w.resolve,A=w.reject,P=w.promise):P=new Promise((z,U)=>{x=z,A=U});const N=this.pendingTasks.add();return C1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(N))}),this.navigationTransitions.handleNavigationRequest({source:f,restoredState:v,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:s,extras:_,resolve:x,reject:A,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(z=>Promise.reject(z))}setBrowserUrl(s,f){const v=this.urlSerializer.serialize(s);if(this.location.isCurrentPathEqualTo(v)||f.extras.replaceUrl){const w={...f.extras.state,...this.generateNgRouterState(f.id,this.browserPageId)};this.location.replaceState(v,"",w)}else{const _={...f.extras.state,...this.generateNgRouterState(f.id,this.browserPageId+1)};this.location.go(v,"",_)}}restoreHistory(s,f=!1){if("computed"===this.canceledNavigationResolution){const _=this.currentPageId-this.browserPageId;0!==_?this.location.historyGo(_):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===_&&(this.resetState(s),this.browserUrlTree=s.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(f&&this.resetState(s),this.resetUrlToCurrentUrlTree())}resetState(s){this.routerState=s.currentRouterState,this.currentUrlTree=s.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,s.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(s,f){return"computed"===this.canceledNavigationResolution?{navigationId:s,\u0275routerPageId:f}:{navigationId:s}}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();function g_(a){return!(a instanceof Qx||a instanceof Jx)}class hO{}let m_=(()=>{class a{constructor(s,f,v,_,w){this.router=s,this.injector=v,this.preloadingStrategy=_,this.loader=w}setUpPreloading(){this.subscription=this.router.events.pipe(Hi(s=>s instanceof Yl),mc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(s,f){const v=[];for(const _ of f){_.providers&&!_._injector&&(_._injector=Ny(_.providers,s,`Route: ${_.path}`));const w=_._injector??s,x=_._loadedInjector??w;(_.loadChildren&&!_._loadedRoutes&&void 0===_.canLoad||_.loadComponent&&!_._loadedComponent)&&v.push(this.preloadConfig(w,_)),(_.children||_._loadedRoutes)&&v.push(this.processRoutes(x,_.children??_._loadedRoutes))}return ht(v).pipe(ke())}preloadConfig(s,f){return this.preloadingStrategy.preload(f,()=>{let v;v=f.loadChildren&&void 0===f.canLoad?this.loader.loadChildren(s,f):ye(null);const _=v.pipe(bt(w=>null===w?ye(void 0):(f._loadedRoutes=w.routes,f._loadedInjector=w.injector,this.processRoutes(w.injector??s,w.routes))));return f.loadComponent&&!f._loadedComponent?ht([_,this.loader.loadComponent(f)]).pipe(ke()):_})}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(ba),Ae(BP),Ae(di),Ae(hO),Ae(d_))};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();const Po=new we("");let dO=(()=>{class a{constructor(s,f,v,_,w={}){this.urlSerializer=s,this.transitions=f,this.viewportScroller=v,this.zone=_,this.options=w,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},w.scrollPositionRestoration=w.scrollPositionRestoration||"disabled",w.anchorScrolling=w.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(s=>{s instanceof n_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=s.navigationTrigger,this.restoredId=s.restoredState?s.restoredState.navigationId:0):s instanceof Yl?(this.lastId=s.id,this.scheduleScrollEvent(s,this.urlSerializer.parse(s.urlAfterRedirects).fragment)):s instanceof $h&&0===s.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(s,this.urlSerializer.parse(s.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(s=>{s instanceof LN&&(s.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(s.position):s.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(s.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(s,f){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new LN(s,"popstate"===this.lastSource?this.store[this.restoredId]:null,f))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(f){!function hI(){throw new Error("invalid")}()};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac})}return a})();function Vs(a,l){return{\u0275kind:a,\u0275providers:l}}function gO(){const a=ge(Ur);return l=>{const s=a.get(Sh);if(l!==s.components[0])return;const f=a.get(ba),v=a.get(mO);1===a.get(y_)&&f.initialNavigation(),a.get(Xh,null,mt.Optional)?.setUpPreloading(),a.get(Po,null,mt.Optional)?.init(),f.resetRootComponentType(s.componentTypes[0]),v.closed||(v.next(),v.complete(),v.unsubscribe())}}const mO=new we("",{factory:()=>new ji}),y_=new we("",{providedIn:"root",factory:()=>1}),Xh=new we("");function x5(a){return Vs(0,[{provide:Xh,useExisting:m_},{provide:hO,useExisting:a}])}const _O=new we("ROUTER_FORROOT_GUARD"),M5=[LC,{provide:bc,useClass:Bv},ba,Yv,{provide:Ac,useFactory:function pO(a){return a.routerState.root},deps:[ba]},d_,[]];function A5(){return new a0("Router",ba)}let T1=(()=>{class a{constructor(s){}static forRoot(s,f){return{ngModule:a,providers:[M5,[],{provide:qh,multi:!0,useValue:s},{provide:_O,useFactory:A1,deps:[[ba,new Su,new kd]]},{provide:v_,useValue:f||{}},f?.useHash?{provide:Wa,useClass:xL}:{provide:Wa,useClass:PC},{provide:Po,useFactory:()=>{const a=ge(cR),l=ge(Zt),s=ge(v_),f=ge(p_),v=ge(bc);return s.scrollOffset&&a.setOffset(s.scrollOffset),new dO(v,f,a,l,s)}},f?.preloadingStrategy?x5(f.preloadingStrategy).\u0275providers:[],{provide:a0,multi:!0,useFactory:A5},f?.initialNavigation?E5(f):[],f?.bindToComponentInputs?Vs(8,[VN,{provide:s_,useExisting:VN}]).\u0275providers:[],[{provide:wO,useFactory:gO},{provide:r0,multi:!0,useExisting:wO}]]}}static forChild(s){return{ngModule:a,providers:[{provide:qh,multi:!0,useValue:s}]}}static#e=this.\u0275fac=function(f){return new(f||a)(Ae(_O,8))};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({})}return a})();function A1(a){return"guarded"}function E5(a){return["disabled"===a.initialNavigation?Vs(3,[{provide:Qy,multi:!0,useFactory:()=>{const l=ge(ba);return()=>{l.setUpLocationChangeListener()}}},{provide:y_,useValue:2}]).\u0275providers:[],"enabledBlocking"===a.initialNavigation?Vs(2,[{provide:y_,useValue:0},{provide:Qy,multi:!0,deps:[Ur],useFactory:l=>{const s=l.get(az,Promise.resolve());return()=>s.then(()=>new Promise(f=>{const v=l.get(ba),_=l.get(mO);C1(v,()=>{f(!0)}),l.get(p_).afterPreactivation=()=>(f(!0),_.closed?ye(void 0):_),v.initialNavigation()}))}}]).\u0275providers:[]]}const wO=new we(""),R5=[];let N5=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({imports:[T1.forRoot(R5),T1]})}return a})(),O5=(()=>{class a{constructor(){this.title="weather-in-the-garden"}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275cmp=Go({type:a,selectors:[["app-root"]],decls:1,vars:0,template:function(f,v){1&f&&Ni(0,"router-outlet")},dependencies:[o1]})}return a})(),DO=(()=>{class a{constructor(s,f){this._renderer=s,this._elementRef=f,this.onChange=v=>{},this.onTouched=()=>{}}setProperty(s,f){this._renderer.setProperty(this._elementRef.nativeElement,s,f)}registerOnTouched(s){this.onTouched=s}registerOnChange(s){this.onChange=s}setDisabledState(s){this.setProperty("disabled",s)}static#e=this.\u0275fac=function(f){return new(f||a)(se(cr),se(Ht))};static#t=this.\u0275dir=Ye({type:a})}return a})(),Nc=(()=>{class a extends DO{static#e=this.\u0275fac=function(){let s;return function(v){return(s||(s=sr(a)))(v||a)}}();static#t=this.\u0275dir=Ye({type:a,features:[Gt]})}return a})();const Lo=new we("NgValueAccessor"),V5={provide:Lo,useExisting:Xt(()=>ig),multi:!0},z5=new we("CompositionEventMode");let ig=(()=>{class a extends DO{constructor(s,f,v){super(s,f),this._compositionMode=v,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function B5(){const a=As()?As().getUserAgent():"";return/android (\d+)/.test(a.toLowerCase())}())}writeValue(s){this.setProperty("value",s??"")}_handleInput(s){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(s)}_compositionStart(){this._composing=!0}_compositionEnd(s){this._composing=!1,this._compositionMode&&this.onChange(s)}static#e=this.\u0275fac=function(f){return new(f||a)(se(cr),se(Ht),se(z5,8))};static#t=this.\u0275dir=Ye({type:a,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(f,v){1&f&&Oi("input",function(w){return v._handleInput(w.target.value)})("blur",function(){return v.onTouched()})("compositionstart",function(){return v._compositionStart()})("compositionend",function(w){return v._compositionEnd(w.target.value)})},features:[an([V5]),Gt]})}return a})();const Rr=new we("NgValidators"),ql=new we("NgAsyncValidators");function PO(a){return null!=a}function LO(a){return Pl(a)?ht(a):a}function RO(a){let l={};return a.forEach(s=>{l=null!=s?{...l,...s}:l}),0===Object.keys(l).length?null:l}function R1(a,l){return l.map(s=>s(a))}function NO(a){return a.map(l=>function G5(a){return!a.validate}(l)?l:s=>l.validate(s))}function N1(a){return null!=a?function OO(a){if(!a)return null;const l=a.filter(PO);return 0==l.length?null:function(s){return RO(R1(s,l))}}(NO(a)):null}function k1(a){return null!=a?function O1(a){if(!a)return null;const l=a.filter(PO);return 0==l.length?null:function(s){return function k5(...a){const l=aS(a),{args:s,keys:f}=Ov(a),v=new pn(_=>{const{length:w}=s;if(!w)return void _.complete();const x=new Array(w);let A=w,P=w;for(let N=0;N<w;N++){let z=!1;Qn(s[N]).subscribe(vn(_,U=>{z||(z=!0,P--),x[N]=U},()=>A--,void 0,()=>{(!A||!z)&&(P||_.next(f?Nx(f,x):x),_.complete())}))}});return l?v.pipe(lN(l)):v}(R1(s,l).map(LO)).pipe(Tt(RO))}}(NO(a)):null}function kO(a,l){return null===a?[l]:Array.isArray(a)?[...a,l]:[a,l]}function ag(a){return a._rawValidators}function FO(a){return a._rawAsyncValidators}function F1(a){return a?Array.isArray(a)?a:[a]:[]}function S_(a,l){return Array.isArray(a)?a.includes(l):a===l}function VO(a,l){const s=F1(l);return F1(a).forEach(v=>{S_(s,v)||s.push(v)}),s}function BO(a,l){return F1(l).filter(s=>!S_(a,s))}class zO{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(l){this._rawValidators=l||[],this._composedValidatorFn=N1(this._rawValidators)}_setAsyncValidators(l){this._rawAsyncValidators=l||[],this._composedAsyncValidatorFn=k1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(l){this._onDestroyCallbacks.push(l)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(l=>l()),this._onDestroyCallbacks=[]}reset(l=void 0){this.control&&this.control.reset(l)}hasError(l,s){return!!this.control&&this.control.hasError(l,s)}getError(l,s){return this.control?this.control.getError(l,s):null}}class Qr extends zO{get formDirective(){return null}get path(){return null}}class Xl extends zO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class V1{constructor(l){this._cd=l}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let HO=(()=>{class a extends V1{constructor(s){super(s)}static#e=this.\u0275fac=function(f){return new(f||a)(se(Xl,2))};static#t=this.\u0275dir=Ye({type:a,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(f,v){2&f&&by("ng-untouched",v.isUntouched)("ng-touched",v.isTouched)("ng-pristine",v.isPristine)("ng-dirty",v.isDirty)("ng-valid",v.isValid)("ng-invalid",v.isInvalid)("ng-pending",v.isPending)},features:[Gt]})}return a})(),GO=(()=>{class a extends V1{constructor(s){super(s)}static#e=this.\u0275fac=function(f){return new(f||a)(se(Qr,10))};static#t=this.\u0275dir=Ye({type:a,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(f,v){2&f&&by("ng-untouched",v.isUntouched)("ng-touched",v.isTouched)("ng-pristine",v.isPristine)("ng-dirty",v.isDirty)("ng-valid",v.isValid)("ng-invalid",v.isInvalid)("ng-pending",v.isPending)("ng-submitted",v.isSubmitted)},features:[Gt]})}return a})();const sg="VALID",b_="INVALID",Oc="PENDING",lg="DISABLED";function D_(a){return(cg(a)?a.validators:a)||null}function ug(a,l){return(cg(l)?l.asyncValidators:a)||null}function cg(a){return null!=a&&!Array.isArray(a)&&"object"==typeof a}function H1(a,l,s){const f=a.controls;if(!(l?Object.keys(f):f).length)throw new ue(1e3,"");if(!f[s])throw new ue(1001,"")}function YO(a,l,s){a._forEachChild((f,v)=>{if(void 0===s[v])throw new ue(1002,"")})}class C_{constructor(l,s){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(l),this._assignAsyncValidators(s)}get validator(){return this._composedValidatorFn}set validator(l){this._rawValidators=this._composedValidatorFn=l}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(l){this._rawAsyncValidators=this._composedAsyncValidatorFn=l}get parent(){return this._parent}get valid(){return this.status===sg}get invalid(){return this.status===b_}get pending(){return this.status==Oc}get disabled(){return this.status===lg}get enabled(){return this.status!==lg}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(l){this._assignValidators(l)}setAsyncValidators(l){this._assignAsyncValidators(l)}addValidators(l){this.setValidators(VO(l,this._rawValidators))}addAsyncValidators(l){this.setAsyncValidators(VO(l,this._rawAsyncValidators))}removeValidators(l){this.setValidators(BO(l,this._rawValidators))}removeAsyncValidators(l){this.setAsyncValidators(BO(l,this._rawAsyncValidators))}hasValidator(l){return S_(this._rawValidators,l)}hasAsyncValidator(l){return S_(this._rawAsyncValidators,l)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(l={}){this.touched=!0,this._parent&&!l.onlySelf&&this._parent.markAsTouched(l)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(l=>l.markAllAsTouched())}markAsUntouched(l={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(s=>{s.markAsUntouched({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}markAsDirty(l={}){this.pristine=!1,this._parent&&!l.onlySelf&&this._parent.markAsDirty(l)}markAsPristine(l={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(s=>{s.markAsPristine({onlySelf:!0})}),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}markAsPending(l={}){this.status=Oc,!1!==l.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!l.onlySelf&&this._parent.markAsPending(l)}disable(l={}){const s=this._parentMarkedDirty(l.onlySelf);this.status=lg,this.errors=null,this._forEachChild(f=>{f.disable({...l,onlySelf:!0})}),this._updateValue(),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...l,skipPristineCheck:s}),this._onDisabledChange.forEach(f=>f(!0))}enable(l={}){const s=this._parentMarkedDirty(l.onlySelf);this.status=sg,this._forEachChild(f=>{f.enable({...l,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent}),this._updateAncestors({...l,skipPristineCheck:s}),this._onDisabledChange.forEach(f=>f(!1))}_updateAncestors(l){this._parent&&!l.onlySelf&&(this._parent.updateValueAndValidity(l),l.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(l){this._parent=l}getRawValue(){return this.value}updateValueAndValidity(l={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===sg||this.status===Oc)&&this._runAsyncValidator(l.emitEvent)),!1!==l.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!l.onlySelf&&this._parent.updateValueAndValidity(l)}_updateTreeValidity(l={emitEvent:!0}){this._forEachChild(s=>s._updateTreeValidity(l)),this.updateValueAndValidity({onlySelf:!0,emitEvent:l.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lg:sg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(l){if(this.asyncValidator){this.status=Oc,this._hasOwnPendingAsyncValidator=!0;const s=LO(this.asyncValidator(this));this._asyncValidationSubscription=s.subscribe(f=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(f,{emitEvent:l})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(l,s={}){this.errors=l,this._updateControlsErrors(!1!==s.emitEvent)}get(l){let s=l;return null==s||(Array.isArray(s)||(s=s.split(".")),0===s.length)?null:s.reduce((f,v)=>f&&f._find(v),this)}getError(l,s){const f=s?this.get(s):this;return f&&f.errors?f.errors[l]:null}hasError(l,s){return!!this.getError(l,s)}get root(){let l=this;for(;l._parent;)l=l._parent;return l}_updateControlsErrors(l){this.status=this._calculateStatus(),l&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(l)}_initObservables(){this.valueChanges=new fn,this.statusChanges=new fn}_calculateStatus(){return this._allControlsDisabled()?lg:this.errors?b_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oc)?Oc:this._anyControlsHaveStatus(b_)?b_:sg}_anyControlsHaveStatus(l){return this._anyControls(s=>s.status===l)}_anyControlsDirty(){return this._anyControls(l=>l.dirty)}_anyControlsTouched(){return this._anyControls(l=>l.touched)}_updatePristine(l={}){this.pristine=!this._anyControlsDirty(),this._parent&&!l.onlySelf&&this._parent._updatePristine(l)}_updateTouched(l={}){this.touched=this._anyControlsTouched(),this._parent&&!l.onlySelf&&this._parent._updateTouched(l)}_registerOnCollectionChange(l){this._onCollectionChange=l}_setUpdateStrategy(l){cg(l)&&null!=l.updateOn&&(this._updateOn=l.updateOn)}_parentMarkedDirty(l){return!l&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(l){return null}_assignValidators(l){this._rawValidators=Array.isArray(l)?l.slice():l,this._composedValidatorFn=function $O(a){return Array.isArray(a)?N1(a):a||null}(this._rawValidators)}_assignAsyncValidators(l){this._rawAsyncValidators=Array.isArray(l)?l.slice():l,this._composedAsyncValidatorFn=function Kh(a){return Array.isArray(a)?k1(a):a||null}(this._rawAsyncValidators)}}class fg extends C_{constructor(l,s,f){super(D_(s),ug(f,s)),this.controls=l,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(l,s){return this.controls[l]?this.controls[l]:(this.controls[l]=s,s.setParent(this),s._registerOnCollectionChange(this._onCollectionChange),s)}addControl(l,s,f={}){this.registerControl(l,s),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}removeControl(l,s={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}setControl(l,s,f={}){this.controls[l]&&this.controls[l]._registerOnCollectionChange(()=>{}),delete this.controls[l],s&&this.registerControl(l,s),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}contains(l){return this.controls.hasOwnProperty(l)&&this.controls[l].enabled}setValue(l,s={}){YO(this,0,l),Object.keys(l).forEach(f=>{H1(this,!0,f),this.controls[f].setValue(l[f],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(l,s={}){null!=l&&(Object.keys(l).forEach(f=>{const v=this.controls[f];v&&v.patchValue(l[f],{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(l={},s={}){this._forEachChild((f,v)=>{f.reset(l?l[v]:null,{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this._reduceChildren({},(l,s,f)=>(l[f]=s.getRawValue(),l))}_syncPendingControls(){let l=this._reduceChildren(!1,(s,f)=>!!f._syncPendingControls()||s);return l&&this.updateValueAndValidity({onlySelf:!0}),l}_forEachChild(l){Object.keys(this.controls).forEach(s=>{const f=this.controls[s];f&&l(f,s)})}_setUpControls(){this._forEachChild(l=>{l.setParent(this),l._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(l){for(const[s,f]of Object.entries(this.controls))if(this.contains(s)&&l(f))return!0;return!1}_reduceValue(){return this._reduceChildren({},(s,f,v)=>((f.enabled||this.disabled)&&(s[v]=f.value),s))}_reduceChildren(l,s){let f=l;return this._forEachChild((v,_)=>{f=s(f,v,_)}),f}_allControlsDisabled(){for(const l of Object.keys(this.controls))if(this.controls[l].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(l){return this.controls.hasOwnProperty(l)?this.controls[l]:null}}class ZO extends fg{}const Kl=new we("CallSetDisabledState",{providedIn:"root",factory:()=>x_}),x_="always";function hg(a,l,s=x_){G1(a,l),l.valueAccessor.writeValue(a.value),(a.disabled||"always"===s)&&l.valueAccessor.setDisabledState?.(a.disabled),function X5(a,l){l.valueAccessor.registerOnChange(s=>{a._pendingValue=s,a._pendingChange=!0,a._pendingDirty=!0,"change"===a.updateOn&&I_(a,l)})}(a,l),function XO(a,l){const s=(f,v)=>{l.valueAccessor.writeValue(f),v&&l.viewToModelUpdate(f)};a.registerOnChange(s),l._registerOnDestroy(()=>{a._unregisterOnChange(s)})}(a,l),function qO(a,l){l.valueAccessor.registerOnTouched(()=>{a._pendingTouched=!0,"blur"===a.updateOn&&a._pendingChange&&I_(a,l),"submit"!==a.updateOn&&a.markAsTouched()})}(a,l),function q5(a,l){if(l.valueAccessor.setDisabledState){const s=f=>{l.valueAccessor.setDisabledState(f)};a.registerOnDisabledChange(s),l._registerOnDestroy(()=>{a._unregisterOnDisabledChange(s)})}}(a,l)}function dg(a,l,s=!0){const f=()=>{};l.valueAccessor&&(l.valueAccessor.registerOnChange(f),l.valueAccessor.registerOnTouched(f)),A_(a,l),a&&(l._invokeOnDestroyCallbacks(),a._registerOnCollectionChange(()=>{}))}function M_(a,l){a.forEach(s=>{s.registerOnValidatorChange&&s.registerOnValidatorChange(l)})}function G1(a,l){const s=ag(a);null!==l.validator?a.setValidators(kO(s,l.validator)):"function"==typeof s&&a.setValidators([s]);const f=FO(a);null!==l.asyncValidator?a.setAsyncValidators(kO(f,l.asyncValidator)):"function"==typeof f&&a.setAsyncValidators([f]);const v=()=>a.updateValueAndValidity();M_(l._rawValidators,v),M_(l._rawAsyncValidators,v)}function A_(a,l){let s=!1;if(null!==a){if(null!==l.validator){const v=ag(a);if(Array.isArray(v)&&v.length>0){const _=v.filter(w=>w!==l.validator);_.length!==v.length&&(s=!0,a.setValidators(_))}}if(null!==l.asyncValidator){const v=FO(a);if(Array.isArray(v)&&v.length>0){const _=v.filter(w=>w!==l.asyncValidator);_.length!==v.length&&(s=!0,a.setAsyncValidators(_))}}}const f=()=>{};return M_(l._rawValidators,f),M_(l._rawAsyncValidators,f),s}function I_(a,l){a._pendingDirty&&a.markAsDirty(),a.setValue(a._pendingValue,{emitModelToViewChange:!1}),l.viewToModelUpdate(a._pendingValue),a._pendingChange=!1}function JO(a,l){const s=a.indexOf(l);s>-1&&a.splice(s,1)}function e2(a){return"object"==typeof a&&null!==a&&2===Object.keys(a).length&&"value"in a&&"disabled"in a}const vg=class extends C_{constructor(l=null,s,f){super(D_(s),ug(f,s)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(l),this._setUpdateStrategy(s),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cg(s)&&(s.nonNullable||s.initialValueIsDefault)&&(this.defaultValue=e2(l)?l.value:l)}setValue(l,s={}){this.value=this._pendingValue=l,this._onChange.length&&!1!==s.emitModelToViewChange&&this._onChange.forEach(f=>f(this.value,!1!==s.emitViewToModelChange)),this.updateValueAndValidity(s)}patchValue(l,s={}){this.setValue(l,s)}reset(l=this.defaultValue,s={}){this._applyFormState(l),this.markAsPristine(s),this.markAsUntouched(s),this.setValue(this.value,s),this._pendingChange=!1}_updateValue(){}_anyControls(l){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(l){this._onChange.push(l)}_unregisterOnChange(l){JO(this._onChange,l)}registerOnDisabledChange(l){this._onDisabledChange.push(l)}_unregisterOnDisabledChange(l){JO(this._onDisabledChange,l)}_forEachChild(l){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(l){e2(l)?(this.value=this._pendingValue=l.value,l.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=l}};let Z1=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275dir=Ye({type:a,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return a})(),s3=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({})}return a})();const Jh=new we("NgModelWithFormControlWarning"),kc={provide:Qr,useExisting:Xt(()=>L_)};let L_=(()=>{class a extends Qr{constructor(s,f,v){super(),this.callSetDisabledState=v,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new fn,this._setValidators(s),this._setAsyncValidators(f)}ngOnChanges(s){this._checkFormPresent(),s.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(A_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(s){const f=this.form.get(s.path);return hg(f,s,this.callSetDisabledState),f.updateValueAndValidity({emitEvent:!1}),this.directives.push(s),f}getControl(s){return this.form.get(s.path)}removeControl(s){dg(s.control||null,s,!1),function t3(a,l){const s=a.indexOf(l);s>-1&&a.splice(s,1)}(this.directives,s)}addFormGroup(s){this._setUpFormContainer(s)}removeFormGroup(s){this._cleanUpFormContainer(s)}getFormGroup(s){return this.form.get(s.path)}addFormArray(s){this._setUpFormContainer(s)}removeFormArray(s){this._cleanUpFormContainer(s)}getFormArray(s){return this.form.get(s.path)}updateModel(s,f){this.form.get(s.path).setValue(f)}onSubmit(s){return this.submitted=!0,function j1(a,l){a._syncPendingControls(),l.forEach(s=>{const f=s.control;"submit"===f.updateOn&&f._pendingChange&&(s.viewToModelUpdate(f._pendingValue),f._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(s),"dialog"===s?.target?.method}onReset(){this.resetForm()}resetForm(s=void 0){this.form.reset(s),this.submitted=!1}_updateDomValue(){this.directives.forEach(s=>{const f=s.control,v=this.form.get(s.path);f!==v&&(dg(f||null,s),(a=>a instanceof vg)(v)&&(hg(v,s,this.callSetDisabledState),s.control=v))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(s){const f=this.form.get(s.path);(function KO(a,l){G1(a,l)})(f,s),f.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(s){if(this.form){const f=this.form.get(s.path);f&&function K5(a,l){return A_(a,l)}(f,s)&&f.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){G1(this.form,this),this._oldForm&&A_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(f){return new(f||a)(se(Rr,10),se(ql,10),se(Kl,8))};static#t=this.\u0275dir=Ye({type:a,selectors:[["","formGroup",""]],hostBindings:function(f,v){1&f&&Oi("submit",function(w){return v.onSubmit(w)})("reset",function(){return v.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[an([kc]),Gt,ai]})}return a})();const c3={provide:Xl,useExisting:Xt(()=>R_)};let R_=(()=>{class a extends Xl{set isDisabled(s){}static#e=this._ngModelWarningSentOnce=!1;constructor(s,f,v,_,w){super(),this._ngModelWarningConfig=w,this._added=!1,this.name=null,this.update=new fn,this._ngModelWarningSent=!1,this._parent=s,this._setValidators(f),this._setAsyncValidators(v),this.valueAccessor=function W1(a,l){if(!l)return null;let s,f,v;return Array.isArray(l),l.forEach(_=>{_.constructor===ig?s=_:function e3(a){return Object.getPrototypeOf(a.constructor)===Nc}(_)?f=_:v=_}),v||f||s||null}(0,_)}ngOnChanges(s){this._added||this._setUpControl(),function E_(a,l){if(!a.hasOwnProperty("model"))return!1;const s=a.model;return!!s.isFirstChange()||!Object.is(l,s.currentValue)}(s,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(s){this.viewModel=s,this.update.emit(s)}get path(){return function T_(a,l){return[...l.path,a]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(f){return new(f||a)(se(Qr,13),se(Rr,10),se(ql,10),se(Lo,10),se(Jh,8))};static#n=this.\u0275dir=Ye({type:a,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[an([c3]),Gt,ai]})}return a})(),rT=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({imports:[s3]})}return a})();class V_ extends C_{constructor(l,s,f){super(D_(s),ug(f,s)),this.controls=l,this._initObservables(),this._setUpdateStrategy(s),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(l){return this.controls[this._adjustIndex(l)]}push(l,s={}){this.controls.push(l),this._registerControl(l),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}insert(l,s,f={}){this.controls.splice(l,0,s),this._registerControl(s),this.updateValueAndValidity({emitEvent:f.emitEvent})}removeAt(l,s={}){let f=this._adjustIndex(l);f<0&&(f=0),this.controls[f]&&this.controls[f]._registerOnCollectionChange(()=>{}),this.controls.splice(f,1),this.updateValueAndValidity({emitEvent:s.emitEvent})}setControl(l,s,f={}){let v=this._adjustIndex(l);v<0&&(v=0),this.controls[v]&&this.controls[v]._registerOnCollectionChange(()=>{}),this.controls.splice(v,1),s&&(this.controls.splice(v,0,s),this._registerControl(s)),this.updateValueAndValidity({emitEvent:f.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(l,s={}){YO(this,0,l),l.forEach((f,v)=>{H1(this,!1,v),this.at(v).setValue(f,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s)}patchValue(l,s={}){null!=l&&(l.forEach((f,v)=>{this.at(v)&&this.at(v).patchValue(f,{onlySelf:!0,emitEvent:s.emitEvent})}),this.updateValueAndValidity(s))}reset(l=[],s={}){this._forEachChild((f,v)=>{f.reset(l[v],{onlySelf:!0,emitEvent:s.emitEvent})}),this._updatePristine(s),this._updateTouched(s),this.updateValueAndValidity(s)}getRawValue(){return this.controls.map(l=>l.getRawValue())}clear(l={}){this.controls.length<1||(this._forEachChild(s=>s._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:l.emitEvent}))}_adjustIndex(l){return l<0?l+this.length:l}_syncPendingControls(){let l=this.controls.reduce((s,f)=>!!f._syncPendingControls()||s,!1);return l&&this.updateValueAndValidity({onlySelf:!0}),l}_forEachChild(l){this.controls.forEach((s,f)=>{l(s,f)})}_updateValue(){this.value=this.controls.filter(l=>l.enabled||this.disabled).map(l=>l.value)}_anyControls(l){return this.controls.some(s=>s.enabled&&l(s))}_setUpControls(){this._forEachChild(l=>this._registerControl(l))}_allControlsDisabled(){for(const l of this.controls)if(l.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(l){l.setParent(this),l._registerOnCollectionChange(this._onCollectionChange)}_find(l){return this.at(l)??null}}function d2(a){return!!a&&(void 0!==a.asyncValidators||void 0!==a.validators||void 0!==a.updateOn)}let p2=(()=>{class a{constructor(){this.useNonNullable=!1}get nonNullable(){const s=new a;return s.useNonNullable=!0,s}group(s,f=null){const v=this._reduceControls(s);let _={};return d2(f)?_=f:null!==f&&(_.validators=f.validator,_.asyncValidators=f.asyncValidator),new fg(v,_)}record(s,f=null){const v=this._reduceControls(s);return new ZO(v,f)}control(s,f,v){let _={};return this.useNonNullable?(d2(f)?_=f:(_.validators=f,_.asyncValidators=v),new vg(s,{..._,nonNullable:!0})):new vg(s,f,v)}array(s,f,v){const _=s.map(w=>this._createControl(w));return new V_(_,f,v)}_reduceControls(s){const f={};return Object.keys(s).forEach(v=>{f[v]=this._createControl(s[v])}),f}_createControl(s){return s instanceof vg||s instanceof C_?s:Array.isArray(s)?this.control(s[0],s.length>1?s[1]:null,s.length>2?s[2]:null):this.control(s)}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275prov=Fe({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})(),_3=(()=>{class a{static withConfig(s){return{ngModule:a,providers:[{provide:Jh,useValue:s.warnOnNgModelWithFormControl??"always"},{provide:Kl,useValue:s.callSetDisabledState??x_}]}}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({imports:[rT]})}return a})();function aT(a,l,s,f,v,_,w){try{var x=a[_](w),A=x.value}catch(P){return void s(P)}x.done?l(A):Promise.resolve(A).then(f,v)}function B_(a){return function(){var l=this,s=arguments;return new Promise(function(f,v){var _=a.apply(l,s);function w(A){aT(_,f,v,w,x,"next",A)}function x(A){aT(_,f,v,w,x,"throw",A)}w(void 0)})}}const oT={now:()=>(oT.delegate||Date).now(),delegate:void 0};class sT extends ji{constructor(l=1/0,s=1/0,f=oT){super(),this._bufferSize=l,this._windowTime=s,this._timestampProvider=f,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=s===1/0,this._bufferSize=Math.max(1,l),this._windowTime=Math.max(1,s)}next(l){const{isStopped:s,_buffer:f,_infiniteTimeWindow:v,_timestampProvider:_,_windowTime:w}=this;s||(f.push(l),!v&&f.push(_.now()+w)),this._trimBuffer(),super.next(l)}_subscribe(l){this._throwIfClosed(),this._trimBuffer();const s=this._innerSubscribe(l),{_infiniteTimeWindow:f,_buffer:v}=this,_=v.slice();for(let w=0;w<_.length&&!l.closed;w+=f?1:2)l.next(_[w]);return this._checkFinalizedStatuses(l),s}_trimBuffer(){const{_bufferSize:l,_timestampProvider:s,_buffer:f,_infiniteTimeWindow:v}=this,_=(v?1:2)*l;if(l<1/0&&_<f.length&&f.splice(0,f.length-_),!v){const w=s.now();let x=0;for(let A=1;A<f.length&&f[A]<=w;A+=2)x=A;x&&f.splice(0,x+1)}}}class S3 extends Xn{constructor(l,s){super()}schedule(l,s=0){return this}}const z_={setInterval(a,l,...s){const{delegate:f}=z_;return f?.setInterval?f.setInterval(a,l,...s):setInterval(a,l,...s)},clearInterval(a){const{delegate:l}=z_;return(l?.clearInterval||clearInterval)(a)},delegate:void 0};class td{constructor(l,s=td.now){this.schedulerActionCtor=l,this.now=s}schedule(l,s=0,f){return new this.schedulerActionCtor(this,l).schedule(f,s)}}td.now=oT.now;const uT=new class lT extends td{constructor(l,s=td.now){super(l,s),this.actions=[],this._active=!1}flush(l){const{actions:s}=this;if(this._active)return void s.push(l);let f;this._active=!0;do{if(f=l.execute(l.state,l.delay))break}while(l=s.shift());if(this._active=!1,f){for(;l=s.shift();)l.unsubscribe();throw f}}}(class Fc extends S3{constructor(l,s){super(l,s),this.scheduler=l,this.work=s,this.pending=!1}schedule(l,s=0){var f;if(this.closed)return this;this.state=l;const v=this.id,_=this.scheduler;return null!=v&&(this.id=this.recycleAsyncId(_,v,s)),this.pending=!0,this.delay=s,this.id=null!==(f=this.id)&&void 0!==f?f:this.requestAsyncId(_,this.id,s),this}requestAsyncId(l,s,f=0){return z_.setInterval(l.flush.bind(l,this),f)}recycleAsyncId(l,s,f=0){if(null!=f&&this.delay===f&&!1===this.pending)return s;null!=s&&z_.clearInterval(s)}execute(l,s){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const f=this._execute(l,s);if(f)return f;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(l,s){let v,f=!1;try{this.work(l)}catch(_){f=!0,v=_||new Error("Scheduled action threw falsy error")}if(f)return this.unsubscribe(),v}unsubscribe(){if(!this.closed){const{id:l,scheduler:s}=this,{actions:f}=s;this.work=this.state=this.scheduler=null,this.pending=!1,Bc(f,this),null!=l&&(this.id=this.recycleAsyncId(s,l,null)),this.delay=null,super.unsubscribe()}}}),g2=uT;function _2(a,l=uT,s){const f=function cT(a=0,l,s=g2){let f=-1;return null!=l&&(Jn(l)?s=l:f=l),new pn(v=>{let _=function y2(a){return a instanceof Date&&!isNaN(a)}(a)?+a-s.now():a;_<0&&(_=0);let w=0;return s.schedule(function(){v.closed||(v.next(w++),0<=f?this.schedule(void 0,f):v.complete())},_)})}(a,l);return function m2(a,l){return qt((s,f)=>{const{leading:v=!0,trailing:_=!1}=l??{};let w=!1,x=null,A=null,P=!1;const N=()=>{A?.unsubscribe(),A=null,_&&($(),P&&f.complete())},z=()=>{A=null,P&&f.complete()},U=Z=>A=Qn(a(Z)).subscribe(vn(f,N,z)),$=()=>{if(w){w=!1;const Z=x;x=null,f.next(Z),!P&&U(Z)}};s.subscribe(vn(f,Z=>{w=!0,x=Z,(!A||A.closed)&&(v?$():U(Z))},()=>{P=!0,(!(_&&w&&A)||A.closed)&&f.complete()}))})}(()=>f,s)}class fT{constructor(){this.subject=new sT(1),this.subscriptions=new Xn}doFilter(l){this.subject.next(l)}dispose(){this.subscriptions.unsubscribe()}notEmpty(l,s){this.subscriptions.add(this.subject.subscribe(f=>{if(f[l]){const v=f[l].currentValue;null!=v&&s(v)}}))}has(l,s){this.subscriptions.add(this.subject.subscribe(f=>{f[l]&&s(f[l].currentValue)}))}notFirst(l,s){this.subscriptions.add(this.subject.subscribe(f=>{f[l]&&!f[l].isFirstChange()&&s(f[l].currentValue)}))}notFirstAndEmpty(l,s){this.subscriptions.add(this.subject.subscribe(f=>{if(f[l]&&!f[l].isFirstChange()){const v=f[l].currentValue;null!=v&&s(v)}}))}}const yg=new we("NGX_ECHARTS_CONFIG");let S2=(()=>{class a{constructor(s,f,v){this.el=f,this.ngZone=v,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new fn,this.optionsError=new fn,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new sT(1),this.resize$=new ji,this.changeFilter=new fT,this.echarts=s.echarts}ngOnChanges(s){this.changeFilter.doFilter(s)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(_2(100,uT,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(()=>{this.animationFrameID=window.requestAnimationFrame(()=>this.resize$.next())})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",s=>this.onOptionsChange(s)),this.changeFilter.notFirstAndEmpty("merge",s=>this.setOption(s)),this.changeFilter.has("loading",s=>this.toggleLoading(!!s)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(s){this.chart?s?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(f=>s?f.showLoading(this.loadingType,this.loadingOpts):f.hideLoading())}setOption(s,f){if(this.chart)try{this.chart.setOption(s,f)}catch(v){console.error(v),this.optionsError.emit(v)}}refreshChart(){var s=this;return B_(function*(){s.dispose(),yield s.initChart()})()}createChart(){const s=this.el.nativeElement;if(window&&window.getComputedStyle){const f=window.getComputedStyle(s,null).getPropertyValue("height");(!f||"0px"===f)&&(!s.style.height||"0px"===s.style.height)&&(s.style.height="400px")}return this.ngZone.runOutsideAngular(()=>("function"==typeof this.echarts?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:v})=>v(s,this.theme,this.initOpts)))}initChart(){var s=this;return B_(function*(){yield s.onOptionsChange(s.options),s.merge&&s.chart&&s.setOption(s.merge)})()}onOptionsChange(s){var f=this;return B_(function*(){s&&(f.chart||(f.chart=yield f.createChart(),f.chart$.next(f.chart),f.chartInit.emit(f.chart)),f.setOption(f.options,!0))})()}createLazyEvent(s){return this.chartInit.pipe(xa(f=>new pn(v=>(f.on(s,_=>this.ngZone.run(()=>v.next(_))),()=>{this.chart&&(this.chart.isDisposed()||f.off(s))}))))}static#e=this.\u0275fac=function(f){return new(f||a)(se(yg),se(Ht),se(Zt))};static#t=this.\u0275dir=Ye({type:a,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[ai]})}return a})();const w2=a=>({provide:yg,useValue:a});let hT=(()=>{class a{static forRoot(s){return{ngModule:a,providers:[w2(s)]}}static forChild(){return{ngModule:a}}static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a});static#n=this.\u0275inj=Ci({})}return a})();function b2(a,l){1&a&&(En(0,"h3"),ki(1,"My garden needs water this week."),Gn())}function dT(a,l){if(1&a&&(En(0,"p"),ki(1),Gn()),2&a){const s=Cp(2);Tr(1),Do(" Try and water about ",((1-s.totalPrecipitation)/2).toFixed(2),'" split into two waterings. ')}}function D2(a,l){1&a&&(En(0,"h3"),ki(1," My garden may need less water this week. "),Gn())}function C2(a,l){if(1&a&&(En(0,"p"),ki(1),Gn()),2&a){const s=Cp(2);Tr(1),Do(" Try and water about ",((1-s.totalPrecipitation)/2).toFixed(2),'" split into two waterings. ')}}function w3(a,l){1&a&&(En(0,"h3"),ki(1,"My garden does not need water."),Gn())}function x2(a,l){if(1&a&&(En(0,"div",11)(1,"h2"),ki(2,"Precipitation last 7 days:"),Gn(),En(3,"h1"),ki(4),Gn(),Al(5,b2,2,0,"h3",12),Al(6,dT,2,1,"p",12),Al(7,D2,2,0,"h3",12),Al(8,C2,2,1,"p",12),Al(9,w3,2,0,"h3",12),Gn()),2&a){const s=Cp();Tr(4),Do("",s.totalPrecipitation.toFixed(2),'"'),Tr(1),$r("ngIf",s.totalPrecipitation<.5),Tr(1),$r("ngIf",s.totalPrecipitation<.5),Tr(1),$r("ngIf",s.totalPrecipitation>=.5&&s.totalPrecipitation<1),Tr(1),$r("ngIf",s.totalPrecipitation>=.5&&s.totalPrecipitation<1),Tr(1),$r("ngIf",s.totalPrecipitation>1)}}function b3(a,l){if(1&a&&(En(0,"div",13)(1,"p",14),ki(2),Gn(),En(3,"div",15)(4,"div",16)(5,"h5",17),ki(6,"Rain Gauge"),Gn(),Ni(7,"div",18),Gn()()()),2&a){const s=Cp();Tr(2),Do(" Rain Data For: ",null==s.weatherData?null:s.weatherData.request.query," "),Tr(5),$r("options",s.weatherOptions)}}const C3=[{path:"",component:(()=>{class a{constructor(s,f){this.formBuilder=s,this.wsService=f,this.totalPrecipitation=0,this.weatherStats={},this.searchClicked=!1}ngOnInit(){this.weatherSearchForm=this.formBuilder.group({location:[""]})}sendToWS(s){this.searchClicked=!0,this.wsService.getHistorical(s.location).subscribe(f=>{this.weatherData=f;const v=Object.keys(this.weatherData.historical);this.totalPrecipitation=0;for(let _=0;_<v.length;_++){let w="day"+(-_-1),x=this.weatherData.historical[v[_]].hourly[0].precip,A=this.weatherData.historical[v[_]].mintemp,P=this.weatherData.historical[v[_]].maxtemp,N=new Date(v[_]);this.totalPrecipitation+=x,this.weatherStats[w]={precipitation:x,mintemp:A,maxtemp:P,date:N}}this.setOptions()})}setOptions(){const s=Object.values(this.weatherStats),f=["#BAD0D9","#8BB4C5","#5C94AB","#3F809A","#2A708D","#1E647F","#0D546F"];this.weatherOptions={title:{},tooltip:{},legend:{show:!0,bottom:0},xAxis:{data:["Precipitation"]},yAxis:{min:0,max:1},series:s.map((v,_)=>({name:`${7-_} Days ago: ${v.date.toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})}`,type:"bar",stack:"total",data:[v.precipitation],itemStyle:{color:f[_]},label:{show:0!==v.precipitation,position:"inside"}})).filter(v=>v.data[0]>0)}}static#e=this.\u0275fac=function(f){return new(f||a)(se(p2),se(Fh))};static#t=this.\u0275cmp=Go({type:a,selectors:[["app-weather"]],decls:18,vars:3,consts:[[1,"container"],[1,"row"],[1,"col-md-3"],["id","searchContainer",1,"col-md-3"],[1,"my-4"],[3,"formGroup","ngSubmit"],[1,"form-group"],["type","text","id","weatherLocation","aria-describedby","weatherLocation","placeholder","City,State -or- Zip Code","formControlName","location",1,"form-control"],["type","submit",1,"btn","btn-secondary","btn-md","my-4"],["id","rainInfo","class","col-md-3",4,"ngIf"],["class","col-md-6",4,"ngIf"],["id","rainInfo",1,"col-md-3"],[4,"ngIf"],[1,"col-md-6"],[1,"subtext"],[1,"card"],[1,"card-body"],[1,"card-title"],["echarts","",3,"options"]],template:function(f,v){1&f&&(En(0,"div",0)(1,"div",1),Ni(2,"div",2),En(3,"div",3)(4,"h1",4),ki(5,"Does My Garden Need Watering?"),Gn(),En(6,"form",5),Oi("ngSubmit",function(){return v.sendToWS(v.weatherSearchForm.value)}),En(7,"div",6),Ni(8,"input",7),Gn(),En(9,"div")(10,"button",8),ki(11," Should I Water My Garden? "),Gn()()()(),Al(12,x2,10,6,"div",9),Ni(13,"div",2),Gn(),En(14,"div",1),Ni(15,"div",2),Al(16,b3,8,2,"div",10),Ni(17,"div",2),Gn()()),2&f&&(Tr(6),$r("formGroup",v.weatherSearchForm),Tr(6),$r("ngIf",v.searchClicked),Tr(4),$r("ngIf",v.searchClicked))},dependencies:[QL,Z1,ig,HO,GO,L_,R_,S2],styles:["#searchContainer[_ngcontent-%COMP%]{margin-top:25px}#searchContainer[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2em;font-weight:300}#rainInfo[_ngcontent-%COMP%]{margin-top:50px;margin-right:25px;margin-left:25px}#rainInfo[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.5em;font-weight:300}#rainInfo[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:3em;font-weight:300}#rainInfo[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25em;font-weight:300}.subText[_ngcontent-%COMP%]{font-size:.25em;font-weight:300;margin-top:10px}.card-title[_ngcontent-%COMP%]{text-align:center}"]})}return a})()}];var x3=Vt(707);let T3=(()=>{class a{static#e=this.\u0275fac=function(f){return new(f||a)};static#t=this.\u0275mod=Qi({type:a,bootstrap:[O5]});static#n=this.\u0275inj=Ci({providers:[Fh],imports:[MH,N5,iG,T1.forRoot(C3),_3,hT.forRoot({echarts:x3})]})}return a})();LR().bootstrapModule(T3).catch(a=>console.error(a))},707:(CT,q_,Vt)=>{Vt.r(q_),Vt.d(q_,{Axis:()=>ga,ChartView:()=>Mt,ComponentModel:()=>at,ComponentView:()=>wt,List:()=>on,Model:()=>Rt,PRIORITY:()=>$E,SeriesModel:()=>Nt,color:()=>Bc,connect:()=>an,dataTool:()=>qV,dependencies:()=>OV,disConnect:()=>rP,disconnect:()=>Vl,dispose:()=>YV,env:()=>ct,extendChartView:()=>kB,extendComponentModel:()=>RB,extendComponentView:()=>NB,extendSeriesModel:()=>OB,format:()=>Dg,getCoordinateSystemDimensions:()=>oP,getInstanceByDom:()=>iP,getInstanceById:()=>ED,getMap:()=>Lj,graphic:()=>zc,helper:()=>wg,init:()=>$V,innerDrawElementOnCanvas:()=>pD,matrix:()=>ld,number:()=>bg,parseGeoJSON:()=>sC,parseGeoJson:()=>sC,registerAction:()=>Fi,registerCoordinateSystem:()=>LD,registerLayout:()=>RD,registerLoading:()=>OD,registerLocale:()=>Qw,registerMap:()=>kD,registerPostInit:()=>Ny,registerPostUpdate:()=>aP,registerPreprocessor:()=>PD,registerProcessor:()=>Ry,registerTheme:()=>qp,registerTransform:()=>FD,registerUpdateLifecycle:()=>Xp,registerVisual:()=>ws,setCanvasCreator:()=>ZV,setPlatformAPI:()=>Q2,throttle:()=>Ep,time:()=>ko,use:()=>$e,util:()=>ud,vector:()=>sd,version:()=>HE,zrUtil:()=>Bt,zrender:()=>Xn});var Bt={};Vt.r(Bt),Vt.d(Bt,{HashMap:()=>VT,RADIAN_TO_DEGREE:()=>dd,assert:()=>Jn,bind:()=>de,clone:()=>Te,concatArray:()=>hd,createCanvas:()=>tk,createHashMap:()=>ve,createObject:()=>$c,curry:()=>Re,defaults:()=>De,disableUserSelect:()=>sS,each:()=>F,eqNaN:()=>jc,extend:()=>J,filter:()=>yt,find:()=>nS,guid:()=>Ig,hasOwn:()=>pe,indexOf:()=>Ge,inherits:()=>tS,isArray:()=>te,isArrayLike:()=>Kn,isBuiltInObject:()=>rS,isDom:()=>ru,isFunction:()=>_e,isGradientObject:()=>fd,isImagePatternObject:()=>kT,isNumber:()=>ft,isObject:()=>xe,isPrimitive:()=>Wc,isRegExp:()=>to,isString:()=>fe,isStringSafe:()=>Qn,isTypedArray:()=>Jr,keys:()=>Xe,logError:()=>Eg,map:()=>re,merge:()=>Ve,mergeAll:()=>Pg,mixin:()=>un,noop:()=>ht,normalizeCssArray:()=>Lg,reduce:()=>Di,retrieve:()=>bt,retrieve2:()=>ke,retrieve3:()=>Ln,setAsPrimitive:()=>Fo,slice:()=>iS,trim:()=>ei});var sd={};Vt.r(sd),Vt.d(sd,{add:()=>Vo,applyTransform:()=>Wn,clone:()=>no,copy:()=>Nr,create:()=>Nn,dist:()=>Ws,distSquare:()=>au,distance:()=>pS,distanceSquare:()=>Fe,div:()=>HU,dot:()=>Wi,len:()=>Rg,lenSquare:()=>dS,length:()=>BU,lengthSquare:()=>zU,lerp:()=>$s,max:()=>Bo,min:()=>ro,mul:()=>ak,negate:()=>Ci,normalize:()=>Yc,scale:()=>Ue,scaleAndAdd:()=>hS,set:()=>ik,sub:()=>iu});var ld={};Vt.r(ld),Vt.d(ld,{clone:()=>Zc,copy:()=>kg,create:()=>xi,identity:()=>Zi,invert:()=>Ho,mul:()=>Ae,rotate:()=>ge,scale:()=>su,translate:()=>qi});var Bc={};Vt.r(Bc),Vt.d(Bc,{fastLerp:()=>wd,fastMapToColor:()=>dk,lerp:()=>lM,lift:()=>ii,lum:()=>Ug,mapToColor:()=>pk,modifyAlpha:()=>Gg,modifyHSL:()=>nf,parse:()=>rr,random:()=>YU,stringify:()=>so,toHex:()=>LS});var Xn={};Vt.r(Xn),Vt.d(Xn,{dispose:()=>xk,disposeAll:()=>PM,getInstance:()=>Tk,init:()=>Ea,registerPainter:()=>LM,version:()=>tw});var Gs={};Vt.r(Gs),Vt.d(Gs,{Arc:()=>En,BezierCurve:()=>$r,BoundingRect:()=>Be,Circle:()=>bo,CompoundPath:()=>Ni,Ellipse:()=>cy,Group:()=>Ee,Image:()=>Zn,IncrementalDisplayable:()=>Zb,Line:()=>Vn,LinearGradient:()=>eh,OrientedBoundingRect:()=>Pl,Path:()=>Ze,Point:()=>ze,Polygon:()=>dr,Polyline:()=>Wr,RadialGradient:()=>bp,Rect:()=>st,Ring:()=>Ml,Sector:()=>jr,Text:()=>rt,applyTransform:()=>da,clipPointsByRect:()=>Ap,clipRectByRect:()=>Ll,createIcon:()=>Rl,extendPath:()=>rE,extendShape:()=>qb,getShapeClass:()=>yy,getTransform:()=>vs,groupTransition:()=>Mp,initProps:()=>$t,isElementRemoved:()=>Lf,lineLineIntersect:()=>Sy,linePolygonIntersect:()=>Ip,makeImage:()=>xp,makePath:()=>th,mergePath:()=>vi,registerShape:()=>ha,removeElement:()=>pl,removeElementWithFadeOut:()=>Pi,resizePath:()=>_y,setTooltipConfig:()=>nh,subPixelOptimize:()=>Tp,subPixelOptimizeLine:()=>Xu,subPixelOptimizeRect:()=>iE,transformDirection:()=>Ku,traverseElements:()=>ms,updateProps:()=>dt});var wg={};Vt.r(wg),Vt.d(wg,{createDimensions:()=>iB,createList:()=>bB,createScale:()=>OP,createSymbol:()=>dn,createTextStyle:()=>Wj,dataStack:()=>Uj,enableHoverEmphasis:()=>ts,getECData:()=>Oe,getLayoutRect:()=>An,mixinAxisModelCommonMethods:()=>jj});var bg={};Vt.r(bg),Vt.d(bg,{MAX_SAFE_INTEGER:()=>ar,asc:()=>si,getPercentWithPrecision:()=>aw,getPixelPrecision:()=>im,getPrecision:()=>ea,getPrecisionSafe:()=>iw,isNumeric:()=>ow,isRadianAroundZero:()=>Yt,linearMap:()=>Ct,nice:()=>om,numericToNumber:()=>or,parseDate:()=>Ii,quantile:()=>Id,quantity:()=>NM,quantityExponent:()=>am,reformIntervals:()=>vf,remRadian:()=>Zo,round:()=>Kt});var ko={};Vt.r(ko),Vt.d(ko,{format:()=>Jd,parse:()=>Ii});var zc={};Vt.r(zc),Vt.d(zc,{Arc:()=>En,BezierCurve:()=>$r,BoundingRect:()=>Be,Circle:()=>bo,CompoundPath:()=>Ni,Ellipse:()=>cy,Group:()=>Ee,Image:()=>Zn,IncrementalDisplayable:()=>Zb,Line:()=>Vn,LinearGradient:()=>eh,Polygon:()=>dr,Polyline:()=>Wr,RadialGradient:()=>bp,Rect:()=>st,Ring:()=>Ml,Sector:()=>jr,Text:()=>rt,clipPointsByRect:()=>Ap,clipRectByRect:()=>Ll,createIcon:()=>Rl,extendPath:()=>rE,extendShape:()=>qb,getShapeClass:()=>yy,getTransform:()=>vs,initProps:()=>$t,makeImage:()=>xp,makePath:()=>th,mergePath:()=>vi,registerShape:()=>ha,resizePath:()=>_y,updateProps:()=>dt});var Dg={};Vt.r(Dg),Vt.d(Dg,{addCommas:()=>yl,capitalFirst:()=>ib,encodeHTML:()=>yr,formatTime:()=>lj,formatTpl:()=>ap,getTextRect:()=>e0,getTooltipMarker:()=>op,normalizeCssArray:()=>is,toCamelCase:()=>rp,truncateText:()=>Bk});var ud={};Vt.r(ud),Vt.d(ud,{bind:()=>de,clone:()=>Te,curry:()=>Re,defaults:()=>De,each:()=>F,extend:()=>J,filter:()=>yt,indexOf:()=>Ge,inherits:()=>tS,isArray:()=>te,isFunction:()=>_e,isObject:()=>xe,isString:()=>fe,map:()=>re,merge:()=>Ve,reduce:()=>Di});var X_=function(n,t){return(X_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function q(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}X_(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}var ET=function n(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},qt=new function n(){this.browser=new ET,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(qt.wxa=!0,qt.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?qt.worker=!0:typeof navigator>"u"?(qt.node=!0,qt.svgSupported=!0):function vn(n,t){var e=t.browser,r=n.match(/Firefox\/([\d.]+)/),i=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),o=n.match(/Edge?\/([\d.]+)/),u=/micromessenger/i.test(n);r&&(e.firefox=!0,e.version=r[1]),i&&(e.ie=!0,e.version=i[1]),o&&(e.edge=!0,e.version=o[1],e.newEdge=+o[1].split(".")[0]>18),u&&(e.weChat=!0),t.svgSupported=typeof SVGRect<"u",t.touchEventsSupported="ontouchstart"in window&&!e.ie&&!e.edge,t.pointerEventsSupported="onpointerdown"in window&&(e.edge||e.ie&&+e.version>=11),t.domSupported=typeof document<"u";var c=document.documentElement.style;t.transform3dSupported=(e.ie&&"transition"in c||e.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in c)&&!("OTransition"in c),t.transformSupported=t.transform3dSupported||e.ie&&+e.version>=9}(navigator.userAgent,qt);const ct=qt;var n,t,Tt=12,Tg="sans-serif",Us=Tt+"px "+Tg,NU=function K2(n){var t={};if(typeof JSON>"u")return t;for(var e=0;e<n.length;e++){var r=String.fromCharCode(e+32),i=(n.charCodeAt(e)-20)/100;t[r]=i}return t}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),eo={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(e,r){if(!n){var i=eo.createCanvas();n=i&&i.getContext("2d")}if(n)return t!==r&&(t=n.font=r||Us),n.measureText(e);e=e||"";var o=/(\d+)px/.exec(r=r||Us),u=o&&+o[1]||Tt,c=0;if(r.indexOf("mono")>=0)c=u*e.length;else for(var h=0;h<e.length;h++){var d=NU[e[h]];c+=null==d?u:d*u}return{width:c}},loadImage:function(n,t,e){var r=new Image;return r.onload=t,r.onerror=e,r.src=n,r}};function Q2(n){for(var t in eo)n[t]&&(eo[t]=n[t])}var J2=Di(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(n,t){return n["[object "+t+"]"]=!0,n},{}),LT=Di(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(n,t){return n["[object "+t+"Array]"]=!0,n},{}),nu=Object.prototype.toString,Mg=Array.prototype,J_=Mg.forEach,ek=Mg.filter,cd=Mg.slice,RT=Mg.map,NT=function(){}.constructor,Ag=NT?NT.prototype:null,eS="__proto__",js=2311;function Ig(){return js++}function Eg(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];typeof console<"u"&&console.error.apply(console,n)}function Te(n){if(null==n||"object"!=typeof n)return n;var t=n,e=nu.call(n);if("[object Array]"===e){if(!Wc(n)){t=[];for(var r=0,i=n.length;r<i;r++)t[r]=Te(n[r])}}else if(LT[e]){if(!Wc(n)){var o=n.constructor;if(o.from)t=o.from(n);else for(t=new o(n.length),r=0,i=n.length;r<i;r++)t[r]=n[r]}}else if(!J2[e]&&!Wc(n)&&!ru(n))for(var u in t={},n)n.hasOwnProperty(u)&&u!==eS&&(t[u]=Te(n[u]));return t}function Ve(n,t,e){if(!xe(t)||!xe(n))return e?Te(t):n;for(var r in t)if(t.hasOwnProperty(r)&&r!==eS){var i=n[r],o=t[r];!xe(o)||!xe(i)||te(o)||te(i)||ru(o)||ru(i)||rS(o)||rS(i)||Wc(o)||Wc(i)?(e||!(r in n))&&(n[r]=Te(t[r])):Ve(i,o,e)}return n}function Pg(n,t){for(var e=n[0],r=1,i=n.length;r<i;r++)e=Ve(e,n[r],t);return e}function J(n,t){if(Object.assign)Object.assign(n,t);else for(var e in t)t.hasOwnProperty(e)&&e!==eS&&(n[e]=t[e]);return n}function De(n,t,e){for(var r=Xe(t),i=0;i<r.length;i++){var o=r[i];(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}return n}var tk=eo.createCanvas;function Ge(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var e=0,r=n.length;e<r;e++)if(n[e]===t)return e}return-1}function tS(n,t){var e=n.prototype;function r(){}for(var i in r.prototype=t.prototype,n.prototype=new r,e)e.hasOwnProperty(i)&&(n.prototype[i]=e[i]);n.prototype.constructor=n,n.superClass=t}function un(n,t,e){if(n="prototype"in n?n.prototype:n,t="prototype"in t?t.prototype:t,Object.getOwnPropertyNames)for(var r=Object.getOwnPropertyNames(t),i=0;i<r.length;i++){var o=r[i];"constructor"!==o&&(e?null!=t[o]:null==n[o])&&(n[o]=t[o])}else De(n,t,e)}function Kn(n){return!(!n||"string"==typeof n)&&"number"==typeof n.length}function F(n,t,e){if(n&&t)if(n.forEach&&n.forEach===J_)n.forEach(t,e);else if(n.length===+n.length)for(var r=0,i=n.length;r<i;r++)t.call(e,n[r],r,n);else for(var o in n)n.hasOwnProperty(o)&&t.call(e,n[o],o,n)}function re(n,t,e){if(!n)return[];if(!t)return iS(n);if(n.map&&n.map===RT)return n.map(t,e);for(var r=[],i=0,o=n.length;i<o;i++)r.push(t.call(e,n[i],i,n));return r}function Di(n,t,e,r){if(n&&t){for(var i=0,o=n.length;i<o;i++)e=t.call(r,e,n[i],i,n);return e}}function yt(n,t,e){if(!n)return[];if(!t)return iS(n);if(n.filter&&n.filter===ek)return n.filter(t,e);for(var r=[],i=0,o=n.length;i<o;i++)t.call(e,n[i],i,n)&&r.push(n[i]);return r}function nS(n,t,e){if(n&&t)for(var r=0,i=n.length;r<i;r++)if(t.call(e,n[r],r,n))return n[r]}function Xe(n){if(!n)return[];if(Object.keys)return Object.keys(n);var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push(e);return t}var de=Ag&&_e(Ag.bind)?Ag.call.bind(Ag.bind):function OT(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return function(){return n.apply(t,e.concat(cd.call(arguments)))}};function Re(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return function(){return n.apply(this,t.concat(cd.call(arguments)))}}function te(n){return Array.isArray?Array.isArray(n):"[object Array]"===nu.call(n)}function _e(n){return"function"==typeof n}function fe(n){return"string"==typeof n}function Qn(n){return"[object String]"===nu.call(n)}function ft(n){return"number"==typeof n}function xe(n){var t=typeof n;return"function"===t||!!n&&"object"===t}function rS(n){return!!J2[nu.call(n)]}function Jr(n){return!!LT[nu.call(n)]}function ru(n){return"object"==typeof n&&"number"==typeof n.nodeType&&"object"==typeof n.ownerDocument}function fd(n){return null!=n.colorStops}function kT(n){return null!=n.image}function to(n){return"[object RegExp]"===nu.call(n)}function jc(n){return n!=n}function bt(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];for(var e=0,r=n.length;e<r;e++)if(null!=n[e])return n[e]}function ke(n,t){return n??t}function Ln(n,t,e){return n??t??e}function iS(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return cd.apply(n,t)}function Lg(n){if("number"==typeof n)return[n,n,n,n];var t=n.length;return 2===t?[n[0],n[1],n[0],n[1]]:3===t?[n[0],n[1],n[2],n[1]]:n}function Jn(n,t){if(!n)throw new Error(t)}function ei(n){return null==n?null:"function"==typeof n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var aS="__ec_primitive__";function Fo(n){n[aS]=!0}function Wc(n){return n[aS]}var FT=function(){function n(){this.data={}}return n.prototype.delete=function(t){var e=this.has(t);return e&&delete this.data[t],e},n.prototype.has=function(t){return this.data.hasOwnProperty(t)},n.prototype.get=function(t){return this.data[t]},n.prototype.set=function(t,e){return this.data[t]=e,this},n.prototype.keys=function(){return Xe(this.data)},n.prototype.forEach=function(t){var e=this.data;for(var r in e)e.hasOwnProperty(r)&&t(e[r],r)},n}(),oS="function"==typeof Map,VT=function(){function n(t){var e=te(t);this.data=function nk(){return oS?new Map:new FT}();var r=this;function i(o,u){e?r.set(o,u):r.set(u,o)}t instanceof n?t.each(i):t&&F(t,i)}return n.prototype.hasKey=function(t){return this.data.has(t)},n.prototype.get=function(t){return this.data.get(t)},n.prototype.set=function(t,e){return this.data.set(t,e),e},n.prototype.each=function(t,e){this.data.forEach(function(r,i){t.call(e,r,i)})},n.prototype.keys=function(){var t=this.data.keys();return oS?Array.from(t):t},n.prototype.removeKey=function(t){this.data.delete(t)},n}();function ve(n){return new VT(n)}function hd(n,t){for(var e=new n.constructor(n.length+t.length),r=0;r<n.length;r++)e[r]=n[r];var i=n.length;for(r=0;r<t.length;r++)e[r+i]=t[r];return e}function $c(n,t){var e;if(Object.create)e=Object.create(n);else{var r=function(){};r.prototype=n,e=new r}return t&&J(e,t),e}function sS(n){var t=n.style;t.webkitUserSelect="none",t.userSelect="none",t.webkitTapHighlightColor="rgba(0,0,0,0)",t["-webkit-touch-callout"]="none"}function pe(n,t){return n.hasOwnProperty(t)}function ht(){}var dd=180/Math.PI,ti=function(n,t){return(ti=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])})(n,t)};function ye(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function e(){this.constructor=n}ti(n,t),n.prototype=null===t?Object.create(t):(e.prototype=t.prototype,new e)}function Nn(n,t){return null==n&&(n=0),null==t&&(t=0),[n,t]}function Nr(n,t){return n[0]=t[0],n[1]=t[1],n}function no(n){return[n[0],n[1]]}function ik(n,t,e){return n[0]=t,n[1]=e,n}function Vo(n,t,e){return n[0]=t[0]+e[0],n[1]=t[1]+e[1],n}function hS(n,t,e,r){return n[0]=t[0]+e[0]*r,n[1]=t[1]+e[1]*r,n}function iu(n,t,e){return n[0]=t[0]-e[0],n[1]=t[1]-e[1],n}function Rg(n){return Math.sqrt(dS(n))}var BU=Rg;function dS(n){return n[0]*n[0]+n[1]*n[1]}var zU=dS;function ak(n,t,e){return n[0]=t[0]*e[0],n[1]=t[1]*e[1],n}function HU(n,t,e){return n[0]=t[0]/e[0],n[1]=t[1]/e[1],n}function Wi(n,t){return n[0]*t[0]+n[1]*t[1]}function Ue(n,t,e){return n[0]=t[0]*e,n[1]=t[1]*e,n}function Yc(n,t){var e=Rg(t);return 0===e?(n[0]=0,n[1]=0):(n[0]=t[0]/e,n[1]=t[1]/e),n}function pS(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}var Ws=pS;function Fe(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])}var au=Fe;function Ci(n,t){return n[0]=-t[0],n[1]=-t[1],n}function $s(n,t,e,r){return n[0]=t[0]+r*(e[0]-t[0]),n[1]=t[1]+r*(e[1]-t[1]),n}function Wn(n,t,e){var r=t[0],i=t[1];return n[0]=e[0]*r+e[2]*i+e[4],n[1]=e[1]*r+e[3]*i+e[5],n}function ro(n,t,e){return n[0]=Math.min(t[0],e[0]),n[1]=Math.min(t[1],e[1]),n}function Bo(n,t,e){return n[0]=Math.max(t[0],e[0]),n[1]=Math.max(t[1],e[1]),n}var zo=function n(t,e){this.target=t,this.topTarget=e&&e.topTarget},Ng=function(){function n(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return n.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new zo(e,t),"dragstart",t.event))},n.prototype._drag=function(t){var e=this._draggingTarget;if(e){var r=t.offsetX,i=t.offsetY,o=r-this._x,u=i-this._y;this._x=r,this._y=i,e.drift(o,u,t),this.handler.dispatchToElement(new zo(e,t),"drag",t.event);var c=this.handler.findHover(r,i,e).target,h=this._dropTarget;this._dropTarget=c,e!==c&&(h&&c!==h&&this.handler.dispatchToElement(new zo(h,t),"dragleave",t.event),c&&c!==h&&this.handler.dispatchToElement(new zo(c,t),"dragenter",t.event))}},n.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new zo(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new zo(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},n}();const vS=Ng;var WT=function(){function n(t){t&&(this._$eventProcessor=t)}return n.prototype.on=function(t,e,r,i){this._$handlers||(this._$handlers={});var o=this._$handlers;if("function"==typeof e&&(i=r,r=e,e=null),!r||!t)return this;var u=this._$eventProcessor;null!=e&&u&&u.normalizeQuery&&(e=u.normalizeQuery(e)),o[t]||(o[t]=[]);for(var c=0;c<o[t].length;c++)if(o[t][c].h===r)return this;var h={h:r,query:e,ctx:i||this,callAtLast:r.zrEventfulCallAtLast},d=o[t].length-1,p=o[t][d];return p&&p.callAtLast?o[t].splice(d,0,h):o[t].push(h),this},n.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},n.prototype.off=function(t,e){var r=this._$handlers;if(!r)return this;if(!t)return this._$handlers={},this;if(e){if(r[t]){for(var i=[],o=0,u=r[t].length;o<u;o++)r[t][o].h!==e&&i.push(r[t][o]);r[t]=i}r[t]&&0===r[t].length&&delete r[t]}else delete r[t];return this},n.prototype.trigger=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var u=e.length,c=i.length,h=0;h<c;h++){var d=i[h];if(!o||!o.filter||null==d.query||o.filter(t,d.query))switch(u){case 0:d.h.call(d.ctx);break;case 1:d.h.call(d.ctx,e[0]);break;case 2:d.h.call(d.ctx,e[0],e[1]);break;default:d.h.apply(d.ctx,e)}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n.prototype.triggerWithContext=function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!this._$handlers)return this;var i=this._$handlers[t],o=this._$eventProcessor;if(i)for(var u=e.length,c=e[u-1],h=i.length,d=0;d<h;d++){var p=i[d];if(!o||!o.filter||null==p.query||o.filter(t,p.query))switch(u){case 0:p.h.call(c);break;case 1:p.h.call(c,e[0]);break;case 2:p.h.call(c,e[0],e[1]);break;default:p.h.apply(c,e.slice(1,u-1))}}return o&&o.afterTrigger&&o.afterTrigger(t),this},n}();const $i=WT;var mt=Math.log(2);function pd(n,t,e,r,i,o){var u=r+"-"+i,c=n.length;if(o.hasOwnProperty(u))return o[u];if(1===t){var h=Math.round(Math.log((1<<c)-1&~i)/mt);return n[e][h]}for(var d=r|1<<e,p=e+1;r&1<<p;)p++;for(var g=0,m=0,y=0;m<c;m++){var S=1<<m;S&i||(g+=(y%2?-1:1)*n[e][m]*pd(n,t-1,p,d,i|S,o),y++)}return o[u]=g,g}function gS(n,t){var e=[[n[0],n[1],1,0,0,0,-t[0]*n[0],-t[0]*n[1]],[0,0,0,n[0],n[1],1,-t[1]*n[0],-t[1]*n[1]],[n[2],n[3],1,0,0,0,-t[2]*n[2],-t[2]*n[3]],[0,0,0,n[2],n[3],1,-t[3]*n[2],-t[3]*n[3]],[n[4],n[5],1,0,0,0,-t[4]*n[4],-t[4]*n[5]],[0,0,0,n[4],n[5],1,-t[5]*n[4],-t[5]*n[5]],[n[6],n[7],1,0,0,0,-t[6]*n[6],-t[6]*n[7]],[0,0,0,n[6],n[7],1,-t[7]*n[6],-t[7]*n[7]]],r={},i=pd(e,8,0,0,0,r);if(0!==i){for(var o=[],u=0;u<8;u++)for(var c=0;c<8;c++)null==o[c]&&(o[c]=0),o[c]+=((u+c)%2?-1:1)*pd(e,7,0===u?1:0,1<<u,1<<c,r)/i*t[u];return function(h,d,p){var g=d*o[6]+p*o[7]+1;h[0]=(d*o[0]+p*o[1]+o[2])/g,h[1]=(d*o[3]+p*o[4]+o[5])/g}}}var Or="___zrEVENTSAVED",Og=[];function Wt(n,t,e,r,i){if(t.getBoundingClientRect&&ct.domSupported&&!we(t)){var o=t[Or]||(t[Or]={}),u=function UU(n,t){var e=t.markers;if(e)return e;e=t.markers=[];for(var r=["left","right"],i=["top","bottom"],o=0;o<4;o++){var u=document.createElement("div"),h=o%2,d=(o>>1)%2;u.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",r[h]+":0",i[d]+":0",r[1-h]+":auto",i[1-d]+":auto",""].join("!important;"),n.appendChild(u),e.push(u)}return e}(t,o),c=function jU(n,t,e){for(var r=e?"invTrans":"trans",i=t[r],o=t.srcCoords,u=[],c=[],h=!0,d=0;d<4;d++){var p=n[d].getBoundingClientRect(),g=2*d,m=p.left,y=p.top;u.push(m,y),h=h&&o&&m===o[g]&&y===o[g+1],c.push(n[d].offsetLeft,n[d].offsetTop)}return h&&i?i:(t.srcCoords=u,t[r]=e?gS(c,u):gS(u,c))}(u,o,i);if(c)return c(n,e,r),!0}return!1}function we(n){return"CANVAS"===n.nodeName.toUpperCase()}var mS=/([&<>"'])/g,yS={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function yr(n){return null==n?"":(n+"").replace(mS,function(t,e){return yS[e]})}var _S=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,SS=[],wS=ct.browser.firefox&&+ct.browser.version.split(".")[0]<39;function $T(n,t,e,r){return e=e||{},r?ok(n,t,e):wS&&null!=t.layerX&&t.layerX!==t.offsetX?(e.zrX=t.layerX,e.zrY=t.layerY):null!=t.offsetX?(e.zrX=t.offsetX,e.zrY=t.offsetY):ok(n,t,e),e}function ok(n,t,e){if(ct.domSupported&&n.getBoundingClientRect){var r=t.clientX,i=t.clientY;if(we(n)){var o=n.getBoundingClientRect();return e.zrX=r-o.left,void(e.zrY=i-o.top)}if(Wt(SS,n,r,i))return e.zrX=SS[0],void(e.zrY=SS[1])}e.zrX=e.zrY=0}function YT(n){return n||window.event}function Ta(n,t,e){if(null!=(t=YT(t)).zrX)return t;var r=t.type;if(r&&r.indexOf("touch")>=0){var u="touchend"!==r?t.targetTouches[0]:t.changedTouches[0];u&&$T(n,u,t,e)}else{$T(n,t,t,e);var o=function WU(n){var t=n.wheelDelta;if(t)return t;var e=n.deltaX,r=n.deltaY;return null==e||null==r?t:3*Math.abs(0!==r?r:e)*(r>0?-1:r<0?1:e>0?-1:1)}(t);t.zrDelta=o?o/120:-(t.detail||0)/3}var c=t.button;return null==t.which&&void 0!==c&&_S.test(t.type)&&(t.which=1&c?1:2&c?3:4&c?2:0),t}function ou(n,t,e,r){n.addEventListener(t,e,r)}function bS(n,t,e,r){n.removeEventListener(t,e,r)}var Yi=function(n){n.preventDefault(),n.stopPropagation(),n.cancelBubble=!0};function ZT(n){return 2===n.which||3===n.which}var sk=function(){function n(){this._track=[]}return n.prototype.recognize=function(t,e,r){return this._doTrack(t,e,r),this._recognize(t)},n.prototype.clear=function(){return this._track.length=0,this},n.prototype._doTrack=function(t,e,r){var i=t.touches;if(i){for(var o={points:[],touches:[],target:e,event:t},u=0,c=i.length;u<c;u++){var h=i[u],d=$T(r,h,{});o.points.push([d.zrX,d.zrY]),o.touches.push(h)}this._track.push(o)}},n.prototype._recognize=function(t){for(var e in Ys)if(Ys.hasOwnProperty(e)){var r=Ys[e](this._track,t);if(r)return r}},n}();function qT(n){var t=n[1][0]-n[0][0],e=n[1][1]-n[0][1];return Math.sqrt(t*t+e*e)}var Ys={pinch:function(n,t){var e=n.length;if(e){var r=(n[e-1]||{}).points,i=(n[e-2]||{}).points||r;if(i&&i.length>1&&r&&r.length>1){var o=qT(r)/qT(i);!isFinite(o)&&(o=1),t.pinchScale=o;var u=function XT(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}(r);return t.pinchX=u[0],t.pinchY=u[1],{type:"pinch",target:n[0].target,event:t}}}}};function xi(){return[1,0,0,1,0,0]}function Zi(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n}function kg(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n}function Ae(n,t,e){var i=t[1]*e[0]+t[3]*e[1],o=t[0]*e[2]+t[2]*e[3],u=t[1]*e[2]+t[3]*e[3],c=t[0]*e[4]+t[2]*e[5]+t[4],h=t[1]*e[4]+t[3]*e[5]+t[5];return n[0]=t[0]*e[0]+t[2]*e[1],n[1]=i,n[2]=o,n[3]=u,n[4]=c,n[5]=h,n}function qi(n,t,e){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+e[0],n[5]=t[5]+e[1],n}function ge(n,t,e){var r=t[0],i=t[2],o=t[4],u=t[1],c=t[3],h=t[5],d=Math.sin(e),p=Math.cos(e);return n[0]=r*p+u*d,n[1]=-r*d+u*p,n[2]=i*p+c*d,n[3]=-i*d+p*c,n[4]=p*o+d*h,n[5]=p*h-d*o,n}function su(n,t,e){var r=e[0],i=e[1];return n[0]=t[0]*r,n[1]=t[1]*i,n[2]=t[2]*r,n[3]=t[3]*i,n[4]=t[4]*r,n[5]=t[5]*i,n}function Ho(n,t){var e=t[0],r=t[2],i=t[4],o=t[1],u=t[3],c=t[5],h=e*u-o*r;return h?(n[0]=u*(h=1/h),n[1]=-o*h,n[2]=-r*h,n[3]=e*h,n[4]=(r*c-u*i)*h,n[5]=(o*i-e*c)*h,n):null}function Zc(n){var t=[1,0,0,1,0,0];return kg(t,n),t}var lk=function(){function n(t,e){this.x=t||0,this.y=e||0}return n.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.set=function(t,e){return this.x=t,this.y=e,this},n.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.scale=function(t){this.x*=t,this.y*=t},n.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},n.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},n.prototype.distance=function(t){var e=this.x-t.x,r=this.y-t.y;return Math.sqrt(e*e+r*r)},n.prototype.distanceSquare=function(t){var e=this.x-t.x,r=this.y-t.y;return e*e+r*r},n.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},n.prototype.transform=function(t){if(t){var e=this.x,r=this.y;return this.x=t[0]*e+t[2]*r+t[4],this.y=t[1]*e+t[3]*r+t[5],this}},n.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},n.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},n.set=function(t,e,r){t.x=e,t.y=r},n.copy=function(t,e){t.x=e.x,t.y=e.y},n.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},n.lenSquare=function(t){return t.x*t.x+t.y*t.y},n.dot=function(t,e){return t.x*e.x+t.y*e.y},n.add=function(t,e,r){t.x=e.x+r.x,t.y=e.y+r.y},n.sub=function(t,e,r){t.x=e.x-r.x,t.y=e.y-r.y},n.scale=function(t,e,r){t.x=e.x*r,t.y=e.y*r},n.scaleAndAdd=function(t,e,r,i){t.x=e.x+r.x*i,t.y=e.y+r.y*i},n.lerp=function(t,e,r,i){var o=1-i;t.x=o*e.x+i*r.x,t.y=o*e.y+i*r.y},n}();const ze=lk;var Fg=Math.min,Xi=Math.max,io=new ze,er=new ze,_r=new ze,gt=new ze,Zs=new ze,lu=new ze,DS=function(){function n(t,e,r,i){r<0&&(t+=r,r=-r),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=r,this.height=i}return n.prototype.union=function(t){var e=Fg(t.x,this.x),r=Fg(t.y,this.y);this.width=isFinite(this.x)&&isFinite(this.width)?Xi(t.x+t.width,this.x+this.width)-e:t.width,this.height=isFinite(this.y)&&isFinite(this.height)?Xi(t.y+t.height,this.y+this.height)-r:t.height,this.x=e,this.y=r},n.prototype.applyTransform=function(t){n.applyTransform(this,this,t)},n.prototype.calculateTransform=function(t){var e=this,r=t.width/e.width,i=t.height/e.height,o=[1,0,0,1,0,0];return qi(o,o,[-e.x,-e.y]),su(o,o,[r,i]),qi(o,o,[t.x,t.y]),o},n.prototype.intersect=function(t,e){if(!t)return!1;t instanceof n||(t=n.create(t));var r=this,i=r.x,o=r.x+r.width,u=r.y,c=r.y+r.height,h=t.x,d=t.x+t.width,p=t.y,g=t.y+t.height,m=!(o<h||d<i||c<p||g<u);if(e){var y=1/0,S=0,b=Math.abs(o-h),D=Math.abs(d-i),C=Math.abs(c-p),T=Math.abs(g-u),M=Math.min(b,D),I=Math.min(C,T);o<h||d<i?M>S&&(S=M,ze.set(lu,b<D?-b:D,0)):M<y&&(y=M,ze.set(Zs,b<D?b:-D,0)),c<p||g<u?I>S&&(S=I,ze.set(lu,0,C<T?-C:T)):M<y&&(y=M,ze.set(Zs,0,C<T?C:-T))}return e&&ze.copy(e,m?Zs:lu),m},n.prototype.contain=function(t,e){var r=this;return t>=r.x&&t<=r.x+r.width&&e>=r.y&&e<=r.y+r.height},n.prototype.clone=function(){return new n(this.x,this.y,this.width,this.height)},n.prototype.copy=function(t){n.copy(this,t)},n.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},n.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},n.prototype.isZero=function(){return 0===this.width||0===this.height},n.create=function(t){return new n(t.x,t.y,t.width,t.height)},n.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},n.applyTransform=function(t,e,r){if(r){if(r[1]<1e-5&&r[1]>-1e-5&&r[2]<1e-5&&r[2]>-1e-5){var i=r[0],o=r[3],c=r[5];return t.x=e.x*i+r[4],t.y=e.y*o+c,t.width=e.width*i,t.height=e.height*o,t.width<0&&(t.x+=t.width,t.width=-t.width),void(t.height<0&&(t.y+=t.height,t.height=-t.height))}io.x=_r.x=e.x,io.y=gt.y=e.y,er.x=gt.x=e.x+e.width,er.y=_r.y=e.y+e.height,io.transform(r),gt.transform(r),er.transform(r),_r.transform(r),t.x=Fg(io.x,er.x,_r.x,gt.x),t.y=Fg(io.y,er.y,_r.y,gt.y);var h=Xi(io.x,er.x,_r.x,gt.x),d=Xi(io.y,er.y,_r.y,gt.y);t.width=h-t.x,t.height=d-t.y}else t!==e&&n.copy(t,e)},n}();const Be=DS;var ao="silent";function KT(){Yi(this.event)}var QT=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.handler=null,e}return ye(t,n),t.prototype.dispose=function(){},t.prototype.setCursor=function(){},t}($i),uu=function n(t,e){this.x=t,this.y=e},JT=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],Vg=new Be(0,0,0,0),qc=function(n){function t(e,r,i,o,u){var c=n.call(this)||this;return c._hovered=new uu(0,0),c.storage=e,c.painter=r,c.painterRoot=o,c._pointerSize=u,i=i||new QT,c.proxy=null,c.setHandlerProxy(i),c._draggingMgr=new vS(c),c}return ye(t,n),t.prototype.setHandlerProxy=function(e){this.proxy&&this.proxy.dispose(),e&&(F(JT,function(r){e.on&&e.on(r,this[r],this)},this),e.handler=this),this.proxy=e},t.prototype.mousemove=function(e){var r=e.zrX,i=e.zrY,o=tM(this,r,i),u=this._hovered,c=u.target;c&&!c.__zr&&(c=(u=this.findHover(u.x,u.y)).target);var h=this._hovered=o?new uu(r,i):this.findHover(r,i),d=h.target,p=this.proxy;p.setCursor&&p.setCursor(d?d.cursor:"default"),c&&d!==c&&this.dispatchToElement(u,"mouseout",e),this.dispatchToElement(h,"mousemove",e),d&&d!==c&&this.dispatchToElement(h,"mouseover",e)},t.prototype.mouseout=function(e){var r=e.zrEventControl;"only_globalout"!==r&&this.dispatchToElement(this._hovered,"mouseout",e),"no_globalout"!==r&&this.trigger("globalout",{type:"globalout",event:e})},t.prototype.resize=function(){this._hovered=new uu(0,0)},t.prototype.dispatch=function(e,r){var i=this[e];i&&i.call(this,r)},t.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},t.prototype.setCursorStyle=function(e){var r=this.proxy;r.setCursor&&r.setCursor(e)},t.prototype.dispatchToElement=function(e,r,i){var o=(e=e||{}).target;if(!o||!o.silent){for(var u="on"+r,c=function vd(n,t,e){return{type:n,event:e,target:t.target,topTarget:t.topTarget,cancelBubble:!1,offsetX:e.zrX,offsetY:e.zrY,gestureEvent:e.gestureEvent,pinchX:e.pinchX,pinchY:e.pinchY,pinchScale:e.pinchScale,wheelDelta:e.zrDelta,zrByTouch:e.zrByTouch,which:e.which,stop:KT}}(r,e,i);o&&(o[u]&&(c.cancelBubble=!!o[u].call(o,c)),o.trigger(r,c),o=o.__hostTarget?o.__hostTarget:o.parent,!c.cancelBubble););c.cancelBubble||(this.trigger(r,c),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(h){"function"==typeof h[u]&&h[u].call(h,c),h.trigger&&h.trigger(r,c)}))}},t.prototype.findHover=function(e,r,i){var o=this.storage.getDisplayList(),u=new uu(e,r);if(CS(o,u,e,r,i),this._pointerSize&&!u.target){for(var c=[],h=this._pointerSize,d=h/2,p=new Be(e-d,r-d,h,h),g=o.length-1;g>=0;g--){var m=o[g];m!==i&&!m.ignore&&!m.ignoreCoarsePointer&&(!m.parent||!m.parent.ignoreCoarsePointer)&&(Vg.copy(m.getBoundingRect()),m.transform&&Vg.applyTransform(m.transform),Vg.intersect(p)&&c.push(m))}if(c.length)for(var S=Math.PI/12,b=2*Math.PI,D=0;D<d;D+=4)for(var C=0;C<b;C+=S)if(CS(c,u,e+D*Math.cos(C),r+D*Math.sin(C),i),u.target)return u}return u},t.prototype.processGesture=function(e,r){this._gestureMgr||(this._gestureMgr=new sk);var i=this._gestureMgr;"start"===r&&i.clear();var o=i.recognize(e,this.findHover(e.zrX,e.zrY,null).target,this.proxy.dom);if("end"===r&&i.clear(),o){var u=o.type;e.gestureEvent=u;var c=new uu;c.target=o.target,this.dispatchToElement(c,u,o.event)}},t}($i);function eM(n,t,e){if(n[n.rectHover?"rectContain":"contain"](t,e)){for(var r=n,i=void 0,o=!1;r;){if(r.ignoreClip&&(o=!0),!o){var u=r.getClipPath();if(u&&!u.contain(t,e))return!1;r.silent&&(i=!0)}r=r.__hostTarget||r.parent}return!i||ao}return!1}function CS(n,t,e,r,i){for(var o=n.length-1;o>=0;o--){var u=n[o],c=void 0;if(u!==i&&!u.ignore&&(c=eM(u,e,r))&&(!t.topTarget&&(t.topTarget=u),c!==ao)){t.target=u;break}}}function tM(n,t,e){var r=n.painter;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}F(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(n){qc.prototype[n]=function(t){var o,u,e=t.zrX,r=t.zrY,i=tM(this,e,r);if(("mouseup"!==n||!i)&&(u=(o=this.findHover(e,r)).target),"mousedown"===n)this._downEl=u,this._downPoint=[t.zrX,t.zrY],this._upEl=u;else if("mouseup"===n)this._upEl=u;else if("click"===n){if(this._downEl!==this._upEl||!this._downPoint||Ws(this._downPoint,[t.zrX,t.zrY])>4)return;this._downPoint=null}this.dispatchToElement(o,n,t)}});const nM=qc;var gd=7;function xS(n,t,e,r){var i=t+1;if(i===e)return 1;if(r(n[i++],n[t])<0){for(;i<e&&r(n[i],n[i-1])<0;)i++;!function ck(n,t,e){for(e--;t<e;){var r=n[t];n[t++]=n[e],n[e--]=r}}(n,t,i)}else for(;i<e&&r(n[i],n[i-1])>=0;)i++;return i-t}function iM(n,t,e,r,i){for(r===t&&r++;r<e;r++){for(var h,o=n[r],u=t,c=r;u<c;)i(o,n[h=u+c>>>1])<0?c=h:u=h+1;var d=r-u;switch(d){case 3:n[u+3]=n[u+2];case 2:n[u+2]=n[u+1];case 1:n[u+1]=n[u];break;default:for(;d>0;)n[u+d]=n[u+d-1],d--}n[u]=o}}function TS(n,t,e,r,i,o){var u=0,c=0,h=1;if(o(n,t[e+i])>0){for(c=r-i;h<c&&o(n,t[e+i+h])>0;)u=h,(h=1+(h<<1))<=0&&(h=c);h>c&&(h=c),u+=i,h+=i}else{for(c=i+1;h<c&&o(n,t[e+i-h])<=0;)u=h,(h=1+(h<<1))<=0&&(h=c);h>c&&(h=c);var d=u;u=i-h,h=i-d}for(u++;u<h;){var p=u+(h-u>>>1);o(n,t[e+p])>0?u=p+1:h=p}return h}function MS(n,t,e,r,i,o){var u=0,c=0,h=1;if(o(n,t[e+i])<0){for(c=i+1;h<c&&o(n,t[e+i-h])<0;)u=h,(h=1+(h<<1))<=0&&(h=c);h>c&&(h=c);var d=u;u=i-h,h=i-d}else{for(c=r-i;h<c&&o(n,t[e+i+h])>=0;)u=h,(h=1+(h<<1))<=0&&(h=c);h>c&&(h=c),u+=i,h+=i}for(u++;u<h;){var p=u+(h-u>>>1);o(n,t[e+p])<0?h=p:u=p+1}return h}function Bg(n,t,e,r){e||(e=0),r||(r=n.length);var i=r-e;if(!(i<2)){var o=0;if(i<32)return void iM(n,e,r,e+(o=xS(n,e,r,t)),t);var u=function aM(n,t){var u,c,e=gd,h=0,d=[];function y(D){var C=u[D],T=c[D],M=u[D+1],I=c[D+1];c[D]=T+I,D===h-3&&(u[D+1]=u[D+2],c[D+1]=c[D+2]),h--;var L=MS(n[M],n,C,T,0,t);C+=L,0!=(T-=L)&&0!==(I=TS(n[C+T-1],n,M,I,I-1,t))&&(T<=I?function S(D,C,T,M){var I=0;for(I=0;I<C;I++)d[I]=n[D+I];var L=0,E=T,R=D;if(n[R++]=n[E++],0!=--M)if(1!==C){for(var k,V,B,O=e;;){k=0,V=0,B=!1;do{if(t(n[E],d[L])<0){if(n[R++]=n[E++],V++,k=0,0==--M){B=!0;break}}else if(n[R++]=d[L++],k++,V=0,1==--C){B=!0;break}}while((k|V)<O);if(B)break;do{if(0!==(k=MS(n[E],d,L,C,0,t))){for(I=0;I<k;I++)n[R+I]=d[L+I];if(R+=k,L+=k,(C-=k)<=1){B=!0;break}}if(n[R++]=n[E++],0==--M){B=!0;break}if(0!==(V=TS(d[L],n,E,M,0,t))){for(I=0;I<V;I++)n[R+I]=n[E+I];if(R+=V,E+=V,0==(M-=V)){B=!0;break}}if(n[R++]=d[L++],1==--C){B=!0;break}O--}while(k>=gd||V>=gd);if(B)break;O<0&&(O=0),O+=2}if((e=O)<1&&(e=1),1===C){for(I=0;I<M;I++)n[R+I]=n[E+I];n[R+M]=d[L]}else{if(0===C)throw new Error;for(I=0;I<C;I++)n[R+I]=d[L+I]}}else{for(I=0;I<M;I++)n[R+I]=n[E+I];n[R+M]=d[L]}else for(I=0;I<C;I++)n[R+I]=d[L+I]}(C,T,M,I):function b(D,C,T,M){var I=0;for(I=0;I<M;I++)d[I]=n[T+I];var L=D+C-1,E=M-1,R=T+M-1,O=0,k=0;if(n[R--]=n[L--],0!=--C)if(1!==M){for(var V=e;;){var B=0,H=0,G=!1;do{if(t(d[E],n[L])<0){if(n[R--]=n[L--],B++,H=0,0==--C){G=!0;break}}else if(n[R--]=d[E--],H++,B=0,1==--M){G=!0;break}}while((B|H)<V);if(G)break;do{if(0!=(B=C-MS(d[E],n,D,C,C-1,t))){for(C-=B,k=1+(R-=B),O=1+(L-=B),I=B-1;I>=0;I--)n[k+I]=n[O+I];if(0===C){G=!0;break}}if(n[R--]=d[E--],1==--M){G=!0;break}if(0!=(H=M-TS(n[L],d,0,M,M-1,t))){for(M-=H,k=1+(R-=H),O=1+(E-=H),I=0;I<H;I++)n[k+I]=d[O+I];if(M<=1){G=!0;break}}if(n[R--]=n[L--],0==--C){G=!0;break}V--}while(B>=gd||H>=gd);if(G)break;V<0&&(V=0),V+=2}if((e=V)<1&&(e=1),1===M){for(k=1+(R-=C),O=1+(L-=C),I=C-1;I>=0;I--)n[k+I]=n[O+I];n[R]=d[E]}else{if(0===M)throw new Error;for(O=R-(M-1),I=0;I<M;I++)n[O+I]=d[I]}}else{for(k=1+(R-=C),O=1+(L-=C),I=C-1;I>=0;I--)n[k+I]=n[O+I];n[R]=d[E]}else for(O=R-(M-1),I=0;I<M;I++)n[O+I]=d[I]}(C,T,M,I))}return u=[],c=[],{mergeRuns:function g(){for(;h>1;){var D=h-2;if(D>=1&&c[D-1]<=c[D]+c[D+1]||D>=2&&c[D-2]<=c[D]+c[D-1])c[D-1]<c[D+1]&&D--;else if(c[D]>c[D+1])break;y(D)}},forceMergeRuns:function m(){for(;h>1;){var D=h-2;D>0&&c[D-1]<c[D+1]&&D--,y(D)}},pushRun:function p(D,C){u[h]=D,c[h]=C,h+=1}}}(n,t),c=function uk(n){for(var t=0;n>=32;)t|=1&n,n>>=1;return n+t}(i);do{if((o=xS(n,e,r,t))<c){var h=i;h>c&&(h=c),iM(n,e,e+h,e+o,t),o=h}u.pushRun(e,o),u.mergeRuns(),i-=o,e+=o}while(0!==i);u.forceMergeRuns()}}var Ti=1,Go=4,oM=!1;function AS(){oM||(oM=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function sM(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var Qi=function(){function n(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=sM}return n.prototype.traverse=function(t,e){for(var r=0;r<this._roots.length;r++)this._roots[r].traverse(t,e)},n.prototype.getDisplayList=function(t,e){e=e||!1;var r=this._displayList;return(t||!r.length)&&this.updateDisplayList(e),r},n.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,r=this._displayList,i=0,o=e.length;i<o;i++)this._updateAndAddDisplayable(e[i],null,t);r.length=this._displayListLen,Bg(r,sM)},n.prototype._updateAndAddDisplayable=function(t,e,r){if(!t.ignore||r){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var o=i,u=t;o;)o.parent=u,o.updateTransform(),e.push(o),u=o,o=o.getClipPath()}if(t.childrenRef){for(var c=t.childrenRef(),h=0;h<c.length;h++){var d=c[h];t.__dirty&&(d.__dirty|=Ti),this._updateAndAddDisplayable(d,e,r)}t.__dirty=0}else{var p=t;e&&e.length?p.__clipPaths=e:p.__clipPaths&&p.__clipPaths.length>0&&(p.__clipPaths=[]),isNaN(p.z)&&(AS(),p.z=0),isNaN(p.z2)&&(AS(),p.z2=0),isNaN(p.zlevel)&&(AS(),p.zlevel=0),this._displayList[this._displayListLen++]=p}var g=t.getDecalElement&&t.getDecalElement();g&&this._updateAndAddDisplayable(g,e,r);var m=t.getTextGuideLine();m&&this._updateAndAddDisplayable(m,e,r);var y=t.getTextContent();y&&this._updateAndAddDisplayable(y,e,r)}},n.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},n.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,r=t.length;e<r;e++)this.delRoot(t[e]);else{var i=Ge(this._roots,t);i>=0&&this._roots.splice(i,1)}},n.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},n.prototype.getRoots=function(){return this._roots},n.prototype.dispose=function(){this._displayList=null,this._roots=null},n}();const fk=Qi;var IS;IS=ct.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){return setTimeout(n,16)};const Ye=IS;var tr={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return 0===n?0:Math.pow(1024,n-1)},exponentialOut:function(n){return 1===n?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return 0===n?0:1===n?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(2-Math.pow(2,-10*(n-1)))},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),-e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4))},elasticOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),e*Math.pow(2,-10*n)*Math.sin((n-t)*(2*Math.PI)/.4)+1)},elasticInOut:function(n){var t,e=.1;return 0===n?0:1===n?1:(!e||e<1?(e=1,t=.1):t=.4*Math.asin(1/e)/(2*Math.PI),(n*=2)<1?e*Math.pow(2,10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*-.5:e*Math.pow(2,-10*(n-=1))*Math.sin((n-t)*(2*Math.PI)/.4)*.5+1)},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=2.5949095;return(n*=2)<1?n*n*((t+1)*n-t)*.5:.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-tr.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?.5*tr.bounceIn(2*n):.5*tr.bounceOut(2*n-1)+.5}};const Dt=tr;var On=Math.pow,gn=Math.sqrt,Uo=1e-8,ni=1e-4,ES=gn(3),yd=1/3,Mi=Nn(),Ji=Nn(),Xc=Nn();function zt(n){return n>-Uo&&n<Uo}function Se(n){return n>Uo||n<-Uo}function Le(n,t,e,r,i){var o=1-i;return o*o*(o*n+3*i*t)+i*i*(i*r+3*o*e)}function Jt(n,t,e,r,i){var o=1-i;return 3*(((t-n)*o+2*(e-t)*i)*o+(r-e)*i*i)}function ri(n,t,e,r,i,o){var u=r+3*(t-e)-n,c=3*(e-2*t+n),h=3*(t-n),d=n-i,p=c*c-3*u*h,g=c*h-9*u*d,m=h*h-3*c*d,y=0;if(zt(p)&&zt(g))zt(c)?o[0]=0:(S=-h/c)>=0&&S<=1&&(o[y++]=S);else{var b=g*g-4*p*m;if(zt(b)){var D=g/p,C=-D/2;(S=-c/u+D)>=0&&S<=1&&(o[y++]=S),C>=0&&C<=1&&(o[y++]=C)}else if(b>0){var T=gn(b),M=p*c+1.5*u*(-g+T),I=p*c+1.5*u*(-g-T);(S=(-c-((M=M<0?-On(-M,yd):On(M,yd))+(I=I<0?-On(-I,yd):On(I,yd))))/(3*u))>=0&&S<=1&&(o[y++]=S)}else{var L=(2*p*c-3*u*g)/(2*gn(p*p*p)),E=Math.acos(L)/3,R=gn(p),O=Math.cos(E),S=(-c-2*R*O)/(3*u),k=(C=(-c+R*(O+ES*Math.sin(E)))/(3*u),(-c+R*(O-ES*Math.sin(E)))/(3*u));S>=0&&S<=1&&(o[y++]=S),C>=0&&C<=1&&(o[y++]=C),k>=0&&k<=1&&(o[y++]=k)}}return y}function Kc(n,t,e,r,i){var o=6*e-12*t+6*n,u=9*t+3*r-3*n-9*e,c=3*t-3*n,h=0;if(zt(u))Se(o)&&(d=-c/o)>=0&&d<=1&&(i[h++]=d);else{var p=o*o-4*u*c;if(zt(p))i[0]=-o/(2*u);else if(p>0){var d,g=gn(p),m=(-o-g)/(2*u);(d=(-o+g)/(2*u))>=0&&d<=1&&(i[h++]=d),m>=0&&m<=1&&(i[h++]=m)}}return h}function cn(n,t,e,r,i,o){var u=(t-n)*i+n,c=(e-t)*i+t,h=(r-e)*i+e,d=(c-u)*i+u,p=(h-c)*i+c,g=(p-d)*i+d;o[0]=n,o[1]=u,o[2]=d,o[3]=g,o[4]=g,o[5]=p,o[6]=h,o[7]=r}function cu(n,t,e,r,i,o,u,c,h,d,p){var g,S,b,D,C,m=.005,y=1/0;Mi[0]=h,Mi[1]=d;for(var T=0;T<1;T+=.05)Ji[0]=Le(n,e,i,u,T),Ji[1]=Le(t,r,o,c,T),(D=au(Mi,Ji))<y&&(g=T,y=D);y=1/0;for(var M=0;M<32&&!(m<ni);M++)b=g+m,Ji[0]=Le(n,e,i,u,S=g-m),Ji[1]=Le(t,r,o,c,S),D=au(Ji,Mi),S>=0&&D<y?(g=S,y=D):(Xc[0]=Le(n,e,i,u,b),Xc[1]=Le(t,r,o,c,b),C=au(Xc,Mi),b<=1&&C<y?(g=b,y=C):m*=.5);return p&&(p[0]=Le(n,e,i,u,g),p[1]=Le(t,r,o,c,g)),gn(y)}function Cn(n,t,e,r,i,o,u,c,h){for(var d=n,p=t,g=0,m=1/h,y=1;y<=h;y++){var S=y*m,b=Le(n,e,i,u,S),D=Le(t,r,o,c,S),C=b-d,T=D-p;g+=Math.sqrt(C*C+T*T),d=b,p=D}return g}function en(n,t,e,r){var i=1-r;return i*(i*n+2*r*t)+r*r*e}function qs(n,t,e,r){return 2*((1-r)*(t-n)+r*(e-t))}function Qc(n,t,e){var r=n+e-2*t;return 0===r?.5:(n-t)/r}function Jc(n,t,e,r,i){var o=(t-n)*r+n,u=(e-t)*r+t,c=(u-o)*r+o;i[0]=n,i[1]=o,i[2]=c,i[3]=c,i[4]=u,i[5]=e}function fu(n,t,e,r,i,o,u,c,h){var d,p=.005,g=1/0;Mi[0]=u,Mi[1]=c;for(var m=0;m<1;m+=.05)Ji[0]=en(n,e,i,m),Ji[1]=en(t,r,o,m),(y=au(Mi,Ji))<g&&(d=m,g=y);g=1/0;for(var S=0;S<32&&!(p<ni);S++){var b=d-p,D=d+p;Ji[0]=en(n,e,i,b),Ji[1]=en(t,r,o,b);var y=au(Ji,Mi);if(b>=0&&y<g)d=b,g=y;else{Xc[0]=en(n,e,i,D),Xc[1]=en(t,r,o,D);var C=au(Xc,Mi);D<=1&&C<g?(d=D,g=C):p*=.5}}return h&&(h[0]=en(n,e,i,d),h[1]=en(t,r,o,d)),gn(g)}function xn(n,t,e,r,i,o,u){for(var c=n,h=t,d=0,p=1/u,g=1;g<=u;g++){var m=g*p,y=en(n,e,i,m),S=en(t,r,o,m),b=y-c,D=S-h;d+=Math.sqrt(b*b+D*D),c=y,h=S}return d}var _d=/cubic-bezier\(([0-9,\.e ]+)\)/;function Xs(n){var t=n&&_d.exec(n);if(t){var e=t[1].split(","),r=+ei(e[0]),i=+ei(e[1]),o=+ei(e[2]),u=+ei(e[3]);if(isNaN(r+i+o+u))return;var c=[];return function(h){return h<=0?0:h>=1?1:ri(0,r,o,1,h,c)&&Le(0,i,u,1,c[0])}}}var oo=function(){function n(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||ht,this.ondestroy=t.ondestroy||ht,this.onrestart=t.onrestart||ht,t.easing&&this.setEasing(t.easing)}return n.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var r=this._life,i=t-this._startTime-this._pausedTime,o=i/r;o<0&&(o=0),o=Math.min(o,1);var u=this.easingFunc,c=u?u(o):o;if(this.onframe(c),1===o){if(!this.loop)return!0;this._startTime=t-i%r,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},n.prototype.pause=function(){this._paused=!0},n.prototype.resume=function(){this._paused=!1},n.prototype.setEasing=function(t){this.easing=t,this.easingFunc=_e(t)?t:Dt[t]||Xs(t)},n}();const Sd=oo;var PS=function n(t){this.value=t},Ks=function(){function n(){this._len=0}return n.prototype.insert=function(t){var e=new PS(t);return this.insertEntry(e),e},n.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},n.prototype.remove=function(t){var e=t.prev,r=t.next;e?e.next=r:this.head=r,r?r.prev=e:this.tail=e,t.next=t.prev=null,this._len--},n.prototype.len=function(){return this._len},n.prototype.clear=function(){this.head=this.tail=null,this._len=0},n}(),jo=function(){function n(t){this._list=new Ks,this._maxSize=10,this._map={},this._maxSize=t}return n.prototype.put=function(t,e){var r=this._list,i=this._map,o=null;if(null==i[t]){var u=r.len(),c=this._lastRemovedEntry;if(u>=this._maxSize&&u>0){var h=r.head;r.remove(h),delete i[h.key],o=h.value,this._lastRemovedEntry=h}c?c.value=e:c=new PS(e),c.key=t,r.insertEntry(c),i[t]=c}return o},n.prototype.get=function(t){var e=this._map[t],r=this._list;if(null!=e)return e!==r.tail&&(r.remove(e),r.insertEntry(e)),e.value},n.prototype.clear=function(){this._list.clear(),this._map={}},n.prototype.len=function(){return this._list.len()},n}();const Wo=jo;var ef={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Ke(n){return(n=Math.round(n))<0?0:n>255?255:n}function hu(n){return n<0?0:n>1?1:n}function zg(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?Ke(parseFloat(t)/100*255):Ke(parseInt(t,10))}function Sr(n){var t=n;return t.length&&"%"===t.charAt(t.length-1)?hu(parseFloat(t)/100):hu(parseFloat(t))}function tf(n,t,e){return e<0?e+=1:e>1&&(e-=1),6*e<1?n+(t-n)*e*6:2*e<1?t:3*e<2?n+(t-n)*(2/3-e)*6:n}function Ai(n,t,e){return n+(t-n)*e}function wr(n,t,e,r,i){return n[0]=t,n[1]=e,n[2]=r,n[3]=i,n}function zn(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n}var hk=new Wo(20),nr=null;function kn(n,t){nr&&zn(nr,t),nr=hk.put(n,nr||t.slice())}function rr(n,t){if(n){t=t||[];var e=hk.get(n);if(e)return zn(t,e);var r=(n+="").replace(/ /g,"").toLowerCase();if(r in ef)return zn(t,ef[r]),kn(n,t),t;var o,i=r.length;if("#"===r.charAt(0))return 4===i||5===i?(o=parseInt(r.slice(1,4),16))>=0&&o<=4095?(wr(t,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===i?parseInt(r.slice(4),16)/15:1),kn(n,t),t):void wr(t,0,0,0,1):7===i||9===i?(o=parseInt(r.slice(1,7),16))>=0&&o<=16777215?(wr(t,(16711680&o)>>16,(65280&o)>>8,255&o,9===i?parseInt(r.slice(7),16)/255:1),kn(n,t),t):void wr(t,0,0,0,1):void 0;var u=r.indexOf("("),c=r.indexOf(")");if(-1!==u&&c+1===i){var h=r.substr(0,u),d=r.substr(u+1,c-(u+1)).split(","),p=1;switch(h){case"rgba":if(4!==d.length)return 3===d.length?wr(t,+d[0],+d[1],+d[2],1):wr(t,0,0,0,1);p=Sr(d.pop());case"rgb":return d.length>=3?(wr(t,zg(d[0]),zg(d[1]),zg(d[2]),3===d.length?p:Sr(d[3])),kn(n,t),t):void wr(t,0,0,0,1);case"hsla":return 4!==d.length?void wr(t,0,0,0,1):(d[3]=Sr(d[3]),$o(d,t),kn(n,t),t);case"hsl":return 3!==d.length?void wr(t,0,0,0,1):($o(d,t),kn(n,t),t);default:return}}wr(t,0,0,0,1)}}function $o(n,t){var e=(parseFloat(n[0])%360+360)%360/360,r=Sr(n[1]),i=Sr(n[2]),o=i<=.5?i*(r+1):i+r-i*r,u=2*i-o;return wr(t=t||[],Ke(255*tf(u,o,e+1/3)),Ke(255*tf(u,o,e)),Ke(255*tf(u,o,e-1/3)),1),4===n.length&&(t[3]=n[3]),t}function ii(n,t){var e=rr(n);if(e){for(var r=0;r<3;r++)e[r]=t<0?e[r]*(1-t)|0:(255-e[r])*t+e[r]|0,e[r]>255?e[r]=255:e[r]<0&&(e[r]=0);return so(e,4===e.length?"rgba":"rgb")}}function LS(n){var t=rr(n);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function wd(n,t,e){if(t&&t.length&&n>=0&&n<=1){e=e||[];var r=n*(t.length-1),i=Math.floor(r),o=Math.ceil(r),u=t[i],c=t[o],h=r-i;return e[0]=Ke(Ai(u[0],c[0],h)),e[1]=Ke(Ai(u[1],c[1],h)),e[2]=Ke(Ai(u[2],c[2],h)),e[3]=hu(Ai(u[3],c[3],h)),e}}var dk=wd;function lM(n,t,e){if(t&&t.length&&n>=0&&n<=1){var r=n*(t.length-1),i=Math.floor(r),o=Math.ceil(r),u=rr(t[i]),c=rr(t[o]),h=r-i,d=so([Ke(Ai(u[0],c[0],h)),Ke(Ai(u[1],c[1],h)),Ke(Ai(u[2],c[2],h)),hu(Ai(u[3],c[3],h))],"rgba");return e?{color:d,leftIndex:i,rightIndex:o,value:r}:d}}var pk=lM;function nf(n,t,e,r){var i=rr(n);if(n)return i=function Hg(n){if(n){var h,d,t=n[0]/255,e=n[1]/255,r=n[2]/255,i=Math.min(t,e,r),o=Math.max(t,e,r),u=o-i,c=(o+i)/2;if(0===u)h=0,d=0;else{d=c<.5?u/(o+i):u/(2-o-i);var p=((o-t)/6+u/2)/u,g=((o-e)/6+u/2)/u,m=((o-r)/6+u/2)/u;t===o?h=m-g:e===o?h=1/3+p-m:r===o&&(h=2/3+g-p),h<0&&(h+=1),h>1&&(h-=1)}var y=[360*h,d,c];return null!=n[3]&&y.push(n[3]),y}}(i),null!=t&&(i[0]=function $U(n){return(n=Math.round(n))<0?0:n>360?360:n}(t)),null!=e&&(i[1]=Sr(e)),null!=r&&(i[2]=Sr(r)),so($o(i),"rgba")}function Gg(n,t){var e=rr(n);if(e&&null!=t)return e[3]=hu(t),so(e,"rgba")}function so(n,t){if(n&&n.length){var e=n[0]+","+n[1]+","+n[2];return("rgba"===t||"hsva"===t||"hsla"===t)&&(e+=","+n[3]),t+"("+e+")"}}function Ug(n,t){var e=rr(n);return e?(.299*e[0]+.587*e[1]+.114*e[2])*e[3]/255+(1-e[3])*t:0}function YU(){return so([Math.round(255*Math.random()),Math.round(255*Math.random()),Math.round(255*Math.random())],"rgb")}var jg=Math.round;function Wg(n){var t;if(n&&"transparent"!==n){if("string"==typeof n&&n.indexOf("rgba")>-1){var e=rr(n);e&&(n="rgb("+e[0]+","+e[1]+","+e[2]+")",t=e[3])}}else n="none";return{color:n,opacity:t??1}}var vk=1e-4;function du(n){return n<vk&&n>-vk}function RS(n){return jg(1e3*n)/1e3}function uM(n){return jg(1e4*n)/1e4}var cM={left:"start",right:"end",center:"middle",middle:"middle"};function Qs(n){return n&&!!n.image}function hM(n){return Qs(n)||function Js(n){return n&&!!n.svgElement}(n)}function gk(n){return"linear"===n.type}function $n(n){return"radial"===n.type}function bd(n){return n&&("linear"===n.type||"radial"===n.type)}function kr(n){return"url(#"+n+")"}function NS(n){var t=n.getGlobalScale(),e=Math.max(t[0],t[1]);return Math.max(Math.ceil(Math.log(e)/Math.log(10)),1)}function OS(n){var t=n.x||0,e=n.y||0,r=(n.rotation||0)*dd,i=ke(n.scaleX,1),o=ke(n.scaleY,1),u=n.skewX||0,c=n.skewY||0,h=[];return(t||e)&&h.push("translate("+t+"px,"+e+"px)"),r&&h.push("rotate("+r+")"),(1!==i||1!==o)&&h.push("scale("+i+","+o+")"),(u||c)&&h.push("skew("+jg(u*dd)+"deg, "+jg(c*dd)+"deg)"),h.join(" ")}var dM=ct.hasGlobalWindow&&_e(window.btoa)?function(n){return window.btoa(unescape(encodeURIComponent(n)))}:typeof Buffer<"u"?function(n){return Buffer.from(n).toString("base64")}:function(n){return null},$g=Array.prototype.slice;function Ma(n,t,e){return(t-n)*e+n}function Yg(n,t,e,r){for(var i=t.length,o=0;o<i;o++)n[o]=Ma(t[o],e[o],r);return n}function rf(n,t,e,r){for(var i=t.length,o=0;o<i;o++)n[o]=t[o]+e[o]*r;return n}function FS(n,t,e,r){for(var i=t.length,o=i&&t[0].length,u=0;u<i;u++){n[u]||(n[u]=[]);for(var c=0;c<o;c++)n[u][c]=t[u][c]+e[u][c]*r}return n}function pM(n,t){for(var e=n.length,r=t.length,i=e>r?t:n,o=Math.min(e,r),u=i[o-1]||{color:[0,0,0,0],offset:0},c=o;c<Math.max(e,r);c++)i.push({offset:u.offset,color:u.color.slice()})}function vM(n,t,e){var r=n,i=t;if(r.push&&i.push){var o=r.length,u=i.length;if(o!==u)if(o>u)r.length=u;else for(var h=o;h<u;h++)r.push(1===e?i[h]:$g.call(i[h]));var d=r[0]&&r[0].length;for(h=0;h<r.length;h++)if(1===e)isNaN(r[h])&&(r[h]=i[h]);else for(var p=0;p<d;p++)isNaN(r[h][p])&&(r[h][p]=i[h][p])}}function el(n){if(Kn(n)){var t=n.length;if(Kn(n[0])){for(var e=[],r=0;r<t;r++)e.push($g.call(n[r]));return e}return $g.call(n)}return n}function tl(n){return n[0]=Math.floor(n[0])||0,n[1]=Math.floor(n[1])||0,n[2]=Math.floor(n[2])||0,n[3]=null==n[3]?1:n[3],"rgba("+n.join(",")+")"}function HS(n){return 4===n||5===n}function sf(n){return 1===n||2===n}var Cd=[0,0,0,0],GS=function(){function n(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return n.prototype.isFinished=function(){return this._finished},n.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},n.prototype.needsAnimate=function(){return this.keyframes.length>=1},n.prototype.getAdditiveTrack=function(){return this._additiveTrack},n.prototype.addKeyframe=function(t,e,r){this._needsSort=!0;var i=this.keyframes,o=i.length,u=!1,c=6,h=e;if(Kn(e)){var d=function af(n){return Kn(n&&n[0])?2:1}(e);c=d,(1===d&&!ft(e[0])||2===d&&!ft(e[0][0]))&&(u=!0)}else if(ft(e)&&!jc(e))c=0;else if(fe(e))if(isNaN(+e)){var p=rr(e);p&&(h=p,c=3)}else c=0;else if(fd(e)){var g=J({},h);g.colorStops=re(e.colorStops,function(y){return{offset:y.offset,color:rr(y.color)}}),gk(e)?c=4:$n(e)&&(c=5),h=g}0===o?this.valType=c:(c!==this.valType||6===c)&&(u=!0),this.discrete=this.discrete||u;var m={time:t,value:h,rawValue:e,percent:0};return r&&(m.easing=r,m.easingFunc=_e(r)?r:Dt[r]||Xs(r)),i.push(m),m},n.prototype.prepare=function(t,e){var r=this.keyframes;this._needsSort&&r.sort(function(b,D){return b.time-D.time});for(var i=this.valType,o=r.length,u=r[o-1],c=this.discrete,h=sf(i),d=HS(i),p=0;p<o;p++){var g=r[p],m=g.value,y=u.value;g.percent=g.time/t,c||(h&&p!==o-1?vM(m,y,i):d&&pM(m.colorStops,y.colorStops))}if(!c&&5!==i&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var S=r[0].value;for(p=0;p<o;p++)0===i?r[p].additiveValue=r[p].value-S:3===i?r[p].additiveValue=rf([],r[p].value,S,-1):sf(i)&&(r[p].additiveValue=1===i?rf([],r[p].value,S,-1):FS([],r[p].value,S,-1))}},n.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var p,y,S,r=null!=this._additiveTrack,i=r?"additiveValue":"value",o=this.valType,u=this.keyframes,c=u.length,h=this.propName,d=3===o,g=this._lastFr,m=Math.min;if(1===c)y=S=u[0];else{if(e<0)p=0;else if(e<this._lastFrP){for(p=m(g+1,c-1);p>=0&&!(u[p].percent<=e);p--);p=m(p,c-2)}else{for(p=g;p<c&&!(u[p].percent>e);p++);p=m(p-1,c-2)}S=u[p+1],y=u[p]}if(y&&S){this._lastFr=p,this._lastFrP=e;var D=S.percent-y.percent,C=0===D?1:m((e-y.percent)/D,1);S.easingFunc&&(C=S.easingFunc(C));var T=r?this._additiveValue:d?Cd:t[h];if((sf(o)||d)&&!T&&(T=this._additiveValue=[]),this.discrete)t[h]=C<1?y.rawValue:S.rawValue;else if(sf(o))1===o?Yg(T,y[i],S[i],C):function kS(n,t,e,r){for(var i=t.length,o=i&&t[0].length,u=0;u<i;u++){n[u]||(n[u]=[]);for(var c=0;c<o;c++)n[u][c]=Ma(t[u][c],e[u][c],r)}}(T,y[i],S[i],C);else if(HS(o)){var M=y[i],I=S[i],L=4===o;t[h]={type:L?"linear":"radial",x:Ma(M.x,I.x,C),y:Ma(M.y,I.y,C),colorStops:re(M.colorStops,function(R,O){var k=I.colorStops[O];return{offset:Ma(R.offset,k.offset,C),color:tl(Yg([],R.color,k.color,C))}}),global:I.global},L?(t[h].x2=Ma(M.x2,I.x2,C),t[h].y2=Ma(M.y2,I.y2,C)):t[h].r=Ma(M.r,I.r,C)}else if(d)Yg(T,y[i],S[i],C),r||(t[h]=tl(T));else{var E=Ma(y[i],S[i],C);r?this._additiveValue=E:t[h]=E}r&&this._addToTarget(t)}}},n.prototype._addToTarget=function(t){var e=this.valType,r=this.propName,i=this._additiveValue;0===e?t[r]=t[r]+i:3===e?(rr(t[r],Cd),rf(Cd,Cd,i,1),t[r]=tl(Cd)):1===e?rf(t[r],t[r],i,1):2===e&&FS(t[r],t[r],i,1)},n}(),KU=function(){function n(t,e,r,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?Eg("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=r)}return n.prototype.getMaxTime=function(){return this._maxTime},n.prototype.getDelay=function(){return this._delay},n.prototype.getLoop=function(){return this._loop},n.prototype.getTarget=function(){return this._target},n.prototype.changeTarget=function(t){this._target=t},n.prototype.when=function(t,e,r){return this.whenWithKeys(t,e,Xe(e),r)},n.prototype.whenWithKeys=function(t,e,r,i){for(var o=this._tracks,u=0;u<r.length;u++){var c=r[u],h=o[c];if(!h){h=o[c]=new GS(c);var d=void 0,p=this._getAdditiveTrack(c);if(p){var g=p.keyframes,m=g[g.length-1];d=m&&m.value,3===p.valType&&d&&(d=tl(d))}else d=this._target[c];if(null==d)continue;t>0&&h.addKeyframe(0,el(d),i),this._trackKeys.push(c)}h.addKeyframe(t,el(e[c]),i)}return this._maxTime=Math.max(this._maxTime,t),this},n.prototype.pause=function(){this._clip.pause(),this._paused=!0},n.prototype.resume=function(){this._clip.resume(),this._paused=!1},n.prototype.isPaused=function(){return!!this._paused},n.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},n.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,r=0;r<e;r++)t[r].call(this)},n.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var r=0;r<e.length;r++)e[r].call(this)},n.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,r=0;r<e.length;r++)t[e[r]].setFinished()},n.prototype._getAdditiveTrack=function(t){var e,r=this._additiveAnimators;if(r)for(var i=0;i<r.length;i++){var o=r[i].getTrack(t);o&&(e=o)}return e},n.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,r=[],i=this._maxTime||0,o=0;o<this._trackKeys.length;o++){var u=this._trackKeys[o],c=this._tracks[u],h=this._getAdditiveTrack(u),d=c.keyframes,p=d.length;if(c.prepare(i,h),c.needsAnimate())if(!this._allowDiscrete&&c.discrete){var g=d[p-1];g&&(e._target[c.propName]=g.rawValue),c.setFinished()}else r.push(c)}if(r.length||this._force){var m=new Sd({life:i,loop:this._loop,delay:this._delay||0,onframe:function(y){e._started=2;var S=e._additiveAnimators;if(S){for(var b=!1,D=0;D<S.length;D++)if(S[D]._clip){b=!0;break}b||(e._additiveAnimators=null)}for(D=0;D<r.length;D++)r[D].step(e._target,y);var C=e._onframeCbs;if(C)for(D=0;D<C.length;D++)C[D](e._target,y)},ondestroy:function(){e._doneCallback()}});this._clip=m,this.animation&&this.animation.addClip(m),t&&m.setEasing(t)}else this._doneCallback();return this}},n.prototype.stop=function(t){this._clip&&(t&&this._clip.onframe(1),this._abortedCallback())},n.prototype.delay=function(t){return this._delay=t,this},n.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},n.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},n.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},n.prototype.getClip=function(){return this._clip},n.prototype.getTrack=function(t){return this._tracks[t]},n.prototype.getTracks=function(){var t=this;return re(this._trackKeys,function(e){return t._tracks[e]})},n.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var r=this._tracks,i=this._trackKeys,o=0;o<t.length;o++){var u=r[t[o]];u&&!u.isFinished()&&(e?u.step(this._target,1):1===this._started&&u.step(this._target,0),u.setFinished())}var c=!0;for(o=0;o<i.length;o++)if(!r[i[o]].isFinished()){c=!1;break}return c&&this._abortedCallback(),c},n.prototype.saveTo=function(t,e,r){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var o=e[i],u=this._tracks[o];if(u&&!u.isFinished()){var c=u.keyframes,h=c[r?0:c.length-1];h&&(t[o]=el(h.rawValue))}}}},n.prototype.__changeFinalValue=function(t,e){e=e||Xe(t);for(var r=0;r<e.length;r++){var i=e[r],o=this._tracks[i];if(o){var u=o.keyframes;if(u.length>1){var c=u.pop();o.addKeyframe(c.time,t[i]),o.prepare(this._maxTime,o.getAdditiveTrack())}}}},n}();const gM=KU;function lf(){return(new Date).getTime()}var mM=function(n){function t(e){var r=n.call(this)||this;return r._running=!1,r._time=0,r._pausedTime=0,r._pauseStart=0,r._paused=!1,r.stage=(e=e||{}).stage||{},r}return ye(t,n),t.prototype.addClip=function(e){e.animation&&this.removeClip(e),this._head?(this._tail.next=e,e.prev=this._tail,e.next=null,this._tail=e):this._head=this._tail=e,e.animation=this},t.prototype.addAnimator=function(e){e.animation=this;var r=e.getClip();r&&this.addClip(r)},t.prototype.removeClip=function(e){if(e.animation){var r=e.prev,i=e.next;r?r.next=i:this._head=i,i?i.prev=r:this._tail=r,e.next=e.prev=e.animation=null}},t.prototype.removeAnimator=function(e){var r=e.getClip();r&&this.removeClip(r),e.animation=null},t.prototype.update=function(e){for(var r=lf()-this._pausedTime,i=r-this._time,o=this._head;o;){var u=o.next;o.step(r,i)&&(o.ondestroy(),this.removeClip(o)),o=u}this._time=r,e||(this.trigger("frame",i),this.stage.update&&this.stage.update())},t.prototype._startLoop=function(){var e=this;this._running=!0,Ye(function r(){e._running&&(Ye(r),!e._paused&&e.update())})},t.prototype.start=function(){this._running||(this._time=lf(),this._pausedTime=0,this._startLoop())},t.prototype.stop=function(){this._running=!1},t.prototype.pause=function(){this._paused||(this._pauseStart=lf(),this._paused=!0)},t.prototype.resume=function(){this._paused&&(this._pausedTime+=lf()-this._pauseStart,this._paused=!1)},t.prototype.clear=function(){for(var e=this._head;e;){var r=e.next;e.prev=e.next=e.animation=null,e=r}this._head=this._tail=null},t.prototype.isFinished=function(){return null==this._head},t.prototype.animate=function(e,r){r=r||{},this.start();var i=new gM(e,r.loop);return this.addAnimator(i),i},t}($i);const yM=mM;var US=ct.domSupported,jS=function(){var n=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],e={pointerdown:1,pointerup:1,pointermove:1,pointerout:1};return{mouse:n,touch:["touchstart","touchend","touchmove"],pointer:re(n,function(i){var o=i.replace("mouse","pointer");return e.hasOwnProperty(o)?o:i})}}(),WS_mouse=["mousemove","mouseup"],WS_pointer=["pointermove","pointerup"],_M=!1;function qg(n){var t=n.pointerType;return"pen"===t||"touch"===t}function SM(n){n&&(n.zrByTouch=!0)}function ai(n,t){for(var e=t,r=!1;e&&9!==e.nodeType&&!(r=e.domBelongToZr||e!==t&&e===n.painterRoot);)e=e.parentNode;return r}var wM=function n(t,e){this.stopPropagation=ht,this.stopImmediatePropagation=ht,this.preventDefault=ht,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},Aa={mousedown:function(n){n=Ta(this.dom,n),this.__mayPointerCapture=[n.zrX,n.zrY],this.trigger("mousedown",n)},mousemove:function(n){n=Ta(this.dom,n);var t=this.__mayPointerCapture;t&&(n.zrX!==t[0]||n.zrY!==t[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",n)},mouseup:function(n){n=Ta(this.dom,n),this.__togglePointerCapture(!1),this.trigger("mouseup",n)},mouseout:function(n){ai(this,(n=Ta(this.dom,n)).toElement||n.relatedTarget)||(this.__pointerCapturing&&(n.zrEventControl="no_globalout"),this.trigger("mouseout",n))},wheel:function(n){_M=!0,n=Ta(this.dom,n),this.trigger("mousewheel",n)},mousewheel:function(n){_M||(n=Ta(this.dom,n),this.trigger("mousewheel",n))},touchstart:function(n){SM(n=Ta(this.dom,n)),this.__lastTouchMoment=new Date,this.handler.processGesture(n,"start"),Aa.mousemove.call(this,n),Aa.mousedown.call(this,n)},touchmove:function(n){SM(n=Ta(this.dom,n)),this.handler.processGesture(n,"change"),Aa.mousemove.call(this,n)},touchend:function(n){SM(n=Ta(this.dom,n)),this.handler.processGesture(n,"end"),Aa.mouseup.call(this,n),+new Date-+this.__lastTouchMoment<300&&Aa.click.call(this,n)},pointerdown:function(n){Aa.mousedown.call(this,n)},pointermove:function(n){qg(n)||Aa.mousemove.call(this,n)},pointerup:function(n){Aa.mouseup.call(this,n)},pointerout:function(n){qg(n)||Aa.mouseout.call(this,n)}};F(["click","dblclick","contextmenu"],function(n){Aa[n]=function(t){t=Ta(this.dom,t),this.trigger(n,t)}});var $S={pointermove:function(n){qg(n)||$S.mousemove.call(this,n)},pointerup:function(n){$S.mouseup.call(this,n)},mousemove:function(n){this.trigger("mousemove",n)},mouseup:function(n){var t=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",n),t&&(n.zrEventControl="only_globalout",this.trigger("mouseout",n))}};function Xg(n,t,e,r){n.mounted[t]=e,n.listenerOpts[t]=r,ou(n.domTarget,t,e,r)}function xd(n){var t=n.mounted;for(var e in t)t.hasOwnProperty(e)&&bS(n.domTarget,e,t[e],n.listenerOpts[e]);n.mounted={}}var CM=function n(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e},lo=function(n){function t(e,r){var i=n.call(this)||this;return i.__pointerCapturing=!1,i.dom=e,i.painterRoot=r,i._localHandlerScope=new CM(e,Aa),US&&(i._globalHandlerScope=new CM(document,$S)),function bM(n,t){var e=t.domHandlers;ct.pointerEventsSupported?F(jS.pointer,function(r){Xg(t,r,function(i){e[r].call(n,i)})}):(ct.touchEventsSupported&&F(jS.touch,function(r){Xg(t,r,function(i){e[r].call(n,i),function Sk(n){n.touching=!0,null!=n.touchTimer&&(clearTimeout(n.touchTimer),n.touchTimer=null),n.touchTimer=setTimeout(function(){n.touching=!1,n.touchTimer=null},700)}(t)})}),F(jS.mouse,function(r){Xg(t,r,function(i){i=YT(i),t.touching||e[r].call(n,i)})}))}(i,i._localHandlerScope),i}return ye(t,n),t.prototype.dispose=function(){xd(this._localHandlerScope),US&&xd(this._globalHandlerScope)},t.prototype.setCursor=function(e){this.dom.style&&(this.dom.style.cursor=e||"default")},t.prototype.__togglePointerCapture=function(e){if(this.__mayPointerCapture=null,US&&+this.__pointerCapturing^+e){this.__pointerCapturing=e;var r=this._globalHandlerScope;e?function DM(n,t){function e(r){Xg(t,r,function i(o){o=YT(o),ai(n,o.target)||(o=function wk(n,t){return Ta(n.dom,new wM(n,t),!0)}(n,o),t.domHandlers[r].call(n,o))},{capture:!0})}ct.pointerEventsSupported?F(WS_pointer,e):ct.touchEventsSupported||F(WS_mouse,e)}(this,r):xd(r)}},t}($i);const xM=lo;var YS=1;ct.hasGlobalWindow&&(YS=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var uf=YS,br="#333",ZS="#ccc",pu=Zi;function vu(n){return n>5e-5||n<-5e-5}var gu=[],ff=[],uo=[1,0,0,1,0,0],Kg=Math.abs,bk=function(){function n(){}return n.prototype.getLocalTransform=function(t){return n.getLocalTransform(this,t)},n.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},n.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},n.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},n.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},n.prototype.needLocalTransform=function(){return vu(this.rotation)||vu(this.x)||vu(this.y)||vu(this.scaleX-1)||vu(this.scaleY-1)||vu(this.skewX)||vu(this.skewY)},n.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),r=this.transform;e||t?(r=r||[1,0,0,1,0,0],e?this.getLocalTransform(r):pu(r),t&&(e?Ae(r,t,r):kg(r,t)),this.transform=r,this._resolveGlobalScaleRatio(r)):r&&(pu(r),this.invTransform=null)},n.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(gu);var r=gu[0]<0?-1:1,i=gu[1]<0?-1:1,o=((gu[0]-r)*e+r)/gu[0]||0,u=((gu[1]-i)*e+i)/gu[1]||0;t[0]*=o,t[1]*=o,t[2]*=u,t[3]*=u}this.invTransform=this.invTransform||[1,0,0,1,0,0],Ho(this.invTransform,t)},n.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},n.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],r=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),o=Math.PI/2+i-Math.atan2(t[3],t[2]);r=Math.sqrt(r)*Math.cos(o),e=Math.sqrt(e),this.skewX=o,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=r,this.originX=0,this.originY=0}},n.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(Ae(ff,t.invTransform,e),e=ff);var r=this.originX,i=this.originY;(r||i)&&(uo[4]=r,uo[5]=i,Ae(ff,e,uo),ff[4]-=r,ff[5]-=i,e=ff),this.setLocalTransform(e)}},n.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},n.prototype.transformCoordToLocal=function(t,e){var r=[t,e],i=this.invTransform;return i&&Wn(r,r,i),r},n.prototype.transformCoordToGlobal=function(t,e){var r=[t,e],i=this.transform;return i&&Wn(r,r,i),r},n.prototype.getLineScale=function(){var t=this.transform;return t&&Kg(t[0]-1)>1e-10&&Kg(t[3]-1)>1e-10?Math.sqrt(Kg(t[0]*t[3]-t[2]*t[1])):1},n.prototype.copyTransform=function(t){qS(this,t)},n.getLocalTransform=function(t,e){e=e||[];var r=t.originX||0,i=t.originY||0,o=t.scaleX,u=t.scaleY,c=t.anchorX,h=t.anchorY,d=t.rotation||0,p=t.x,g=t.y,m=t.skewX?Math.tan(t.skewX):0,y=t.skewY?Math.tan(-t.skewY):0;if(r||i||c||h){var S=r+c,b=i+h;e[4]=-S*o-m*b*u,e[5]=-b*u-y*S*o}else e[4]=e[5]=0;return e[0]=o,e[3]=u,e[1]=y*o,e[2]=m*u,d&&ge(e,e,d),e[4]+=r+p,e[5]+=i+g,e},n.initDefaultProps=function(){var t=n.prototype;t.scaleX=t.scaleY=t.globalScaleRatio=1,t.x=t.y=t.originX=t.originY=t.skewX=t.skewY=t.rotation=t.anchorX=t.anchorY=0}(),n}(),Ia=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function qS(n,t){for(var e=0;e<Ia.length;e++){var r=Ia[e];n[r]=t[r]}}const co=bk;var MM={};function Ne(n,t){var e=MM[t=t||Us];e||(e=MM[t]=new Wo(500));var r=e.get(n);return null==r&&(r=eo.measureText(n,t).width,e.put(n,r)),r}function XS(n,t,e,r){var i=Ne(n,t),o=Jg(t),u=Td(0,i,e),c=hf(0,o,r);return new Be(u,c,i,o)}function Qg(n,t,e,r){var i=((n||"")+"").split("\n");if(1===i.length)return XS(i[0],t,e,r);for(var u=new Be(0,0,0,0),c=0;c<i.length;c++){var h=XS(i[c],t,e,r);0===c?u.copy(h):u.union(h)}return u}function Td(n,t,e){return"right"===e?n-=t:"center"===e&&(n-=t/2),n}function hf(n,t,e){return"middle"===e?n-=t/2:"bottom"===e&&(n-=t),n}function Jg(n){return Ne("\u56fd",n)}function Dr(n,t){return"string"==typeof n?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function em(n,t,e){var r=t.position||"inside",i=null!=t.distance?t.distance:5,o=e.height,u=e.width,c=o/2,h=e.x,d=e.y,p="left",g="top";if(r instanceof Array)h+=Dr(r[0],e.width),d+=Dr(r[1],e.height),p=null,g=null;else switch(r){case"left":h-=i,d+=c,p="right",g="middle";break;case"right":h+=i+u,d+=c,g="middle";break;case"top":h+=u/2,d-=i,p="center",g="bottom";break;case"bottom":h+=u/2,d+=o+i,p="center";break;case"inside":h+=u/2,d+=c,p="center",g="middle";break;case"insideLeft":h+=i,d+=c,g="middle";break;case"insideRight":h+=u-i,d+=c,p="right",g="middle";break;case"insideTop":h+=u/2,d+=i,p="center";break;case"insideBottom":h+=u/2,d+=o-i,p="center",g="bottom";break;case"insideTopLeft":h+=i,d+=i;break;case"insideTopRight":h+=u-i,d+=i,p="right";break;case"insideBottomLeft":h+=i,d+=o-i,g="bottom";break;case"insideBottomRight":h+=u-i,d+=o-i,p="right",g="bottom"}return(n=n||{}).x=h,n.y=d,n.align=p,n.verticalAlign=g,n}var KS="__zr_normal__",QS=Ia.concat(["ignore"]),Ck=Di(Ia,function(n,t){return n[t]=!0,n},{ignore:!1}),df={},ae=new Be(0,0,0,0),_t=function(){function n(t){this.id=Ig(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return n.prototype._init=function(t){this.attr(t)},n.prototype.drift=function(t,e,r){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},n.prototype.beforeUpdate=function(){},n.prototype.afterUpdate=function(){},n.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},n.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var r=this.textConfig,i=r.local,o=e.innerTransformable,u=void 0,c=void 0,h=!1;o.parent=i?this:null;var d=!1;if(o.copyTransform(e),null!=r.position){var p=ae;p.copy(r.layoutRect?r.layoutRect:this.getBoundingRect()),i||p.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(df,r,p):em(df,r,p),o.x=df.x,o.y=df.y,u=df.align,c=df.verticalAlign;var g=r.origin;if(g&&null!=r.rotation){var m=void 0,y=void 0;"center"===g?(m=.5*p.width,y=.5*p.height):(m=Dr(g[0],p.width),y=Dr(g[1],p.height)),d=!0,o.originX=-o.x+m+(i?0:p.x),o.originY=-o.y+y+(i?0:p.y)}}null!=r.rotation&&(o.rotation=r.rotation);var S=r.offset;S&&(o.x+=S[0],o.y+=S[1],d||(o.originX=-S[0],o.originY=-S[1]));var b=null==r.inside?"string"==typeof r.position&&r.position.indexOf("inside")>=0:r.inside,D=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),C=void 0,T=void 0,M=void 0;b&&this.canBeInsideText()?(T=r.insideStroke,(null==(C=r.insideFill)||"auto"===C)&&(C=this.getInsideTextFill()),(null==T||"auto"===T)&&(T=this.getInsideTextStroke(C),M=!0)):(T=r.outsideStroke,(null==(C=r.outsideFill)||"auto"===C)&&(C=this.getOutsideFill()),(null==T||"auto"===T)&&(T=this.getOutsideStroke(C),M=!0)),((C=C||"#000")!==D.fill||T!==D.stroke||M!==D.autoStroke||u!==D.align||c!==D.verticalAlign)&&(h=!0,D.fill=C,D.stroke=T,D.autoStroke=M,D.align=u,D.verticalAlign=c,e.setDefaultTextStyle(D)),e.__dirty|=Ti,h&&e.dirtyStyle(!0)}},n.prototype.canBeInsideText=function(){return!0},n.prototype.getInsideTextFill=function(){return"#fff"},n.prototype.getInsideTextStroke=function(t){return"#000"},n.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?ZS:br},n.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),r="string"==typeof e&&rr(e);r||(r=[255,255,255,1]);for(var i=r[3],o=this.__zr.isDarkMode(),u=0;u<3;u++)r[u]=r[u]*i+(o?0:255)*(1-i);return r[3]=1,so(r,"rgba")},n.prototype.traverse=function(t,e){},n.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},J(this.extra,e)):this[t]=e},n.prototype.hide=function(){this.ignore=!0,this.markRedraw()},n.prototype.show=function(){this.ignore=!1,this.markRedraw()},n.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(xe(t))for(var i=Xe(t),o=0;o<i.length;o++){var u=i[o];this.attrKV(u,t[u])}return this.markRedraw(),this},n.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,r=0;r<this.animators.length;r++){var i=this.animators[r],o=i.__fromStateTransition;if(!(i.getLoop()||o&&o!==KS)){var u=i.targetName;i.saveTo(u?e[u]:e)}}},n.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,QS)},n.prototype._savePrimaryToNormal=function(t,e,r){for(var i=0;i<r.length;i++){var o=r[i];null!=t[o]&&!(o in e)&&(e[o]=this[o])}},n.prototype.hasState=function(){return this.currentStates.length>0},n.prototype.getState=function(t){return this.states[t]},n.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},n.prototype.clearStates=function(t){this.useState(KS,!1,t)},n.prototype.useState=function(t,e,r,i){var o=t===KS;if(this.hasState()||!o){var c=this.currentStates,h=this.stateTransition;if(!(Ge(c,t)>=0)||!e&&1!==c.length){var d;if(this.stateProxy&&!o&&(d=this.stateProxy(t)),d||(d=this.states&&this.states[t]),!d&&!o)return void Eg("State "+t+" not exists.");o||this.saveCurrentToNormalState(d);var p=!!(d&&d.hoverLayer||i);p&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,d,this._normalState,e,!r&&!this.__inHover&&h&&h.duration>0,h);var g=this._textContent,m=this._textGuide;return g&&g.useState(t,e,r,p),m&&m.useState(t,e,r,p),o?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ti),d}}},n.prototype.useStates=function(t,e,r){if(t.length){var i=[],o=this.currentStates,u=t.length,c=u===o.length;if(c)for(var h=0;h<u;h++)if(t[h]!==o[h]){c=!1;break}if(c)return;for(h=0;h<u;h++){var d=t[h],p=void 0;this.stateProxy&&(p=this.stateProxy(d,t)),p||(p=this.states[d]),p&&i.push(p)}var g=i[u-1],m=!!(g&&g.hoverLayer||r);m&&this._toggleHoverLayerFlag(!0);var y=this._mergeStates(i),S=this.stateTransition;this.saveCurrentToNormalState(y),this._applyStateObj(t.join(","),y,this._normalState,!1,!e&&!this.__inHover&&S&&S.duration>0,S);var b=this._textContent,D=this._textGuide;b&&b.useStates(t,e,m),D&&D.useStates(t,e,m),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!m&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~Ti)}else this.clearStates()},n.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},n.prototype.removeState=function(t){var e=Ge(this.currentStates,t);if(e>=0){var r=this.currentStates.slice();r.splice(e,1),this.useStates(r)}},n.prototype.replaceState=function(t,e,r){var i=this.currentStates.slice(),o=Ge(i,t),u=Ge(i,e)>=0;o>=0?u?i.splice(o,1):i[o]=e:r&&!u&&i.push(e),this.useStates(i)},n.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},n.prototype._mergeStates=function(t){for(var r,e={},i=0;i<t.length;i++){var o=t[i];J(e,o),o.textConfig&&J(r=r||{},o.textConfig)}return r&&(e.textConfig=r),e},n.prototype._applyStateObj=function(t,e,r,i,o,u){var c=!(e&&i);e&&e.textConfig?(this.textConfig=J({},i?this.textConfig:r.textConfig),J(this.textConfig,e.textConfig)):c&&r.textConfig&&(this.textConfig=r.textConfig);for(var h={},d=!1,p=0;p<QS.length;p++){var g=QS[p],m=o&&Ck[g];e&&null!=e[g]?m?(d=!0,h[g]=e[g]):this[g]=e[g]:c&&null!=r[g]&&(m?(d=!0,h[g]=r[g]):this[g]=r[g])}if(!o)for(p=0;p<this.animators.length;p++){var y=this.animators[p],S=y.targetName;y.getLoop()||y.__changeFinalValue(S?(e||r)[S]:e||r)}d&&this._transitionState(t,h,u)},n.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},n.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},n.prototype.getClipPath=function(){return this._clipPath},n.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},n.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},n.prototype.getTextContent=function(){return this._textContent},n.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new co,this._attachComponent(t),this._textContent=t,this.markRedraw())},n.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),J(this.textConfig,t),this.markRedraw()},n.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},n.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},n.prototype.getTextGuideLine=function(){return this._textGuide},n.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},n.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},n.prototype.markRedraw=function(){this.__dirty|=Ti;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},n.prototype.dirty=function(){this.markRedraw()},n.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,r=this._textGuide;e&&(e.__inHover=t),r&&(r.__inHover=t)},n.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.addAnimator(e[r]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},n.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var r=0;r<e.length;r++)t.animation.removeAnimator(e[r]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},n.prototype.animate=function(t,e,r){var o=new gM(t?this[t]:this,e,r);return t&&(o.targetName=t),this.addAnimator(o,t),o},n.prototype.addAnimator=function(t,e){var r=this.__zr,i=this;t.during(function(){i.updateDuringAnimation(e)}).done(function(){var o=i.animators,u=Ge(o,t);u>=0&&o.splice(u,1)}),this.animators.push(t),r&&r.animation.addAnimator(t),r&&r.wakeUp()},n.prototype.updateDuringAnimation=function(t){this.markRedraw()},n.prototype.stopAnimation=function(t,e){for(var r=this.animators,i=r.length,o=[],u=0;u<i;u++){var c=r[u];t&&t!==c.scope?o.push(c):c.stop(e)}return this.animators=o,this},n.prototype.animateTo=function(t,e,r){JS(this,t,e,r)},n.prototype.animateFrom=function(t,e,r){JS(this,t,e,r,!0)},n.prototype._transitionState=function(t,e,r,i){for(var o=JS(this,e,r,i),u=0;u<o.length;u++)o[u].__fromStateTransition=t},n.prototype.getBoundingRect=function(){return null},n.prototype.getPaintRect=function(){return null},n.initDefaultProps=function(){var t=n.prototype;function i(o,u,c,h){function d(p,g){Object.defineProperty(g,0,{get:function(){return p[c]},set:function(m){p[c]=m}}),Object.defineProperty(g,1,{get:function(){return p[h]},set:function(m){p[h]=m}})}Object.defineProperty(t,o,{get:function(){return this[u]||d(this,this[u]=[]),this[u]},set:function(p){this[c]=p[0],this[h]=p[1],this[u]=p,d(this,p)}})}t.type="element",t.name="",t.ignore=t.silent=t.isGroup=t.draggable=t.dragging=t.ignoreClip=t.__inHover=!1,t.__dirty=Ti,Object.defineProperty&&(i("position","_legacyPos","x","y"),i("scale","_legacyScale","scaleX","scaleY"),i("origin","_legacyOrigin","originX","originY"))}(),n}();function JS(n,t,e,r,i){var o=[];tm(n,"",n,t,e=e||{},r,o,i);var u=o.length,c=!1,h=e.done,d=e.aborted,p=function(){c=!0,--u<=0&&(c?h&&h():d&&d())},g=function(){--u<=0&&(c?h&&h():d&&d())};u||h&&h(),o.length>0&&e.during&&o[0].during(function(S,b){e.during(b)});for(var m=0;m<o.length;m++){var y=o[m];p&&y.done(p),g&&y.aborted(g),e.force&&y.duration(e.duration),y.start(e.easing)}return o}function ew(n,t,e){for(var r=0;r<e;r++)n[r]=t[r]}function AM(n,t,e){if(Kn(t[e]))if(Kn(n[e])||(n[e]=[]),Jr(t[e])){var r=t[e].length;n[e].length!==r&&(n[e]=new t[e].constructor(r),ew(n[e],t[e],r))}else{var i=t[e],o=n[e],u=i.length;if(function ir(n){return Kn(n[0])}(i))for(var c=i[0].length,h=0;h<u;h++)o[h]?ew(o[h],i[h],c):o[h]=Array.prototype.slice.call(i[h]);else ew(o,i,u);o.length=i.length}else n[e]=t[e]}function tm(n,t,e,r,i,o,u,c){for(var h=Xe(r),d=i.duration,p=i.delay,g=i.additive,m=i.setToFinal,y=!xe(o),S=n.animators,b=[],D=0;D<h.length;D++){var T=r[C=h[D]];if(null!=T&&null!=e[C]&&(y||o[C]))if(!xe(T)||Kn(T)||fd(T))b.push(C);else{if(t){c||(e[C]=T,n.updateDuringAnimation(t));continue}tm(n,C,e[C],T,i,o&&o[C],u,c)}else c||(e[C]=T,n.updateDuringAnimation(t),b.push(C))}var M=b.length;if(!g&&M)for(var I=0;I<S.length;I++)if((L=S[I]).targetName===t&&L.stopTracks(b)){var R=Ge(S,L);S.splice(R,1)}if(i.force||(b=yt(b,function(B){return!function Md(n,t){return n===t||Kn(n)&&Kn(t)&&function fo(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++)if(n[r]!==t[r])return!1;return!0}(n,t)}(r[B],e[B])}),M=b.length),M>0||i.force&&!u.length){var L,O=void 0,k=void 0,V=void 0;if(c)for(k={},m&&(O={}),I=0;I<M;I++)k[C=b[I]]=e[C],m?O[C]=r[C]:e[C]=r[C];else if(m)for(V={},I=0;I<M;I++){var C;V[C=b[I]]=el(e[C]),AM(e,r,C)}(L=new gM(e,!1,!1,g?yt(S,function(H){return H.targetName===t}):null)).targetName=t,i.scope&&(L.scope=i.scope),m&&O&&L.whenWithKeys(0,O,b),V&&L.whenWithKeys(0,V,b),L.whenWithKeys(d??500,c?k:r,b).delay(p||0),n.addAnimator(L,t),u.push(L)}}un(_t,$i),un(_t,co);const nm=_t;var IM=function(n){function t(e){var r=n.call(this)||this;return r.isGroup=!0,r._children=[],r.attr(e),r}return ye(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.children=function(){return this._children.slice()},t.prototype.childAt=function(e){return this._children[e]},t.prototype.childOfName=function(e){for(var r=this._children,i=0;i<r.length;i++)if(r[i].name===e)return r[i]},t.prototype.childCount=function(){return this._children.length},t.prototype.add=function(e){return e&&e!==this&&e.parent!==this&&(this._children.push(e),this._doAdd(e)),this},t.prototype.addBefore=function(e,r){if(e&&e!==this&&e.parent!==this&&r&&r.parent===this){var i=this._children,o=i.indexOf(r);o>=0&&(i.splice(o,0,e),this._doAdd(e))}return this},t.prototype.replace=function(e,r){var i=Ge(this._children,e);return i>=0&&this.replaceAt(r,i),this},t.prototype.replaceAt=function(e,r){var i=this._children,o=i[r];if(e&&e!==this&&e.parent!==this&&e!==o){i[r]=e,o.parent=null;var u=this.__zr;u&&o.removeSelfFromZr(u),this._doAdd(e)}return this},t.prototype._doAdd=function(e){e.parent&&e.parent.remove(e),e.parent=this;var r=this.__zr;r&&r!==e.__zr&&e.addSelfToZr(r),r&&r.refresh()},t.prototype.remove=function(e){var r=this.__zr,i=this._children,o=Ge(i,e);return o<0||(i.splice(o,1),e.parent=null,r&&e.removeSelfFromZr(r),r&&r.refresh()),this},t.prototype.removeAll=function(){for(var e=this._children,r=this.__zr,i=0;i<e.length;i++){var o=e[i];r&&o.removeSelfFromZr(r),o.parent=null}return e.length=0,this},t.prototype.eachChild=function(e,r){for(var i=this._children,o=0;o<i.length;o++)e.call(r,i[o],o);return this},t.prototype.traverse=function(e,r){for(var i=0;i<this._children.length;i++){var o=this._children[i],u=e.call(r,o);o.isGroup&&!u&&o.traverse(e,r)}return this},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].addSelfToZr(e)},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].removeSelfFromZr(e)},t.prototype.getBoundingRect=function(e){for(var r=new Be(0,0,0,0),i=e||this._children,o=[],u=null,c=0;c<i.length;c++){var h=i[c];if(!h.ignore&&!h.invisible){var d=h.getBoundingRect(),p=h.getLocalTransform(o);p?(Be.applyTransform(r,d,p),(u=u||r.clone()).union(r)):(u=u||d.clone()).union(d)}}return u||r},t}(nm);IM.prototype.type="group";const Ee=IM;var Ad={},Tn={},pf=function(){function n(t,e,r){var i=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,r=r||{},this.dom=e,this.id=t;var o=new fk,u=r.renderer||"canvas";Ad[u]||(u=Xe(Ad)[0]),r.useDirtyRect=null!=r.useDirtyRect&&r.useDirtyRect;var c=new Ad[u](e,o,r,t),h=r.ssr||c.ssrOnly;this.storage=o,this.painter=c;var y,d=ct.node||ct.worker||h?null:new xM(c.getViewportRoot(),c.root),p=r.useCoarsePointer;(null==p||"auto"===p?ct.touchEventsSupported:!!p)&&(y=ke(r.pointerSize,44)),this.handler=new nM(o,c,d,c.root,y),this.animation=new yM({stage:{update:h?null:function(){return i._flush(!0)}}}),h||this.animation.start()}return n.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},n.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},n.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},n.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function EM(n){if(!n)return!1;if("string"==typeof n)return Ug(n,1)<.4;if(n.colorStops){for(var t=n.colorStops,e=0,r=t.length,i=0;i<r;i++)e+=Ug(t[i].color,1);return(e/=r)<.4}return!1}(t)},n.prototype.getBackgroundColor=function(){return this._backgroundColor},n.prototype.setDarkMode=function(t){this._darkMode=t},n.prototype.isDarkMode=function(){return this._darkMode},n.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},n.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},n.prototype.flush=function(){this._flush(!1)},n.prototype._flush=function(t){var e,r=lf();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=lf();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-r})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},n.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},n.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},n.prototype.refreshHover=function(){this._needsRefreshHover=!0},n.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},n.prototype.resize=function(t){this.painter.resize((t=t||{}).width,t.height),this.handler.resize()},n.prototype.clearAnimation=function(){this.animation.clear()},n.prototype.getWidth=function(){return this.painter.getWidth()},n.prototype.getHeight=function(){return this.painter.getHeight()},n.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},n.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},n.prototype.on=function(t,e,r){return this.handler.on(t,e,r),this},n.prototype.off=function(t,e){this.handler.off(t,e)},n.prototype.trigger=function(t,e){this.handler.trigger(t,e)},n.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof Ee&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},n.prototype.dispose=function(){this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,function Yo(n){delete Tn[n]}(this.id)},n}();function Ea(n,t){var e=new pf(Ig(),n,t);return Tn[e.id]=e,e}function xk(n){n.dispose()}function PM(){for(var n in Tn)Tn.hasOwnProperty(n)&&Tn[n].dispose();Tn={}}function Tk(n){return Tn[n]}function LM(n,t){Ad[n]=t}var tw="5.4.4",rm=1e-4,nw=20;function Ct(n,t,e,r){var i=t[0],o=t[1],u=e[0],c=e[1],h=o-i,d=c-u;if(0===h)return 0===d?u:(u+c)/2;if(r)if(h>0){if(n<=i)return u;if(n>=o)return c}else{if(n>=i)return u;if(n<=o)return c}else{if(n===i)return u;if(n===o)return c}return(n-i)/h*d+u}function le(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return fe(n)?function rw(n){return n.replace(/^\s+|\s+$/g,"")}(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):null==n?NaN:+n}function Kt(n,t,e){return null==t&&(t=10),t=Math.min(Math.max(0,t),nw),n=(+n).toFixed(t),e?n:+n}function si(n){return n.sort(function(t,e){return t-e}),n}function ea(n){if(n=+n,isNaN(n))return 0;if(n>1e-14)for(var t=1,e=0;e<15;e++,t*=10)if(Math.round(n*t)/t===n)return e;return iw(n)}function iw(n){var t=n.toString().toLowerCase(),e=t.indexOf("e"),r=e>0?+t.slice(e+1):0,i=e>0?e:t.length,o=t.indexOf(".");return Math.max(0,(o<0?0:i-1-o)-r)}function im(n,t){var e=Math.log,r=Math.LN10,i=Math.floor(e(n[1]-n[0])/r),o=Math.round(e(Math.abs(t[1]-t[0]))/r),u=Math.min(Math.max(-i+o,0),20);return isFinite(u)?u:20}function aw(n,t,e){return n[t]&&RM(n,e)[t]||0}function RM(n,t){var e=Di(n,function(y,S){return y+(isNaN(S)?0:S)},0);if(0===e)return[];for(var r=Math.pow(10,t),i=re(n,function(y){return(isNaN(y)?0:y)/e*r*100}),o=100*r,u=re(i,function(y){return Math.floor(y)}),c=Di(u,function(y,S){return y+S},0),h=re(i,function(y,S){return y-u[S]});c<o;){for(var d=Number.NEGATIVE_INFINITY,p=null,g=0,m=h.length;g<m;++g)h[g]>d&&(d=h[g],p=g);++u[p],h[p]=0,++c}return re(u,function(y){return y/r})}function Mk(n,t){var e=Math.max(ea(n),ea(t)),r=n+t;return e>nw?r:Kt(r,e)}var ar=9007199254740991;function Zo(n){var t=2*Math.PI;return(n%t+t)%t}function Yt(n){return n>-rm&&n<rm}var Ak=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function Ii(n){if(n instanceof Date)return n;if(fe(n)){var t=Ak.exec(n);if(!t)return new Date(NaN);if(t[8]){var e=+t[4]||0;return"Z"!==t[8].toUpperCase()&&(e-=+t[8].slice(0,3)),new Date(Date.UTC(+t[1],+(t[2]||1)-1,+t[3]||1,e,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0))}return new Date(+t[1],+(t[2]||1)-1,+t[3]||1,+t[4]||0,+(t[5]||0),+t[6]||0,t[7]?+t[7].substring(0,3):0)}return null==n?new Date(NaN):new Date(Math.round(n))}function NM(n){return Math.pow(10,am(n))}function am(n){if(0===n)return 0;var t=Math.floor(Math.log(n)/Math.LN10);return n/Math.pow(10,t)>=10&&t++,t}function om(n,t){var e=am(n),r=Math.pow(10,e),i=n/r;return n=(t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10)*r,e>=-20?+n.toFixed(e<0?-e:0):n}function Id(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],o=e-r;return o?i+o*(n[r]-i):i}function vf(n){n.sort(function(h,d){return c(h,d,0)?-1:1});for(var t=-1/0,e=1,r=0;r<n.length;){for(var i=n[r].interval,o=n[r].close,u=0;u<2;u++)i[u]<=t&&(i[u]=t,o[u]=u?1:1-e),t=i[u],e=o[u];i[0]===i[1]&&o[0]*o[1]!=1?n.splice(r,1):r++}return n;function c(h,d,p){return h.interval[p]<d.interval[p]||h.interval[p]===d.interval[p]&&(h.close[p]-d.close[p]==(p?-1:1)||!p&&c(h,d,1))}}function or(n){var t=parseFloat(n);return t==n&&(0!==t||!fe(n)||n.indexOf("x")<=0)?t:NaN}function ow(n){return!isNaN(or(n))}function Ed(){return Math.round(9*Math.random())}function Pd(n,t){return 0===t?n:Pd(t,n%t)}function Ld(n,t){return null==n?t:null==t?n:n*t/Pd(n,t)}function sm(n,t,e){return(t-n)*e+n}var sw="series\0",lw="\0_ec_\0";function It(n){return n instanceof Array?n:null==n?[]:[n]}function ta(n,t,e){if(n){n[t]=n[t]||{},n.emphasis=n.emphasis||{},n.emphasis[t]=n.emphasis[t]||{};for(var r=0,i=e.length;r<i;r++){var o=e[r];!n.emphasis[t].hasOwnProperty(o)&&n[t].hasOwnProperty(o)&&(n.emphasis[t][o]=n[t][o])}}}var gf=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function mf(n){return!xe(n)||te(n)||n instanceof Date?n:n.value}function QU(n){return xe(n)&&!(n instanceof Array)}function lm(n,t,e){var r="normalMerge"===e,i="replaceMerge"===e,o="replaceAll"===e;n=n||[],t=(t||[]).slice();var u=ve();F(t,function(h,d){xe(h)||(t[d]=null)});var c=function JU(n,t,e){var r=[];if("replaceAll"===e)return r;for(var i=0;i<n.length;i++){var o=n[i];o&&null!=o.id&&t.set(o.id,i),r.push({existing:"replaceMerge"===e||_f(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return r}(n,u,e);return(r||i)&&function Ik(n,t,e,r){F(r,function(i,o){if(i&&null!=i.id){var u=Rd(i.id),c=e.get(u);if(null!=c){var h=n[c];Jn(!h.newOption,'Duplicated option on id "'+u+'".'),h.newOption=i,h.existing=t[c],r[o]=null}}})}(c,n,u,t),r&&function Ek(n,t){F(t,function(e,r){if(e&&null!=e.name)for(var i=0;i<n.length;i++){var o=n[i].existing;if(!n[i].newOption&&o&&(null==o.id||null==e.id)&&!_f(e)&&!_f(o)&&yf("name",o,e))return n[i].newOption=e,void(t[r]=null)}})}(c,t),r||i?function ej(n,t,e){F(t,function(r){if(r){for(var i,o=0;(i=n[o])&&(i.newOption||_f(i.existing)||i.existing&&null!=r.id&&!yf("id",r,i.existing));)o++;i?(i.newOption=r,i.brandNew=e):n.push({newOption:r,brandNew:e,existing:null,keyInfo:null}),o++}})}(c,t,i):o&&function tj(n,t){F(t,function(e){n.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})})}(c,t),function uw(n){var t=ve();F(n,function(e){var r=e.existing;r&&t.set(r.id,e)}),F(n,function(e){var r=e.newOption;Jn(!r||null==r.id||!t.get(r.id)||t.get(r.id)===e,"id duplicates: "+(r&&r.id)),r&&null!=r.id&&t.set(r.id,e),!e.keyInfo&&(e.keyInfo={})}),F(n,function(e,r){var i=e.existing,o=e.newOption,u=e.keyInfo;if(xe(o)){if(u.name=null!=o.name?Rd(o.name):i?i.name:sw+r,i)u.id=Rd(i.id);else if(null!=o.id)u.id=Rd(o.id);else{var c=0;do{u.id="\0"+u.name+"\0"+c++}while(t.get(u.id))}t.set(u.id,e)}})}(c),c}function yf(n,t,e){var r=rn(t[n],null),i=rn(e[n],null);return null!=r&&null!=i&&r===i}function Rd(n){return rn(n,"")}function rn(n,t){return null==n?t:fe(n)?n:ft(n)||Qn(n)?n+"":t}function kM(n){var t=n.name;return!(!t||!t.indexOf(sw))}function _f(n){return n&&null!=n.id&&0===Rd(n.id).indexOf(lw)}function po(n,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?te(t.dataIndex)?re(t.dataIndex,function(e){return n.indexOfRawIndex(e)}):n.indexOfRawIndex(t.dataIndex):null!=t.name?te(t.name)?re(t.name,function(e){return n.indexOfName(e)}):n.indexOfName(t.name):void 0}function ot(){var n="__ec_inner_"+VM++;return function(t){return t[n]||(t[n]={})}}var VM=Ed();function nl(n,t,e){var r=Nd(t,e),o=r.queryOptionMap,c=r.others,h=e?e.defaultMainType:null;return!r.mainTypeSpecified&&h&&o.set(h,{}),o.each(function(d,p){var g=Sf(n,p,d,{useDefault:h===p,enableAll:!e||null==e.enableAll||e.enableAll,enableNone:!e||null==e.enableNone||e.enableNone});c[p+"Models"]=g.models,c[p+"Model"]=g.models[0]}),c}function Nd(n,t){var e;if(fe(n)){var r={};r[n+"Index"]=0,e=r}else e=n;var i=ve(),o={},u=!1;return F(e,function(c,h){if("dataIndex"!==h&&"dataIndexInside"!==h){var d=h.match(/^(\w+)(Index|Id|Name)$/)||[],p=d[1],g=(d[2]||"").toLowerCase();!p||!g||t&&t.includeMainTypes&&Ge(t.includeMainTypes,p)<0||(u=u||!!p,(i.get(p)||i.set(p,{}))[g]=c)}else o[h]=c}),{mainTypeSpecified:u,queryOptionMap:i,others:o}}var Mn={useDefault:!0,enableAll:!1,enableNone:!1},BM={useDefault:!1,enableAll:!0,enableNone:!0};function Sf(n,t,e,r){r=r||Mn;var i=e.index,o=e.id,u=e.name,c={models:null,specified:null!=i||null!=o||null!=u};if(!c.specified){var h=void 0;return c.models=r.useDefault&&(h=n.getComponent(t))?[h]:[],c}return"none"===i||!1===i?(Jn(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),c.models=[],c):("all"===i&&(Jn(r.enableAll,'`"all"` is not a valid value on index option.'),i=o=u=null),c.models=n.queryComponents({mainType:t,index:i,id:o,name:u}),c)}function fw(n,t,e){n.setAttribute?n.setAttribute(t,e):n[t]=e}function wf(n,t){var e=ve(),r=[];return F(n,function(i){var o=t(i);(e.get(o)||(r.push(o),e.set(o,[]))).push(i)}),{keys:r,buckets:e}}function rl(n,t,e,r,i){var o=null==t||"auto"===t;if(null==r)return r;if(ft(r))return Kt(u=sm(e||0,r,i),o?Math.max(ea(e||0),ea(r)):t);if(fe(r))return i<1?e:r;for(var c=[],h=e,d=r,p=Math.max(h?h.length:0,d.length),g=0;g<p;++g){var m=n.getDimensionInfo(g);if(m&&"ordinal"===m.type)c[g]=(i<1&&h?h:d)[g];else{var y=h&&h[g]?h[g]:0,S=d[g],u=sm(y,S,i);c[g]=Kt(u,o?Math.max(ea(y),ea(S)):t)}}return c}var Nk=".",il="___EC__COMPONENT__CONTAINER___",hw="___EC__EXTENDED_CLASS___";function li(n){var t={main:"",sub:""};if(n){var e=n.split(Nk);t.main=e[0]||"",t.sub=e[1]||""}return t}function dw(n,t){n.$constructor=n,n.extend=function(e){var i,r=this;return function sr(n){return _e(n)&&/^class\s/.test(Function.prototype.toString.call(n))}(r)?i=function(o){function u(){return o.apply(this,arguments)||this}return q(u,o),u}(r):(i=function(){(e.$constructor||r).apply(this,arguments)},tS(i,this)),J(i.prototype,e),i[hw]=!0,i.extend=this.extend,i.superCall=cm,i.superApply=bf,i.superClass=r,i}}function um(n,t){n.extend=t.extend}var kk=Math.round(10*Math.random());function cm(n,t){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];return this.superClass.prototype[t].apply(n,e)}function bf(n,t,e){return this.superClass.prototype[t].apply(n,e)}function qo(n){var t={};n.registerClass=function(r){var i=r.type||r.prototype.type;if(i){(function Ok(n){Jn(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal')})(i),r.prototype.type=i;var o=li(i);if(o.sub){if(o.sub!==il){var u=function e(r){var i=t[r.main];return(!i||!i[il])&&((i=t[r.main]={})[il]=!0),i}(o);u[o.sub]=r}}else t[o.main]=r}return r},n.getClass=function(r,i,o){var u=t[r];if(u&&u[il]&&(u=i?u[i]:null),o&&!u)throw new Error(i?"Component "+r+"."+(i||"")+" is used but not imported.":r+".type should be specified.");return u},n.getClassesByMainType=function(r){var i=li(r),o=[],u=t[i.main];return u&&u[il]?F(u,function(c,h){h!==il&&o.push(c)}):o.push(u),o},n.hasClass=function(r){var i=li(r);return!!t[i.main]},n.getAllClassMainTypes=function(){var r=[];return F(t,function(i,o){r.push(o)}),r},n.hasSubTypes=function(r){var i=li(r),o=t[i.main];return o&&o[il]}}function na(n,t){for(var e=0;e<n.length;e++)n[e][1]||(n[e][1]=n[e][0]);return t=t||!1,function(r,i,o){for(var u={},c=0;c<n.length;c++){var h=n[c][1];if(!(i&&Ge(i,h)>=0||o&&Ge(o,h)<0)){var d=r.getShallow(h,t);null!=d&&(u[n[c][0]]=d)}}return u}}var pw=na([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),Df=function(){function n(){}return n.prototype.getAreaStyle=function(t,e){return pw(this,t,e)},n}(),UM=new Wo(50);function Fk(n){if("string"==typeof n){var t=UM.get(n);return t&&t.image}return n}function jM(n,t,e,r,i){if(n){if("string"==typeof n){if(t&&t.__zrImageSrc===n||!e)return t;var o=UM.get(n),u={hostEl:e,cb:r,cbPayload:i};return o?!vw(t=o.image)&&o.pending.push(u):((t=eo.loadImage(n,Vk,Vk)).__zrImageSrc=n,UM.put(n,t.__cachedImgObj={image:t,pending:[u]})),t}return n}return t}function Vk(){var n=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var t=0;t<n.pending.length;t++){var e=n.pending[t],r=e.cb;r&&r(this,e.cbPayload),e.hostEl.dirty()}n.pending.length=0}function vw(n){return n&&n.width&&n.height}var WM=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function Bk(n,t,e,r,i){if(!t)return"";var o=(n+"").split("\n");i=zk(t,e,r,i);for(var u=0,c=o.length;u<c;u++)o[u]=mu(o[u],i);return o.join("\n")}function zk(n,t,e,r){var i=J({},r=r||{});i.font=t,e=ke(e,"..."),i.maxIterations=ke(r.maxIterations,2);var o=i.minChar=ke(r.minChar,0);i.cnCharWidth=Ne("\u56fd",t);var u=i.ascCharWidth=Ne("a",t);i.placeholder=ke(r.placeholder,"");for(var c=n=Math.max(0,n-1),h=0;h<o&&c>=u;h++)c-=u;var d=Ne(e,t);return d>c&&(e="",d=0),c=n-d,i.ellipsis=e,i.ellipsisWidth=d,i.contentWidth=c,i.containerWidth=n,i}function mu(n,t){var e=t.containerWidth,r=t.font,i=t.contentWidth;if(!e)return"";var o=Ne(n,r);if(o<=e)return n;for(var u=0;;u++){if(o<=i||u>=t.maxIterations){n+=t.ellipsis;break}var c=0===u?Hk(n,i,t.ascCharWidth,t.cnCharWidth):o>0?Math.floor(n.length*i/o):0;o=Ne(n=n.substr(0,c),r)}return""===n&&(n=t.placeholder),n}function Hk(n,t,e,r){for(var i=0,o=0,u=n.length;o<u&&i<t;o++){var c=n.charCodeAt(o);i+=0<=c&&c<=127?e:r}return o}var Hn=function n(){},$M=function n(t){this.tokens=[],t&&(this.tokens=t)},Od=function n(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function ui(n,t,e,r,i){var p,g,o=""===t,u=i&&e.rich[i]||{},c=n.lines,h=u.font||e.font,d=!1;if(r){var m=u.padding,y=m?m[1]+m[3]:0;if(null!=u.width&&"auto"!==u.width){var S=Dr(u.width,r.width)+y;c.length>0&&S+r.accumWidth>r.width&&(p=t.split("\n"),d=!0),r.accumWidth=S}else{var b=xf(t,h,r.width,r.breakAll,r.accumWidth);r.accumWidth=b.accumWidth+y,g=b.linesWidths,p=b.lines}}else p=t.split("\n");for(var D=0;D<p.length;D++){var C=p[D],T=new Hn;if(T.styleName=i,T.text=C,T.isLineHolder=!C&&!o,T.width="number"==typeof u.width?u.width:g?g[D]:Ne(C,h),D||d)c.push(new $M([T]));else{var M=(c[c.length-1]||(c[0]=new $M)).tokens,I=M.length;1===I&&M[0].isLineHolder?M[0]=T:(C||!I||o)&&M.push(T)}}}var YM=Di(",&?/;] ".split(""),function(n,t){return n[t]=!0,n},{});function fm(n){return!function Cf(n){var t=n.charCodeAt(0);return t>=32&&t<=591||t>=880&&t<=4351||t>=4608&&t<=5119||t>=7680&&t<=8303}(n)||!!YM[n]}function xf(n,t,e,r,i){for(var o=[],u=[],c="",h="",d=0,p=0,g=0;g<n.length;g++){var m=n.charAt(g);if("\n"!==m){var y=Ne(m,t),S=!r&&!fm(m);(o.length?p+y>e:i+p+y>e)?p?(c||h)&&(S?(c||(c=h,h="",p=d=0),o.push(c),u.push(p-d),h+=m,c="",p=d+=y):(h&&(c+=h,h="",d=0),o.push(c),u.push(p),c=m,p=y)):S?(o.push(h),u.push(d),h=m,d=y):(o.push(m),u.push(y)):(p+=y,S?(h+=m,d+=y):(h&&(c+=h,h="",d=0),c+=m))}else h&&(c+=h,p+=d),o.push(c),u.push(p),c="",h="",d=0,p=0}return!o.length&&!c&&(c=n,h="",d=0),h&&(c+=h),c&&(o.push(c),u.push(p)),1===o.length&&(p+=i),{accumWidth:p,lines:o,linesWidths:u}}var gw="__zr_style_"+Math.round(10*Math.random()),Tf={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},hm={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};Tf[gw]=!0;var jk=["z","z2","invisible"],Ei=["invisible"],mw=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype._init=function(e){for(var r=Xe(e),i=0;i<r.length;i++){var o=r[i];"style"===o?this.useStyle(e[o]):n.prototype.attrKV.call(this,o,e[o])}this.style||this.useStyle({})},t.prototype.beforeBrush=function(){},t.prototype.afterBrush=function(){},t.prototype.innerBeforeBrush=function(){},t.prototype.innerAfterBrush=function(){},t.prototype.shouldBePainted=function(e,r,i,o){var u=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&function qM(n,t,e){return al.copy(n.getBoundingRect()),n.transform&&al.applyTransform(n.transform),ZM.width=t,ZM.height=e,!al.intersect(ZM)}(this,e,r)||u&&!u[0]&&!u[3])return!1;if(i&&this.__clipPaths)for(var c=0;c<this.__clipPaths.length;++c)if(this.__clipPaths[c].isZeroArea())return!1;if(o&&this.parent)for(var h=this.parent;h;){if(h.ignore)return!1;h=h.parent}return!0},t.prototype.contain=function(e,r){return this.rectContain(e,r)},t.prototype.traverse=function(e,r){e.call(r,this)},t.prototype.rectContain=function(e,r){var i=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(i[0],i[1])},t.prototype.getPaintRect=function(){var e=this._paintRect;if(!this._paintRect||this.__dirty){var r=this.transform,i=this.getBoundingRect(),o=this.style,u=o.shadowBlur||0,c=o.shadowOffsetX||0,h=o.shadowOffsetY||0;e=this._paintRect||(this._paintRect=new Be(0,0,0,0)),r?Be.applyTransform(e,i,r):e.copy(i),(u||c||h)&&(e.width+=2*u+Math.abs(c),e.height+=2*u+Math.abs(h),e.x=Math.min(e.x,e.x+c-u),e.y=Math.min(e.y,e.y+h-u));var d=this.dirtyRectTolerance;e.isZero()||(e.x=Math.floor(e.x-d),e.y=Math.floor(e.y-d),e.width=Math.ceil(e.width+1+2*d),e.height=Math.ceil(e.height+1+2*d))}return e},t.prototype.setPrevPaintRect=function(e){e?(this._prevPaintRect=this._prevPaintRect||new Be(0,0,0,0),this._prevPaintRect.copy(e)):this._prevPaintRect=null},t.prototype.getPrevPaintRect=function(){return this._prevPaintRect},t.prototype.animateStyle=function(e){return this.animate("style",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():this.markRedraw()},t.prototype.attrKV=function(e,r){"style"!==e?n.prototype.attrKV.call(this,e,r):this.style?this.setStyle(r):this.useStyle(r)},t.prototype.setStyle=function(e,r){return"string"==typeof e?this.style[e]=r:J(this.style,e),this.dirtyStyle(),this},t.prototype.dirtyStyle=function(e){e||this.markRedraw(),this.__dirty|=2,this._rect&&(this._rect=null)},t.prototype.dirty=function(){this.dirtyStyle()},t.prototype.styleChanged=function(){return!!(2&this.__dirty)},t.prototype.styleUpdated=function(){this.__dirty&=-3},t.prototype.createStyle=function(e){return $c(Tf,e)},t.prototype.useStyle=function(e){e[gw]||(e=this.createStyle(e)),this.__inHover?this.__hoverStyle=e:this.style=e,this.dirtyStyle()},t.prototype.isStyleObject=function(e){return e[gw]},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.style&&!r.style&&(r.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,r,jk)},t.prototype._applyStateObj=function(e,r,i,o,u,c){n.prototype._applyStateObj.call(this,e,r,i,o,u,c);var d,h=!(r&&o);if(r&&r.style?u?o?d=r.style:(d=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(d,r.style)):(d=this._mergeStyle(this.createStyle(),o?this.style:i.style),this._mergeStyle(d,r.style)):h&&(d=i.style),d)if(u){var p=this.style;if(this.style=this.createStyle(h?{}:p),h)for(var g=Xe(p),m=0;m<g.length;m++)(y=g[m])in d&&(d[y]=d[y],this.style[y]=p[y]);var S=Xe(d);for(m=0;m<S.length;m++)this.style[y=S[m]]=this.style[y];this._transitionState(e,{style:d},c,this.getAnimationStyleProps())}else this.useStyle(d);var b=this.__inHover?Ei:jk;for(m=0;m<b.length;m++){var y=b[m];r&&null!=r[y]?this[y]=r[y]:h&&null!=i[y]&&(this[y]=i[y])}},t.prototype._mergeStates=function(e){for(var i,r=n.prototype._mergeStates.call(this,e),o=0;o<e.length;o++){var u=e[o];u.style&&this._mergeStyle(i=i||{},u.style)}return i&&(r.style=i),r},t.prototype._mergeStyle=function(e,r){return J(e,r),e},t.prototype.getAnimationStyleProps=function(){return hm},t.initDefaultProps=((e=t.prototype).type="displayable",e.invisible=!1,e.z=0,e.z2=0,e.zlevel=0,e.culling=!1,e.cursor="pointer",e.rectHover=!1,e.incremental=!1,e._rect=null,e.dirtyRectTolerance=0,void(e.__dirty=2|Ti)),t;var e}(nm),al=new Be(0,0,0,0),ZM=new Be(0,0,0,0);const ra=mw;var ci=Math.min,fi=Math.max,yw=Math.sin,_w=Math.cos,yu=2*Math.PI,Mf=Nn(),_u=Nn(),dm=Nn();function Su(n,t,e){if(0!==n.length){for(var r=n[0],i=r[0],o=r[0],u=r[1],c=r[1],h=1;h<n.length;h++)i=ci(i,(r=n[h])[0]),o=fi(o,r[0]),u=ci(u,r[1]),c=fi(c,r[1]);t[0]=i,t[1]=u,e[0]=o,e[1]=c}}function XM(n,t,e,r,i,o){i[0]=ci(n,e),i[1]=ci(t,r),o[0]=fi(n,e),o[1]=fi(t,r)}var kd=[],KM=[];function QM(n,t,e,r,i,o,u,c,h,d){var p=Kc,g=Le,m=p(n,e,i,u,kd);h[0]=1/0,h[1]=1/0,d[0]=-1/0,d[1]=-1/0;for(var y=0;y<m;y++){var S=g(n,e,i,u,kd[y]);h[0]=ci(S,h[0]),d[0]=fi(S,d[0])}for(m=p(t,r,o,c,KM),y=0;y<m;y++){var b=g(t,r,o,c,KM[y]);h[1]=ci(b,h[1]),d[1]=fi(b,d[1])}h[0]=ci(n,h[0]),d[0]=fi(n,d[0]),h[0]=ci(u,h[0]),d[0]=fi(u,d[0]),h[1]=ci(t,h[1]),d[1]=fi(t,d[1]),h[1]=ci(c,h[1]),d[1]=fi(c,d[1])}function Sw(n,t,e,r,i,o,u,c){var h=Qc,d=en,p=fi(ci(h(n,e,i),1),0),g=fi(ci(h(t,r,o),1),0),m=d(n,e,i,p),y=d(t,r,o,g);u[0]=ci(n,i,m),u[1]=ci(t,o,y),c[0]=fi(n,i,m),c[1]=fi(t,o,y)}function pm(n,t,e,r,i,o,u,c,h){var d=ro,p=Bo,g=Math.abs(i-o);if(g%yu<1e-4&&g>1e-4)return c[0]=n-e,c[1]=t-r,h[0]=n+e,void(h[1]=t+r);if(Mf[0]=_w(i)*e+n,Mf[1]=yw(i)*r+t,_u[0]=_w(o)*e+n,_u[1]=yw(o)*r+t,d(c,Mf,_u),p(h,Mf,_u),(i%=yu)<0&&(i+=yu),(o%=yu)<0&&(o+=yu),i>o&&!u?o+=yu:i<o&&u&&(i+=yu),u){var m=o;o=i,i=m}for(var y=0;y<o;y+=Math.PI/2)y>i&&(dm[0]=_w(y)*e+n,dm[1]=yw(y)*r+t,d(c,dm,c),p(h,dm,h))}var Lt={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},wu=[],bu=[],Vr=[],ia=[],vo=[],Xo=[],vm=Math.min,ww=Math.max,Af=Math.cos,Du=Math.sin,Ko=Math.abs,bw=Math.PI,Pa=2*bw,gm=typeof Float32Array<"u",Fd=[];function mm(n){return Math.round(n/bw*1e8)/1e8%2*bw}function Wk(n,t){var e=mm(n[0]);e<0&&(e+=Pa);var i=n[1];i+=e-n[0],!t&&i-e>=Pa?i=e+Pa:t&&e-i>=Pa?i=e-Pa:!t&&e>i?i=e+(Pa-mm(e-i)):t&&e<i&&(i=e-(Pa-mm(i-e))),n[0]=e,n[1]=i}var JM=function(){function n(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}return n.prototype.increaseVersion=function(){this._version++},n.prototype.getVersion=function(){return this._version},n.prototype.setScale=function(t,e,r){(r=r||0)>0&&(this._ux=Ko(r/uf/t)||0,this._uy=Ko(r/uf/e)||0)},n.prototype.setDPR=function(t){this.dpr=t},n.prototype.setContext=function(t){this._ctx=t},n.prototype.getContext=function(){return this._ctx},n.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},n.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},n.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(Lt.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},n.prototype.lineTo=function(t,e){var r=Ko(t-this._xi),i=Ko(e-this._yi),o=r>this._ux||i>this._uy;if(this.addData(Lt.L,t,e),this._ctx&&o&&this._ctx.lineTo(t,e),o)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var u=r*r+i*i;u>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=u)}return this},n.prototype.bezierCurveTo=function(t,e,r,i,o,u){return this._drawPendingPt(),this.addData(Lt.C,t,e,r,i,o,u),this._ctx&&this._ctx.bezierCurveTo(t,e,r,i,o,u),this._xi=o,this._yi=u,this},n.prototype.quadraticCurveTo=function(t,e,r,i){return this._drawPendingPt(),this.addData(Lt.Q,t,e,r,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,r,i),this._xi=r,this._yi=i,this},n.prototype.arc=function(t,e,r,i,o,u){return this._drawPendingPt(),Fd[0]=i,Fd[1]=o,Wk(Fd,u),this.addData(Lt.A,t,e,r,r,i=Fd[0],(o=Fd[1])-i,0,u?0:1),this._ctx&&this._ctx.arc(t,e,r,i,o,u),this._xi=Af(o)*r+t,this._yi=Du(o)*r+e,this},n.prototype.arcTo=function(t,e,r,i,o){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,r,i,o),this},n.prototype.rect=function(t,e,r,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,r,i),this.addData(Lt.R,t,e,r,i),this},n.prototype.closePath=function(){this._drawPendingPt(),this.addData(Lt.Z);var t=this._ctx,e=this._x0,r=this._y0;return t&&t.closePath(),this._xi=e,this._yi=r,this},n.prototype.fill=function(t){t&&t.fill(),this.toStatic()},n.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},n.prototype.len=function(){return this._len},n.prototype.setData=function(t){var e=t.length;(!this.data||this.data.length!==e)&&gm&&(this.data=new Float32Array(e));for(var r=0;r<e;r++)this.data[r]=t[r];this._len=e},n.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,r=0,i=this._len,o=0;o<e;o++)r+=t[o].len();for(gm&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+r)),o=0;o<e;o++)for(var u=t[o].data,c=0;c<u.length;c++)this.data[i++]=u[c];this._len=i},n.prototype.addData=function(t,e,r,i,o,u,c,h,d){if(this._saveData){var p=this.data;this._len+arguments.length>p.length&&(this._expandData(),p=this.data);for(var g=0;g<arguments.length;g++)p[this._len++]=arguments[g]}},n.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},n.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},n.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,gm&&this._len>11&&(this.data=new Float32Array(t)))}},n.prototype.getBoundingRect=function(){Vr[0]=Vr[1]=vo[0]=vo[1]=Number.MAX_VALUE,ia[0]=ia[1]=Xo[0]=Xo[1]=-Number.MAX_VALUE;var u,t=this.data,e=0,r=0,i=0,o=0;for(u=0;u<this._len;){var c=t[u++],h=1===u;switch(h&&(i=e=t[u],o=r=t[u+1]),c){case Lt.M:e=i=t[u++],r=o=t[u++],vo[0]=i,vo[1]=o,Xo[0]=i,Xo[1]=o;break;case Lt.L:XM(e,r,t[u],t[u+1],vo,Xo),e=t[u++],r=t[u++];break;case Lt.C:QM(e,r,t[u++],t[u++],t[u++],t[u++],t[u],t[u+1],vo,Xo),e=t[u++],r=t[u++];break;case Lt.Q:Sw(e,r,t[u++],t[u++],t[u],t[u+1],vo,Xo),e=t[u++],r=t[u++];break;case Lt.A:var d=t[u++],p=t[u++],g=t[u++],m=t[u++],y=t[u++],S=t[u++]+y;u+=1;var b=!t[u++];h&&(i=Af(y)*g+d,o=Du(y)*m+p),pm(d,p,g,m,y,S,b,vo,Xo),e=Af(S)*g+d,r=Du(S)*m+p;break;case Lt.R:XM(i=e=t[u++],o=r=t[u++],i+t[u++],o+t[u++],vo,Xo);break;case Lt.Z:e=i,r=o}ro(Vr,Vr,vo),Bo(ia,ia,Xo)}return 0===u&&(Vr[0]=Vr[1]=ia[0]=ia[1]=0),new Be(Vr[0],Vr[1],ia[0]-Vr[0],ia[1]-Vr[1])},n.prototype._calculateLength=function(){var t=this.data,e=this._len,r=this._ux,i=this._uy,o=0,u=0,c=0,h=0;this._pathSegLen||(this._pathSegLen=[]);for(var d=this._pathSegLen,p=0,g=0,m=0;m<e;){var y=t[m++],S=1===m;S&&(c=o=t[m],h=u=t[m+1]);var b=-1;switch(y){case Lt.M:o=c=t[m++],u=h=t[m++];break;case Lt.L:var D=t[m++],M=(C=t[m++])-u;(Ko(T=D-o)>r||Ko(M)>i||m===e-1)&&(b=Math.sqrt(T*T+M*M),o=D,u=C);break;case Lt.C:var I=t[m++],L=t[m++],C=(D=t[m++],t[m++]),E=t[m++],R=t[m++];b=Cn(o,u,I,L,D,C,E,R,10),o=E,u=R;break;case Lt.Q:b=xn(o,u,I=t[m++],L=t[m++],D=t[m++],C=t[m++],10),o=D,u=C;break;case Lt.A:var O=t[m++],k=t[m++],V=t[m++],B=t[m++],H=t[m++],G=t[m++],j=G+H;m+=1,m++,S&&(c=Af(H)*V+O,h=Du(H)*B+k),b=ww(V,B)*vm(Pa,Math.abs(G)),o=Af(j)*V+O,u=Du(j)*B+k;break;case Lt.R:c=o=t[m++],h=u=t[m++],b=2*t[m++]+2*t[m++];break;case Lt.Z:var T=c-o;M=h-u,b=Math.sqrt(T*T+M*M),o=c,u=h}b>=0&&(d[g++]=b,p+=b)}return this._pathLen=p,p},n.prototype.rebuildPath=function(t,e){var c,h,d,p,g,m,S,T,I,L,r=this.data,i=this._ux,o=this._uy,u=this._len,y=e<1,D=0,C=0,M=0;if(!y||(this._pathSegLen||this._calculateLength(),S=this._pathSegLen,T=e*this._pathLen))e:for(var E=0;E<u;){var R=r[E++],O=1===E;switch(O&&(c=d=r[E],h=p=r[E+1]),R!==Lt.L&&M>0&&(t.lineTo(I,L),M=0),R){case Lt.M:c=d=r[E++],h=p=r[E++],t.moveTo(d,p);break;case Lt.L:g=r[E++],m=r[E++];var k=Ko(g-d),V=Ko(m-p);if(k>i||V>o){if(y){if(D+(B=S[C++])>T){t.lineTo(d*(1-(H=(T-D)/B))+g*H,p*(1-H)+m*H);break e}D+=B}t.lineTo(g,m),d=g,p=m,M=0}else{var G=k*k+V*V;G>M&&(I=g,L=m,M=G)}break;case Lt.C:var j=r[E++],W=r[E++],Y=r[E++],K=r[E++],X=r[E++],ee=r[E++];if(y){if(D+(B=S[C++])>T){cn(d,j,Y,X,H=(T-D)/B,wu),cn(p,W,K,ee,H,bu),t.bezierCurveTo(wu[1],bu[1],wu[2],bu[2],wu[3],bu[3]);break e}D+=B}t.bezierCurveTo(j,W,Y,K,X,ee),d=X,p=ee;break;case Lt.Q:if(j=r[E++],W=r[E++],Y=r[E++],K=r[E++],y){if(D+(B=S[C++])>T){Jc(d,j,Y,H=(T-D)/B,wu),Jc(p,W,K,H,bu),t.quadraticCurveTo(wu[1],bu[1],wu[2],bu[2]);break e}D+=B}t.quadraticCurveTo(j,W,Y,K),d=Y,p=K;break;case Lt.A:var oe=r[E++],he=r[E++],me=r[E++],Ie=r[E++],Me=r[E++],qe=r[E++],ut=r[E++],Je=!r[E++],Pe=me>Ie?me:Ie,et=Ko(me-Ie)>.001,je=Me+qe,be=!1;if(y&&(D+(B=S[C++])>T&&(je=Me+qe*(T-D)/B,be=!0),D+=B),et&&t.ellipse?t.ellipse(oe,he,me,Ie,ut,Me,je,Je):t.arc(oe,he,Pe,Me,je,Je),be)break e;O&&(c=Af(Me)*me+oe,h=Du(Me)*Ie+he),d=Af(je)*me+oe,p=Du(je)*Ie+he;break;case Lt.R:c=d=r[E],h=p=r[E+1],g=r[E++],m=r[E++];var We=r[E++],ln=r[E++];if(y){if(D+(B=S[C++])>T){var vt=T-D;t.moveTo(g,m),t.lineTo(g+vm(vt,We),m),(vt-=We)>0&&t.lineTo(g+We,m+vm(vt,ln)),(vt-=ln)>0&&t.lineTo(g+ww(We-vt,0),m+ln),(vt-=We)>0&&t.lineTo(g,m+ww(ln-vt,0));break e}D+=B}t.rect(g,m,We,ln);break;case Lt.Z:if(y){var B;if(D+(B=S[C++])>T){var H;t.lineTo(d*(1-(H=(T-D)/B))+c*H,p*(1-H)+h*H);break e}D+=B}t.closePath(),d=c,p=h}}},n.prototype.clone=function(){var t=new n,e=this.data;return t.data=e.slice?e.slice():Array.prototype.slice.call(e),t._len=this._len,t},n.CMD=Lt,n.initDefaultProps=function(){var t=n.prototype;t._saveData=!0,t._ux=0,t._uy=0,t._pendingPtDist=0,t._version=0}(),n}();const Qo=JM;function ol(n,t,e,r,i,o,u){if(0===i)return!1;var h,c=i;if(u>t+c&&u>r+c||u<t-c&&u<r-c||o>n+c&&o>e+c||o<n-c&&o<e-c)return!1;if(n===e)return Math.abs(o-n)<=c/2;var p=(h=(t-r)/(n-e))*o-u+(n*r-e*t)/(n-e);return p*p/(h*h+1)<=c/2*c/2}function $k(n,t,e,r,i,o,u,c,h,d,p){if(0===h)return!1;var g=h;return!(p>t+g&&p>r+g&&p>o+g&&p>c+g||p<t-g&&p<r-g&&p<o-g&&p<c-g||d>n+g&&d>e+g&&d>i+g&&d>u+g||d<n-g&&d<e-g&&d<i-g&&d<u-g)&&cu(n,t,e,r,i,o,u,c,d,p,null)<=g/2}function ym(n,t,e,r,i,o,u,c,h){if(0===u)return!1;var d=u;return!(h>t+d&&h>r+d&&h>o+d||h<t-d&&h<r-d&&h<o-d||c>n+d&&c>e+d&&c>i+d||c<n-d&&c<e-d&&c<i-d)&&fu(n,t,e,r,i,o,c,h,null)<=d/2}var Yk=2*Math.PI;function go(n){return(n%=Yk)<0&&(n+=Yk),n}var Cu=2*Math.PI;function nj(n,t,e,r,i,o,u,c,h){if(0===u)return!1;var d=u;c-=n,h-=t;var p=Math.sqrt(c*c+h*h);if(p-d>e||p+d<e)return!1;if(Math.abs(r-i)%Cu<1e-4)return!0;if(o){var g=r;r=go(i),i=go(g)}else r=go(r),i=go(i);r>i&&(i+=Cu);var m=Math.atan2(h,c);return m<0&&(m+=Cu),m>=r&&m<=i||m+Cu>=r&&m+Cu<=i}function sl(n,t,e,r,i,o){if(o>t&&o>r||o<t&&o<r||r===t)return 0;var u=(o-t)/(r-t),c=r<t?1:-1;(1===u||0===u)&&(c=r<t?.5:-.5);var h=u*(e-n)+n;return h===i?1/0:h>i?c:0}var xu=Qo.CMD,If=2*Math.PI,Yn=[-1,-1,-1],Br=[-1,-1];function eA(){var n=Br[0];Br[0]=Br[1],Br[1]=n}function tA(n,t,e,r,i,o,u,c,h,d){if(d>t&&d>r&&d>o&&d>c||d<t&&d<r&&d<o&&d<c)return 0;var p=ri(t,r,o,c,d,Yn);if(0===p)return 0;for(var g=0,m=-1,y=void 0,S=void 0,b=0;b<p;b++){var D=Yn[b],C=0===D||1===D?.5:1;Le(n,e,i,u,D)<h||(m<0&&(m=Kc(t,r,o,c,Br),Br[1]<Br[0]&&m>1&&eA(),y=Le(t,r,o,c,Br[0]),m>1&&(S=Le(t,r,o,c,Br[1]))),g+=2===m?D<Br[0]?y<t?C:-C:D<Br[1]?S<y?C:-C:c<S?C:-C:D<Br[0]?y<t?C:-C:c<y?C:-C)}return g}function nA(n,t,e,r,i,o,u,c){if(c>t&&c>r&&c>o||c<t&&c<r&&c<o)return 0;var h=function nt(n,t,e,r,i){var o=n-2*t+e,u=2*(t-n),c=n-r,h=0;if(zt(o))Se(u)&&(d=-c/u)>=0&&d<=1&&(i[h++]=d);else{var p=u*u-4*o*c;if(zt(p))(d=-u/(2*o))>=0&&d<=1&&(i[h++]=d);else if(p>0){var d,g=gn(p),m=(-u-g)/(2*o);(d=(-u+g)/(2*o))>=0&&d<=1&&(i[h++]=d),m>=0&&m<=1&&(i[h++]=m)}}return h}(t,r,o,c,Yn);if(0===h)return 0;var d=Qc(t,r,o);if(d>=0&&d<=1){for(var p=0,g=en(t,r,o,d),m=0;m<h;m++){var y=0===Yn[m]||1===Yn[m]?.5:1;en(n,e,i,Yn[m])<u||(p+=Yn[m]<d?g<t?y:-y:o<g?y:-y)}return p}return y=0===Yn[0]||1===Yn[0]?.5:1,en(n,e,i,Yn[0])<u?0:o<t?y:-y}function Ef(n,t,e,r,i,o,u,c){if((c-=t)>e||c<-e)return 0;var h=Math.sqrt(e*e-c*c);Yn[0]=-h,Yn[1]=h;var d=Math.abs(r-i);if(d<1e-4)return 0;if(d>=If-1e-4){r=0,i=If;var p=o?1:-1;return u>=Yn[0]+n&&u<=Yn[1]+n?p:0}if(r>i){var g=r;r=i,i=g}r<0&&(r+=If,i+=If);for(var m=0,y=0;y<2;y++){var S=Yn[y];if(S+n>u){var b=Math.atan2(c,S);p=o?1:-1,b<0&&(b=If+b),(b>=r&&b<=i||b+If>=r&&b+If<=i)&&(b>Math.PI/2&&b<1.5*Math.PI&&(p=-p),m+=p)}}return m}function Dw(n,t,e,r,i){for(var m,y,o=n.data,u=n.len(),c=0,h=0,d=0,p=0,g=0,S=0;S<u;){var b=o[S++],D=1===S;switch(b===xu.M&&S>1&&(e||(c+=sl(h,d,p,g,r,i))),D&&(p=h=o[S],g=d=o[S+1]),b){case xu.M:h=p=o[S++],d=g=o[S++];break;case xu.L:if(e){if(ol(h,d,o[S],o[S+1],t,r,i))return!0}else c+=sl(h,d,o[S],o[S+1],r,i)||0;h=o[S++],d=o[S++];break;case xu.C:if(e){if($k(h,d,o[S++],o[S++],o[S++],o[S++],o[S],o[S+1],t,r,i))return!0}else c+=tA(h,d,o[S++],o[S++],o[S++],o[S++],o[S],o[S+1],r,i)||0;h=o[S++],d=o[S++];break;case xu.Q:if(e){if(ym(h,d,o[S++],o[S++],o[S],o[S+1],t,r,i))return!0}else c+=nA(h,d,o[S++],o[S++],o[S],o[S+1],r,i)||0;h=o[S++],d=o[S++];break;case xu.A:var C=o[S++],T=o[S++],M=o[S++],I=o[S++],L=o[S++],E=o[S++];S+=1;var R=!!(1-o[S++]);m=Math.cos(L)*M+C,y=Math.sin(L)*I+T,D?(p=m,g=y):c+=sl(h,d,m,y,r,i);var O=(r-C)*I/M+C;if(e){if(nj(C,T,I,L,L+E,R,t,O,i))return!0}else c+=Ef(C,T,I,L,L+E,R,O,i);h=Math.cos(L+E)*M+C,d=Math.sin(L+E)*I+T;break;case xu.R:if(p=h=o[S++],g=d=o[S++],m=p+o[S++],y=g+o[S++],e){if(ol(p,g,m,g,t,r,i)||ol(m,g,m,y,t,r,i)||ol(m,y,p,y,t,r,i)||ol(p,y,p,g,t,r,i))return!0}else c+=sl(m,g,m,y,r,i),c+=sl(p,y,p,g,r,i);break;case xu.Z:if(e){if(ol(h,d,p,g,t,r,i))return!0}else c+=sl(h,d,p,g,r,i);h=p,d=g}}return!e&&!function Zk(n,t){return Math.abs(n-t)<1e-4}(d,g)&&(c+=sl(h,d,p,g,r,i)||0),0!==c}var Tu=De({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},Tf),ll={style:De({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},hm.style)},Cw=Ia.concat(["invisible","culling","z","z2","zlevel","parent"]),qk=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.update=function(){var e=this;n.prototype.update.call(this);var r=this.style;if(r.decal){var i=this._decalEl=this._decalEl||new t;i.buildPath===t.prototype.buildPath&&(i.buildPath=function(h){e.buildPath(h,e.shape)}),i.silent=!0;var o=i.style;for(var u in r)o[u]!==r[u]&&(o[u]=r[u]);o.fill=r.fill?r.decal:null,o.decal=null,o.shadowColor=null,r.strokeFirst&&(o.stroke=null);for(var c=0;c<Cw.length;++c)i[Cw[c]]=this[Cw[c]];i.__dirty|=Ti}else this._decalEl&&(this._decalEl=null)},t.prototype.getDecalElement=function(){return this._decalEl},t.prototype._init=function(e){var r=Xe(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var o=0;o<r.length;o++){var u=r[o],c=e[u];"style"===u?this.style?J(this.style,c):this.useStyle(c):"shape"===u?J(this.shape,c):n.prototype.attrKV.call(this,u,c)}this.style||this.useStyle({})},t.prototype.getDefaultStyle=function(){return null},t.prototype.getDefaultShape=function(){return{}},t.prototype.canBeInsideText=function(){return this.hasFill()},t.prototype.getInsideTextFill=function(){var e=this.style.fill;if("none"!==e){if(fe(e)){var r=Ug(e,0);return r>.5?br:r>.2?"#eee":ZS}if(e)return ZS}return br},t.prototype.getInsideTextStroke=function(e){var r=this.style.fill;if(fe(r)){var i=this.__zr;if(!(!i||!i.isDarkMode())==Ug(e,0)<.4)return r}},t.prototype.buildPath=function(e,r,i){},t.prototype.pathUpdated=function(){this.__dirty&=~Go},t.prototype.getUpdatedPathProxy=function(e){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,e),this.path},t.prototype.createPathProxy=function(){this.path=new Qo(!1)},t.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return!(null==r||"none"===r||!(e.lineWidth>0))},t.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},t.prototype.getBoundingRect=function(){var e=this._rect,r=this.style,i=!e;if(i){var o=!1;this.path||(o=!0,this.createPathProxy());var u=this.path;(o||this.__dirty&Go)&&(u.beginPath(),this.buildPath(u,this.shape,!1),this.pathUpdated()),e=u.getBoundingRect()}if(this._rect=e,this.hasStroke()&&this.path&&this.path.len()>0){var c=this._rectStroke||(this._rectStroke=e.clone());if(this.__dirty||i){c.copy(e);var h=r.strokeNoScale?this.getLineScale():1,d=r.lineWidth;this.hasFill()||(d=Math.max(d,this.strokeContainThreshold??4)),h>1e-10&&(c.width+=d/h,c.height+=d/h,c.x-=d/h/2,c.y-=d/h/2)}return c}return e},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r),o=this.getBoundingRect(),u=this.style;if(o.contain(e=i[0],r=i[1])){var c=this.path;if(this.hasStroke()){var h=u.lineWidth,d=u.strokeNoScale?this.getLineScale():1;if(d>1e-10&&(this.hasFill()||(h=Math.max(h,this.strokeContainThreshold)),function _m(n,t,e,r){return Dw(n,t,!0,e,r)}(c,h/d,e,r)))return!0}if(this.hasFill())return function rA(n,t,e){return Dw(n,0,!1,t,e)}(c,e,r)}return!1},t.prototype.dirtyShape=function(){this.__dirty|=Go,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},t.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},t.prototype.animateShape=function(e){return this.animate("shape",e)},t.prototype.updateDuringAnimation=function(e){"style"===e?this.dirtyStyle():"shape"===e?this.dirtyShape():this.markRedraw()},t.prototype.attrKV=function(e,r){"shape"===e?this.setShape(r):n.prototype.attrKV.call(this,e,r)},t.prototype.setShape=function(e,r){var i=this.shape;return i||(i=this.shape={}),"string"==typeof e?i[e]=r:J(i,e),this.dirtyShape(),this},t.prototype.shapeChanged=function(){return!!(this.__dirty&Go)},t.prototype.createStyle=function(e){return $c(Tu,e)},t.prototype._innerSaveToNormal=function(e){n.prototype._innerSaveToNormal.call(this,e);var r=this._normalState;e.shape&&!r.shape&&(r.shape=J({},this.shape))},t.prototype._applyStateObj=function(e,r,i,o,u,c){n.prototype._applyStateObj.call(this,e,r,i,o,u,c);var d,h=!(r&&o);if(r&&r.shape?u?o?d=r.shape:(d=J({},i.shape),J(d,r.shape)):(d=J({},o?this.shape:i.shape),J(d,r.shape)):h&&(d=i.shape),d)if(u){this.shape=J({},this.shape);for(var p={},g=Xe(d),m=0;m<g.length;m++){var y=g[m];"object"==typeof d[y]?this.shape[y]=d[y]:p[y]=d[y]}this._transitionState(e,{shape:p},c)}else this.shape=d,this.dirtyShape()},t.prototype._mergeStates=function(e){for(var i,r=n.prototype._mergeStates.call(this,e),o=0;o<e.length;o++){var u=e[o];u.shape&&this._mergeStyle(i=i||{},u.shape)}return i&&(r.shape=i),r},t.prototype.getAnimationStyleProps=function(){return ll},t.prototype.isZeroArea=function(){return!1},t.extend=function(e){var r=function(o){function u(c){var h=o.call(this,c)||this;return e.init&&e.init.call(h,c),h}return ye(u,o),u.prototype.getDefaultStyle=function(){return Te(e.style)},u.prototype.getDefaultShape=function(){return Te(e.shape)},u}(t);for(var i in e)"function"==typeof e[i]&&(r.prototype[i]=e[i]);return r},t.initDefaultProps=((e=t.prototype).type="path",e.strokeContainThreshold=5,e.segmentIgnoreThreshold=0,e.subPixelOptimize=!1,e.autoBatch=!1,void(e.__dirty=2|Ti|Go)),t;var e}(ra);const Ze=qk;var iA=De({strokeFirst:!0,font:Us,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},Tu),Sm=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ye(t,n),t.prototype.hasStroke=function(){var e=this.style,r=e.stroke;return null!=r&&"none"!==r&&e.lineWidth>0},t.prototype.hasFill=function(){var r=this.style.fill;return null!=r&&"none"!==r},t.prototype.createStyle=function(e){return $c(iA,e)},t.prototype.setBoundingRect=function(e){this._rect=e},t.prototype.getBoundingRect=function(){var e=this.style;if(!this._rect){var r=e.text;null!=r?r+="":r="";var i=Qg(r,e.font,e.textAlign,e.textBaseline);if(i.x+=e.x||0,i.y+=e.y||0,this.hasStroke()){var o=e.lineWidth;i.x-=o/2,i.y-=o/2,i.width+=o,i.height+=o}this._rect=i}return this._rect},t.initDefaultProps=void(t.prototype.dirtyRectTolerance=10),t}(ra);Sm.prototype.type="tspan";const Vd=Sm;var Xk=De({x:0,y:0},Tf),Kk={style:De({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},hm.style)},oA=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ye(t,n),t.prototype.createStyle=function(e){return $c(Xk,e)},t.prototype._getSize=function(e){var r=this.style,i=r[e];if(null!=i)return i;var o=function aA(n){return!!(n&&"string"!=typeof n&&n.width&&n.height)}(r.image)?r.image:this.__image;if(!o)return 0;var u="width"===e?"height":"width",c=r[u];return null==c?o[e]:o[e]/o[u]*c},t.prototype.getWidth=function(){return this._getSize("width")},t.prototype.getHeight=function(){return this._getSize("height")},t.prototype.getAnimationStyleProps=function(){return Kk},t.prototype.getBoundingRect=function(){var e=this.style;return this._rect||(this._rect=new Be(e.x||0,e.y||0,this.getWidth(),this.getHeight())),this._rect},t}(ra);oA.prototype.type="image";const Zn=oA;var ul=Math.round;function xw(n,t,e){if(t){var r=t.x1,i=t.x2,o=t.y1,u=t.y2;n.x1=r,n.x2=i,n.y1=o,n.y2=u;var c=e&&e.lineWidth;return c&&(ul(2*r)===ul(2*i)&&(n.x1=n.x2=mn(r,c,!0)),ul(2*o)===ul(2*u)&&(n.y1=n.y2=mn(o,c,!0))),n}}function wm(n,t,e){if(t){var r=t.x,i=t.y,o=t.width,u=t.height;n.x=r,n.y=i,n.width=o,n.height=u;var c=e&&e.lineWidth;return c&&(n.x=mn(r,c,!0),n.y=mn(i,c,!0),n.width=Math.max(mn(r+o,c,!1)-n.x,0===o?0:1),n.height=Math.max(mn(i+u,c,!1)-n.y,0===u?0:1)),n}}function mn(n,t,e){if(!t)return n;var r=ul(2*n);return(r+ul(t))%2==0?r/2:(r+(e?1:-1))/2}var Bd=function n(){this.x=0,this.y=0,this.width=0,this.height=0},sA={},Tw=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultShape=function(){return new Bd},t.prototype.buildPath=function(e,r){var i,o,u,c;if(this.subPixelOptimize){var h=wm(sA,r,this.style);i=h.x,o=h.y,u=h.width,c=h.height,h.r=r.r,r=h}else i=r.x,o=r.y,u=r.width,c=r.height;r.r?function hi(n,t){var c,h,d,p,g,e=t.x,r=t.y,i=t.width,o=t.height,u=t.r;i<0&&(e+=i,i=-i),o<0&&(r+=o,o=-o),"number"==typeof u?c=h=d=p=u:u instanceof Array?1===u.length?c=h=d=p=u[0]:2===u.length?(c=d=u[0],h=p=u[1]):3===u.length?(c=u[0],h=p=u[1],d=u[2]):(c=u[0],h=u[1],d=u[2],p=u[3]):c=h=d=p=0,c+h>i&&(c*=i/(g=c+h),h*=i/g),d+p>i&&(d*=i/(g=d+p),p*=i/g),h+d>o&&(h*=o/(g=h+d),d*=o/g),c+p>o&&(c*=o/(g=c+p),p*=o/g),n.moveTo(e+c,r),n.lineTo(e+i-h,r),0!==h&&n.arc(e+i-h,r+h,h,-Math.PI/2,0),n.lineTo(e+i,r+o-d),0!==d&&n.arc(e+i-d,r+o-d,d,0,Math.PI/2),n.lineTo(e+p,r+o),0!==p&&n.arc(e+p,r+o-p,p,Math.PI/2,Math.PI),n.lineTo(e,r+c),0!==c&&n.arc(e+c,r+c,c,Math.PI,1.5*Math.PI)}(e,r):e.rect(i,o,u,c)},t.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},t}(Ze);Tw.prototype.type="rect";const st=Tw;var Mw={fill:"#000"},uA={style:De({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},hm.style)},cA=function(n){function t(e){var r=n.call(this)||this;return r.type="text",r._children=[],r._defaultStyle=Mw,r.attr(e),r}return ye(t,n),t.prototype.childrenRef=function(){return this._children},t.prototype.update=function(){n.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var r=this._children[e];r.zlevel=this.zlevel,r.z=this.z,r.z2=this.z2,r.culling=this.culling,r.cursor=this.cursor,r.invisible=this.invisible}},t.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):n.prototype.updateTransform.call(this)},t.prototype.getLocalTransform=function(e){var r=this.innerTransformable;return r?r.getLocalTransform(e):n.prototype.getLocalTransform.call(this,e)},t.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),n.prototype.getComputedTransform.call(this)},t.prototype._updateSubTexts=function(){this._childCursor=0,function zd(n){pA(n),F(n.rich,pA)}(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},t.prototype.addSelfToZr=function(e){n.prototype.addSelfToZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=e},t.prototype.removeSelfFromZr=function(e){n.prototype.removeSelfFromZr.call(this,e);for(var r=0;r<this._children.length;r++)this._children[r].__zr=null},t.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var e=new Be(0,0,0,0),r=this._children,i=[],o=null,u=0;u<r.length;u++){var c=r[u],h=c.getBoundingRect(),d=c.getLocalTransform(i);d?(e.copy(h),e.applyTransform(d),(o=o||e.clone()).union(e)):(o=o||h.clone()).union(h)}this._rect=o||e}return this._rect},t.prototype.setDefaultTextStyle=function(e){this._defaultStyle=e||Mw},t.prototype.setTextContent=function(e){},t.prototype._mergeStyle=function(e,r){if(!r)return e;var i=r.rich,o=e.rich||i&&{};return J(e,r),i&&o?(this._mergeRich(o,i),e.rich=o):o&&(e.rich=o),e},t.prototype._mergeRich=function(e,r){for(var i=Xe(r),o=0;o<i.length;o++){var u=i[o];e[u]=e[u]||{},J(e[u],r[u])}},t.prototype.getAnimationStyleProps=function(){return uA},t.prototype._getOrCreateChild=function(e){var r=this._children[this._childCursor];return(!r||!(r instanceof e))&&(r=new e),this._children[this._childCursor++]=r,r.__zr=this.__zr,r.parent=this,r},t.prototype._updatePlainTexts=function(){var e=this.style,r=e.font||Us,i=e.padding,u=function Gk(n,t){null!=n&&(n+="");var g,e=t.overflow,r=t.padding,i=t.font,o="truncate"===e,u=Jg(i),c=ke(t.lineHeight,u),h=!!t.backgroundColor,d="truncate"===t.lineOverflow,p=t.width,m=(g=null==p||"break"!==e&&"breakAll"!==e?n?n.split("\n"):[]:n?xf(n,t.font,p,"breakAll"===e,0).lines:[]).length*c,y=ke(t.height,m);if(m>y&&d){var S=Math.floor(y/c);g=g.slice(0,S)}if(n&&o&&null!=p)for(var b=zk(p,i,t.ellipsis,{minChar:t.truncateMinChar,placeholder:t.placeholder}),D=0;D<g.length;D++)g[D]=mu(g[D],b);var C=y,T=0;for(D=0;D<g.length;D++)T=Math.max(Ne(g[D],i),T);null==p&&(p=T);var M=T;return r&&(C+=r[0]+r[2],M+=r[1]+r[3],p+=r[1]+r[3]),h&&(M=p),{lines:g,height:y,outerWidth:M,outerHeight:C,lineHeight:c,calculatedLineHeight:u,contentWidth:T,contentHeight:m,width:p}}(Ew(e),e),c=cl(e),h=!!e.backgroundColor,d=u.outerHeight,p=u.outerWidth,g=u.contentWidth,m=u.lines,y=u.lineHeight,S=this._defaultStyle,b=e.x||0,D=e.y||0,C=e.align||S.align||"left",T=e.verticalAlign||S.verticalAlign||"top",M=b,I=hf(D,u.contentHeight,T);if(c||i){var L=Td(b,p,C),E=hf(D,d,T);c&&this._renderBackground(e,e,L,E,p,d)}I+=y/2,i&&(M=Iw(b,C,i),"top"===T?I+=i[0]:"bottom"===T&&(I-=i[2]));for(var R=0,O=!1,k=(Aw("fill"in e?e.fill:(O=!0,S.fill))),V=(vA("stroke"in e?e.stroke:h||S.autoStroke&&!O?null:(R=2,S.stroke))),B=e.textShadowBlur>0,H=null!=e.width&&("truncate"===e.overflow||"break"===e.overflow||"breakAll"===e.overflow),G=u.calculatedLineHeight,j=0;j<m.length;j++){var W=this._getOrCreateChild(Vd),Y=W.createStyle();W.useStyle(Y),Y.text=m[j],Y.x=M,Y.y=I,C&&(Y.textAlign=C),Y.textBaseline="middle",Y.opacity=e.opacity,Y.strokeFirst=!0,B&&(Y.shadowBlur=e.textShadowBlur||0,Y.shadowColor=e.textShadowColor||"transparent",Y.shadowOffsetX=e.textShadowOffsetX||0,Y.shadowOffsetY=e.textShadowOffsetY||0),Y.stroke=V,Y.fill=k,V&&(Y.lineWidth=e.lineWidth||R,Y.lineDash=e.lineDash,Y.lineDashOffset=e.lineDashOffset||0),Y.font=r,Dm(Y,e),I+=y,H&&W.setBoundingRect(new Be(Td(Y.x,e.width,Y.textAlign),hf(Y.y,G,Y.textBaseline),g,G))}},t.prototype._updateRichTexts=function(){var e=this.style,i=function Uk(n,t){var e=new Od;if(null!=n&&(n+=""),!n)return e;for(var h,r=t.width,i=t.height,o=t.overflow,u="break"!==o&&"breakAll"!==o||null==r?null:{width:r,accumWidth:0,breakAll:"breakAll"===o},c=WM.lastIndex=0;null!=(h=WM.exec(n));){var d=h.index;d>c&&ui(e,n.substring(c,d),t,u),ui(e,h[2],t,u,h[1]),c=WM.lastIndex}c<n.length&&ui(e,n.substring(c,n.length),t,u);var p=[],g=0,m=0,y=t.padding,S="truncate"===o,b="truncate"===t.lineOverflow;function D(X,ee,oe){X.width=ee,X.lineHeight=oe,g+=oe,m=Math.max(m,ee)}e:for(var C=0;C<e.lines.length;C++){for(var T=e.lines[C],M=0,I=0,L=0;L<T.tokens.length;L++){var R=(E=T.tokens[L]).styleName&&t.rich[E.styleName]||{},O=E.textPadding=R.padding,k=O?O[1]+O[3]:0,V=E.font=R.font||t.font;E.contentHeight=Jg(V);var B=ke(R.height,E.contentHeight);if(E.innerHeight=B,O&&(B+=O[0]+O[2]),E.height=B,E.lineHeight=Ln(R.lineHeight,t.lineHeight,B),E.align=R&&R.align||t.align,E.verticalAlign=R&&R.verticalAlign||"middle",b&&null!=i&&g+E.lineHeight>i){L>0?(T.tokens=T.tokens.slice(0,L),D(T,I,M),e.lines=e.lines.slice(0,C+1)):e.lines=e.lines.slice(0,C);break e}var H=R.width,G=null==H||"auto"===H;if("string"==typeof H&&"%"===H.charAt(H.length-1))E.percentWidth=H,p.push(E),E.contentWidth=Ne(E.text,V);else{if(G){var j=R.backgroundColor,W=j&&j.image;W&&vw(W=Fk(W))&&(E.width=Math.max(E.width,W.width*B/W.height))}var Y=S&&null!=r?r-I:null;null!=Y&&Y<E.width?!G||Y<k?(E.text="",E.width=E.contentWidth=0):(E.text=Bk(E.text,Y-k,V,t.ellipsis,{minChar:t.truncateMinChar}),E.width=E.contentWidth=Ne(E.text,V)):E.contentWidth=Ne(E.text,V)}E.width+=k,I+=E.width,R&&(M=Math.max(M,E.lineHeight))}D(T,I,M)}for(e.outerWidth=e.width=ke(r,m),e.outerHeight=e.height=ke(i,g),e.contentHeight=g,e.contentWidth=m,y&&(e.outerWidth+=y[1]+y[3],e.outerHeight+=y[0]+y[2]),C=0;C<p.length;C++){var E;(E=p[C]).width=parseInt(E.percentWidth,10)/100*e.width}return e}(Ew(e),e),o=i.width,u=i.outerWidth,c=i.outerHeight,h=e.padding,p=e.y||0,g=this._defaultStyle,y=e.verticalAlign||g.verticalAlign,S=Td(e.x||0,u,e.align||g.align),b=hf(p,c,y),D=S,C=b;h&&(D+=h[3],C+=h[0]);var T=D+o;cl(e)&&this._renderBackground(e,e,S,b,u,c);for(var M=!!e.backgroundColor,I=0;I<i.lines.length;I++){for(var L=i.lines[I],E=L.tokens,R=E.length,O=L.lineHeight,k=L.width,V=0,B=D,H=T,G=R-1,j=void 0;V<R&&(!(j=E[V]).align||"left"===j.align);)this._placeToken(j,e,O,C,B,"left",M),k-=j.width,B+=j.width,V++;for(;G>=0&&"right"===(j=E[G]).align;)this._placeToken(j,e,O,C,H,"right",M),k-=j.width,H-=j.width,G--;for(B+=(o-(B-D)-(T-H)-k)/2;V<=G;)this._placeToken(j=E[V],e,O,C,B+j.width/2,"center",M),B+=j.width,V++;C+=O}},t.prototype._placeToken=function(e,r,i,o,u,c,h){var d=r.rich[e.styleName]||{};d.text=e.text;var p=e.verticalAlign,g=o+i/2;"top"===p?g=o+e.height/2:"bottom"===p&&(g=o+i-e.height/2),!e.isLineHolder&&cl(d)&&this._renderBackground(d,r,"right"===c?u-e.width:"center"===c?u-e.width/2:u,g-e.height/2,e.width,e.height);var y=!!d.backgroundColor,S=e.textPadding;S&&(u=Iw(u,c,S),g-=e.height/2-S[0]-e.innerHeight/2);var b=this._getOrCreateChild(Vd),D=b.createStyle();b.useStyle(D);var C=this._defaultStyle,T=!1,M=0,I=Aw("fill"in d?d.fill:"fill"in r?r.fill:(T=!0,C.fill)),L=vA("stroke"in d?d.stroke:"stroke"in r?r.stroke:y||h||C.autoStroke&&!T?null:(M=2,C.stroke)),E=d.textShadowBlur>0||r.textShadowBlur>0;D.text=e.text,D.x=u,D.y=g,E&&(D.shadowBlur=d.textShadowBlur||r.textShadowBlur||0,D.shadowColor=d.textShadowColor||r.textShadowColor||"transparent",D.shadowOffsetX=d.textShadowOffsetX||r.textShadowOffsetX||0,D.shadowOffsetY=d.textShadowOffsetY||r.textShadowOffsetY||0),D.textAlign=c,D.textBaseline="middle",D.font=e.font||Us,D.opacity=Ln(d.opacity,r.opacity,1),Dm(D,d),L&&(D.lineWidth=Ln(d.lineWidth,r.lineWidth,M),D.lineDash=ke(d.lineDash,r.lineDash),D.lineDashOffset=r.lineDashOffset||0,D.stroke=L),I&&(D.fill=I);var R=e.contentWidth,O=e.contentHeight;b.setBoundingRect(new Be(Td(D.x,R,D.textAlign),hf(D.y,O,D.textBaseline),R,O))},t.prototype._renderBackground=function(e,r,i,o,u,c){var b,D,T,h=e.backgroundColor,d=e.borderWidth,p=e.borderColor,g=h&&h.image,m=h&&!g,y=e.borderRadius,S=this;if(m||e.lineHeight||d&&p){(b=this._getOrCreateChild(st)).useStyle(b.createStyle()),b.style.fill=null;var C=b.shape;C.x=i,C.y=o,C.width=u,C.height=c,C.r=y,b.dirtyShape()}if(m)(T=b.style).fill=h||null,T.fillOpacity=ke(e.fillOpacity,1);else if(g){(D=this._getOrCreateChild(Zn)).onload=function(){S.dirtyStyle()};var M=D.style;M.image=h.image,M.x=i,M.y=o,M.width=u,M.height=c}d&&p&&((T=b.style).lineWidth=d,T.stroke=p,T.strokeOpacity=ke(e.strokeOpacity,1),T.lineDash=e.borderDash,T.lineDashOffset=e.borderDashOffset||0,b.strokeContainThreshold=0,b.hasFill()&&b.hasStroke()&&(T.strokeFirst=!0,T.lineWidth*=2));var I=(b||D).style;I.shadowBlur=e.shadowBlur||0,I.shadowColor=e.shadowColor||"transparent",I.shadowOffsetX=e.shadowOffsetX||0,I.shadowOffsetY=e.shadowOffsetY||0,I.opacity=Ln(e.opacity,r.opacity,1)},t.makeFont=function(e){var r="";return dA(e)&&(r=[e.fontStyle,e.fontWeight,bm(e.fontSize),e.fontFamily||"sans-serif"].join(" ")),r&&ei(r)||e.textFont||e.font},t}(ra),fA={left:!0,right:1,center:1},Qk={top:1,bottom:1,middle:1},hA=["fontStyle","fontWeight","fontSize","fontFamily"];function bm(n){return"string"!=typeof n||-1===n.indexOf("px")&&-1===n.indexOf("rem")&&-1===n.indexOf("em")?isNaN(+n)?Tt+"px":n+"px":n}function Dm(n,t){for(var e=0;e<hA.length;e++){var r=hA[e],i=t[r];null!=i&&(n[r]=i)}}function dA(n){return null!=n.fontSize||n.fontFamily||n.fontWeight}function pA(n){if(n){n.font=cA.makeFont(n);var t=n.align;"middle"===t&&(t="center"),n.align=null==t||fA[t]?t:"left";var e=n.verticalAlign;"center"===e&&(e="middle"),n.verticalAlign=null==e||Qk[e]?e:"top",n.padding&&(n.padding=Lg(n.padding))}}function vA(n,t){return null==n||t<=0||"transparent"===n||"none"===n?null:n.image||n.colorStops?"#000":n}function Aw(n){return null==n||"none"===n?null:n.image||n.colorStops?"#000":n}function Iw(n,t,e){return"right"===t?n-e[1]:"center"===t?n+e[3]/2-e[1]/2:n+e[3]}function Ew(n){var t=n.text;return null!=t&&(t+=""),t}function cl(n){return!!(n.backgroundColor||n.lineHeight||n.borderWidth&&n.borderColor)}const rt=cA;var Oe=ot(),Hd=function(n,t,e,r){if(r){var i=Oe(r);i.dataIndex=e,i.dataType=t,i.seriesIndex=n,"group"===r.type&&r.traverse(function(o){var u=Oe(o);u.seriesIndex=n,u.dataIndex=e,u.dataType=t})}},Gd=1,gA={},mA=ot(),Pw=ot(),Lw=0,Ud=1,Cm=2,Cr=["emphasis","blur","select"],fl=["normal","emphasis","blur","select"],hl=10,Rw=9,Mu="highlight",xm="downplay",Au="select",jd="unselect",La="toggleSelect";function Iu(n){return null!=n&&"none"!==n}var Nw=new Wo(100);function yA(n){if(fe(n)){var t=Nw.get(n);return t||(t=ii(n,-.1),Nw.put(n,t)),t}if(fd(n)){var e=J({},n);return e.colorStops=re(n.colorStops,function(r){return{offset:r.offset,color:ii(r.color,-.1)}}),e}return n}function Ow(n,t,e){n.onHoverStateChange&&(n.hoverState||0)!==e&&n.onHoverStateChange(t),n.hoverState=e}function Wd(n){Ow(n,"emphasis",Cm)}function _A(n){n.hoverState===Cm&&Ow(n,"normal",Lw)}function Tm(n){Ow(n,"blur",Ud)}function kw(n){n.hoverState===Ud&&Ow(n,"normal",Lw)}function SA(n){n.selected=!0}function Fw(n){n.selected=!1}function Vw(n,t,e){t(n,e)}function aa(n,t,e){Vw(n,t,e),n.isGroup&&n.traverse(function(r){Vw(r,t,e)})}function dl(n,t){switch(t){case"emphasis":n.hoverState=Cm;break;case"normal":n.hoverState=Lw;break;case"blur":n.hoverState=Ud;break;case"select":n.selected=!0}}function Eu(n,t){var e=this.states[n];if(this.style){if("emphasis"===n)return function Mm(n,t,e,r){var i=e&&Ge(e,"select")>=0,o=!1;if(n instanceof Ze){var u=mA(n),c=i&&u.selectFill||u.normalFill,h=i&&u.selectStroke||u.normalStroke;if(Iu(c)||Iu(h)){var d=(r=r||{}).style||{};"inherit"===d.fill?(o=!0,r=J({},r),(d=J({},d)).fill=c):!Iu(d.fill)&&Iu(c)?(o=!0,r=J({},r),(d=J({},d)).fill=yA(c)):!Iu(d.stroke)&&Iu(h)&&(o||(r=J({},r),d=J({},d)),d.stroke=yA(h)),r.style=d}}return r&&null==r.z2&&(o||(r=J({},r)),r.z2=n.z2+(n.z2EmphasisLift??hl)),r}(this,0,t,e);if("blur"===n)return function zw(n,t,e){var r=Ge(n.currentStates,t)>=0,i=n.style.opacity,o=r?null:function Bw(n,t,e,r){for(var i=n.style,o={},u=0;u<t.length;u++){var c=t[u];o[c]=i[c]??(r&&r[c])}for(u=0;u<n.animators.length;u++){var d=n.animators[u];d.__fromStateTransition&&d.__fromStateTransition.indexOf(e)<0&&"style"===d.targetName&&d.saveTo(o,t)}return o}(n,["opacity"],t,{opacity:1}),u=(e=e||{}).style||{};return null==u.opacity&&(e=J({},e),u=J({opacity:r?i:.1*o.opacity},u),e.style=u),e}(this,n,e);if("select"===n)return function wA(n,t,e){return e&&null==e.z2&&((e=J({},e)).z2=n.z2+(n.z2SelectLift??Rw)),e}(this,0,e)}return e}function Pu(n){n.stateProxy=Eu;var t=n.getTextContent(),e=n.getTextGuideLine();t&&(t.stateProxy=Eu),e&&(e.stateProxy=Eu)}function Hw(n,t){!Lu(n,t)&&!n.__highByOuter&&aa(n,Wd)}function bA(n,t){!Lu(n,t)&&!n.__highByOuter&&aa(n,_A)}function Jo(n,t){n.__highByOuter|=1<<(t||0),aa(n,Wd)}function es(n,t){!(n.__highByOuter&=~(1<<(t||0)))&&aa(n,_A)}function Gw(n){aa(n,Tm)}function Am(n){aa(n,kw)}function $d(n){aa(n,SA)}function Im(n){aa(n,Fw)}function Lu(n,t){return n.__highDownSilentOnTouch&&t.zrByTouch}function DA(n){var t=n.getModel(),e=[],r=[];t.eachComponent(function(i,o){var u=Pw(o),c="series"===i,h=c?n.getViewOfSeriesModel(o):n.getViewOfComponentModel(o);!c&&r.push(h),u.isBlured&&(h.group.traverse(function(d){kw(d)}),c&&e.push(o)),u.isBlured=!1}),F(r,function(i){i&&i.toggleBlurSeries&&i.toggleBlurSeries(e,!1,t)})}function Uw(n,t,e,r){var i=r.getModel();function o(d,p){for(var g=0;g<p.length;g++){var m=d.getItemGraphicEl(p[g]);m&&Am(m)}}if(e=e||"coordinateSystem",null!=n&&t&&"none"!==t){var u=i.getSeriesByIndex(n),c=u.coordinateSystem;c&&c.master&&(c=c.master);var h=[];i.eachSeries(function(d){var p=u===d,g=d.coordinateSystem;if(g&&g.master&&(g=g.master),!("series"===e&&!p||"coordinateSystem"===e&&!(g&&c?g===c:p)||"series"===t&&p)){if(r.getViewOfSeriesModel(d).group.traverse(function(D){D.__highByOuter&&p&&"self"===t||Tm(D)}),Kn(t))o(d.getData(),t);else if(xe(t))for(var S=Xe(t),b=0;b<S.length;b++)o(d.getData(S[b]),t[S[b]]);h.push(d),Pw(d).isBlured=!0}}),i.eachComponent(function(d,p){if("series"!==d){var g=r.getViewOfComponentModel(p);g&&g.toggleBlurSeries&&g.toggleBlurSeries(h,!0,i)}})}}function CA(n,t,e){if(null!=n&&null!=t){var r=e.getModel().getComponent(n,t);if(r){Pw(r).isBlured=!0;var i=e.getViewOfComponentModel(r);!i||!i.focusBlurEnabled||i.group.traverse(function(o){Tm(o)})}}}function Yd(n,t,e,r){var i={focusSelf:!1,dispatchers:null};if(null==n||"series"===n||null==t||null==e)return i;var o=r.getModel().getComponent(n,t);if(!o)return i;var u=r.getViewOfComponentModel(o);if(!u||!u.findHighDownDispatchers)return i;for(var h,c=u.findHighDownDispatchers(e),d=0;d<c.length;d++)if("self"===Oe(c[d]).focus){h=!0;break}return{focusSelf:h,dispatchers:c}}function Pm(n){F(n.getAllData(),function(e){var i=e.type;e.data.eachItemGraphicEl(function(o,u){n.isSelected(u,i)?$d(o):Im(o)})})}function xA(n){var t=[];return n.eachSeries(function(e){F(e.getAllData(),function(i){var u=i.type,c=e.getSelectedDataIndices();if(c.length>0){var h={dataIndex:c,seriesIndex:e.seriesIndex};null!=u&&(h.dataType=u),t.push(h)}})}),t}function ts(n,t,e){Ru(n,!0),aa(n,Pu),jw(n,t,e)}function nn(n,t,e,r){r?function TA(n){Ru(n,!1)}(n):ts(n,t,e)}function jw(n,t,e){var r=Oe(n);null!=t?(r.focus=t,r.blurScope=e):r.focus&&(r.focus=null)}var MA=["emphasis","blur","select"],nF={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function lr(n,t,e,r){e=e||"itemStyle";for(var i=0;i<MA.length;i++){var o=MA[i],u=t.getModel([o,e]);n.ensureState(o).style=r?r(u):u[nF[e]]()}}function Ru(n,t){var e=!1===t,r=n;n.highDownSilentOnTouch&&(r.__highDownSilentOnTouch=n.highDownSilentOnTouch),(!e||r.__highDownDispatcher)&&(r.__highByOuter=r.__highByOuter||0,r.__highDownDispatcher=!e)}function oa(n){return!(!n||!n.__highDownDispatcher)}function AA(n){var t=n.type;return t===Au||t===jd||t===La}function iF(n){var t=n.type;return t===Mu||t===xm}var aF=ot();function qd(n,t,e,r,i){var o;if(t&&t.ecModel){var u=t.ecModel.getUpdatePayload();o=u&&u.animation}var h="update"===n;if(t&&t.isAnimationEnabled()){var d=void 0,p=void 0,g=void 0;return r?(d=ke(r.duration,200),p=ke(r.easing,"cubicOut"),g=0):(d=t.getShallow(h?"animationDurationUpdate":"animationDuration"),p=t.getShallow(h?"animationEasingUpdate":"animationEasing"),g=t.getShallow(h?"animationDelayUpdate":"animationDelay")),o&&(null!=o.duration&&(d=o.duration),null!=o.easing&&(p=o.easing),null!=o.delay&&(g=o.delay)),_e(g)&&(g=g(e,i)),_e(d)&&(d=d(e)),{duration:d||0,delay:g,easing:p}}return null}function Lm(n,t,e,r,i,o,u){var h,c=!1;_e(i)?(u=o,o=i,i=null):xe(i)&&(o=i.cb,u=i.during,c=i.isFrom,h=i.removeOpt,i=i.dataIndex);var d="leave"===n;d||t.stopAnimation("leave");var p=qd(n,r,i,d?h||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(t,i):null);if(p&&p.duration>0){var S={duration:p.duration,delay:p.delay||0,easing:p.easing,done:o,force:!!o||!!u,setToFinal:!d,scope:n,during:u};c?t.animateFrom(e,S):t.animateTo(e,S)}else t.stopAnimation(),!c&&t.attr(e),u&&u(1),o&&o()}function dt(n,t,e,r,i,o){Lm("update",n,t,e,r,i,o)}function $t(n,t,e,r,i,o){Lm("enter",n,t,e,r,i,o)}function Lf(n){if(!n.__zr)return!0;for(var t=0;t<n.animators.length;t++)if("leave"===n.animators[t].scope)return!0;return!1}function pl(n,t,e,r,i,o){Lf(n)||Lm("leave",n,t,e,r,i,o)}function Rm(n,t,e,r){n.removeTextContent(),n.removeTextGuideLine(),pl(n,{style:{opacity:0}},t,e,r)}function Pi(n,t,e){function r(){n.parent&&n.parent.remove(n)}n.isGroup?n.traverse(function(i){i.isGroup||Rm(i,t,e,r)}):Rm(n,t,e,r)}function zr(n){aF(n).oldStyle=n.style}var Xd={};function Ww(n,t){for(var e=0;e<Cr.length;e++){var r=Cr[e],i=t[r],o=n.ensureState(r);o.style=o.style||{},o.style.text=i}var u=n.currentStates.slice();n.clearStates(!0),n.setStyle({text:t.normal}),n.useStates(u,!0)}function EA(n,t,e){var c,r=n.labelFetcher,i=n.labelDataIndex,o=n.labelDimIndex,u=t.normal;r&&(c=r.getFormattedLabel(i,"normal",null,o,u&&u.get("formatter"),null!=e?{interpolatedValue:e}:null)),null==c&&(c=_e(n.defaultText)?n.defaultText(i,n,e):n.defaultText);for(var h={normal:c},d=0;d<Cr.length;d++){var p=Cr[d],g=t[p];h[p]=ke(r?r.getFormattedLabel(i,p,null,o,g&&g.get("formatter")):null,c)}return h}function xr(n,t,e,r){e=e||Xd;for(var i=n instanceof rt,o=!1,u=0;u<fl.length;u++)if((c=t[fl[u]])&&c.getShallow("show")){o=!0;break}var h=i?n:n.getTextContent();if(o){i||(h||(h=new rt,n.setTextContent(h)),n.stateProxy&&(h.stateProxy=n.stateProxy));var d=EA(e,t),p=t.normal,g=!!p.getShallow("show"),m=Et(p,r&&r.normal,e,!1,!i);for(m.text=d.normal,i||n.setTextConfig(Rf(p,e,!1)),u=0;u<Cr.length;u++){var c,y=Cr[u];if(c=t[y]){var S=h.ensureState(y),b=!!ke(c.getShallow("show"),g);b!==g&&(S.ignore=!b),S.style=Et(c,r&&r[y],e,!0,!i),S.style.text=d[y],i||(n.ensureState(y).textConfig=Rf(c,e,!0))}}h.silent=!!p.getShallow("silent"),null!=h.style.x&&(m.x=h.style.x),null!=h.style.y&&(m.y=h.style.y),h.ignore=!g,h.useStyle(m),h.dirty(),e.enableTextSetter&&(Nu(h).setLabelText=function(C){var T=EA(e,t,C);Ww(h,T)})}else h&&(h.ignore=!0);n.dirty()}function qn(n,t){for(var e={normal:n.getModel(t=t||"label")},r=0;r<Cr.length;r++){var i=Cr[r];e[i]=n.getModel([i,t])}return e}function Et(n,t,e,r,i){var o={};return function aj(n,t,e,r,i){e=e||Xd;var h,o=t.ecModel,u=o&&o.option.textStyle,c=function oj(n){for(var t;n&&n!==n.ecModel;){var e=(n.option||Xd).rich;if(e){t=t||{};for(var r=Xe(e),i=0;i<r.length;i++)t[r[i]]=1}n=n.parentModel}return t}(t);if(c)for(var d in h={},c)if(c.hasOwnProperty(d)){var p=t.getModel(["rich",d]);RA(h[d]={},p,u,e,r,i,!1,!0)}h&&(n.rich=h);var g=t.get("overflow");g&&(n.overflow=g);var m=t.get("minMargin");null!=m&&(n.margin=m),RA(n,t,u,e,r,i,!0,!1)}(o,n,e,r,i),t&&J(o,t),o}function Rf(n,t,e){t=t||{};var i,r={},o=n.getShallow("rotate"),u=ke(n.getShallow("distance"),e?null:5),c=n.getShallow("offset");return"outside"===(i=n.getShallow("position")||(e?null:"inside"))&&(i=t.defaultOutsidePosition||"top"),null!=i&&(r.position=i),null!=c&&(r.offset=c),null!=o&&(o*=Math.PI/180,r.rotation=o),null!=u&&(r.distance=u),r.outsideFill="inherit"===n.get("color")?t.inheritColor||null:"auto",r}var $w=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],PA=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],LA=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function RA(n,t,e,r,i,o,u,c){e=!i&&e||Xd;var h=r&&r.inheritColor,d=t.getShallow("color"),p=t.getShallow("textBorderColor"),g=ke(t.getShallow("opacity"),e.opacity);("inherit"===d||"auto"===d)&&(d=h||null),("inherit"===p||"auto"===p)&&(p=h||null),o||(d=d||e.color,p=p||e.textBorderColor),null!=d&&(n.fill=d),null!=p&&(n.stroke=p);var m=ke(t.getShallow("textBorderWidth"),e.textBorderWidth);null!=m&&(n.lineWidth=m);var y=ke(t.getShallow("textBorderType"),e.textBorderType);null!=y&&(n.lineDash=y);var S=ke(t.getShallow("textBorderDashOffset"),e.textBorderDashOffset);null!=S&&(n.lineDashOffset=S),!i&&null==g&&!c&&(g=r&&r.defaultOpacity),null!=g&&(n.opacity=g),!i&&!o&&null==n.fill&&r.inheritColor&&(n.fill=r.inheritColor);for(var b=0;b<$w.length;b++)null!=(C=ke(t.getShallow(D=$w[b]),e[D]))&&(n[D]=C);for(b=0;b<PA.length;b++)null!=(C=t.getShallow(D=PA[b]))&&(n[D]=C);if(null==n.verticalAlign){var T=t.getShallow("baseline");null!=T&&(n.verticalAlign=T)}if(!u||!r.disableBox){for(b=0;b<LA.length;b++){var D,C;null!=(C=t.getShallow(D=LA[b]))&&(n[D]=C)}var M=t.getShallow("borderType");null!=M&&(n.borderDash=M),("auto"===n.backgroundColor||"inherit"===n.backgroundColor)&&h&&(n.backgroundColor=h),("auto"===n.borderColor||"inherit"===n.borderColor)&&h&&(n.borderColor=h)}}function NA(n,t){var e=t&&t.getModel("textStyle");return ei([n.fontStyle||e&&e.getShallow("fontStyle")||"",n.fontWeight||e&&e.getShallow("fontWeight")||"",(n.fontSize||e&&e.getShallow("fontSize")||12)+"px",n.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}var Nu=ot();function Kd(n,t,e,r){if(n){var i=Nu(n);i.prevValue=i.value,i.value=e;var o=t.normal;i.valueAnimation=o.get("valueAnimation"),i.valueAnimation&&(i.precision=o.get("precision"),i.defaultInterpolatedText=r,i.statesModels=t)}}function OA(n,t,e,r,i){var o=Nu(n);if(o.valueAnimation&&o.prevValue!==o.value){var u=o.defaultInterpolatedText,c=ke(o.interpolatedValue,o.prevValue),h=o.value;n.percent=0,(null==o.prevValue?$t:dt)(n,{percent:1},r,t,null,function d(p){var g=rl(e,o.precision,c,h,p);o.interpolatedValue=1===p?null:g;var m=EA({labelDataIndex:t,labelFetcher:i,defaultText:u?u(g):g+""},o.statesModels,g);Ww(n,m)})}}var Yw=["textStyle","color"],Zw=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],vl=new rt,oF=function(){function n(){}return n.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Yw):null)},n.prototype.getFont=function(){return NA({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},n.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},r=0;r<Zw.length;r++)e[Zw[r]]=this.getShallow(Zw[r]);return vl.useStyle(e),vl.update(),vl.getBoundingRect()},n}();const sF=oF;var qw=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],kA=na(qw),lF=function(){function n(){}return n.prototype.getLineStyle=function(t){return kA(this,t)},n}(),FA=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],uF=na(FA),cF=function(){function n(){}return n.prototype.getItemStyle=function(t,e){return uF(this,t,e)},n}(),gl=function(){function n(t,e,r){this.parentModel=e,this.ecModel=r,this.option=t}return n.prototype.init=function(t,e,r){for(var i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o]},n.prototype.mergeOption=function(t,e){Ve(this.option,t,!0)},n.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},n.prototype.getShallow=function(t,e){var r=this.option,i=null==r?r:r[t];if(null==i&&!e){var o=this.parentModel;o&&(i=o.getShallow(t))}return i},n.prototype.getModel=function(t,e){var r=null!=t,i=r?this.parsePath(t):null;return new n(r?this._doGet(i):this.option,e=e||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(i)),this.ecModel)},n.prototype.isEmpty=function(){return null==this.option},n.prototype.restoreData=function(){},n.prototype.clone=function(){return new(0,this.constructor)(Te(this.option))},n.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},n.prototype.resolveParentPath=function(t){return t},n.prototype.isAnimationEnabled=function(){if(!ct.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},n.prototype._doGet=function(t,e){var r=this.option;if(!t)return r;for(var i=0;i<t.length&&(!t[i]||null!=(r=r&&"object"==typeof r?r[t[i]]:null));i++);return null==r&&e&&(r=e._doGet(this.resolveParentPath(t),e.parentModel)),r},n}();dw(gl),function HM(n){var t=["__\0is_clz",kk++].join("_");n.prototype[t]=!0,n.isInstance=function(e){return!(!e||!e[t])}}(gl),un(gl,lF),un(gl,cF),un(gl,Df),un(gl,sF);const Rt=gl;var sj=Math.round(10*Math.random());function mo(n){return[n||"",sj++].join("_")}function ns(n,t){return Ve(Ve({},n,!0),t,!0)}var Nf="EN",Ou={},BA={},km=ct.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf("ZH")>-1?"ZH":Nf;function Qw(n,t){n=n.toUpperCase(),BA[n]=new Rt(t),Ou[n]=t}function Fm(n){return BA[n]}Qw("EN",{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),Qw("ZH",{time:{month:["\u4e00\u6708","\u4e8c\u6708","\u4e09\u6708","\u56db\u6708","\u4e94\u6708","\u516d\u6708","\u4e03\u6708","\u516b\u6708","\u4e5d\u6708","\u5341\u6708","\u5341\u4e00\u6708","\u5341\u4e8c\u6708"],monthAbbr:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],dayOfWeek:["\u661f\u671f\u65e5","\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94","\u661f\u671f\u516d"],dayOfWeekAbbr:["\u65e5","\u4e00","\u4e8c","\u4e09","\u56db","\u4e94","\u516d"]},legend:{selector:{all:"\u5168\u9009",inverse:"\u53cd\u9009"}},toolbox:{brush:{title:{rect:"\u77e9\u5f62\u9009\u62e9",polygon:"\u5708\u9009",lineX:"\u6a2a\u5411\u9009\u62e9",lineY:"\u7eb5\u5411\u9009\u62e9",keep:"\u4fdd\u6301\u9009\u62e9",clear:"\u6e05\u9664\u9009\u62e9"}},dataView:{title:"\u6570\u636e\u89c6\u56fe",lang:["\u6570\u636e\u89c6\u56fe","\u5173\u95ed","\u5237\u65b0"]},dataZoom:{title:{zoom:"\u533a\u57df\u7f29\u653e",back:"\u533a\u57df\u7f29\u653e\u8fd8\u539f"}},magicType:{title:{line:"\u5207\u6362\u4e3a\u6298\u7ebf\u56fe",bar:"\u5207\u6362\u4e3a\u67f1\u72b6\u56fe",stack:"\u5207\u6362\u4e3a\u5806\u53e0",tiled:"\u5207\u6362\u4e3a\u5e73\u94fa"}},restore:{title:"\u8fd8\u539f"},saveAsImage:{title:"\u4fdd\u5b58\u4e3a\u56fe\u7247",lang:["\u53f3\u952e\u53e6\u5b58\u4e3a\u56fe\u7247"]}},series:{typeNames:{pie:"\u997c\u56fe",bar:"\u67f1\u72b6\u56fe",line:"\u6298\u7ebf\u56fe",scatter:"\u6563\u70b9\u56fe",effectScatter:"\u6d9f\u6f2a\u6563\u70b9\u56fe",radar:"\u96f7\u8fbe\u56fe",tree:"\u6811\u56fe",treemap:"\u77e9\u5f62\u6811\u56fe",boxplot:"\u7bb1\u578b\u56fe",candlestick:"K\u7ebf\u56fe",k:"K\u7ebf\u56fe",heatmap:"\u70ed\u529b\u56fe",map:"\u5730\u56fe",parallel:"\u5e73\u884c\u5750\u6807\u56fe",lines:"\u7ebf\u56fe",graph:"\u5173\u7cfb\u56fe",sankey:"\u6851\u57fa\u56fe",funnel:"\u6f0f\u6597\u56fe",gauge:"\u4eea\u8868\u76d8\u56fe",pictorialBar:"\u8c61\u5f62\u67f1\u56fe",themeRiver:"\u4e3b\u9898\u6cb3\u6d41\u56fe",sunburst:"\u65ed\u65e5\u56fe"}},aria:{general:{withTitle:"\u8fd9\u662f\u4e00\u4e2a\u5173\u4e8e\u201c{title}\u201d\u7684\u56fe\u8868\u3002",withoutTitle:"\u8fd9\u662f\u4e00\u4e2a\u56fe\u8868\uff0c"},series:{single:{prefix:"",withName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\uff0c\u8868\u793a{seriesName}\u3002",withoutName:"\u56fe\u8868\u7c7b\u578b\u662f{seriesType}\u3002"},multiple:{prefix:"\u5b83\u7531{seriesCount}\u4e2a\u56fe\u8868\u7cfb\u5217\u7ec4\u6210\u3002",withName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a\u8868\u793a{seriesName}\u7684{seriesType}\uff0c",withoutName:"\u7b2c{seriesId}\u4e2a\u7cfb\u5217\u662f\u4e00\u4e2a{seriesType}\uff0c",separator:{middle:"\uff1b",end:"\u3002"}}},data:{allData:"\u5176\u6570\u636e\u662f\u2014\u2014",partialData:"\u5176\u4e2d\uff0c\u524d{displayCnt}\u9879\u662f\u2014\u2014",withName:"{name}\u7684\u6570\u636e\u662f{value}",withoutName:"{value}",separator:{middle:"\uff0c",end:""}}}});var ku=36e5,Hr=24*ku,HA=365*Hr,Fu={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},Vu="{yyyy}-{MM}-{dd}",di={year:"{yyyy}",month:"{yyyy}-{MM}",day:Vu,hour:Vu+" "+Fu.hour,minute:Vu+" "+Fu.minute,second:Vu+" "+Fu.second,millisecond:Fu.none},ml=["year","month","day","hour","minute","second","millisecond"],Vm=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function Gr(n,t){return"0000".substr(0,t-(n+="").length)+n}function Of(n){switch(n){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return n}}function GA(n){return n===Of(n)}function Jd(n,t,e,r){var i=Ii(n),o=i[Ff(e)](),u=i[Vf(e)]()+1,c=Math.floor((u-1)/3)+1,h=i[ep(e)](),d=i["get"+(e?"UTC":"")+"Day"](),p=i[Ra(e)](),g=(p-1)%12+1,m=i[tb(e)](),y=i[nb(e)](),S=i[tp(e)](),D=(r instanceof Rt?r:Fm(r||km)||function zA(){return BA[Nf]}()).getModel("time"),C=D.get("month"),T=D.get("monthAbbr"),M=D.get("dayOfWeek"),I=D.get("dayOfWeekAbbr");return(t||"").replace(/{yyyy}/g,o+"").replace(/{yy}/g,Gr(o%100+"",2)).replace(/{Q}/g,c+"").replace(/{MMMM}/g,C[u-1]).replace(/{MMM}/g,T[u-1]).replace(/{MM}/g,Gr(u,2)).replace(/{M}/g,u+"").replace(/{dd}/g,Gr(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,M[d]).replace(/{ee}/g,I[d]).replace(/{e}/g,d+"").replace(/{HH}/g,Gr(p,2)).replace(/{H}/g,p+"").replace(/{hh}/g,Gr(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,Gr(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,Gr(y,2)).replace(/{s}/g,y+"").replace(/{SSS}/g,Gr(S,3)).replace(/{S}/g,S+"")}function UA(n,t){var e=Ii(n),r=e[Vf(t)]()+1,i=e[ep(t)](),o=e[Ra(t)](),u=e[tb(t)](),c=e[nb(t)](),d=0===e[tp(t)](),p=d&&0===c,g=p&&0===u,m=g&&0===o,y=m&&1===i;return y&&1===r?"year":y?"month":m?"day":g?"hour":p?"minute":d?"second":"millisecond"}function Bm(n,t,e){var r=ft(n)?Ii(n):n;switch(t=t||UA(n,e)){case"year":return r[Ff(e)]();case"half-year":return r[Vf(e)]()>=6?1:0;case"quarter":return Math.floor((r[Vf(e)]()+1)/4);case"month":return r[Vf(e)]();case"day":return r[ep(e)]();case"half-day":return r[Ra(e)]()/24;case"hour":return r[Ra(e)]();case"minute":return r[tb(e)]();case"second":return r[nb(e)]();case"millisecond":return r[tp(e)]()}}function Ff(n){return n?"getUTCFullYear":"getFullYear"}function Vf(n){return n?"getUTCMonth":"getMonth"}function ep(n){return n?"getUTCDate":"getDate"}function Ra(n){return n?"getUTCHours":"getHours"}function tb(n){return n?"getUTCMinutes":"getMinutes"}function nb(n){return n?"getUTCSeconds":"getSeconds"}function tp(n){return n?"getUTCMilliseconds":"getMilliseconds"}function hF(n){return n?"setUTCFullYear":"setFullYear"}function dF(n){return n?"setUTCMonth":"setMonth"}function pF(n){return n?"setUTCDate":"setDate"}function np(n){return n?"setUTCHours":"setHours"}function jA(n){return n?"setUTCMinutes":"setMinutes"}function zm(n){return n?"setUTCSeconds":"setSeconds"}function Hm(n){return n?"setUTCMilliseconds":"setMilliseconds"}function yl(n){if(!ow(n))return fe(n)?n:"-";var t=(n+"").split(".");return t[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(t.length>1?"."+t[1]:"")}function rp(n,t){return n=(n||"").toLowerCase().replace(/-(.)/g,function(e,r){return r.toUpperCase()}),t&&n&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n}var is=Lg;function Bu(n,t,e){function i(p){return p&&ei(p)?p:"-"}function o(p){return!(null==p||isNaN(p)||!isFinite(p))}var u="time"===t,c=n instanceof Date;if(u||c){var h=u?Ii(n):n;if(!isNaN(+h))return Jd(h,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",e);if(c)return"-"}if("ordinal"===t)return Qn(n)?i(n):ft(n)&&o(n)?n+"":"-";var d=or(n);return o(d)?yl(d):Qn(n)?i(n):"boolean"==typeof n?n+"":"-"}var ip=["a","b","c","d","e","f","g"],_l=function(n,t){return"{"+n+(t??"")+"}"};function ap(n,t,e){te(t)||(t=[t]);var r=t.length;if(!r)return"";for(var i=t[0].$vars||[],o=0;o<i.length;o++){var u=ip[o];n=n.replace(_l(u),_l(u,0))}for(var c=0;c<r;c++)for(var h=0;h<i.length;h++){var d=t[c][i[h]];n=n.replace(_l(ip[h],c),e?yr(d):d)}return n}function op(n,t){var e=fe(n)?{color:n,extraCssText:t}:n||{},r=e.color,i=e.type;t=e.extraCssText;var o=e.renderMode||"html";return r?"html"===o?"subItem"===i?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+yr(r)+";"+(t||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+yr(r)+";"+(t||"")+'"></span>':{renderMode:o,content:"{"+(e.markerId||"markerX")+"|}  ",style:"subItem"===i?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function lj(n,t,e){("week"===n||"month"===n||"quarter"===n||"half-year"===n||"year"===n)&&(n="MM-dd\nyyyy");var r=Ii(t),i=e?"getUTC":"get",o=r[i+"FullYear"](),u=r[i+"Month"]()+1,c=r[i+"Date"](),h=r[i+"Hours"](),d=r[i+"Minutes"](),p=r[i+"Seconds"](),g=r[i+"Milliseconds"]();return n.replace("MM",Gr(u,2)).replace("M",u).replace("yyyy",o).replace("yy",Gr(o%100+"",2)).replace("dd",Gr(c,2)).replace("d",c).replace("hh",Gr(h,2)).replace("h",h).replace("mm",Gr(d,2)).replace("m",d).replace("ss",Gr(p,2)).replace("s",p).replace("SSS",Gr(g,3))}function ib(n){return n&&n.charAt(0).toUpperCase()+n.substr(1)}function Na(n,t){return t=t||"transparent",fe(n)?n:xe(n)&&n.colorStops&&(n.colorStops[0]||{}).color||t}function Gm(n,t){if("_blank"===t||"blank"===t){var e=window.open();e.opener=null,e.location.href=n}else window.open(n,t)}var sp=F,WA=["left","right","top","bottom","width","height"],zu=[["width","left","right"],["height","top","bottom"]];function lp(n,t,e,r,i){var o=0,u=0;null==r&&(r=1/0),null==i&&(i=1/0);var c=0;t.eachChild(function(h,d){var y,S,p=h.getBoundingRect(),g=t.childAt(d+1),m=g&&g.getBoundingRect();if("horizontal"===n){var b=p.width+(m?-m.x+p.x:0);(y=o+b)>r||h.newline?(o=0,y=b,u+=c+e,c=p.height):c=Math.max(c,p.height)}else{var D=p.height+(m?-m.y+p.y:0);(S=u+D)>i||h.newline?(o+=c+e,u=0,S=D,c=p.width):c=Math.max(c,p.width)}h.newline||(h.x=o,h.y=u,h.markRedraw(),"horizontal"===n?o=y+e:u=S+e)})}var Sl=lp;function An(n,t,e){e=is(e||0);var r=t.width,i=t.height,o=le(n.left,r),u=le(n.top,i),c=le(n.right,r),h=le(n.bottom,i),d=le(n.width,r),p=le(n.height,i),g=e[2]+e[0],m=e[1]+e[3],y=n.aspect;switch(isNaN(d)&&(d=r-c-m-o),isNaN(p)&&(p=i-h-g-u),null!=y&&(isNaN(d)&&isNaN(p)&&(y>r/i?d=.8*r:p=.8*i),isNaN(d)&&(d=y*p),isNaN(p)&&(p=d/y)),isNaN(o)&&(o=r-c-d-m),isNaN(u)&&(u=i-h-p-g),n.left||n.right){case"center":o=r/2-d/2-e[3];break;case"right":o=r-d-m}switch(n.top||n.bottom){case"middle":case"center":u=i/2-p/2-e[0];break;case"bottom":u=i-p-g}o=o||0,u=u||0,isNaN(d)&&(d=r-m-o-(c||0)),isNaN(p)&&(p=i-g-u-(h||0));var S=new Be(o+e[3],u+e[0],d,p);return S.margin=e,S}function Hu(n,t,e,r,i,o){var d,u=!i||!i.hv||i.hv[0],c=!i||!i.hv||i.hv[1],h=i&&i.boundingMode||"all";if((o=o||n).x=n.x,o.y=n.y,!u&&!c)return!1;if("raw"===h)d="group"===n.type?new Be(0,0,+t.width||0,+t.height||0):n.getBoundingRect();else if(d=n.getBoundingRect(),n.needLocalTransform()){var p=n.getLocalTransform();(d=d.clone()).applyTransform(p)}var g=An(De({width:d.width,height:d.height},t),e,r),m=u?g.x-d.x:0,y=c?g.y-d.y:0;return"raw"===h?(o.x=m,o.y=y):(o.x+=m,o.y+=y),o===n&&n.markRedraw(),!0}function up(n){var t=n.layoutMode||n.constructor.layoutMode;return xe(t)?t:t?{type:t}:null}function as(n,t,e){var r=e&&e.ignoreSize;!te(r)&&(r=[r,r]);var i=u(zu[0],0),o=u(zu[1],1);function u(p,g){var m={},y=0,S={},b=0;if(sp(p,function(M){S[M]=n[M]}),sp(p,function(M){c(t,M)&&(m[M]=S[M]=t[M]),h(m,M)&&y++,h(S,M)&&b++}),r[g])return h(t,p[1])?S[p[2]]=null:h(t,p[2])&&(S[p[1]]=null),S;if(2===b||!y)return S;if(y>=2)return m;for(var C=0;C<p.length;C++){var T=p[C];if(!c(m,T)&&c(n,T)){m[T]=n[T];break}}return m}function c(p,g){return p.hasOwnProperty(g)}function h(p,g){return null!=p[g]&&"auto"!==p[g]}function d(p,g,m){sp(p,function(y){g[y]=m[y]})}d(zu[0],n,i),d(zu[1],n,o)}function wl(n){return cp({},n)}function cp(n,t){return t&&n&&sp(WA,function(e){t.hasOwnProperty(e)&&(n[e]=t[e])}),n}Re(lp,"vertical"),Re(lp,"horizontal");var vF=ot(),Gu=function(n){function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.uid=mo("ec_cpt_model"),o}return q(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i)},t.prototype.mergeDefaultAndTheme=function(e,r){var i=up(this),o=i?wl(e):{};Ve(e,r.getTheme().get(this.mainType)),Ve(e,this.getDefaultOption()),i&&as(e,o,i)},t.prototype.mergeOption=function(e,r){Ve(this.option,e,!0);var i=up(this);i&&as(this.option,e,i)},t.prototype.optionUpdated=function(e,r){},t.prototype.getDefaultOption=function(){var e=this.constructor;if(!function Fr(n){return!(!n||!n[hw])}(e))return e.defaultOption;var r=vF(this);if(!r.defaultOption){for(var i=[],o=e;o;){var u=o.prototype.defaultOption;u&&i.push(u),o=o.superClass}for(var c={},h=i.length-1;h>=0;h--)c=Ve(c,i[h],!0);r.defaultOption=c}return r.defaultOption},t.prototype.getReferringComponents=function(e,r){var o=e+"Id";return Sf(this.ecModel,e,{index:this.get(e+"Index",!0),id:this.get(o,!0)},r)},t.prototype.getBoxLayoutParams=function(){var e=this;return{left:e.get("left"),top:e.get("top"),right:e.get("right"),bottom:e.get("bottom"),width:e.get("width"),height:e.get("height")}},t.prototype.getZLevelKey=function(){return""},t.prototype.setZLevel=function(e){this.option.zlevel=e},t.protoInitialize=((e=t.prototype).type="component",e.id="",e.name="",e.mainType="",e.subType="",void(e.componentIndex=0)),t;var e}(Rt);um(Gu,Rt),qo(Gu),function Qd(n){var t={};n.registerSubTypeDefaulter=function(e,r){var i=li(e);t[i.main]=r},n.determineSubType=function(e,r){var i=r.type;if(!i){var o=li(e).main;n.hasSubTypes(e)&&t[o]&&(i=t[o](r))}return i}}(Gu),function VA(n,t){function r(o,u){return o[u]||(o[u]={predecessor:[],successor:[]}),o[u]}n.topologicalTravel=function(o,u,c,h){if(o.length){var d=function e(o){var u={},c=[];return F(o,function(h){var d=r(u,h),g=function i(o,u){var c=[];return F(o,function(h){Ge(u,h)>=0&&c.push(h)}),c}(d.originalDeps=t(h),o);d.entryCount=g.length,0===d.entryCount&&c.push(h),F(g,function(m){Ge(d.predecessor,m)<0&&d.predecessor.push(m);var y=r(u,m);Ge(y.successor,m)<0&&y.successor.push(h)})}),{graph:u,noEntryList:c}}(u),p=d.graph,g=d.noEntryList,m={};for(F(o,function(T){m[T]=!0});g.length;){var y=g.pop(),S=p[y],b=!!m[y];b&&(c.call(h,y,S.originalDeps.slice()),delete m[y]),F(S.successor,b?C:D)}F(m,function(){throw new Error("")})}function D(T){p[T].entryCount--,0===p[T].entryCount&&g.push(T)}function C(T){m[T]=!0,D(T)}}}(Gu,function gF(n){var t=[];return F(Gu.getClassesByMainType(n),function(e){t=t.concat(e.dependencies||e.prototype.dependencies||[])}),t=re(t,function(e){return li(e).main}),"dataset"!==n&&Ge(t,"dataset")<=0&&t.unshift("dataset"),t});const at=Gu;var mF="";typeof navigator<"u"&&(mF=navigator.platform||"");var Bf="rgba(0, 0, 0, 0.2)";const Um={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:Bf,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:Bf,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:Bf,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:Bf,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:Bf,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:Bf,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:mF.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var $A=ve(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),ur="original",Ht="arrayRows",sa="objectRows",Oa="keyedColumns",cr="typedArray",YA="unknown",yo="column",_o="row",fr={Must:1,Might:2,Not:3},jm=ot();function Wm(n,t,e){var r={},i=ob(t);if(!i||!n)return r;var p,g,o=[],u=[],h=jm(t.ecModel).datasetMap,d=i.uid+"_"+e.seriesLayoutBy;F(n=n.slice(),function(b,D){var C=xe(b)?b:n[D]={name:b};"ordinal"===C.type&&null==p&&(p=D,g=S(C)),r[C.name]=[]});var m=h.get(d)||h.set(d,{categoryWayDim:g,valueWayDim:0});function y(b,D,C){for(var T=0;T<C;T++)b.push(D+T)}function S(b){var D=b.dimsDef;return D?D.length:1}return F(n,function(b,D){var C=b.name,T=S(b);if(null==p)y(r[C],M=m.valueWayDim,T),y(u,M,T),m.valueWayDim+=T;else if(p===D)y(r[C],0,T),y(o,0,T);else{var M;y(r[C],M=m.categoryWayDim,T),y(u,M,T),m.categoryWayDim+=T}}),o.length&&(r.itemName=o),u.length&&(r.seriesName=u),r}function $m(n,t,e){var r={};if(!ob(n))return r;var c,o=t.sourceFormat,u=t.dimensionsDefine;(o===sa||o===Oa)&&F(u,function(p,g){"name"===(xe(p)?p.name:p)&&(c=g)});var h=function(){for(var p={},g={},m=[],y=0,S=Math.min(5,e);y<S;y++){var b=ZA(t.data,o,t.seriesLayoutBy,u,t.startIndex,y);m.push(b);var D=b===fr.Not;if(D&&null==p.v&&y!==c&&(p.v=y),(null==p.n||p.n===p.v||!D&&m[p.n]===fr.Not)&&(p.n=y),C(p)&&m[p.n]!==fr.Not)return p;D||(b===fr.Might&&null==g.v&&y!==c&&(g.v=y),(null==g.n||g.n===g.v)&&(g.n=y))}function C(T){return null!=T.v&&null!=T.n}return C(p)?p:C(g)?g:null}();if(h){r.value=[h.v];var d=c??h.n;r.itemName=[d],r.seriesName=[d]}return r}function ob(n){if(!n.get("data",!0))return Sf(n.ecModel,"dataset",{index:n.get("datasetIndex",!0),id:n.get("datasetId",!0)},Mn).models[0]}function sb(n,t){return ZA(n.data,n.sourceFormat,n.seriesLayoutBy,n.dimensionsDefine,n.startIndex,t)}function ZA(n,t,e,r,i,o){var u,h,d;if(Jr(n))return fr.Not;if(r){var p=r[o];xe(p)?(h=p.name,d=p.type):fe(p)&&(h=p)}if(null!=d)return"ordinal"===d?fr.Must:fr.Not;if(t===Ht){var g=n;if(e===_o){for(var m=g[o],y=0;y<(m||[]).length&&y<5;y++)if(null!=(u=I(m[i+y])))return u}else for(y=0;y<g.length&&y<5;y++){var S=g[i+y];if(S&&null!=(u=I(S[o])))return u}}else if(t===sa){var b=n;if(!h)return fr.Not;for(y=0;y<b.length&&y<5;y++)if((D=b[y])&&null!=(u=I(D[h])))return u}else if(t===Oa){if(!h)return fr.Not;if(!(m=n[h])||Jr(m))return fr.Not;for(y=0;y<m.length&&y<5;y++)if(null!=(u=I(m[y])))return u}else if(t===ur){var T=n;for(y=0;y<T.length&&y<5;y++){var D,M=mf(D=T[y]);if(!te(M))return fr.Not;if(null!=(u=I(M[o])))return u}}function I(L){var E=fe(L);return null!=L&&isFinite(L)&&""!==L?E?fr.Might:fr.Not:E&&"-"!==L?fr.Must:void 0}return fr.Not}var Ym=ve(),wF=ot(),qA=ot(),Zm=function(){function n(){}return n.prototype.getColorFromPalette=function(t,e,r){var i=It(this.get("color",!0)),o=this.get("colorLayer",!0);return bF(this,wF,i,o,t,e,r)},n.prototype.clearColorPalette=function(){!function lb(n,t){t(n).paletteIdx=0,t(n).paletteNameMap={}}(this,wF)},n}();function Ur(n,t,e,r){var i=It(n.get(["aria","decal","decals"]));return bF(n,qA,i,null,t,e,r)}function bF(n,t,e,r,i,o,u){var c=t(o=o||n),h=c.paletteIdx||0,d=c.paletteNameMap=c.paletteNameMap||{};if(d.hasOwnProperty(i))return d[i];var p=null!=u&&r?function XA(n,t){for(var e=n.length,r=0;r<e;r++)if(n[r].length>t)return n[r];return n[e-1]}(r,u):e;if((p=p||e)&&p.length){var g=p[h];return i&&(d[i]=g),c.paletteIdx=(h+1)%p.length,g}}var la,Uu,KA,DF="\0_ec_inner",xF=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.init=function(e,r,i,o,u,c){o=o||{},this.option=null,this._theme=new Rt(o),this._locale=new Rt(u),this._optionManager=c},t.prototype.setOption=function(e,r,i){var o=JA(r);this._optionManager.setOption(e,i,o),this._resetOption(null,o)},t.prototype.resetOption=function(e,r){return this._resetOption(e,JA(r))},t.prototype._resetOption=function(e,r){var i=!1,o=this._optionManager;if(!e||"recreate"===e){var u=o.mountOption("recreate"===e);this.option&&"recreate"!==e?(this.restoreData(),this._mergeOption(u,r)):KA(this,u),i=!0}if(("timeline"===e||"media"===e)&&this.restoreData(),!e||"recreate"===e||"timeline"===e){var c=o.getTimelineOption(this);c&&(i=!0,this._mergeOption(c,r))}if(!e||"recreate"===e||"media"===e){var h=o.getMediaOption(this);h.length&&F(h,function(d){i=!0,this._mergeOption(d,r)},this)}return i},t.prototype.mergeOption=function(e){this._mergeOption(e,null)},t.prototype._mergeOption=function(e,r){var i=this.option,o=this._componentsMap,u=this._componentsCount,c=[],h=ve(),d=r&&r.replaceMergeMainTypeMap;(function hj(n){jm(n).datasetMap=ve()})(this),F(e,function(g,m){null!=g&&(at.hasClass(m)?m&&(c.push(m),h.set(m,!0)):i[m]=null==i[m]?Te(g):Ve(i[m],g,!0))}),d&&d.each(function(g,m){at.hasClass(m)&&!h.get(m)&&(c.push(m),h.set(m,!0))}),at.topologicalTravel(c,at.getAllClassMainTypes(),function p(g){var m=function SF(n,t,e){var r=Ym.get(t);if(!r)return e;var i=r(n);return i?e.concat(i):e}(this,g,It(e[g])),y=o.get(g),b=lm(y,m,y?d&&d.get(g)?"replaceMerge":"normalMerge":"replaceAll");(function Pk(n,t,e){F(n,function(r){var i=r.newOption;xe(i)&&(r.keyInfo.mainType=t,r.keyInfo.subType=function ho(n,t,e,r){return t.type?t.type:e?e.subType:r.determineSubType(n,t)}(t,i,r.existing,e))})})(b,g,at),i[g]=null,o.set(g,null),u.set(g,0);var M,D=[],C=[],T=0;F(b,function(L,E){var R=L.existing,O=L.newOption;if(O){var V=at.getClass(g,L.keyInfo.subType,!("series"===g));if(!V)return;if("tooltip"===g){if(M)return;M=!0}if(R&&R.constructor===V)R.name=L.keyInfo.name,R.mergeOption(O,this),R.optionUpdated(O,!1);else{var G=J({componentIndex:E},L.keyInfo);J(R=new V(O,this,this,G),G),L.brandNew&&(R.__requireNewView=!0),R.init(O,this,this),R.optionUpdated(null,!0)}}else R&&(R.mergeOption({},this),R.optionUpdated({},!1));R?(D.push(R.option),C.push(R),T++):(D.push(void 0),C.push(void 0))},this),i[g]=D,o.set(g,C),u.set(g,T),"series"===g&&la(this)},this),this._seriesIndices||la(this)},t.prototype.getOption=function(){var e=Te(this.option);return F(e,function(r,i){if(at.hasClass(i)){for(var o=It(r),u=o.length,c=!1,h=u-1;h>=0;h--)o[h]&&!_f(o[h])?c=!0:(o[h]=null,!c&&u--);o.length=u,e[i]=o}}),delete e[DF],e},t.prototype.getTheme=function(){return this._theme},t.prototype.getLocaleModel=function(){return this._locale},t.prototype.setUpdatePayload=function(e){this._payload=e},t.prototype.getUpdatePayload=function(){return this._payload},t.prototype.getComponent=function(e,r){var i=this._componentsMap.get(e);if(i){var o=i[r||0];if(o)return o;if(null==r)for(var u=0;u<i.length;u++)if(i[u])return i[u]}},t.prototype.queryComponents=function(e){var r=e.mainType;if(!r)return[];var h,i=e.index,o=e.id,u=e.name,c=this._componentsMap.get(r);return c&&c.length?(null!=i?(h=[],F(It(i),function(d){c[d]&&h.push(c[d])})):h=null!=o?qm("id",o,c):null!=u?qm("name",u,c):yt(c,function(d){return!!d}),QA(h,e)):[]},t.prototype.findComponents=function(e){var i=e.mainType,o=function c(d){var p=i+"Index",g=i+"Id",m=i+"Name";return!d||null==d[p]&&null==d[g]&&null==d[m]?null:{mainType:i,index:d[p],id:d[g],name:d[m]}}(e.query);return function h(d){return e.filter?yt(d,e.filter):d}(QA(o?this.queryComponents(o):yt(this._componentsMap.get(i),function(d){return!!d}),e))},t.prototype.eachComponent=function(e,r,i){var o=this._componentsMap;if(_e(e)){var u=r,c=e;o.each(function(g,m){for(var y=0;g&&y<g.length;y++){var S=g[y];S&&c.call(u,m,S,S.componentIndex)}})}else for(var h=fe(e)?o.get(e):xe(e)?this.findComponents(e):null,d=0;h&&d<h.length;d++){var p=h[d];p&&r.call(i,p,p.componentIndex)}},t.prototype.getSeriesByName=function(e){var r=rn(e,null);return yt(this._componentsMap.get("series"),function(i){return!!i&&null!=r&&i.name===r})},t.prototype.getSeriesByIndex=function(e){return this._componentsMap.get("series")[e]},t.prototype.getSeriesByType=function(e){return yt(this._componentsMap.get("series"),function(r){return!!r&&r.subType===e})},t.prototype.getSeries=function(){return yt(this._componentsMap.get("series"),function(e){return!!e})},t.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},t.prototype.eachSeries=function(e,r){Uu(this),F(this._seriesIndices,function(i){var o=this._componentsMap.get("series")[i];e.call(r,o,i)},this)},t.prototype.eachRawSeries=function(e,r){F(this._componentsMap.get("series"),function(i){i&&e.call(r,i,i.componentIndex)})},t.prototype.eachSeriesByType=function(e,r,i){Uu(this),F(this._seriesIndices,function(o){var u=this._componentsMap.get("series")[o];u.subType===e&&r.call(i,u,o)},this)},t.prototype.eachRawSeriesByType=function(e,r,i){return F(this.getSeriesByType(e),r,i)},t.prototype.isSeriesFiltered=function(e){return Uu(this),null==this._seriesIndicesMap.get(e.componentIndex)},t.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},t.prototype.filterSeries=function(e,r){Uu(this);var i=[];F(this._seriesIndices,function(o){var u=this._componentsMap.get("series")[o];e.call(r,u,o)&&i.push(o)},this),this._seriesIndices=i,this._seriesIndicesMap=ve(i)},t.prototype.restoreData=function(e){la(this);var r=this._componentsMap,i=[];r.each(function(o,u){at.hasClass(u)&&i.push(u)}),at.topologicalTravel(i,at.getAllClassMainTypes(),function(o){F(r.get(o),function(u){u&&("series"!==o||!function Zt(n,t){if(t){var e=t.seriesIndex,r=t.seriesId,i=t.seriesName;return null!=e&&n.componentIndex!==e||null!=r&&n.id!==r||null!=i&&n.name!==i}}(u,e))&&u.restoreData()})})},t.internalField=(la=function(e){var r=e._seriesIndices=[];F(e._componentsMap.get("series"),function(i){i&&r.push(i.componentIndex)}),e._seriesIndicesMap=ve(r)},Uu=function(e){},void(KA=function(e,r){e.option={},e.option[DF]=1,e._componentsMap=ve({series:[]}),e._componentsCount=ve();var i=r.aria;xe(i)&&null==i.enabled&&(i.enabled=!0),function TF(n,t){var e=n.color&&!n.colorLayer;F(t,function(r,i){"colorLayer"===i&&e||at.hasClass(i)||("object"==typeof r?n[i]=n[i]?Ve(n[i],r,!1):Te(r):null==n[i]&&(n[i]=r))})}(r,e._theme.option),Ve(r,Um,!1),e._mergeOption(r,null)})),t}(Rt);function qm(n,t,e){if(te(t)){var r=ve();return F(t,function(o){null!=o&&null!=rn(o,null)&&r.set(o,!0)}),yt(e,function(o){return o&&r.get(o[n])})}var i=rn(t,null);return yt(e,function(o){return o&&null!=i&&o[n]===i})}function QA(n,t){return t.hasOwnProperty("subType")?yt(n,function(e){return e&&e.subType===t.subType}):n}function JA(n){var t=ve();return n&&F(It(n.replaceMerge),function(e){t.set(e,!0)}),{replaceMergeMainTypeMap:t}}un(xF,Zm);const Xm=xF;var eI=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const nI=function n(t){F(eI,function(e){this[e]=de(t[e],t)},this)};var Km={},rI=function(){function n(){this._coordinateSystems=[]}return n.prototype.create=function(t,e){var r=[];F(Km,function(i,o){var u=i.create(t,e);r=r.concat(u||[])}),this._coordinateSystems=r},n.prototype.update=function(t,e){F(this._coordinateSystems,function(r){r.update&&r.update(t,e)})},n.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},n.register=function(t,e){Km[t]=e},n.get=function(t){return Km[t]},n}();const zf=rI;var MF=/^(min|max)?(.+)$/,AF=function(){function n(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return n.prototype.setOption=function(t,e,r){t&&(F(It(t.series),function(u){u&&u.data&&Jr(u.data)&&Fo(u.data)}),F(It(t.dataset),function(u){u&&u.source&&Jr(u.source)&&Fo(u.source)})),t=Te(t);var i=this._optionBackup,o=function iI(n,t,e){var i,o,r=[],u=n.baseOption,c=n.timeline,h=n.options,d=n.media,p=!!n.media,g=!!(h||c||u&&u.timeline);function m(y){F(t,function(S){S(y,e)})}return u?(o=u).timeline||(o.timeline=c):((g||p)&&(n.options=n.media=null),o=n),p&&te(d)&&F(d,function(y){y&&y.option&&(y.query?r.push(y):i||(i=y))}),m(o),F(h,function(y){return m(y)}),F(r,function(y){return m(y.option)}),{baseOption:o,timelineOptions:h||[],mediaDefault:i,mediaList:r}}(t,e,!i);this._newBaseOption=o.baseOption,i?(o.timelineOptions.length&&(i.timelineOptions=o.timelineOptions),o.mediaList.length&&(i.mediaList=o.mediaList),o.mediaDefault&&(i.mediaDefault=o.mediaDefault)):this._optionBackup=o},n.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],Te(t?e.baseOption:this._newBaseOption)},n.prototype.getTimelineOption=function(t){var e,r=this._timelineOptions;if(r.length){var i=t.getComponent("timeline");i&&(e=Te(r[i.getCurrentIndex()]))}return e},n.prototype.getMediaOption=function(t){var e=this._api.getWidth(),r=this._api.getHeight(),i=this._mediaList,o=this._mediaDefault,u=[],c=[];if(!i.length&&!o)return c;for(var h=0,d=i.length;h<d;h++)Hf(i[h].query,e,r)&&u.push(h);return!u.length&&o&&(u=[-1]),u.length&&!function Gf(n,t){return n.join(",")===t.join(",")}(u,this._currentMediaIndices)&&(c=re(u,function(p){return Te(-1===p?o.option:i[p].option)})),this._currentMediaIndices=u,c},n}();function Hf(n,t,e){var r={width:t,height:e,aspectratio:t/e},i=!0;return F(n,function(o,u){var c=u.match(MF);if(c&&c[1]&&c[2]){var h=c[1],d=c[2].toLowerCase();(function os(n,t,e){return"min"===e?n>=t:"max"===e?n<=t:n===t})(r[d],o,h)||(i=!1)}}),i}const IF=AF;var ka=F,Uf=xe,fb=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function fp(n){var t=n&&n.itemStyle;if(t)for(var e=0,r=fb.length;e<r;e++){var i=fb[e],o=t.normal,u=t.emphasis;o&&o[i]&&(n[i]=n[i]||{},n[i].normal?Ve(n[i].normal,o[i]):n[i].normal=o[i],o[i]=null),u&&u[i]&&(n[i]=n[i]||{},n[i].emphasis?Ve(n[i].emphasis,u[i]):n[i].emphasis=u[i],u[i]=null)}}function Fn(n,t,e){if(n&&n[t]&&(n[t].normal||n[t].emphasis)){var r=n[t].normal,i=n[t].emphasis;r&&(e?(n[t].normal=n[t].emphasis=null,De(n[t],r)):n[t]=r),i&&(n.emphasis=n.emphasis||{},n.emphasis[t]=i,i.focus&&(n.emphasis.focus=i.focus),i.blurScope&&(n.emphasis.blurScope=i.blurScope))}}function bl(n){Fn(n,"itemStyle"),Fn(n,"lineStyle"),Fn(n,"areaStyle"),Fn(n,"label"),Fn(n,"labelLine"),Fn(n,"upperLabel"),Fn(n,"edgeLabel")}function yn(n,t){var e=Uf(n)&&n[t],r=Uf(e)&&e.textStyle;if(r)for(var i=0,o=gf.length;i<o;i++){var u=gf[i];r.hasOwnProperty(u)&&(e[u]=r[u])}}function Li(n){n&&(bl(n),yn(n,"label"),n.emphasis&&yn(n.emphasis,"label"))}function ss(n){return te(n)?n:n?[n]:[]}function aI(n){return(te(n)?n[0]:n)||{}}function sI(n){n&&F(vj,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var vj=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],gj=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Qm=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function jf(n){var t=n&&n.itemStyle;if(t)for(var e=0;e<Qm.length;e++){var r=Qm[e][1];null!=t[r]&&(t[Qm[e][0]]=t[r])}}function LF(n){n&&"edge"===n.alignTo&&null!=n.margin&&null==n.edgeDistance&&(n.edgeDistance=n.margin)}function hp(n){n&&n.downplay&&!n.blur&&(n.blur=n.downplay)}function hb(n,t){if(n)for(var e=0;e<n.length;e++)t(n[e]),n[e]&&hb(n[e].children,t)}function uI(n,t){(function PF(n,t){ka(ss(n.series),function(r){Uf(r)&&function EF(n){if(Uf(n)){fp(n),bl(n),yn(n,"label"),yn(n,"upperLabel"),yn(n,"edgeLabel"),n.emphasis&&(yn(n.emphasis,"label"),yn(n.emphasis,"upperLabel"),yn(n.emphasis,"edgeLabel"));var t=n.markPoint;t&&(fp(t),Li(t));var e=n.markLine;e&&(fp(e),Li(e));var r=n.markArea;r&&Li(r);var i=n.data;if("graph"===n.type){i=i||n.nodes;var o=n.links||n.edges;if(o&&!Jr(o))for(var u=0;u<o.length;u++)Li(o[u]);F(n.categories,function(d){bl(d)})}if(i&&!Jr(i))for(u=0;u<i.length;u++)Li(i[u]);if((t=n.markPoint)&&t.data){var c=t.data;for(u=0;u<c.length;u++)Li(c[u])}if((e=n.markLine)&&e.data){var h=e.data;for(u=0;u<h.length;u++)te(h[u])?(Li(h[u][0]),Li(h[u][1])):Li(h[u])}"gauge"===n.type?(yn(n,"axisLabel"),yn(n,"title"),yn(n,"detail")):"treemap"===n.type?(Fn(n.breadcrumb,"itemStyle"),F(n.levels,function(d){bl(d)})):"tree"===n.type&&bl(n.leaves)}}(r)});var e=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&e.push("valueAxis","categoryAxis","logAxis","timeAxis"),ka(e,function(r){ka(ss(n[r]),function(i){i&&(yn(i,"axisLabel"),yn(i.axisPointer,"label"))})}),ka(ss(n.parallel),function(r){var i=r&&r.parallelAxisDefault;yn(i,"axisLabel"),yn(i&&i.axisPointer,"label")}),ka(ss(n.calendar),function(r){Fn(r,"itemStyle"),yn(r,"dayLabel"),yn(r,"monthLabel"),yn(r,"yearLabel")}),ka(ss(n.radar),function(r){yn(r,"name"),r.name&&null==r.axisName&&(r.axisName=r.name,delete r.name),null!=r.nameGap&&null==r.axisNameGap&&(r.axisNameGap=r.nameGap,delete r.nameGap)}),ka(ss(n.geo),function(r){Uf(r)&&(Li(r),ka(ss(r.regions),function(i){Li(i)}))}),ka(ss(n.timeline),function(r){Li(r),Fn(r,"label"),Fn(r,"itemStyle"),Fn(r,"controlStyle",!0);var i=r.data;te(i)&&F(i,function(o){xe(o)&&(Fn(o,"label"),Fn(o,"itemStyle"))})}),ka(ss(n.toolbox),function(r){Fn(r,"iconStyle"),ka(r.feature,function(i){Fn(i,"iconStyle")})}),yn(aI(n.axisPointer),"label"),yn(aI(n.tooltip).axisPointer,"label")})(n,t),n.series=It(n.series),F(n.series,function(e){if(xe(e)){var r=e.type;if("line"===r)null!=e.clipOverflow&&(e.clip=e.clipOverflow);else if("pie"===r||"gauge"===r){if(null!=e.clockWise&&(e.clockwise=e.clockWise),LF(e.label),(i=e.data)&&!Jr(i))for(var o=0;o<i.length;o++)LF(i[o]);null!=e.hoverOffset&&(e.emphasis=e.emphasis||{},(e.emphasis.scaleSize=null)&&(e.emphasis.scaleSize=e.hoverOffset))}else if("gauge"===r){var u=function oI(n,t){for(var e=t.split(","),r=n,i=0;i<e.length&&null!=(r=r&&r[e[i]]);i++);return r}(e,"pointer.color");null!=u&&function pj(n,t,e,r){for(var u,i=t.split(","),o=n,c=0;c<i.length-1;c++)null==o[u=i[c]]&&(o[u]={}),o=o[u];(r||null==o[i[c]])&&(o[i[c]]=e)}(e,"itemStyle.color",u)}else if("bar"===r){var i;if(jf(e),jf(e.backgroundStyle),jf(e.emphasis),(i=e.data)&&!Jr(i))for(o=0;o<i.length;o++)"object"==typeof i[o]&&(jf(i[o]),jf(i[o]&&i[o].emphasis))}else if("sunburst"===r){var c=e.highlightPolicy;c&&(e.emphasis=e.emphasis||{},e.emphasis.focus||(e.emphasis.focus=c)),hp(e),hb(e.data,hp)}else"graph"===r||"sankey"===r?function lI(n){n&&null!=n.focusNodeAdjacency&&(n.emphasis=n.emphasis||{},null==n.emphasis.focus&&(n.emphasis.focus="adjacency"))}(e):"map"===r&&(e.mapType&&!e.map&&(e.map=e.mapType),e.mapLocation&&De(e,e.mapLocation));null!=e.hoverAnimation&&(e.emphasis=e.emphasis||{},e.emphasis&&null==e.emphasis.scale&&(e.emphasis.scale=e.hoverAnimation)),sI(e)}}),n.dataRange&&(n.visualMap=n.dataRange),F(gj,function(e){var r=n[e];r&&(te(r)||(r=[r]),F(r,function(i){sI(i)}))})}function fI(n){F(n,function(t,e){var r=[],i=[NaN,NaN],o=[t.stackResultDimension,t.stackedOverDimension],u=t.data,c=t.isStackedByIndex,h=t.seriesModel.get("stackStrategy")||"samesign";u.modify(o,function(d,p,g){var y,S,m=u.get(t.stackedDimension,g);if(isNaN(m))return i;c?S=u.getRawIndex(g):y=u.get(t.stackedByDimension,g);for(var b=NaN,D=e-1;D>=0;D--){var C=n[D];if(c||(S=C.data.rawIndexOf(C.stackedByDimension,y)),S>=0){var T=C.data.getByRawIndex(C.stackResultDimension,S);if("all"===h||"positive"===h&&T>0||"negative"===h&&T<0||"samesign"===h&&m>=0&&T>0||"samesign"===h&&m<=0&&T<0){m=Mk(m,T),b=T;break}}}return r[0]=m,r[1]=b,r})})}var Qe=function n(t){this.data=t.data||(t.sourceFormat===Oa?{}:[]),this.sourceFormat=t.sourceFormat||YA,this.seriesLayoutBy=t.seriesLayoutBy||yo,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var r=0;r<e.length;r++){var i=e[r];null==i.type&&sb(this,r)===fr.Must&&(i.type="ordinal")}};function Tr(n){return n instanceof Qe}function Jm(n,t,e){e=e||dI(n);var r=t.seriesLayoutBy,i=function ey(n,t,e,r,i){var o,u;if(!n)return{dimensionsDefine:ty(i),startIndex:u,dimensionsDetectedCount:o};if(t===Ht){var c=n;"auto"===r||null==r?$f(function(d){null!=d&&"-"!==d&&(fe(d)?null==u&&(u=1):u=0)},e,c,10):u=ft(r)?r:r?1:0,!i&&1===u&&(i=[],$f(function(d,p){i[p]=null!=d?d+"":""},e,c,1/0)),o=i?i.length:e===_o?c.length:c[0]?c[0].length:null}else if(t===sa)i||(i=function Wf(n){for(var e,t=0;t<n.length&&!(e=n[t++]););if(e)return Xe(e)}(n));else if(t===Oa)i||(i=[],F(n,function(d,p){i.push(p)}));else if(t===ur){var h=mf(n[0]);o=te(h)&&h.length||1}return{startIndex:u,dimensionsDefine:ty(i),dimensionsDetectedCount:o}}(n,e,r,t.sourceHeader,t.dimensions);return new Qe({data:n,sourceFormat:e,seriesLayoutBy:r,dimensionsDefine:i.dimensionsDefine,startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount,metaRawOption:Te(t)})}function se(n){return new Qe({data:n,sourceFormat:Jr(n)?cr:ur})}function hI(n){return new Qe({data:n.data,sourceFormat:n.sourceFormat,seriesLayoutBy:n.seriesLayoutBy,dimensionsDefine:Te(n.dimensionsDefine),startIndex:n.startIndex,dimensionsDetectedCount:n.dimensionsDetectedCount})}function dI(n){var t=YA;if(Jr(n))t=cr;else if(te(n)){0===n.length&&(t=Ht);for(var e=0,r=n.length;e<r;e++){var i=n[e];if(null!=i){if(te(i)){t=Ht;break}if(xe(i)){t=sa;break}}}}else if(xe(n))for(var o in n)if(pe(n,o)&&Kn(n[o])){t=Oa;break}return t}function ty(n){if(n){var t=ve();return re(n,function(e,r){var i={name:(e=xe(e)?e:{name:e}).name,displayName:e.displayName,type:e.type};if(null==i.name)return i;i.name+="",null==i.displayName&&(i.displayName=i.name);var o=t.get(i.name);return o?i.name+="-"+o.count++:t.set(i.name,{count:1}),i})}}function $f(n,t,e,r){if(t===_o)for(var i=0;i<e.length&&i<r;i++)n(e[i]?e[i][0]:null,i);else{var o=e[0]||[];for(i=0;i<o.length&&i<r;i++)n(o[i],i)}}function db(n){var t=n.sourceFormat;return t===sa||t===Oa}var ls,us,cs,pb,ny,pI=function(){function n(t,e){var r=Tr(t)?t:se(t);this._source=r;var i=this._data=r.data;r.sourceFormat===cr&&(this._offset=0,this._dimSize=e,this._data=i),ny(this,i,r)}return n.prototype.getSource=function(){return this._source},n.prototype.count=function(){return 0},n.prototype.getItem=function(t,e){},n.prototype.appendData=function(t){},n.prototype.clean=function(){},n.protoInitialize=function(){var t=n.prototype;t.pure=!1,t.persistent=!0}(),n.internalField=function(){var t;ny=function(u,c,h){var d=h.sourceFormat,p=h.seriesLayoutBy,g=h.startIndex,m=h.dimensionsDefine;if(J(u,pb[yb(d,p)]),d===cr)u.getItem=e,u.count=i,u.fillStorage=r;else{var S=vb(d,p);u.getItem=de(S,null,c,g,m);var b=mI(d,p);u.count=de(b,null,c,g,m)}};var e=function(u,c){c=c||[];for(var h=this._data,d=this._dimSize,p=d*(u-=this._offset),g=0;g<d;g++)c[g]=h[p+g];return c},r=function(u,c,h,d){for(var p=this._data,g=this._dimSize,m=0;m<g;m++){for(var y=d[m],S=null==y[0]?1/0:y[0],b=null==y[1]?-1/0:y[1],D=c-u,C=h[m],T=0;T<D;T++){var M=p[T*g+m];C[u+T]=M,M<S&&(S=M),M>b&&(b=M)}y[0]=S,y[1]=b}},i=function(){return this._data?this._data.length/this._dimSize:0};function o(u){for(var c=0;c<u.length;c++)this._data.push(u[c])}(t={})[Ht+"_"+yo]={pure:!0,appendData:o},t[Ht+"_"+_o]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[sa]={pure:!0,appendData:o},t[Oa]={pure:!0,appendData:function(u){var c=this._data;F(u,function(h,d){for(var p=c[d]||(c[d]=[]),g=0;g<(h||[]).length;g++)p.push(h[g])})}},t[ur]={appendData:o},t[cr]={persistent:!1,pure:!0,appendData:function(u){this._data=u},clean:function(){this._offset+=this.count(),this._data=null}},pb=t}(),n}(),vI=function(n,t,e,r){return n[r]},RF=((ls={})[Ht+"_"+yo]=function(n,t,e,r){return n[r+t]},ls[Ht+"_"+_o]=function(n,t,e,r,i){r+=t;for(var o=i||[],u=n,c=0;c<u.length;c++){var h=u[c];o[c]=h?h[r]:null}return o},ls[sa]=vI,ls[Oa]=function(n,t,e,r,i){for(var o=i||[],u=0;u<e.length;u++){var h=n[e[u].name];o[u]=h?h[r]:null}return o},ls[ur]=vI,ls);function vb(n,t){return RF[yb(n,t)]}var gI=function(n,t,e){return n.length},NF=((us={})[Ht+"_"+yo]=function(n,t,e){return Math.max(0,n.length-t)},us[Ht+"_"+_o]=function(n,t,e){var r=n[0];return r?Math.max(0,r.length-t):0},us[sa]=gI,us[Oa]=function(n,t,e){var i=n[e[0].name];return i?i.length:0},us[ur]=gI,us);function mI(n,t){return NF[yb(n,t)]}var gb=function(n,t,e){return n[t]},yI=((cs={})[Ht]=gb,cs[sa]=function(n,t,e){return n[e]},cs[Oa]=gb,cs[ur]=function(n,t,e){var r=mf(n);return r instanceof Array?r[t]:r},cs[cr]=gb,cs);function mb(n){return yI[n]}function yb(n,t){return n===Ht?n+"_"+t:n}function Yf(n,t,e){if(n){var r=n.getRawDataItem(t);if(null!=r){var i=n.getStore(),o=i.getSource().sourceFormat;if(null!=e){var u=n.getDimensionIndex(e),c=i.getDimensionProperty(u);return mb(o)(r,u,c)}var h=r;return o===ur&&(h=mf(r)),h}}}var OF=/\{@(.+?)\}/g,_b=function(){function n(){}return n.prototype.getDataParams=function(t,e){var r=this.getData(e),i=this.getRawValue(t,e),o=r.getRawIndex(t),u=r.getName(t),c=r.getRawDataItem(t),h=r.getItemVisual(t,"style"),d=h&&h[r.getItemVisual(t,"drawType")||"fill"],p=h&&h.stroke,g=this.mainType,m="series"===g,y=r.userOutput&&r.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:m?this.subType:null,seriesIndex:this.seriesIndex,seriesId:m?this.id:null,seriesName:m?this.name:null,name:u,dataIndex:o,data:c,dataType:e,value:i,color:d,borderColor:p,dimensionNames:y?y.fullDimensions:null,encode:y?y.encode:null,$vars:["seriesName","name","value"]}},n.prototype.getFormattedLabel=function(t,e,r,i,o,u){e=e||"normal";var c=this.getData(r),h=this.getDataParams(t,r);return u&&(h.value=u.interpolatedValue),null!=i&&te(h.value)&&(h.value=h.value[i]),o||(o=c.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),_e(o)?(h.status=e,h.dimensionIndex=i,o(h)):fe(o)?ap(o,h).replace(OF,function(g,m){var y=m.length,S=m;"["===S.charAt(0)&&"]"===S.charAt(y-1)&&(S=+S.slice(1,y-1));var b=Yf(c,t,S);if(u&&te(u.interpolatedValue)){var D=c.getDimensionIndex(S);D>=0&&(b=u.interpolatedValue[D])}return null!=b?b+"":""}):void 0},n.prototype.getRawValue=function(t,e){return Yf(this.getData(e),t)},n.prototype.formatTooltip=function(t,e,r){},n}();function kF(n){var t,e;return xe(n)?n.type&&(e=n):t=n,{text:t,frag:e}}function ju(n){return new _I(n)}var _I=function(){function n(t){this._reset=(t=t||{}).reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return n.prototype.perform=function(t){var o,e=this._upstream,r=t&&t.skip;if(this._dirty&&e){var i=this.context;i.data=i.outputData=e.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(o=this._plan(this.context));var g,u=p(this._modBy),c=this._modDataCount||0,h=p(t&&t.modBy),d=t&&t.modDataCount||0;function p(T){return!(T>=1)&&(T=1),T}(u!==h||c!==d)&&(o="reset"),(this._dirty||"reset"===o)&&(this._dirty=!1,g=this._doReset(r)),this._modBy=h,this._modDataCount=d;var m=t&&t.step;if(this._dueEnd=e?e._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var y=this._dueIndex,S=Math.min(null!=m?this._dueIndex+m:1/0,this._dueEnd);if(!r&&(g||y<S)){var b=this._progress;if(te(b))for(var D=0;D<b.length;D++)this._doProgress(b[D],y,S,h,d);else this._doProgress(b,y,S,h,d)}this._dueIndex=S,this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:S}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},n.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.prototype._doProgress=function(t,e,r,i,o){SI.reset(e,r,i,o),this._callingProgress=t,this._callingProgress({start:e,end:r,count:r-e,next:SI.next},this.context)},n.prototype._doReset=function(t){var e,r;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(r=e.forceFirstProgress,e=e.progress),te(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var i=this._downstream;return i&&i.dirty(),r},n.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},n.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.prototype.getUpstream=function(){return this._upstream},n.prototype.getDownstream=function(){return this._downstream},n.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},n}(),SI=function(){var n,t,e,r,i,o={reset:function(h,d,p,g){t=h,n=d,e=p,r=g,i=Math.ceil(r/e),o.next=e>1&&r>0?c:u}};return o;function u(){return t<n?t++:null}function c(){var h=t%i*e+Math.ceil(t/i),d=t>=n?null:h<r?h:t;return t++,d}}();function St(n){throw new Error(n)}function hr(n,t){var e=t&&t.type;return"ordinal"===e?n:("time"===e&&!ft(n)&&null!=n&&"-"!==n&&(n=+Ii(n)),null==n||""===n?NaN:+n)}typeof console<"u"&&console.warn&&console;var bb=ve({number:function(n){return parseFloat(n)},time:function(n){return+Ii(n)},trim:function(n){return fe(n)?ei(n):n}});function DI(n){return bb.get(n)}var Db={lt:function(n,t){return n<t},lte:function(n,t){return n<=t},gt:function(n,t){return n>t},gte:function(n,t){return n>=t}},VF=function(){function n(t,e){ft(e)||St(""),this._opFn=Db[t],this._rvalFloat=or(e)}return n.prototype.evaluate=function(t){return ft(t)?this._opFn(t,this._rvalFloat):this._opFn(or(t),this._rvalFloat)},n}(),Cb=function(){function n(t,e){var r="desc"===t;this._resultLT=r?1:-1,null==e&&(e=r?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return n.prototype.evaluate=function(t,e){var r=ft(t)?t:or(t),i=ft(e)?e:or(e),o=isNaN(r),u=isNaN(i);if(o&&(r=this._incomparable),u&&(i=this._incomparable),o&&u){var c=fe(t),h=fe(e);c&&(r=h?t:0),h&&(i=c?e:0)}return r<i?this._resultLT:r>i?-this._resultLT:0},n}(),CI=function(){function n(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=or(e)}return n.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var r=typeof t;r!==this._rvalTypeof&&("number"===r||"number"===this._rvalTypeof)&&(e=or(t)===this._rvalFloat)}return this._isEQ?e:!e},n}();function ry(n,t){return"eq"===n||"ne"===n?new CI("eq"===n,t):pe(Db,n)?new VF(n,t):null}var xb=function(){function n(){}return n.prototype.getRawData=function(){throw new Error("not supported")},n.prototype.getRawDataItem=function(t){throw new Error("not supported")},n.prototype.cloneRawData=function(){},n.prototype.getDimensionInfo=function(t){},n.prototype.cloneAllDimensionInfo=function(){},n.prototype.count=function(){},n.prototype.retrieveValue=function(t,e){},n.prototype.retrieveValueFromItem=function(t,e){},n.prototype.convertValue=function(t,e){return hr(t,e)},n}();function xI(n){return dp(n.sourceFormat)||St(""),n.data}function TI(n){var t=n.sourceFormat,e=n.data;if(dp(t)||St(""),t===Ht){for(var i=[],o=0,u=e.length;o<u;o++)i.push(e[o].slice());return i}if(t===sa){for(i=[],o=0,u=e.length;o<u;o++)i.push(J({},e[o]));return i}}function MI(n,t,e){if(null!=e){if(ft(e)||!isNaN(e)&&!pe(t,e))return n[e];if(pe(t,e))return t[e]}}function AI(n){return Te(n)}var iy=ve();function zF(n,t,e,r){t.length||St(""),xe(n)||St("");var u=iy.get(n.type);u||St("");var c=re(t,function(p){return function bj(n,t){var e=new xb,r=n.data,i=e.sourceFormat=n.sourceFormat,o=n.startIndex;n.seriesLayoutBy!==yo&&St("");var c=[],h={},d=n.dimensionsDefine;if(d)F(d,function(b,D){var C=b.name,T={index:D,name:C,displayName:b.displayName};c.push(T),null!=C&&(pe(h,C)&&St(""),h[C]=T)});else for(var p=0;p<n.dimensionsDetectedCount;p++)c.push({index:p});var g=vb(i,yo);t.__isBuiltIn&&(e.getRawDataItem=function(b){return g(r,o,c,b)},e.getRawData=de(xI,null,n)),e.cloneRawData=de(TI,null,n);var m=mI(i,yo);e.count=de(m,null,r,o,c);var y=mb(i);e.retrieveValue=function(b,D){var C=g(r,o,c,b);return S(C,D)};var S=e.retrieveValueFromItem=function(b,D){if(null!=b){var C=c[D];if(C)return y(b,D,C.name)}};return e.getDimensionInfo=de(MI,null,c,h),e.cloneAllDimensionInfo=de(AI,null,c),e}(p,u)});return re(It(u.transform({upstream:c[0],upstreamList:c,config:Te(n.config)})),function(p,g){xe(p)||St(""),p.data||St(""),dp(dI(p.data))||St("");var S,b=t[0];if(b&&0===g&&!p.dimensions){var D=b.startIndex;D&&(p.data=b.data.slice(0,D).concat(p.data)),S={seriesLayoutBy:yo,sourceHeader:D,dimensions:b.metaRawOption.dimensions}}else S={seriesLayoutBy:yo,sourceHeader:0,dimensions:p.dimensions};return Jm(p.data,S,null)})}function dp(n){return n===Ht||n===sa}var qf,ay="undefined",II=typeof Uint32Array===ay?Array:Uint32Array,HF=typeof Uint16Array===ay?Array:Uint16Array,pp=typeof Int32Array===ay?Array:Int32Array,Zf=typeof Float64Array===ay?Array:Float64Array,Tb={float:Zf,int:pp,ordinal:Array,number:Array,time:Zf};function oy(n){return n>65535?II:HF}function EI(n){var t=n.constructor;return t===Array?n.slice():new t(n)}function Mb(n,t,e,r,i){var o=Tb[e||"float"];if(i){var u=n[t],c=u&&u.length;if(c!==r){for(var h=new o(r),d=0;d<c;d++)h[d]=u[d];n[t]=h}}else n[t]=new o(r)}var GF=function(){function n(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=ve()}return n.prototype.initData=function(t,e,r){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var i=t.getSource(),o=this.defaultDimValueGetter=qf[i.sourceFormat];this._dimValueGetter=r||o,this._rawExtent=[],db(i),this._dimensions=re(e,function(c){return{type:c.type,property:c.property}}),this._initDataFromProvider(0,t.count())},n.prototype.getProvider=function(){return this._provider},n.prototype.getSource=function(){return this._provider.getSource()},n.prototype.ensureCalculationDimension=function(t,e){var r=this._calcDimNameToIdx,i=this._dimensions,o=r.get(t);if(null!=o){if(i[o].type===e)return o}else o=i.length;return i[o]={type:e},r.set(t,o),this._chunks[o]=new Tb[e||"float"](this._rawCount),this._rawExtent[o]=[1/0,-1/0],o},n.prototype.collectOrdinalMeta=function(t,e){var r=this._chunks[t],i=this._dimensions[t],o=this._rawExtent,u=i.ordinalOffset||0,c=r.length;0===u&&(o[t]=[1/0,-1/0]);for(var h=o[t],d=u;d<c;d++){var p=r[d]=e.parseAndCollect(r[d]);isNaN(p)||(h[0]=Math.min(p,h[0]),h[1]=Math.max(p,h[1]))}i.ordinalMeta=e,i.ordinalOffset=c,i.type="ordinal"},n.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},n.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},n.prototype.appendData=function(t){var e=this._provider,r=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=r),r<i&&this._initDataFromProvider(r,i,!0),[r,i]},n.prototype.appendValues=function(t,e){for(var r=this._chunks,i=this._dimensions,o=i.length,u=this._rawExtent,c=this.count(),h=c+Math.max(t.length,e||0),d=0;d<o;d++)Mb(r,d,i[d].type,h,!0);for(var g=[],m=c;m<h;m++)for(var y=m-c,S=0;S<o;S++){var b=qf.arrayRows.call(this,t[y]||g,i[S].property,y,S);r[S][m]=b;var D=u[S];b<D[0]&&(D[0]=b),b>D[1]&&(D[1]=b)}return this._rawCount=this._count=h,{start:c,end:h}},n.prototype._initDataFromProvider=function(t,e,r){for(var i=this._provider,o=this._chunks,u=this._dimensions,c=u.length,h=this._rawExtent,d=re(u,function(T){return T.property}),p=0;p<c;p++){var g=u[p];h[p]||(h[p]=[1/0,-1/0]),Mb(o,p,g.type,e,r)}if(i.fillStorage)i.fillStorage(t,e,o,h);else for(var m=[],y=t;y<e;y++){m=i.getItem(y,m);for(var S=0;S<c;S++){var b=o[S],D=this._dimValueGetter(m,d[S],y,S);b[y]=D;var C=h[S];D<C[0]&&(C[0]=D),D>C[1]&&(C[1]=D)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},n.prototype.count=function(){return this._count},n.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var r=this._chunks[t];return r?r[this.getRawIndex(e)]:NaN},n.prototype.getValues=function(t,e){var r=[],i=[];if(null==e){e=t,t=[];for(var o=0;o<this._dimensions.length;o++)i.push(o)}else i=t;o=0;for(var u=i.length;o<u;o++)r.push(this.get(i[o],e));return r},n.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var r=this._chunks[t];return r?r[e]:NaN},n.prototype.getSum=function(t){var r=0;if(this._chunks[t])for(var i=0,o=this.count();i<o;i++){var u=this.get(t,i);isNaN(u)||(r+=u)}return r},n.prototype.getMedian=function(t){var e=[];this.each([t],function(o){isNaN(o)||e.push(o)});var r=e.sort(function(o,u){return o-u}),i=this.count();return 0===i?0:i%2==1?r[(i-1)/2]:(r[i/2]+r[i/2-1])/2},n.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,r=e[t];if(null!=r&&r<this._count&&r===t)return t;for(var i=0,o=this._count-1;i<=o;){var u=(i+o)/2|0;if(e[u]<t)i=u+1;else{if(!(e[u]>t))return u;o=u-1}}return-1},n.prototype.indicesOfNearest=function(t,e,r){var o=this._chunks[t],u=[];if(!o)return u;null==r&&(r=1/0);for(var c=1/0,h=-1,d=0,p=0,g=this.count();p<g;p++){var y=e-o[this.getRawIndex(p)],S=Math.abs(y);S<=r&&((S<c||S===c&&y>=0&&h<0)&&(c=S,h=y,d=0),y===h&&(u[d++]=p))}return u.length=d,u},n.prototype.getIndices=function(){var t,e=this._indices;if(e){var i=this._count;if((r=e.constructor)===Array){t=new r(i);for(var o=0;o<i;o++)t[o]=e[o]}else t=new r(e.buffer,0,i)}else{var r;for(t=new(r=oy(this._rawCount))(this.count()),o=0;o<t.length;o++)t[o]=o}return t},n.prototype.filter=function(t,e){if(!this._count)return this;for(var r=this.clone(),i=r.count(),u=new(oy(r._rawCount))(i),c=[],h=t.length,d=0,p=t[0],g=r._chunks,m=0;m<i;m++){var y=void 0,S=r.getRawIndex(m);if(0===h)y=e(m);else if(1===h)y=e(g[p][S],m);else{for(var D=0;D<h;D++)c[D]=g[t[D]][S];c[D]=m,y=e.apply(null,c)}y&&(u[d++]=S)}return d<i&&(r._indices=u),r._count=d,r._extent=[],r._updateGetRawIdx(),r},n.prototype.selectRange=function(t){var e=this.clone(),r=e._count;if(!r)return this;var i=Xe(t),o=i.length;if(!o)return this;var u=e.count(),h=new(oy(e._rawCount))(u),d=0,p=i[0],g=t[p][0],m=t[p][1],y=e._chunks,S=!1;if(!e._indices){var b=0;if(1===o){for(var D=y[i[0]],C=0;C<r;C++)((T=D[C])>=g&&T<=m||isNaN(T))&&(h[d++]=b),b++;S=!0}else if(2===o){D=y[i[0]];var M=y[i[1]],I=t[i[1]][0],L=t[i[1]][1];for(C=0;C<r;C++){var E=M[C];((T=D[C])>=g&&T<=m||isNaN(T))&&(E>=I&&E<=L||isNaN(E))&&(h[d++]=b),b++}S=!0}}if(!S)if(1===o)for(C=0;C<u;C++){var R=e.getRawIndex(C);((T=y[i[0]][R])>=g&&T<=m||isNaN(T))&&(h[d++]=R)}else for(C=0;C<u;C++){for(var O=!0,k=(R=e.getRawIndex(C),0);k<o;k++){var T,V=i[k];((T=y[V][R])<t[V][0]||T>t[V][1])&&(O=!1)}O&&(h[d++]=e.getRawIndex(C))}return d<u&&(e._indices=h),e._count=d,e._extent=[],e._updateGetRawIdx(),e},n.prototype.map=function(t,e){var r=this.clone(t);return this._updateDims(r,t,e),r},n.prototype.modify=function(t,e){this._updateDims(this,t,e)},n.prototype._updateDims=function(t,e,r){for(var i=t._chunks,o=[],u=e.length,c=t.count(),h=[],d=t._rawExtent,p=0;p<e.length;p++)d[e[p]]=[1/0,-1/0];for(var g=0;g<c;g++){for(var m=t.getRawIndex(g),y=0;y<u;y++)h[y]=i[e[y]][m];h[u]=g;var S=r&&r.apply(null,h);if(null!=S)for("object"!=typeof S&&(o[0]=S,S=o),p=0;p<S.length;p++){var b=e[p],D=S[p],C=d[b],T=i[b];T&&(T[m]=D),D<C[0]&&(C[0]=D),D>C[1]&&(C[1]=D)}}},n.prototype.lttbDownSample=function(t,e){var p,g,m,r=this.clone([t],!0),o=r._chunks[t],u=this.count(),c=0,h=Math.floor(1/e),d=this.getRawIndex(0),y=new(oy(this._rawCount))(Math.min(2*(Math.ceil(u/h)+2),u));y[c++]=d;for(var S=1;S<u-1;S+=h){for(var b=Math.min(S+h,u-1),D=Math.min(S+2*h,u),C=(D+b)/2,T=0,M=b;M<D;M++){var L=o[I=this.getRawIndex(M)];isNaN(L)||(T+=L)}T/=D-b;var E=S,R=Math.min(S+h,u),O=S-1,k=o[d];p=-1,m=E;var V=-1,B=0;for(M=E;M<R;M++){var I;L=o[I=this.getRawIndex(M)],isNaN(L)?(B++,V<0&&(V=I)):(g=Math.abs((O-C)*(L-k)-(O-M)*(T-k)))>p&&(p=g,m=I)}B>0&&B<R-E&&(y[c++]=Math.min(V,m),m=Math.max(V,m)),y[c++]=m,d=m}return y[c++]=this.getRawIndex(u-1),r._count=c,r._indices=y,r.getRawIndex=this._getRawIdx,r},n.prototype.downSample=function(t,e,r,i){for(var o=this.clone([t],!0),u=o._chunks,c=[],h=Math.floor(1/e),d=u[t],p=this.count(),g=o._rawExtent[t]=[1/0,-1/0],m=new(oy(this._rawCount))(Math.ceil(p/h)),y=0,S=0;S<p;S+=h){h>p-S&&(c.length=h=p-S);for(var b=0;b<h;b++){var D=this.getRawIndex(S+b);c[b]=d[D]}var C=r(c),T=this.getRawIndex(Math.min(S+i(c,C)||0,p-1));d[T]=C,C<g[0]&&(g[0]=C),C>g[1]&&(g[1]=C),m[y++]=T}return o._count=y,o._indices=m,o._updateGetRawIdx(),o},n.prototype.each=function(t,e){if(this._count)for(var r=t.length,i=this._chunks,o=0,u=this.count();o<u;o++){var c=this.getRawIndex(o);switch(r){case 0:e(o);break;case 1:e(i[t[0]][c],o);break;case 2:e(i[t[0]][c],i[t[1]][c],o);break;default:for(var h=0,d=[];h<r;h++)d[h]=i[t[h]][c];d[h]=o,e.apply(null,d)}}},n.prototype.getDataExtent=function(t){var e=this._chunks[t],r=[1/0,-1/0];if(!e)return r;var u,i=this.count();if(!this._indices)return this._rawExtent[t].slice();if(u=this._extent[t])return u.slice();for(var c=(u=r)[0],h=u[1],d=0;d<i;d++){var g=e[this.getRawIndex(d)];g<c&&(c=g),g>h&&(h=g)}return this._extent[t]=u=[c,h],u},n.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var r=[],i=this._chunks,o=0;o<i.length;o++)r.push(i[o][e]);return r},n.prototype.clone=function(t,e){var r=new n,i=this._chunks,o=t&&Di(t,function(c,h){return c[h]=!0,c},{});if(o)for(var u=0;u<i.length;u++)r._chunks[u]=o[u]?EI(i[u]):i[u];else r._chunks=i;return this._copyCommonProps(r),e||(r._indices=this._cloneIndices()),r._updateGetRawIdx(),r},n.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=Te(this._extent),t._rawExtent=Te(this._rawExtent)},n.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var r=this._indices.length;e=new t(r);for(var i=0;i<r;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},n.prototype._getRawIdxIdentity=function(t){return t},n.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},n.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},n.internalField=function(){function t(e,r,i,o){return hr(e[o],this._dimensions[o])}qf={arrayRows:t,objectRows:function(e,r,i,o){return hr(e[r],this._dimensions[o])},keyedColumns:t,original:function(e,r,i,o){var u=e&&(null==e.value?e:e.value);return hr(u instanceof Array?u[o]:u,this._dimensions[o])},typedArray:function(e,r,i,o){return e[o]}}}(),n}();const Ab=GF;var Ib=function(){function n(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return n.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},n.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},n.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},n.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},n.prototype._createSource=function(){this._setLocalSource([],[]);var i,o,t=this._sourceHost,e=this._getUpstreamSourceManagers(),r=!!e.length;if(Dl(t)){var u=t,c=void 0,h=void 0,d=void 0;if(r){var p=e[0];p.prepareSource(),c=(d=p.getSource()).data,h=d.sourceFormat,o=[p._getVersionSign()]}else h=Jr(c=u.get("data",!0))?cr:ur,o=[];var g=this._getSourceMetaRawOption()||{},m=d&&d.metaRawOption||{},y=ke(g.seriesLayoutBy,m.seriesLayoutBy)||null,S=ke(g.sourceHeader,m.sourceHeader),b=ke(g.dimensions,m.dimensions);i=y!==m.seriesLayoutBy||!!S!=!!m.sourceHeader||b?[Jm(c,{seriesLayoutBy:y,sourceHeader:S,dimensions:b},h)]:[]}else{var C=t;if(r){var T=this._applyTransform(e);i=T.sourceList,o=T.upstreamSignList}else i=[Jm(C.get("source",!0),this._getSourceMetaRawOption(),null)],o=[]}this._setLocalSource(i,o)},n.prototype._applyTransform=function(t){var e=this._sourceHost,r=e.get("transform",!0),i=e.get("fromTransformResult",!0);null!=i&&1!==t.length&&PI("");var u,c=[],h=[];return F(t,function(d){d.prepareSource();var p=d.getSource(i||0);null!=i&&!p&&PI(""),c.push(p),h.push(d._getVersionSign())}),r?u=function BF(n,t,e){var r=It(n),i=r.length;i||St("");for(var u=0,c=i;u<c;u++)t=zF(r[u],t),u!==c-1&&(t.length=Math.max(t.length,1));return t}(r,c):null!=i&&(u=[hI(c[0])]),{sourceList:u,upstreamSignList:h}},n.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var r=t[e];if(r._isDirty()||this._upstreamSignList[e]!==r._getVersionSign())return!0}},n.prototype.getSource=function(t){var e=this._sourceList[t=t||0];if(!e){var r=this._getUpstreamSourceManagers();return r[0]&&r[0].getSource(t)}return e},n.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},n.prototype._innerGetDataStore=function(t,e,r){var o=this._storeList,u=o[0];u||(u=o[0]={});var c=u[r];if(!c){var h=this._getUpstreamSourceManagers()[0];Dl(this._sourceHost)&&h?c=h._innerGetDataStore(t,e,r):(c=new Ab).initData(new pI(e,t.length),t),u[r]=c}return c},n.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(Dl(t)){var e=ob(t);return e?[e.getSourceManager()]:[]}return re(function yF(n){return n.get("transform",!0)||n.get("fromTransformResult",!0)?Sf(n.ecModel,"dataset",{index:n.get("fromDatasetIndex",!0),id:n.get("fromDatasetId",!0)},Mn).models:[]}(t),function(r){return r.getSourceManager()})},n.prototype._getSourceMetaRawOption=function(){var e,r,i,t=this._sourceHost;if(Dl(t))e=t.get("seriesLayoutBy",!0),r=t.get("sourceHeader",!0),i=t.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var o=t;e=o.get("seriesLayoutBy",!0),r=o.get("sourceHeader",!0),i=o.get("dimensions",!0)}return{seriesLayoutBy:e,sourceHeader:r,dimensions:i}},n}();function Eb(n){n.option.transform&&Fo(n.option.transform)}function Dl(n){return"series"===n.mainType}function PI(n){throw new Error(n)}var Pb="line-height:1";function Lb(n,t){var e=n.color||"#6e7079",r=n.fontSize||12,i=n.fontWeight||"400",o=n.color||"#464646",u=n.fontSize||14,c=n.fontWeight||"900";return"html"===t?{nameStyle:"font-size:"+yr(r+"")+"px;color:"+yr(e)+";font-weight:"+yr(i+""),valueStyle:"font-size:"+yr(u+"")+"px;color:"+yr(o)+";font-weight:"+yr(c+"")}:{nameStyle:{fontSize:r,fill:e,fontWeight:i},valueStyle:{fontSize:u,fill:o,fontWeight:c}}}var UF=[0,10,20,30],jF=["","\n","\n\n","\n\n\n"];function hn(n,t){return t.type=n,t}function Rb(n){return"section"===n.type}function LI(n){return Rb(n)?WF:$F}function RI(n){if(Rb(n)){var t=0,e=n.blocks.length,r=e>1||e>0&&!n.noHeader;return F(n.blocks,function(i){var o=RI(i);o>=t&&(t=o+ +(r&&(!o||Rb(i)&&!i.noHeader)))}),t}return 0}function WF(n,t,e,r){var i=t.noHeader,o=function YF(n){return{html:UF[n],richText:jF[n]}}(RI(t)),u=[],c=t.blocks||[];Jn(!c||te(c)),c=c||[];var h=n.orderMode;if(t.sortBlocks&&h){c=c.slice();var d={valueAsc:"asc",valueDesc:"desc"};if(pe(d,h)){var p=new Cb(d[h],null);c.sort(function(S,b){return p.evaluate(S.sortParam,b.sortParam)})}else"seriesDesc"===h&&c.reverse()}F(c,function(S,b){var D=t.valueFormatter,C=LI(S)(D?J(J({},n),{valueFormatter:D}):n,S,b>0?o.html:0,r);null!=C&&u.push(C)});var g="richText"===n.renderMode?u.join(o.richText):Nb(u.join(""),i?e:o.html);if(i)return g;var m=Bu(t.header,"ordinal",n.useUTC),y=Lb(r,n.renderMode).nameStyle;return"richText"===n.renderMode?kI(n,m,y)+o.richText+g:Nb('<div style="'+y+";"+Pb+';">'+yr(m)+"</div>"+g,e)}function $F(n,t,e,r){var i=n.renderMode,o=t.noName,u=t.noValue,c=!t.markerType,h=t.name,d=n.useUTC,p=t.valueFormatter||n.valueFormatter||function(I){return re(I=te(I)?I:[I],function(L,E){return Bu(L,te(y)?y[E]:y,d)})};if(!o||!u){var g=c?"":n.markupStyleCreator.makeTooltipMarker(t.markerType,t.markerColor||"#333",i),m=o?"":Bu(h,"ordinal",d),y=t.valueType,S=u?[]:p(t.value),b=!c||!o,D=!c&&o,C=Lb(r,i),T=C.nameStyle,M=C.valueStyle;return"richText"===i?(c?"":g)+(o?"":kI(n,m,T))+(u?"":function sy(n,t,e,r,i){var o=[i];return e&&o.push({padding:[0,0,0,r?10:20],align:"right"}),n.markupStyleCreator.wrapRichTextStyle(te(t)?t.join("  "):t,o)}(n,S,b,D,M)):Nb((c?"":g)+(o?"":function OI(n,t,e){return'<span style="'+e+";"+(t?"margin-left:2px":"")+'">'+yr(n)+"</span>"}(m,!c,T))+(u?"":function Gt(n,t,e,r){return'<span style="'+(t?"float:right;margin-left:"+(e?"10px":"20px"):"")+";"+r+'">'+re(n=te(n)?n:[n],function(u){return yr(u)}).join("&nbsp;&nbsp;")+"</span>"}(S,b,D,M)),e)}}function NI(n,t,e,r,i,o){if(n)return LI(n)({useUTC:i,renderMode:e,orderMode:r,markupStyleCreator:t,valueFormatter:n.valueFormatter},n,0,o)}function Nb(n,t){return'<div style="margin: '+t+"px 0 0;"+Pb+';">'+n+'<div style="clear:both"></div></div>'}function kI(n,t,e){return n.markupStyleCreator.wrapRichTextStyle(t,e)}function FI(n,t){return Na(n.getData().getItemVisual(t,"style")[n.visualDrawType])}function VI(n,t){return n.get("padding")??("richText"===t?[8,10]:10)}var Ob=function(){function n(){this.richTextStyles={},this._nextStyleNameId=Ed()}return n.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},n.prototype.makeTooltipMarker=function(t,e,r){var i="richText"===r?this._generateStyleName():null,o=op({color:e,type:t,renderMode:r,markerId:i});return fe(o)?o:(this.richTextStyles[i]=o.style,o.content)},n.prototype.wrapRichTextStyle=function(t,e){var r={};te(e)?F(e,function(o){return J(r,o)}):J(r,e);var i=this._generateStyleName();return this.richTextStyles[i]=r,"{"+i+"|"+t+"}"},n}();function BI(n){var p,g,m,y,t=n.series,e=n.dataIndex,r=n.multipleSeries,i=t.getData(),o=i.mapDimensionsAll("defaultedTooltip"),u=o.length,c=t.getRawValue(e),h=te(c),d=FI(t,e);if(u>1||h&&!u){var S=function ZF(n,t,e,r,i){var o=t.getData(),u=Di(n,function(g,m,y){var S=o.getDimensionInfo(y);return g||S&&!1!==S.tooltip&&null!=S.displayName},!1),c=[],h=[],d=[];function p(g,m){var y=o.getDimensionInfo(m);!y||!1===y.otherDims.tooltip||(u?d.push(hn("nameValue",{markerType:"subItem",markerColor:i,name:y.displayName,value:g,valueType:y.type})):(c.push(g),h.push(y.type)))}return r.length?F(r,function(g){p(Yf(o,e,g),g)}):F(n,p),{inlineValues:c,inlineValueTypes:h,blocks:d}}(c,t,e,o,d);p=S.inlineValues,g=S.inlineValueTypes,m=S.blocks,y=S.inlineValues[0]}else if(u){var b=i.getDimensionInfo(o[0]);y=p=Yf(i,e,o[0]),g=b.type}else y=p=h?c[0]:c;var D=kM(t),C=D&&t.name||"",T=i.getName(e),M=r?C:T;return hn("section",{header:C,noHeader:r||!D,sortParam:y,blocks:[hn("nameValue",{markerType:"item",markerColor:d,name:M,noName:!ei(M),value:p,valueType:g})].concat(m||[])})}var Cl=ot();function ly(n,t){return n.getName(t)||n.getId(t)}var vp="__universalTransitionEnabled",gp=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}return q(t,n),t.prototype.init=function(e,r,i){this.seriesIndex=this.componentIndex,this.dataTask=ju({count:HI,reset:GI}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(e,i),(Cl(this).sourceManager=new Ib(this)).prepareSource();var u=this.getInitialData(e,i);mp(u,this),this.dataTask.context.data=u,Cl(this).dataBeforeProcessed=u,zI(this),this._initSelectedMapFromData(u)},t.prototype.mergeDefaultAndTheme=function(e,r){var i=up(this),o=i?wl(e):{},u=this.subType;at.hasClass(u)&&(u+="Series"),Ve(e,r.getTheme().get(this.subType)),Ve(e,this.getDefaultOption()),ta(e,"label",["show"]),this.fillDataTextStyle(e.data),i&&as(e,o,i)},t.prototype.mergeOption=function(e,r){e=Ve(this.option,e,!0),this.fillDataTextStyle(e.data);var i=up(this);i&&as(this.option,e,i);var o=Cl(this).sourceManager;o.dirty(),o.prepareSource();var u=this.getInitialData(e,r);mp(u,this),this.dataTask.dirty(),this.dataTask.context.data=u,Cl(this).dataBeforeProcessed=u,zI(this),this._initSelectedMapFromData(u)},t.prototype.fillDataTextStyle=function(e){if(e&&!Jr(e))for(var r=["show"],i=0;i<e.length;i++)e[i]&&e[i].label&&ta(e[i],"label",r)},t.prototype.getInitialData=function(e,r){},t.prototype.appendData=function(e){this.getRawData().appendData(e.data)},t.prototype.getData=function(e){var r=kb(this);if(r){var i=r.context.data;return null==e?i:i.getLinkedData(e)}return Cl(this).data},t.prototype.getAllData=function(){var e=this.getData();return e&&e.getLinkedDataAll?e.getLinkedDataAll():[{data:e}]},t.prototype.setData=function(e){var r=kb(this);if(r){var i=r.context;i.outputData=e,r!==this.dataTask&&(i.data=e)}Cl(this).data=e},t.prototype.getEncode=function(){var e=this.get("encode",!0);if(e)return ve(e)},t.prototype.getSourceManager=function(){return Cl(this).sourceManager},t.prototype.getSource=function(){return this.getSourceManager().getSource()},t.prototype.getRawData=function(){return Cl(this).dataBeforeProcessed},t.prototype.getColorBy=function(){return this.get("colorBy")||"series"},t.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},t.prototype.getBaseAxis=function(){var e=this.coordinateSystem;return e&&e.getBaseAxis&&e.getBaseAxis()},t.prototype.formatTooltip=function(e,r,i){return BI({series:this,dataIndex:e,multipleSeries:r})},t.prototype.isAnimationEnabled=function(){var e=this.ecModel;if(ct.node&&(!e||!e.ssr))return!1;var r=this.getShallow("animation");return r&&this.getData().count()>this.getShallow("animationThreshold")&&(r=!1),!!r},t.prototype.restoreData=function(){this.dataTask.dirty()},t.prototype.getColorFromPalette=function(e,r,i){var o=this.ecModel,u=Zm.prototype.getColorFromPalette.call(this,e,r,i);return u||(u=o.getColorFromPalette(e,r,i)),u},t.prototype.coordDimToDataDim=function(e){return this.getRawData().mapDimensionsAll(e)},t.prototype.getProgressive=function(){return this.get("progressive")},t.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},t.prototype.select=function(e,r){this._innerSelect(this.getData(r),e)},t.prototype.unselect=function(e,r){var i=this.option.selectedMap;if(i){var o=this.option.selectedMode,u=this.getData(r);if("series"===o||"all"===i)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var c=0;c<e.length;c++){var d=ly(u,e[c]);i[d]=!1,this._selectedDataIndicesMap[d]=-1}}},t.prototype.toggleSelect=function(e,r){for(var i=[],o=0;o<e.length;o++)i[0]=e[o],this.isSelected(e[o],r)?this.unselect(i,r):this.select(i,r)},t.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var e=this._selectedDataIndicesMap,r=Xe(e),i=[],o=0;o<r.length;o++){var u=e[r[o]];u>=0&&i.push(u)}return i},t.prototype.isSelected=function(e,r){var i=this.option.selectedMap;if(!i)return!1;var o=this.getData(r);return("all"===i||i[ly(o,e)])&&!o.getItemModel(e).get(["select","disabled"])},t.prototype.isUniversalTransitionEnabled=function(){if(this[vp])return!0;var e=this.option.universalTransition;return!!e&&(!0===e||e&&e.enabled)},t.prototype._innerSelect=function(e,r){var i,o,u=this.option,c=u.selectedMode,h=r.length;if(c&&h)if("series"===c)u.selectedMap="all";else if("multiple"===c){xe(u.selectedMap)||(u.selectedMap={});for(var d=u.selectedMap,p=0;p<h;p++){var g=r[p];d[m=ly(e,g)]=!0,this._selectedDataIndicesMap[m]=e.getRawIndex(g)}}else if("single"===c||!0===c){var y=r[h-1],m=ly(e,y);u.selectedMap=((i={})[m]=!0,i),this._selectedDataIndicesMap=((o={})[m]=e.getRawIndex(y),o)}},t.prototype._initSelectedMapFromData=function(e){if(!this.option.selectedMap){var r=[];e.hasItemOption&&e.each(function(i){var o=e.getRawDataItem(i);o&&o.selected&&r.push(i)}),r.length>0&&this._innerSelect(e,r)}},t.registerClass=function(e){return at.registerClass(e)},t.protoInitialize=((e=t.prototype).type="series.__base__",e.seriesIndex=0,e.ignoreStyleOnData=!1,e.hasSymbolVisual=!1,e.defaultSymbol="circle",e.visualStyleAccessPath="itemStyle",void(e.visualDrawType="fill")),t;var e}(at);function zI(n){var t=n.name;kM(n)||(n.name=function Dj(n){var t=n.getRawData(),e=t.mapDimensionsAll("seriesName"),r=[];return F(e,function(i){var o=t.getDimensionInfo(i);o.displayName&&r.push(o.displayName)}),r.join(" ")}(n)||t)}function HI(n){return n.model.getRawData().count()}function GI(n){var t=n.model;return t.setData(t.getRawData().cloneShallow()),Cj}function Cj(n,t){t.outputData&&n.end>t.outputData.count()&&t.model.getRawData().cloneShallow(t.outputData)}function mp(n,t){F(hd(n.CHANGABLE_METHODS,n.DOWNSAMPLE_METHODS),function(e){n.wrapMethod(e,Re(qF,t))})}function qF(n,t){var e=kb(n);return e&&e.setOutputEnd((t||this).count()),t}function kb(n){var t=(n.ecModel||{}).scheduler,e=t&&t.getPipeline(n.uid);if(e){var r=e.currentTask;if(r){var i=r.agentStubMap;i&&(r=i.get(n.uid))}return r}}un(gp,_b),un(gp,Zm),um(gp,at);const Nt=gp;var Fb=function(){function n(){this.group=new Ee,this.uid=mo("viewComponent")}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,i){},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,i){},n.prototype.updateLayout=function(t,e,r,i){},n.prototype.updateVisual=function(t,e,r,i){},n.prototype.toggleBlurSeries=function(t,e,r){},n.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},n}();dw(Fb),qo(Fb);const wt=Fb;function So(){var n=ot();return function(t){var e=n(t),r=t.pipelineContext,i=!!e.large,o=!!e.progressiveRender,u=e.large=!(!r||!r.large),c=e.progressiveRender=!(!r||!r.progressiveRender);return(i!==u||o!==c)&&"reset"}}var In=Qo.CMD,Wu=[[],[],[]],yp=Math.sqrt,ca=Math.atan2;function Fa(n,t){if(t){var i,o,u,c,h,d,e=n.data,r=n.len(),p=In.M,g=In.C,m=In.L,y=In.R,S=In.A,b=In.Q;for(u=0,c=0;u<r;){switch(i=e[u++],c=u,o=0,i){case p:case m:o=1;break;case g:o=3;break;case b:o=2;break;case S:var D=t[4],C=t[5],T=yp(t[0]*t[0]+t[1]*t[1]),M=yp(t[2]*t[2]+t[3]*t[3]),I=ca(-t[1]/M,t[0]/T);e[u]*=T,e[u++]+=D,e[u]*=M,e[u++]+=C,e[u++]*=T,e[u++]*=M,e[u++]+=I,e[u++]+=I,c=u+=2;break;case y:d[0]=e[u++],d[1]=e[u++],Wn(d,d,t),e[c++]=d[0],e[c++]=d[1],d[0]+=e[u++],d[1]+=e[u++],Wn(d,d,t),e[c++]=d[0],e[c++]=d[1]}for(h=0;h<o;h++){var L=Wu[h];L[0]=e[u++],L[1]=e[u++],Wn(L,L,t),e[c++]=L[0],e[c++]=L[1]}}n.increaseVersion()}}var xl=Math.sqrt,hs=Math.sin,ds=Math.cos,wo=Math.PI;function $u(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])}function Tl(n,t){return(n[0]*t[0]+n[1]*t[1])/($u(n)*$u(t))}function Yu(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(Tl(n,t))}function Zu(n,t,e,r,i,o,u,c,h,d,p){var g=h*(wo/180),m=ds(g)*(n-e)/2+hs(g)*(t-r)/2,y=-1*hs(g)*(n-e)/2+ds(g)*(t-r)/2,S=m*m/(u*u)+y*y/(c*c);S>1&&(u*=xl(S),c*=xl(S));var b=(i===o?-1:1)*xl((u*u*(c*c)-u*u*(y*y)-c*c*(m*m))/(u*u*(y*y)+c*c*(m*m)))||0,D=b*u*y/c,C=b*-c*m/u,T=(n+e)/2+ds(g)*D-hs(g)*C,M=(t+r)/2+hs(g)*D+ds(g)*C,I=Yu([1,0],[(m-D)/u,(y-C)/c]),L=[(m-D)/u,(y-C)/c],E=[(-1*m-D)/u,(-1*y-C)/c],R=Yu(L,E);if(Tl(L,E)<=-1&&(R=wo),Tl(L,E)>=1&&(R=0),R<0){var O=Math.round(R/wo*1e6)/1e6;R=2*wo+O%2*wo}p.addData(d,T,M,u,c,I,R,g,o)}var Kf=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,UI=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,Vb=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return ye(t,n),t.prototype.applyTransform=function(e){},t}(Ze);function Bb(n){return null!=n.setData}function zb(n,t){var e=function jI(n){var t=new Qo;if(!n)return t;var u,e=0,r=0,i=e,o=r,c=Qo.CMD,h=n.match(Kf);if(!h)return t;for(var d=0;d<h.length;d++){for(var p=h[d],g=p.charAt(0),m=void 0,y=p.match(UI)||[],S=y.length,b=0;b<S;b++)y[b]=parseFloat(y[b]);for(var D=0;D<S;){var C=void 0,T=void 0,M=void 0,I=void 0,L=void 0,E=void 0,R=void 0,O=e,k=r,V=void 0,B=void 0;switch(g){case"l":e+=y[D++],r+=y[D++],t.addData(m=c.L,e,r);break;case"L":e=y[D++],r=y[D++],t.addData(m=c.L,e,r);break;case"m":e+=y[D++],r+=y[D++],t.addData(m=c.M,e,r),i=e,o=r,g="l";break;case"M":e=y[D++],r=y[D++],t.addData(m=c.M,e,r),i=e,o=r,g="L";break;case"h":e+=y[D++],t.addData(m=c.L,e,r);break;case"H":e=y[D++],t.addData(m=c.L,e,r);break;case"v":r+=y[D++],t.addData(m=c.L,e,r);break;case"V":r=y[D++],t.addData(m=c.L,e,r);break;case"C":t.addData(m=c.C,y[D++],y[D++],y[D++],y[D++],y[D++],y[D++]),e=y[D-2],r=y[D-1];break;case"c":t.addData(m=c.C,y[D++]+e,y[D++]+r,y[D++]+e,y[D++]+r,y[D++]+e,y[D++]+r),e+=y[D-2],r+=y[D-1];break;case"S":C=e,T=r,V=t.len(),B=t.data,u===c.C&&(C+=e-B[V-4],T+=r-B[V-3]),O=y[D++],k=y[D++],e=y[D++],r=y[D++],t.addData(m=c.C,C,T,O,k,e,r);break;case"s":C=e,T=r,V=t.len(),B=t.data,u===c.C&&(C+=e-B[V-4],T+=r-B[V-3]),O=e+y[D++],k=r+y[D++],e+=y[D++],r+=y[D++],t.addData(m=c.C,C,T,O,k,e,r);break;case"Q":O=y[D++],k=y[D++],e=y[D++],r=y[D++],t.addData(m=c.Q,O,k,e,r);break;case"q":O=y[D++]+e,k=y[D++]+r,e+=y[D++],r+=y[D++],t.addData(m=c.Q,O,k,e,r);break;case"T":C=e,T=r,V=t.len(),B=t.data,u===c.Q&&(C+=e-B[V-4],T+=r-B[V-3]),e=y[D++],r=y[D++],t.addData(m=c.Q,C,T,e,r);break;case"t":C=e,T=r,V=t.len(),B=t.data,u===c.Q&&(C+=e-B[V-4],T+=r-B[V-3]),e+=y[D++],r+=y[D++],t.addData(m=c.Q,C,T,e,r);break;case"A":M=y[D++],I=y[D++],L=y[D++],E=y[D++],R=y[D++],Zu(O=e,k=r,e=y[D++],r=y[D++],E,R,M,I,L,m=c.A,t);break;case"a":M=y[D++],I=y[D++],L=y[D++],E=y[D++],R=y[D++],Zu(O=e,k=r,e+=y[D++],r+=y[D++],E,R,M,I,L,m=c.A,t)}}("z"===g||"Z"===g)&&(t.addData(m=c.Z),e=i,r=o),u=m}return t.toStatic(),t}(n),r=J({},t);return r.buildPath=function(i){var o;Bb(i)?(i.setData(e.data),(o=i.getContext())&&i.rebuildPath(o,1)):e.rebuildPath(o=i,1)},r.applyTransform=function(i){Fa(e,i),this.dirtyShape()},r}function Hb(n,t){return new Vb(zb(n,t))}function uy(n,t){t=t||{};var e=new Ze;return n.shape&&e.setShape(n.shape),e.setStyle(n.style),t.bakeTransform?Fa(e.path,n.getComputedTransform()):t.toLocal?e.setLocalTransform(n.getComputedTransform()):e.copyTransform(n),e.buildPath=n.buildPath,e.applyTransform=e.applyTransform,e.z=n.z,e.z2=n.z2,e.zlevel=n.zlevel,e}var Gb=function n(){this.cx=0,this.cy=0,this.r=0},YI=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultShape=function(){return new Gb},t.prototype.buildPath=function(e,r){e.moveTo(r.cx+r.r,r.cy),e.arc(r.cx,r.cy,r.r,0,2*Math.PI)},t}(Ze);YI.prototype.type="circle";const bo=YI;var xj=function n(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},ZI=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultShape=function(){return new xj},t.prototype.buildPath=function(e,r){var i=.5522848,o=r.cx,u=r.cy,c=r.rx,h=r.ry,d=c*i,p=h*i;e.moveTo(o-c,u),e.bezierCurveTo(o-c,u-p,o-d,u-h,o,u-h),e.bezierCurveTo(o+d,u-h,o+c,u-p,o+c,u),e.bezierCurveTo(o+c,u+p,o+d,u+h,o,u+h),e.bezierCurveTo(o-d,u+h,o-c,u+p,o-c,u),e.closePath()},t}(Ze);ZI.prototype.type="ellipse";const cy=ZI;var XF=Math.PI,Ub=2*XF,Qf=Math.sin,Jf=Math.cos,KF=Math.acos,Mr=Math.atan2,fy=Math.abs,ps=Math.sqrt,qu=Math.max,Ri=Math.min,fa=1e-4;function Sp(n,t,e,r,i,o,u){var c=n-e,h=t-r,d=(u?o:-o)/ps(c*c+h*h),p=d*h,g=-d*c,m=n+p,y=t+g,S=e+p,b=r+g,D=(m+S)/2,C=(y+b)/2,T=S-m,M=b-y,I=T*T+M*M,L=i-o,E=m*b-S*y,R=(M<0?-1:1)*ps(qu(0,L*L*I-E*E)),O=(E*M-T*R)/I,k=(-E*T-M*R)/I,V=(E*M+T*R)/I,B=(-E*T+M*R)/I,H=O-D,G=k-C,j=V-D,W=B-C;return H*H+G*G>j*j+W*W&&(O=V,k=B),{cx:O,cy:k,x0:-p,y0:-g,x1:O*(i/L-1),y1:k*(i/L-1)}}var JF=function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},qI=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultShape=function(){return new JF},t.prototype.buildPath=function(e,r){!function wp(n,t){var e,r=qu(t.r,0),i=qu(t.r0||0,0),o=r>0;if(o||i>0){if(o||(r=i,i=0),i>r){var c=r;r=i,i=c}var h=t.startAngle,d=t.endAngle;if(!isNaN(h)&&!isNaN(d)){var p=t.cx,g=t.cy,m=!!t.clockwise,y=fy(d-h),S=y>Ub&&y%Ub;if(S>fa&&(y=S),r>fa)if(y>Ub-fa)n.moveTo(p+r*Jf(h),g+r*Qf(h)),n.arc(p,g,r,h,d,!m),i>fa&&(n.moveTo(p+i*Jf(d),g+i*Qf(d)),n.arc(p,g,i,d,h,m));else{var b=void 0,D=void 0,C=void 0,T=void 0,M=void 0,I=void 0,L=void 0,E=void 0,R=void 0,O=void 0,k=void 0,V=void 0,B=void 0,H=void 0,G=void 0,j=void 0,W=r*Jf(h),Y=r*Qf(h),K=i*Jf(d),X=i*Qf(d),ee=y>fa;if(ee){var oe=t.cornerRadius;oe&&(e=function QF(n){var t;if(te(n)){var e=n.length;if(!e)return n;t=1===e?[n[0],n[0],0,0]:2===e?[n[0],n[0],n[1],n[1]]:3===e?n.concat(n[2]):n}else t=[n,n,n,n];return t}(oe),b=e[0],D=e[1],C=e[2],T=e[3]);var he=fy(r-i)/2;if(M=Ri(he,C),I=Ri(he,T),L=Ri(he,b),E=Ri(he,D),k=R=qu(M,I),V=O=qu(L,E),(R>fa||O>fa)&&(B=r*Jf(d),H=r*Qf(d),G=i*Jf(h),j=i*Qf(h),y<XF)){var me=function _p(n,t,e,r,i,o,u,c){var h=e-n,d=r-t,p=u-i,g=c-o,m=g*h-p*d;if(!(m*m<fa))return[n+(m=(p*(t-o)-g*(n-i))/m)*h,t+m*d]}(W,Y,G,j,B,H,K,X);if(me){var Ie=W-me[0],Me=Y-me[1],qe=B-me[0],ut=H-me[1],Je=1/Qf(KF((Ie*qe+Me*ut)/(ps(Ie*Ie+Me*Me)*ps(qe*qe+ut*ut)))/2),Pe=ps(me[0]*me[0]+me[1]*me[1]);k=Ri(R,(r-Pe)/(Je+1)),V=Ri(O,(i-Pe)/(Je-1))}}}if(ee)if(k>fa){var et=Ri(C,k),je=Ri(T,k),be=Sp(G,j,W,Y,r,et,m),We=Sp(B,H,K,X,r,je,m);n.moveTo(p+be.cx+be.x0,g+be.cy+be.y0),k<R&&et===je?n.arc(p+be.cx,g+be.cy,k,Mr(be.y0,be.x0),Mr(We.y0,We.x0),!m):(et>0&&n.arc(p+be.cx,g+be.cy,et,Mr(be.y0,be.x0),Mr(be.y1,be.x1),!m),n.arc(p,g,r,Mr(be.cy+be.y1,be.cx+be.x1),Mr(We.cy+We.y1,We.cx+We.x1),!m),je>0&&n.arc(p+We.cx,g+We.cy,je,Mr(We.y1,We.x1),Mr(We.y0,We.x0),!m))}else n.moveTo(p+W,g+Y),n.arc(p,g,r,h,d,!m);else n.moveTo(p+W,g+Y);i>fa&&ee?V>fa?(et=Ri(b,V),be=Sp(K,X,B,H,i,-(je=Ri(D,V)),m),We=Sp(W,Y,G,j,i,-et,m),n.lineTo(p+be.cx+be.x0,g+be.cy+be.y0),V<O&&et===je?n.arc(p+be.cx,g+be.cy,V,Mr(be.y0,be.x0),Mr(We.y0,We.x0),!m):(je>0&&n.arc(p+be.cx,g+be.cy,je,Mr(be.y0,be.x0),Mr(be.y1,be.x1),!m),n.arc(p,g,i,Mr(be.cy+be.y1,be.cx+be.x1),Mr(We.cy+We.y1,We.cx+We.x1),m),et>0&&n.arc(p+We.cx,g+We.cy,et,Mr(We.y1,We.x1),Mr(We.y0,We.x0),!m))):(n.lineTo(p+K,g+X),n.arc(p,g,i,d,h,m)):n.lineTo(p+K,g+X)}else n.moveTo(p,g);n.closePath()}}}(e,r)},t.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},t}(Ze);qI.prototype.type="sector";const jr=qI;var eV=function n(){this.cx=0,this.cy=0,this.r=0,this.r0=0},hy=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultShape=function(){return new eV},t.prototype.buildPath=function(e,r){var i=r.cx,o=r.cy,u=2*Math.PI;e.moveTo(i+r.r,o),e.arc(i,o,r.r,0,u,!1),e.moveTo(i+r.r0,o),e.arc(i,o,r.r0,0,u,!0)},t}(Ze);hy.prototype.type="ring";const Ml=hy;function tV(n,t,e){var r=t.smooth,i=t.points;if(i&&i.length>=2){if(r){var o=function dy(n,t,e,r){var h,d,p,g,i=[],o=[],u=[],c=[];if(r){p=[1/0,1/0],g=[-1/0,-1/0];for(var m=0,y=n.length;m<y;m++)ro(p,p,n[m]),Bo(g,g,n[m]);ro(p,p,r[0]),Bo(g,g,r[1])}for(m=0,y=n.length;m<y;m++){var S=n[m];if(e)h=n[m?m-1:y-1],d=n[(m+1)%y];else{if(0===m||m===y-1){i.push(no(n[m]));continue}h=n[m-1],d=n[m+1]}iu(o,d,h),Ue(o,o,t);var b=pS(S,h),D=pS(S,d),C=b+D;0!==C&&(b/=C,D/=C),Ue(u,o,-b),Ue(c,o,D);var T=Vo([],S,u),M=Vo([],S,c);r&&(Bo(T,T,p),ro(T,T,g),Bo(M,M,p),ro(M,M,g)),i.push(T),i.push(M)}return e&&i.push(i.shift()),i}(i,r,e,t.smoothConstraint);n.moveTo(i[0][0],i[0][1]);for(var u=i.length,c=0;c<(e?u:u-1);c++){var h=o[2*c],d=o[2*c+1],p=i[(c+1)%u];n.bezierCurveTo(h[0],h[1],d[0],d[1],p[0],p[1])}}else{n.moveTo(i[0][0],i[0][1]),c=1;for(var g=i.length;c<g;c++)n.lineTo(i[c][0],i[c][1])}e&&n.closePath()}}var nV=function n(){this.points=null,this.smooth=0,this.smoothConstraint=null},XI=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultShape=function(){return new nV},t.prototype.buildPath=function(e,r){tV(e,r,!0)},t}(Ze);XI.prototype.type="polygon";const dr=XI;var rV=function n(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},jb=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new rV},t.prototype.buildPath=function(e,r){tV(e,r,!1)},t}(Ze);jb.prototype.type="polyline";const Wr=jb;var iV={},Al=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},Wb=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new Al},t.prototype.buildPath=function(e,r){var i,o,u,c;if(this.subPixelOptimize){var h=xw(iV,r,this.style);i=h.x1,o=h.y1,u=h.x2,c=h.y2}else i=r.x1,o=r.y1,u=r.x2,c=r.y2;var d=r.percent;0!==d&&(e.moveTo(i,o),d<1&&(u=i*(1-d)+u*d,c=o*(1-d)+c*d),e.lineTo(u,c))},t.prototype.pointAt=function(e){var r=this.shape;return[r.x1*(1-e)+r.x2*e,r.y1*(1-e)+r.y2*e]},t}(Ze);Wb.prototype.type="line";const Vn=Wb;var pi=[],aV=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function KI(n,t,e){return null!=n.cpx2||null!=n.cpy2?[(e?Jt:Le)(n.x1,n.cpx1,n.cpx2,n.x2,t),(e?Jt:Le)(n.y1,n.cpy1,n.cpy2,n.y2,t)]:[(e?qs:en)(n.x1,n.cpx1,n.x2,t),(e?qs:en)(n.y1,n.cpy1,n.y2,t)]}var QI=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new aV},t.prototype.buildPath=function(e,r){var i=r.x1,o=r.y1,u=r.x2,c=r.y2,h=r.cpx1,d=r.cpy1,p=r.cpx2,g=r.cpy2,m=r.percent;0!==m&&(e.moveTo(i,o),null==p||null==g?(m<1&&(Jc(i,h,u,m,pi),h=pi[1],u=pi[2],Jc(o,d,c,m,pi),d=pi[1],c=pi[2]),e.quadraticCurveTo(h,d,u,c)):(m<1&&(cn(i,h,p,u,m,pi),h=pi[1],p=pi[2],u=pi[3],cn(o,d,g,c,m,pi),d=pi[1],g=pi[2],c=pi[3]),e.bezierCurveTo(h,d,p,g,u,c)))},t.prototype.pointAt=function(e){return KI(this.shape,e,!1)},t.prototype.tangentAt=function(e){var r=KI(this.shape,e,!0);return Yc(r,r)},t}(Ze);QI.prototype.type="bezier-curve";const $r=QI;var $b=function n(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},JI=function(n){function t(e){return n.call(this,e)||this}return ye(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new $b},t.prototype.buildPath=function(e,r){var i=r.cx,o=r.cy,u=Math.max(r.r,0),c=r.startAngle,h=r.endAngle,d=r.clockwise,p=Math.cos(c),g=Math.sin(c);e.moveTo(p*u+i,g*u+o),e.arc(i,o,u,c,h,!d)},t}(Ze);JI.prototype.type="arc";const En=JI;var Gn=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="compound",e}return ye(t,n),t.prototype._updatePathDirty=function(){for(var e=this.shape.paths,r=this.shapeChanged(),i=0;i<e.length;i++)r=r||e[i].shapeChanged();r&&this.dirtyShape()},t.prototype.beforeBrush=function(){this._updatePathDirty();for(var e=this.shape.paths||[],r=this.getGlobalScale(),i=0;i<e.length;i++)e[i].path||e[i].createPathProxy(),e[i].path.setScale(r[0],r[1],e[i].segmentIgnoreThreshold)},t.prototype.buildPath=function(e,r){for(var i=r.paths||[],o=0;o<i.length;o++)i[o].buildPath(e,i[o].shape,!0)},t.prototype.afterBrush=function(){for(var e=this.shape.paths||[],r=0;r<e.length;r++)e[r].pathUpdated()},t.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Ze.prototype.getBoundingRect.call(this)},t}(Ze);const Ni=Gn;var eE=function(){function n(t){this.colorStops=t||[]}return n.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},n}();const tE=eE;var oV=function(n){function t(e,r,i,o,u,c){var h=n.call(this,u)||this;return h.x=e??0,h.y=r??0,h.x2=i??1,h.y2=o??0,h.type="linear",h.global=c||!1,h}return ye(t,n),t}(tE);const eh=oV;var Yb=function(n){function t(e,r,i,o,u){var c=n.call(this,o)||this;return c.x=e??.5,c.y=r??.5,c.r=i??.5,c.type="radial",c.global=u||!1,c}return ye(t,n),t}(tE);const bp=Yb;var Il=[0,0],El=[0,0],py=new ze,vy=new ze,sV=function(){function n(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var r=0;r<4;r++)this._corners[r]=new ze;for(r=0;r<2;r++)this._axes[r]=new ze;t&&this.fromBoundingRect(t,e)}return n.prototype.fromBoundingRect=function(t,e){var r=this._corners,i=this._axes,o=t.x,u=t.y,c=o+t.width,h=u+t.height;if(r[0].set(o,u),r[1].set(c,u),r[2].set(c,h),r[3].set(o,h),e)for(var d=0;d<4;d++)r[d].transform(e);for(ze.sub(i[0],r[1],r[0]),ze.sub(i[1],r[3],r[0]),i[0].normalize(),i[1].normalize(),d=0;d<2;d++)this._origin[d]=i[d].dot(r[0])},n.prototype.intersect=function(t,e){var r=!0,i=!e;return py.set(1/0,1/0),vy.set(0,0),!this._intersectCheckOneSide(this,t,py,vy,i,1)&&(r=!1,i)||!this._intersectCheckOneSide(t,this,py,vy,i,-1)&&(r=!1,i)||i||ze.copy(e,r?py:vy),r},n.prototype._intersectCheckOneSide=function(t,e,r,i,o,u){for(var c=!0,h=0;h<2;h++){var d=this._axes[h];if(this._getProjMinMaxOnAxis(h,t._corners,Il),this._getProjMinMaxOnAxis(h,e._corners,El),Il[1]<El[0]||Il[0]>El[1]){if(c=!1,o)return c;var p=Math.abs(El[0]-Il[1]),g=Math.abs(Il[0]-El[1]);Math.min(p,g)>i.len()&&ze.scale(i,d,p<g?-p*u:g*u)}else r&&(p=Math.abs(El[0]-Il[1]),g=Math.abs(Il[0]-El[1]),Math.min(p,g)<r.len()&&ze.scale(r,d,p<g?p*u:-g*u))}return c},n.prototype._getProjMinMaxOnAxis=function(t,e,r){for(var i=this._axes[t],o=this._origin,u=e[0].dot(i)+o[t],c=u,h=u,d=1;d<e.length;d++){var p=e[d].dot(i)+o[t];c=Math.min(p,c),h=Math.max(p,h)}r[0]=c,r[1]=h},n}();const Pl=sV;var nE=[],Oi=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return ye(t,n),t.prototype.traverse=function(e,r){e.call(r,this)},t.prototype.useStyle=function(){this.style={}},t.prototype.getCursor=function(){return this._cursor},t.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},t.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},t.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},t.prototype.addDisplayable=function(e,r){r?this._temporaryDisplayables.push(e):this._displayables.push(e),this.markRedraw()},t.prototype.addDisplayables=function(e,r){r=r||!1;for(var i=0;i<e.length;i++)this.addDisplayable(e[i],r)},t.prototype.getDisplayables=function(){return this._displayables},t.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},t.prototype.eachPendingDisplayable=function(e){for(var r=this._cursor;r<this._displayables.length;r++)e&&e(this._displayables[r]);for(r=0;r<this._temporaryDisplayables.length;r++)e&&e(this._temporaryDisplayables[r])},t.prototype.update=function(){this.updateTransform();for(var e=this._cursor;e<this._displayables.length;e++)(r=this._displayables[e]).parent=this,r.update(),r.parent=null;for(e=0;e<this._temporaryDisplayables.length;e++){var r;(r=this._temporaryDisplayables[e]).parent=this,r.update(),r.parent=null}},t.prototype.getBoundingRect=function(){if(!this._rect){for(var e=new Be(1/0,1/0,-1/0,-1/0),r=0;r<this._displayables.length;r++){var i=this._displayables[r],o=i.getBoundingRect().clone();i.needLocalTransform()&&o.applyTransform(i.getLocalTransform(nE)),e.union(o)}this._rect=e}return this._rect},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r);if(this.getBoundingRect().contain(i[0],i[1]))for(var u=0;u<this._displayables.length;u++)if(this._displayables[u].contain(e,r))return!0;return!1},t}(ra);const Zb=Oi;var gy=Math.max,Dp=Math.min,my={};function qb(n){return Ze.extend(n)}var Cp=function WI(n,t){var e=zb(n,t);return function(i){function o(u){var c=i.call(this,u)||this;return c.applyTransform=e.applyTransform,c.buildPath=e.buildPath,c}return ye(o,i),o}(Vb)};function rE(n,t){return Cp(n,t)}function ha(n,t){my[n]=t}function yy(n){if(my.hasOwnProperty(n))return my[n]}function th(n,t,e,r){var i=Hb(n,t);return e&&("center"===r&&(e=Xb(e,i.getBoundingRect())),_y(i,e)),i}function xp(n,t,e){var r=new Zn({style:{image:n,x:t.x,y:t.y,width:t.width,height:t.height},onload:function(i){"center"===e&&r.setStyle(Xb(t,{width:i.width,height:i.height}))}});return r}function Xb(n,t){var i,e=t.width/t.height,r=n.height*e;return i=r<=n.width?n.height:(r=n.width)/e,{x:n.x+n.width/2-r/2,y:n.y+n.height/2-i/2,width:r,height:i}}var vi=function $I(n,t){for(var e=[],r=n.length,i=0;i<r;i++)e.push(n[i].getUpdatedPathProxy(!0));var u=new Ze(t);return u.createPathProxy(),u.buildPath=function(c){if(Bb(c)){c.appendPath(e);var h=c.getContext();h&&c.rebuildPath(h,1)}},u};function _y(n,t){if(n.applyTransform){var r=n.getBoundingRect().calculateTransform(t);n.applyTransform(r)}}function Xu(n,t){return xw(n,n,{lineWidth:t}),n}function iE(n){return wm(n.shape,n.shape,n.style),n}var Tp=mn;function vs(n,t){for(var e=Zi([]);n&&n!==t;)Ae(e,n.getLocalTransform(),e),n=n.parent;return e}function da(n,t,e){return t&&!Kn(t)&&(t=co.getLocalTransform(t)),e&&(t=Ho([],t)),Wn([],n,t)}function Ku(n,t,e){var r=0===t[4]||0===t[5]||0===t[0]?1:Math.abs(2*t[4]/t[0]),i=0===t[4]||0===t[5]||0===t[2]?1:Math.abs(2*t[4]/t[2]),o=["left"===n?-r:"right"===n?r:0,"top"===n?-i:"bottom"===n?i:0];return o=da(o,t,e),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function gs(n){return!n.isGroup}function Mp(n,t,e){if(n&&t){var o=function r(u){var c={};return u.traverse(function(h){gs(h)&&h.anid&&(c[h.anid]=h)}),c}(n);t.traverse(function(u){if(gs(u)&&u.anid){var c=o[u.anid];if(c){var h=i(u);u.attr(i(c)),dt(u,h,e,Oe(u).dataIndex)}}})}function i(u){var c={x:u.x,y:u.y,rotation:u.rotation};return function lV(n){return null!=n.shape}(u)&&(c.shape=J({},u.shape)),c}}function Ap(n,t){return re(n,function(e){var r=e[0];r=gy(r,t.x),r=Dp(r,t.x+t.width);var i=e[1];return i=gy(i,t.y),[r,i=Dp(i,t.y+t.height)]})}function Ll(n,t){var e=gy(n.x,t.x),r=Dp(n.x+n.width,t.x+t.width),i=gy(n.y,t.y),o=Dp(n.y+n.height,t.y+t.height);if(r>=e&&o>=i)return{x:e,y:i,width:r-e,height:o-i}}function Rl(n,t,e){var r=J({rectHover:!0},t),i=r.style={strokeNoScale:!0};if(e=e||{x:-1,y:-1,width:2,height:2},n)return 0===n.indexOf("image://")?(i.image=n.slice(8),De(i,e),new Zn(r)):th(n.replace("path://",""),r,e,"center")}function Ip(n,t,e,r,i){for(var o=0,u=i[i.length-1];o<i.length;o++){var c=i[o];if(Sy(n,t,e,r,c[0],c[1],u[0],u[1]))return!0;u=c}}function Sy(n,t,e,r,i,o,u,c){var h=e-n,d=r-t,p=u-i,g=c-o,m=aE(p,g,h,d);if(function Tj(n){return n<=1e-6&&n>=-1e-6}(m))return!1;var y=n-i,S=t-o,b=aE(y,S,h,d)/m;if(b<0||b>1)return!1;var D=aE(y,S,p,g)/m;return!(D<0||D>1)}function aE(n,t,e,r){return n*r-e*t}function nh(n){var t=n.itemTooltipOption,e=n.componentModel,r=n.itemName,i=fe(t)?{formatter:t}:t,o=e.mainType,u=e.componentIndex,c={componentType:o,name:r,$vars:["name"]};c[o+"Index"]=u;var h=n.formatterParamsExtra;h&&F(Xe(h),function(p){pe(c,p)||(c[p]=h[p],c.$vars.push(p))});var d=Oe(n.el);d.componentMainType=o,d.componentIndex=u,d.tooltipConfig={name:r,option:De({content:r,formatterParams:c},i)}}function oE(n,t){var e;n.isGroup&&(e=t(n)),e||n.traverse(t)}function ms(n,t){if(n)if(te(n))for(var e=0;e<n.length;e++)oE(n[e],t);else oE(n,t)}ha("circle",bo),ha("ellipse",cy),ha("sector",jr),ha("ring",Ml),ha("polygon",dr),ha("polyline",Wr),ha("rect",st),ha("line",Vn),ha("bezierCurve",$r),ha("arc",En);var sE=ot(),Un=So(),wy=function(){function n(){this.group=new Ee,this.uid=mo("viewChart"),this.renderTask=ju({plan:cE,reset:uV}),this.renderTask.context={view:this}}return n.prototype.init=function(t,e){},n.prototype.render=function(t,e,r,i){},n.prototype.highlight=function(t,e,r,i){var o=t.getData(i&&i.dataType);o&&uE(o,i,"emphasis")},n.prototype.downplay=function(t,e,r,i){var o=t.getData(i&&i.dataType);o&&uE(o,i,"normal")},n.prototype.remove=function(t,e){this.group.removeAll()},n.prototype.dispose=function(t,e){},n.prototype.updateView=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.updateLayout=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.updateVisual=function(t,e,r,i){this.render(t,e,r,i)},n.prototype.eachRendered=function(t){ms(this.group,t)},n.markUpdateMethod=function(t,e){sE(t).updateMethod=e},n.protoInitialize=void(n.prototype.type="chart"),n}();function lE(n,t,e){n&&oa(n)&&("emphasis"===t?Jo:es)(n,e)}function uE(n,t,e){var r=po(n,t),i=t&&null!=t.highlightKey?function rF(n){var t=gA[n];return null==t&&Gd<=32&&(t=gA[n]=Gd++),t}(t.highlightKey):null;null!=r?F(It(r),function(o){lE(n.getItemGraphicEl(o),e,i)}):n.eachItemGraphicEl(function(o){lE(o,e,i)})}function cE(n){return Un(n.model)}function uV(n){var t=n.model,e=n.ecModel,r=n.api,i=n.payload,o=t.pipelineContext.progressiveRender,u=n.view,c=i&&sE(i).updateMethod,h=o?"incrementalPrepareRender":c&&u[c]?c:"render";return"render"!==h&&u[h](t,e,r,i),fE[h]}dw(wy),qo(wy);var fE={incrementalPrepareRender:{progress:function(n,t){t.view.incrementalRender(n,t.model,t.ecModel,t.api,t.payload)}},render:{forceFirstProgress:!0,progress:function(n,t){t.view.render(t.model,t.ecModel,t.api,t.payload)}}};const Mt=wy;var ys="\0__throttleOriginMethod",hE="\0__throttleRate",dE="\0__throttleType";function Ep(n,t,e){var r,c,h,d,p,i=0,o=0,u=null;function g(){o=(new Date).getTime(),u=null,n.apply(h,d||[])}t=t||0;var m=function(){for(var y=[],S=0;S<arguments.length;S++)y[S]=arguments[S];r=(new Date).getTime(),h=this,d=y;var b=p||t,D=p||e;p=null,c=r-(D?i:o)-b,clearTimeout(u),D?u=setTimeout(g,b):c>=0?g():u=setTimeout(g,-c),i=r};return m.clear=function(){u&&(clearTimeout(u),u=null)},m.debounceNextCall=function(y){p=y},m}function rh(n,t,e,r){var i=n[t];if(i){var o=i[ys]||i;if(i[hE]!==e||i[dE]!==r){if(null==e||!r)return n[t]=o;(i=n[t]=Ep(o,e,"debounce"===r))[ys]=o,i[dE]=r,i[hE]=e}return i}}function ih(n,t){var e=n[t];e&&e[ys]&&(e.clear&&e.clear(),n[t]=e[ys])}var cV=ot(),Kb={itemStyle:na(FA,!0),lineStyle:na(qw,!0)},by={lineStyle:"stroke",itemStyle:"fill"};function Va(n,t){return n.visualStyleMapper||Kb[t]||(console.warn("Unknown style type '"+t+"'."),Kb.itemStyle)}function pE(n,t){return n.visualDrawType||by[t]||(console.warn("Unknown style type '"+t+"'."),"fill")}var fV={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=n.getModel(r),u=Va(n,r)(i),c=i.getShallow("decal");c&&(e.setVisual("decal",c),c.dirty=!0);var h=pE(n,r),d=u[h],p=_e(d)?d:null;if(!u[h]||p||"auto"===u.fill||"auto"===u.stroke){var m=n.getColorFromPalette(n.name,null,t.getSeriesCount());u[h]||(u[h]=m,e.setVisual("colorFromPalette",!0)),u.fill="auto"===u.fill||_e(u.fill)?m:u.fill,u.stroke="auto"===u.stroke||_e(u.stroke)?m:u.stroke}if(e.setVisual("style",u),e.setVisual("drawType",h),!t.isSeriesFiltered(n)&&p)return e.setVisual("colorFromPalette",!1),{dataEach:function(y,S){var b=n.getDataParams(S),D=J({},u);D[h]=p(b),y.setItemVisual(S,"style",D)}}}},gi=new Rt,Ba={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(!n.ignoreStyleOnData&&!t.isSeriesFiltered(n)){var e=n.getData(),r=n.visualStyleAccessPath||"itemStyle",i=Va(n,r),o=e.getVisual("drawType");return{dataEach:e.hasItemOption?function(u,c){var h=u.getRawDataItem(c);if(h&&h[r]){gi.option=h[r];var d=i(gi);J(u.ensureUniqueItemVisual(c,"style"),d),gi.option.decal&&(u.setItemVisual(c,"decal",gi.option.decal),gi.option.decal.dirty=!0),o in d&&u.setItemVisual(c,"colorFromPalette",!1)}}:null}}}},za={performRawSeries:!0,overallReset:function(n){var t=ve();n.eachSeries(function(e){var r=e.getColorBy();if(!e.isColorBySeries()){var i=e.type+"-"+r,o=t.get(i);o||t.set(i,o={}),cV(e).scope=o}}),n.eachSeries(function(e){if(!e.isColorBySeries()&&!n.isSeriesFiltered(e)){var r=e.getRawData(),i={},o=e.getData(),u=cV(e).scope,h=pE(e,e.visualStyleAccessPath||"itemStyle");o.each(function(d){var p=o.getRawIndex(d);i[p]=d}),r.each(function(d){var p=i[d];if(o.getItemVisual(p,"colorFromPalette")){var m=o.ensureUniqueItemVisual(p,"style"),y=r.getName(d)||d+"",S=r.count();m[h]=e.getColorFromPalette(y,u,S)}})}})}},Pp=Math.PI,hV=function(){function n(t,e,r,i){this._stageTaskMap=ve(),this.ecInstance=t,this.api=e,r=this._dataProcessorHandlers=r.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=r.concat(i)}return n.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(r){var i=r.overallTask;i&&i.dirty()})},n.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var r=this._pipelineMap.get(t.__pipeline.id),i=r.context,u=!e&&r.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>r.blockIndex?r.step:null,c=i&&i.modDataCount;return{step:u,modBy:null!=c?Math.ceil(c/u):null,modDataCount:c}}},n.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},n.prototype.updateStreamModes=function(t,e){var r=this._pipelineMap.get(t.uid),o=t.getData().count(),u=r.progressiveEnabled&&e.incrementalPrepareRender&&o>=r.threshold,c=t.get("large")&&o>=t.get("largeThreshold"),h="mod"===t.get("progressiveChunkMode")?o:null;t.pipelineContext=r.context={progressiveRender:u,modDataCount:h,large:c}},n.prototype.restorePipelines=function(t){var e=this,r=e._pipelineMap=ve();t.eachSeries(function(i){var o=i.getProgressive(),u=i.uid;r.set(u,{id:u,head:null,tail:null,threshold:i.getProgressiveThreshold(),progressiveEnabled:o&&!(i.preventIncremental&&i.preventIncremental()),blockIndex:-1,step:Math.round(o||700),count:0}),e._pipe(i,i.dataTask)})},n.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),r=this.api;F(this._allHandlers,function(i){var o=t.get(i.uid)||t.set(i.uid,{});Jn(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,o,e,r),i.overallReset&&this._createOverallStageTask(i,o,e,r)},this)},n.prototype.prepareView=function(t,e,r,i){var o=t.renderTask,u=o.context;u.model=e,u.ecModel=r,u.api=i,o.__block=!t.incrementalPrepareRender,this._pipe(e,o)},n.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},n.prototype.performVisualTasks=function(t,e,r){this._performStageTasks(this._visualHandlers,t,e,r)},n.prototype._performStageTasks=function(t,e,r,i){i=i||{};var o=!1,u=this;function c(h,d){return h.setDirty&&(!h.dirtyMap||h.dirtyMap.get(d.__pipeline.id))}F(t,function(h,d){if(!i.visualType||i.visualType===h.visualType){var p=u._stageTaskMap.get(h.uid),g=p.seriesTaskMap,m=p.overallTask;if(m){var y,S=m.agentStubMap;S.each(function(D){c(i,D)&&(D.dirty(),y=!0)}),y&&m.dirty(),u.updatePayload(m,r);var b=u.getPerformArgs(m,i.block);S.each(function(D){D.perform(b)}),m.perform(b)&&(o=!0)}else g&&g.each(function(D,C){c(i,D)&&D.dirty();var T=u.getPerformArgs(D,i.block);T.skip=!h.performRawSeries&&e.isSeriesFiltered(D.context.model),u.updatePayload(D,r),D.perform(T)&&(o=!0)})}}),this.unfinished=o||this.unfinished},n.prototype.performSeriesTasks=function(t){var e;t.eachSeries(function(r){e=r.dataTask.perform()||e}),this.unfinished=e||this.unfinished},n.prototype.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)})},n.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},n.prototype._createSeriesStageTask=function(t,e,r,i){var o=this,u=e.seriesTaskMap,c=e.seriesTaskMap=ve(),h=t.seriesType,d=t.getTargetSeries;function p(g){var m=g.uid,y=c.set(m,u&&u.get(m)||ju({plan:Lp,reset:gV,count:mV}));y.context={model:g,ecModel:r,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:o},o._pipe(g,y)}t.createOnAllSeries?r.eachRawSeries(p):h?r.eachRawSeriesByType(h,p):d&&d(r,i).each(p)},n.prototype._createOverallStageTask=function(t,e,r,i){var o=this,u=e.overallTask=e.overallTask||ju({reset:dV});u.context={ecModel:r,api:i,overallReset:t.overallReset,scheduler:o};var c=u.agentStubMap,h=u.agentStubMap=ve(),d=t.seriesType,p=t.getTargetSeries,g=!0,m=!1;function S(b){var D=b.uid,C=h.set(D,c&&c.get(D)||(m=!0,ju({reset:pV,onDirty:Qb})));C.context={model:b,overallProgress:g},C.agent=u,C.__block=g,o._pipe(b,C)}Jn(!t.createOnAllSeries,""),d?r.eachRawSeriesByType(d,S):p?p(r,i).each(S):(g=!1,F(r.getSeries(),S)),m&&u.dirty()},n.prototype._pipe=function(t,e){var i=this._pipelineMap.get(t.uid);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},n.wrapStageHandler=function(t,e){return _e(t)&&(t={overallReset:t,seriesType:yE(t)}),t.uid=mo("stageHandler"),e&&(t.visualType=e),t},n}();function dV(n){n.overallReset(n.ecModel,n.api,n.payload)}function pV(n){return n.overallProgress&&vV}function vV(){this.agent.dirty(),this.getDownstream().dirty()}function Qb(){this.agent&&this.agent.dirty()}function Lp(n){return n.plan?n.plan(n.model,n.ecModel,n.api,n.payload):null}function gV(n){n.useClearVisual&&n.data.clearAllVisual();var t=n.resetDefines=It(n.reset(n.model,n.ecModel,n.api,n.payload));return t.length>1?re(t,function(e,r){return mE(r)}):gE}var gE=mE(0);function mE(n){return function(t,e){var r=e.data,i=e.resetDefines[n];if(i&&i.dataEach)for(var o=t.start;o<t.end;o++)i.dataEach(r,o);else i&&i.progress&&i.progress(t,r)}}function mV(n){return n.data.count()}function yE(n){Dy=null;try{n(ah,Rp)}catch{}return Dy}var Dy,ah={},Rp={};function Jb(n,t){for(var e in t.prototype)n[e]=ht}Jb(ah,Xm),Jb(Rp,nI),ah.eachSeriesByType=ah.eachRawSeriesByType=function(n){Dy=n},ah.eachComponent=function(n){"series"===n.mainType&&n.subType&&(Dy=n.subType)};const ki=hV;var eD=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const yV={color:eD,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],eD]};var Yr="#B9B8CE",tD="#100C2A",Do=function(){return{axisLine:{lineStyle:{color:Yr}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},nD=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],rD={darkMode:!0,color:nD,backgroundColor:tD,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Yr}},textStyle:{color:Yr},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Yr}},dataZoom:{borderColor:"#71708A",textStyle:{color:Yr},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Yr}},timeline:{lineStyle:{color:Yr},label:{color:Yr},controlStyle:{color:Yr,borderColor:Yr}},calendar:{itemStyle:{color:tD},dayLabel:{color:Yr},monthLabel:{color:Yr},yearLabel:{color:Yr}},timeAxis:Do(),logAxis:Do(),valueAxis:Do(),categoryAxis:Do(),line:{symbol:"circle"},graph:{color:nD},gauge:{title:{color:Yr},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Yr},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};rD.categoryAxis.splitLine.show=!1;const _E=rD;var SE=function(){function n(){}return n.prototype.normalizeQuery=function(t){var e={},r={},i={};if(fe(t)){var o=li(t);e.mainType=o.main||null,e.subType=o.sub||null}else{var u=["Index","Name","Id"],c={name:1,dataIndex:1,dataType:1};F(t,function(h,d){for(var p=!1,g=0;g<u.length;g++){var m=u[g],y=d.lastIndexOf(m);if(y>0&&y===d.length-m.length){var S=d.slice(0,y);"data"!==S&&(e.mainType=S,e[m.toLowerCase()]=h,p=!0)}}c.hasOwnProperty(d)&&(r[d]=h,p=!0),p||(i[d]=h)})}return{cptQuery:e,dataQuery:r,otherQuery:i}},n.prototype.filter=function(t,e){var r=this.eventInfo;if(!r)return!0;var i=r.targetEl,o=r.packedEvent,u=r.model,c=r.view;if(!u||!c)return!0;var h=e.cptQuery,d=e.dataQuery;return p(h,u,"mainType")&&p(h,u,"subType")&&p(h,u,"index","componentIndex")&&p(h,u,"name")&&p(h,u,"id")&&p(d,o,"name")&&p(d,o,"dataIndex")&&p(d,o,"dataType")&&(!c.filterForExposedEvent||c.filterForExposedEvent(t,e.otherQuery,i,o));function p(g,m,y,S){return null==g[y]||m[S||y]===g[y]}},n.prototype.afterTrigger=function(){this.eventInfo=null},n}(),Cy=["symbol","symbolSize","symbolRotate","symbolOffset"],iD=Cy.concat(["symbolKeepAspect"]),wE={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){var e=n.getData();if(n.legendIcon&&e.setVisual("legendIcon",n.legendIcon),n.hasSymbolVisual){for(var r={},i={},o=!1,u=0;u<Cy.length;u++){var c=Cy[u],h=n.get(c);_e(h)?(o=!0,i[c]=h):r[c]=h}if(r.symbol=r.symbol||n.defaultSymbol,e.setVisual(J({legendIcon:n.legendIcon||r.symbol,symbolKeepAspect:n.get("symbolKeepAspect")},r)),!t.isSeriesFiltered(n)){var d=Xe(i);return{dataEach:o?function p(g,m){for(var y=n.getRawValue(m),S=n.getDataParams(m),b=0;b<d.length;b++){var D=d[b];g.setItemVisual(m,D,i[D](y,S))}}:null}}}}},bE={createOnAllSeries:!0,performRawSeries:!0,reset:function(n,t){if(n.hasSymbolVisual&&!t.isSeriesFiltered(n))return{dataEach:n.getData().hasItemOption?function r(i,o){for(var u=i.getItemModel(o),c=0;c<iD.length;c++){var h=iD[c],d=u.getShallow(h,!0);null!=d&&i.setItemVisual(o,h,d)}}:null}}};function aD(n,t,e){switch(e){case"color":return n.getItemVisual(t,"style")[n.getVisual("drawType")];case"opacity":return n.getItemVisual(t,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getItemVisual(t,e)}}function Np(n,t){switch(t){case"color":return n.getVisual("style")[n.getVisual("drawType")];case"opacity":return n.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return n.getVisual(t)}}function DE(n,t,e,r){switch(e){case"color":n.ensureUniqueItemVisual(t,"style")[n.getVisual("drawType")]=r,n.setItemVisual(t,"colorFromPalette",!1);break;case"opacity":n.ensureUniqueItemVisual(t,"style").opacity=r;break;case"symbol":case"symbolSize":case"liftZ":n.setItemVisual(t,e,r)}}function CE(n,t){function e(r,i){var o=[];return r.eachComponent({mainType:"series",subType:n,query:i},function(u){o.push(u.seriesIndex)}),o}F([[n+"ToggleSelect","toggleSelect"],[n+"Select","select"],[n+"UnSelect","unselect"]],function(r){t(r[0],function(i,o,u){i=J({},i),u.dispatchAction(J(i,{type:r[1],seriesIndex:e(o,i)}))})})}function oh(n,t,e,r,i){var o=n+t;e.isSilent(o)||r.eachComponent({mainType:"series",subType:"pie"},function(u){for(var c=u.seriesIndex,h=u.option.selectedMap,d=i.selected,p=0;p<d.length;p++)if(d[p].seriesIndex===c){var g=u.getData(),m=po(g,i.fromActionPayload);e.trigger(o,{type:o,seriesId:u.id,name:te(m)?g.getName(m[0]):g.getName(m),selected:fe(h)?h:J({},h)})}})}function Qu(n,t,e){for(var r;n&&(!t(n)||(r=n,!e));)n=n.__hostTarget||n.parent;return r}var SV=Math.round(9*Math.random()),wV="function"==typeof Object.defineProperty,bV=function(){function n(){this._id="__ec_inner_"+SV++}return n.prototype.get=function(t){return this._guard(t)[this._id]},n.prototype.set=function(t,e){var r=this._guard(t);return wV?Object.defineProperty(r,this._id,{value:e,enumerable:!1,configurable:!0}):r[this._id]=e,this},n.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},n.prototype.has=function(t){return!!this._guard(t)[this._id]},n.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},n}();const DV=bV;var CV=Ze.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,i=t.width/2,o=t.height/2;n.moveTo(e,r-o),n.lineTo(e+i,r+o),n.lineTo(e-i,r+o),n.closePath()}}),xV=Ze.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var e=t.cx,r=t.cy,i=t.width/2,o=t.height/2;n.moveTo(e,r-o),n.lineTo(e+i,r),n.lineTo(e,r+o),n.lineTo(e-i,r),n.closePath()}}),TV=Ze.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.x,r=t.y,i=t.width/5*3,o=Math.max(i,t.height),u=i/2,c=u*u/(o-u),h=r-o+u+c,d=Math.asin(c/u),p=Math.cos(d)*u,g=Math.sin(d),m=Math.cos(d),y=.6*u,S=.7*u;n.moveTo(e-p,h+c),n.arc(e,h,u,Math.PI-d,2*Math.PI+d),n.bezierCurveTo(e+p-g*y,h+c+m*y,e,r-S,e,r),n.bezierCurveTo(e,r-S,e-p+g*y,h+c+m*y,e-p,h+c),n.closePath()}}),MV=Ze.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var e=t.height,i=t.x,o=t.y,u=t.width/3*2;n.moveTo(i,o),n.lineTo(i+u,o+e),n.lineTo(i,o+e/4*3),n.lineTo(i-u,o+e),n.lineTo(i,o),n.closePath()}}),IV={line:function(n,t,e,r,i){i.x1=n,i.y1=t+r/2,i.x2=n+e,i.y2=t+r/2},rect:function(n,t,e,r,i){i.x=n,i.y=t,i.width=e,i.height=r},roundRect:function(n,t,e,r,i){i.x=n,i.y=t,i.width=e,i.height=r,i.r=Math.min(e,r)/4},square:function(n,t,e,r,i){var o=Math.min(e,r);i.x=n,i.y=t,i.width=o,i.height=o},circle:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.r=Math.min(e,r)/2},diamond:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.width=e,i.height=r},pin:function(n,t,e,r,i){i.x=n+e/2,i.y=t+r/2,i.width=e,i.height=r},arrow:function(n,t,e,r,i){i.x=n+e/2,i.y=t+r/2,i.width=e,i.height=r},triangle:function(n,t,e,r,i){i.cx=n+e/2,i.cy=t+r/2,i.width=e,i.height=r}},xy={};F({line:Vn,rect:st,roundRect:st,square:st,circle:bo,diamond:xV,pin:TV,arrow:MV,triangle:CV},function(n,t){xy[t]=new n});var xE=Ze.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(n,t,e){var r=em(n,t,e),i=this.shape;return i&&"pin"===i.symbolType&&"inside"===t.position&&(r.y=e.y+.4*e.height),r},buildPath:function(n,t,e){var r=t.symbolType;if("none"!==r){var i=xy[r];i||(i=xy[r="rect"]),IV[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(n,i.shape,e)}}});function TE(n,t){if("image"!==this.type){var e=this.style;this.__isEmptyBrush?(e.stroke=n,e.fill=t||"#fff",e.lineWidth=2):"line"===this.shape.symbolType?e.stroke=n:e.fill=n,this.markRedraw()}}function dn(n,t,e,r,i,o,u){var h,c=0===n.indexOf("empty");return c&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),(h=0===n.indexOf("image://")?xp(n.slice(8),new Be(t,e,r,i),u?"center":"cover"):0===n.indexOf("path://")?th(n.slice(7),{},new Be(t,e,r,i),u?"center":"cover"):new xE({shape:{symbolType:n,x:t,y:e,width:r,height:i}})).__isEmptyBrush=c,h.setColor=TE,o&&h.setColor(o),h}function Ju(n){return te(n)||(n=[+n,+n]),[n[0]||0,n[1]||0]}function Nl(n,t){if(null!=n)return te(n)||(n=[n,n]),[le(n[0],t[0])||0,le(ke(n[1],n[0]),t[1])||0]}function Ol(n){return isFinite(n)}function Ty(n,t,e){for(var r="radial"===t.type?function AE(n,t,e){var r=e.width,i=e.height,o=Math.min(r,i),u=null==t.x?.5:t.x,c=null==t.y?.5:t.y,h=null==t.r?.5:t.r;return t.global||(u=u*r+e.x,c=c*i+e.y,h*=o),u=Ol(u)?u:.5,c=Ol(c)?c:.5,h=h>=0&&Ol(h)?h:.5,n.createRadialGradient(u,c,0,u,c,h)}(n,t,e):function ME(n,t,e){var r=null==t.x?0:t.x,i=null==t.x2?1:t.x2,o=null==t.y?0:t.y,u=null==t.y2?0:t.y2;return t.global||(r=r*e.width+e.x,i=i*e.width+e.x,o=o*e.height+e.y,u=u*e.height+e.y),r=Ol(r)?r:0,i=Ol(i)?i:1,o=Ol(o)?o:0,u=Ol(u)?u:0,n.createLinearGradient(r,o,i,u)}(n,t,e),i=t.colorStops,o=0;o<i.length;o++)r.addColorStop(i[o].offset,i[o].color);return r}function Op(n){return parseInt(n,10)}function pa(n,t,e){var r=["width","height"][t],i=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],u=["paddingRight","paddingBottom"][t];if(null!=e[r]&&"auto"!==e[r])return parseFloat(e[r]);var c=document.defaultView.getComputedStyle(n);return(n[i]||Op(c[r])||Op(n.style[r]))-(Op(c[o])||0)-(Op(c[u])||0)|0}function oD(n){var t=n.style,e=t.lineDash&&t.lineWidth>0&&function EV(n,t){return n&&"solid"!==n&&t>0?"dashed"===n?[4*t,2*t]:"dotted"===n?[t]:ft(n)?[n]:te(n)?n:null:null}(t.lineDash,t.lineWidth),r=t.lineDashOffset;if(e){var i=t.strokeNoScale&&n.getLineScale?n.getLineScale():1;i&&1!==i&&(e=re(e,function(o){return o/i}),r/=i)}return[e,r]}var sh=new Qo(!0);function sD(n){var t=n.stroke;return!(null==t||"none"===t||!(n.lineWidth>0))}function Ar(n){return"string"==typeof n&&"none"!==n}function lD(n){var t=n.fill;return null!=t&&"none"!==t}function uD(n,t){if(null!=t.fillOpacity&&1!==t.fillOpacity){var e=n.globalAlpha;n.globalAlpha=t.fillOpacity*t.opacity,n.fill(),n.globalAlpha=e}else n.fill()}function cD(n,t){if(null!=t.strokeOpacity&&1!==t.strokeOpacity){var e=n.globalAlpha;n.globalAlpha=t.strokeOpacity*t.opacity,n.stroke(),n.globalAlpha=e}else n.stroke()}function EE(n,t,e){var r=jM(t.image,t.__image,e);if(vw(r)){var i=n.createPattern(r,t.repeat||"repeat");if("function"==typeof DOMMatrix&&i&&i.setTransform){var o=new DOMMatrix;o.translateSelf(t.x||0,t.y||0),o.rotateSelf(0,0,(t.rotation||0)*dd),o.scaleSelf(t.scaleX||1,t.scaleY||1),i.setTransform(o)}return i}}var PE=["shadowBlur","shadowOffsetX","shadowOffsetY"],ec=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function LE(n,t,e,r,i){var o=!1;if(!r&&t===(e=e||{}))return!1;if(r||t.opacity!==e.opacity){qr(n,i),o=!0;var u=Math.max(Math.min(t.opacity,1),0);n.globalAlpha=isNaN(u)?Tf.opacity:u}(r||t.blend!==e.blend)&&(o||(qr(n,i),o=!0),n.globalCompositeOperation=t.blend||Tf.blend);for(var c=0;c<PE.length;c++){var h=PE[c];(r||t[h]!==e[h])&&(o||(qr(n,i),o=!0),n[h]=n.dpr*(t[h]||0))}return(r||t.shadowColor!==e.shadowColor)&&(o||(qr(n,i),o=!0),n.shadowColor=t.shadowColor||Tf.shadowColor),o}function kp(n,t,e,r,i){var o=Fp(t,i.inHover),u=r?null:e&&Fp(e,i.inHover)||{};if(o===u)return!1;var c=LE(n,o,u,r,i);if((r||o.fill!==u.fill)&&(c||(qr(n,i),c=!0),Ar(o.fill)&&(n.fillStyle=o.fill)),(r||o.stroke!==u.stroke)&&(c||(qr(n,i),c=!0),Ar(o.stroke)&&(n.strokeStyle=o.stroke)),(r||o.opacity!==u.opacity)&&(c||(qr(n,i),c=!0),n.globalAlpha=null==o.opacity?1:o.opacity),t.hasStroke()){var d=o.lineWidth/(o.strokeNoScale&&t.getLineScale?t.getLineScale():1);n.lineWidth!==d&&(c||(qr(n,i),c=!0),n.lineWidth=d)}for(var p=0;p<ec.length;p++){var g=ec[p],m=g[0];(r||o[m]!==u[m])&&(c||(qr(n,i),c=!0),n[m]=o[m]||g[1])}return c}function Zr(n,t){var e=t.transform,r=n.dpr||1;e?n.setTransform(r*e[0],r*e[1],r*e[2],r*e[3],r*e[4],r*e[5]):n.setTransform(r,0,0,r,0,0)}var fD=1,NE=2,hD=3,dD=4;function qr(n,t){t.batchFill&&n.fill(),t.batchStroke&&n.stroke(),t.batchFill="",t.batchStroke=""}function Fp(n,t){return t&&n.__hoverStyle||n.style}function pD(n,t){tc(n,t,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function tc(n,t,e,r){var i=t.transform;if(!t.shouldBePainted(e.viewWidth,e.viewHeight,!1,!1))return t.__dirty&=~Ti,void(t.__isRendered=!1);var o=t.__clipPaths,u=e.prevElClipPaths,c=!1,h=!1;if((!u||function IE(n,t){if(n===t||!n&&!t)return!1;if(!n||!t||n.length!==t.length)return!0;for(var e=0;e<n.length;e++)if(n[e]!==t[e])return!0;return!1}(o,u))&&(u&&u.length&&(qr(n,e),n.restore(),h=c=!0,e.prevElClipPaths=null,e.allClipped=!1,e.prevEl=null),o&&o.length&&(qr(n,e),n.save(),function Mj(n,t,e){for(var r=!1,i=0;i<n.length;i++){var o=n[i];r=r||o.isZeroArea(),Zr(t,o),t.beginPath(),o.buildPath(t,o.shape),t.clip()}e.allClipped=r}(o,n,e),c=!0),e.prevElClipPaths=o),e.allClipped)t.__isRendered=!1;else{t.beforeBrush&&t.beforeBrush(),t.innerBeforeBrush();var d=e.prevEl;d||(h=c=!0);var p=t instanceof Ze&&t.autoBatch&&function OE(n){var t=lD(n),e=sD(n);return!(n.lineDash||!(+t^+e)||t&&"string"!=typeof n.fill||e&&"string"!=typeof n.stroke||n.strokePercent<1||n.strokeOpacity<1||n.fillOpacity<1)}(t.style);c||function RE(n,t){return n&&t?n[0]!==t[0]||n[1]!==t[1]||n[2]!==t[2]||n[3]!==t[3]||n[4]!==t[4]||n[5]!==t[5]:!(!n&&!t)}(i,d.transform)?(qr(n,e),Zr(n,t)):p||qr(n,e);var g=Fp(t,e.inHover);t instanceof Ze?(e.lastDrawType!==fD&&(h=!0,e.lastDrawType=fD),kp(n,t,d,h,e),(!p||!e.batchFill&&!e.batchStroke)&&n.beginPath(),function Qt(n,t,e,r){var i,o=sD(e),u=lD(e),c=e.strokePercent,h=c<1,d=!t.path;(!t.silent||h)&&d&&t.createPathProxy();var p=t.path||sh,g=t.__dirty;if(!r){var m=e.fill,y=e.stroke,S=u&&!!m.colorStops,b=o&&!!y.colorStops,D=u&&!!m.image,C=o&&!!y.image,T=void 0,M=void 0,I=void 0,L=void 0,E=void 0;(S||b)&&(E=t.getBoundingRect()),S&&(T=g?Ty(n,m,E):t.__canvasFillGradient,t.__canvasFillGradient=T),b&&(M=g?Ty(n,y,E):t.__canvasStrokeGradient,t.__canvasStrokeGradient=M),D&&(I=g||!t.__canvasFillPattern?EE(n,m,t):t.__canvasFillPattern,t.__canvasFillPattern=I),C&&(L=g||!t.__canvasStrokePattern?EE(n,y,t):t.__canvasStrokePattern,t.__canvasStrokePattern=I),S?n.fillStyle=T:D&&(I?n.fillStyle=I:u=!1),b?n.strokeStyle=M:C&&(L?n.strokeStyle=L:o=!1)}var O,k,R=t.getGlobalScale();p.setScale(R[0],R[1],t.segmentIgnoreThreshold),n.setLineDash&&e.lineDash&&(O=(i=oD(t))[0],k=i[1]);var V=!0;(d||g&Go)&&(p.setDPR(n.dpr),h?p.setContext(null):(p.setContext(n),V=!1),p.reset(),t.buildPath(p,t.shape,r),p.toStatic(),t.pathUpdated()),V&&p.rebuildPath(n,h?c:1),O&&(n.setLineDash(O),n.lineDashOffset=k),r||(e.strokeFirst?(o&&cD(n,e),u&&uD(n,e)):(u&&uD(n,e),o&&cD(n,e))),O&&n.setLineDash([])}(n,t,g,p),p&&(e.batchFill=g.fill||"",e.batchStroke=g.stroke||"")):t instanceof Vd?(e.lastDrawType!==hD&&(h=!0,e.lastDrawType=hD),kp(n,t,d,h,e),function LV(n,t,e){var r,i=e.text;if(null!=i&&(i+=""),i){n.font=e.font||Us,n.textAlign=e.textAlign,n.textBaseline=e.textBaseline;var o=void 0,u=void 0;n.setLineDash&&e.lineDash&&(o=(r=oD(t))[0],u=r[1]),o&&(n.setLineDash(o),n.lineDashOffset=u),e.strokeFirst?(sD(e)&&n.strokeText(i,e.x,e.y),lD(e)&&n.fillText(i,e.x,e.y)):(lD(e)&&n.fillText(i,e.x,e.y),sD(e)&&n.strokeText(i,e.x,e.y)),o&&n.setLineDash([])}}(n,t,g)):t instanceof Zn?(e.lastDrawType!==NE&&(h=!0,e.lastDrawType=NE),function My(n,t,e,r,i){LE(n,Fp(t,i.inHover),e&&Fp(e,i.inHover),r,i)}(n,t,d,h,e),function PV(n,t,e){var r=t.__image=jM(e.image,t.__image,t,t.onload);if(r&&vw(r)){var i=e.x||0,o=e.y||0,u=t.getWidth(),c=t.getHeight(),h=r.width/r.height;if(null==u&&null!=c?u=c*h:null==c&&null!=u?c=u/h:null==u&&null==c&&(u=r.width,c=r.height),e.sWidth&&e.sHeight)n.drawImage(r,d=e.sx||0,p=e.sy||0,e.sWidth,e.sHeight,i,o,u,c);else if(e.sx&&e.sy){var d,p;n.drawImage(r,d=e.sx,p=e.sy,u-d,c-p,i,o,u,c)}else n.drawImage(r,i,o,u,c)}}(n,t,g)):t.getTemporalDisplayables&&(e.lastDrawType!==dD&&(h=!0,e.lastDrawType=dD),function Vp(n,t,e){var r=t.getDisplayables(),i=t.getTemporalDisplayables();n.save();var u,c,o={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:e.viewWidth,viewHeight:e.viewHeight,inHover:e.inHover};for(u=t.getCursor(),c=r.length;u<c;u++)(h=r[u]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),tc(n,h,o,u===c-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),o.prevEl=h;for(var d=0,p=i.length;d<p;d++){var h;(h=i[d]).beforeBrush&&h.beforeBrush(),h.innerBeforeBrush(),tc(n,h,o,d===p-1),h.innerAfterBrush(),h.afterBrush&&h.afterBrush(),o.prevEl=h}t.clearTemporalDisplayables(),t.notClear=!0,n.restore()}(n,t,e)),p&&r&&qr(n,e),t.innerAfterBrush(),t.afterBrush&&t.afterBrush(),e.prevEl=t,t.__dirty=0,t.__isRendered=!0}}var vD=new DV,kE=new Wo(100),FE=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function _s(n,t){if("none"===n)return null;var e=t.getDevicePixelRatio(),r=t.getZr(),i="svg"===r.painter.type;n.dirty&&vD.delete(n);var o=vD.get(n);if(o)return o;var u=De(n,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===u.backgroundColor&&(u.backgroundColor=null);var c={repeat:"repeat"};return function h(d){for(var p=[e],g=!0,m=0;m<FE.length;++m){var y=u[FE[m]];if(null!=y&&!te(y)&&!fe(y)&&!ft(y)&&"boolean"!=typeof y){g=!1;break}p.push(y)}var S;if(g){S=p.join(",")+(i?"-svg":"");var b=kE.get(S);b&&(i?d.svgElement=b:d.image=b)}var O,D=mD(u.dashArrayX),C=function VE(n){if(!n||"object"==typeof n&&0===n.length)return[0,0];if(ft(n)){var t=Math.ceil(n);return[t,t]}var e=re(n,function(r){return Math.ceil(r)});return n.length%2?e.concat(e):e}(u.dashArrayY),T=gD(u.symbol),M=function RV(n){return re(n,function(t){return lh(t)})}(D),I=lh(C),L=!i&&eo.createCanvas(),E=i&&{tag:"g",attrs:{},key:"dcl",children:[]},R=function k(){for(var B=1,H=0,G=M.length;H<G;++H)B=Ld(B,M[H]);var j=1;for(H=0,G=T.length;H<G;++H)j=Ld(j,T[H].length);B*=j;var W=I*M.length*T.length;return{width:Math.max(1,Math.min(B,u.maxTileWidth)),height:Math.max(1,Math.min(W,u.maxTileHeight))}}();L&&(L.width=R.width*e,L.height=R.height*e,O=L.getContext("2d")),function V(){O&&(O.clearRect(0,0,L.width,L.height),u.backgroundColor&&(O.fillStyle=u.backgroundColor,O.fillRect(0,0,L.width,L.height)));for(var B=0,H=0;H<C.length;++H)B+=C[H];if(!(B<=0))for(var G=-I,j=0,W=0,Y=0;G<R.height;){if(j%2==0){for(var K=W/2%T.length,X=0,ee=0,oe=0;X<2*R.width;){var he=0;for(H=0;H<D[Y].length;++H)he+=D[Y][H];if(he<=0)break;if(ee%2==0){var me=.5*(1-u.symbolSize);Pe(X+D[Y][ee]*me,G+C[j]*me,D[Y][ee]*u.symbolSize,C[j]*u.symbolSize,T[K][oe/2%T[K].length])}X+=D[Y][ee],++oe,++ee===D[Y].length&&(ee=0)}++Y===D.length&&(Y=0)}G+=C[j],++W,++j===C.length&&(j=0)}function Pe(et,je,be,We,ln){var vt=i?1:e,Pn=dn(ln,et*vt,je*vt,be*vt,We*vt,u.color,u.symbolKeepAspect);if(i){var Dn=r.painter.renderOneToVNode(Pn);Dn&&E.children.push(Dn)}else pD(O,Pn)}}(),g&&kE.put(S,L||E),d.image=L,d.svgElement=E,d.svgWidth=R.width,d.svgHeight=R.height}(c),c.rotation=u.rotation,c.scaleX=c.scaleY=i?1:1/e,vD.set(n,c),n.dirty=!1,c}function gD(n){if(!n||0===n.length)return[["rect"]];if(fe(n))return[[n]];for(var t=!0,e=0;e<n.length;++e)if(!fe(n[e])){t=!1;break}if(t)return gD([n]);var r=[];for(e=0;e<n.length;++e)fe(n[e])?r.push([n[e]]):r.push(n[e]);return r}function mD(n){if(!n||0===n.length)return[[0,0]];if(ft(n))return[[t=Math.ceil(n),t]];for(var e=!0,r=0;r<n.length;++r)if(!ft(n[r])){e=!1;break}if(e)return mD([n]);var i=[];for(r=0;r<n.length;++r)if(ft(n[r])){var t=Math.ceil(n[r]);i.push([t,t])}else t=re(n[r],function(c){return Math.ceil(c)}),i.push(t.length%2==1?t.concat(t):t);return i}function lh(n){for(var t=0,e=0;e<n.length;++e)t+=n[e];return n.length%2==1?2*t:t}const Ha=new $i;var BE={};function yD(n){return BE[n]}var HE="5.4.3",OV={zrender:"5.4.4"},Ij=2e3,VV=1e3,jE=3e3,$E={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:VV,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:jE,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:4500,ARIA:6e3,DECAL:7e3}},Xr="__flagInMainProcess",mi="__pendingUpdate",Ay="__needsUpdateStatus",YE=/^[a-zA-Z0-9_]+$/,_D="__connectUpdateStatus";function qE(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this.isDisposed())return XE(this,n,t)}}function SD(n){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return XE(this,n,t)}}function XE(n,t,e){return e[0]=e[0]&&e[0].toLowerCase(),$i.prototype[t].apply(n,e)}var wD=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t}($i),KE=wD.prototype;KE.on=SD("on"),KE.off=SD("off");var kl,bD,Gp,Ss,DD,CD,xD,nc,Up,TD,QE,MD,JE,Iy,eP,tP,va,nP,jp=function(n){function t(e,r,i){var o=n.call(this,new SE)||this;o._chartsViews=[],o._chartsMap={},o._componentsViews=[],o._componentsMap={},o._pendingActions=[],i=i||{},fe(r)&&(r=Ly[r]),o._dom=e;var g=o._zr=Ea(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:ke(i.useDirtyRect,!1),useCoarsePointer:ke(i.useCoarsePointer,"auto"),pointerSize:i.pointerSize});o._ssr=i.ssr,o._throttledZrFlush=Ep(de(g.flush,g),17),(r=Te(r))&&uI(r,!0),o._theme=r,o._locale=function Jw(n){if(fe(n)){var t=Ou[n.toUpperCase()]||{};return"ZH"===n||"EN"===n?Te(t):Ve(Te(t),Te(Ou[Nf]),!1)}return Ve(Te(n),Te(Ou[Nf]),!1)}(i.locale||km),o._coordSysMgr=new zf;var m=o._api=eP(o);function y(S,b){return S.__prio-b.__prio}return Bg(Py,y),Bg(AD,y),o._scheduler=new ki(o,m,AD,Py),o._messageCenter=new wD,o._initEvents(),o.resize=de(o.resize,o),g.animation.on("frame",o._onframe,o),TD(g,o),QE(g,o),Fo(o),o}return q(t,n),t.prototype._onframe=function(){if(!this._disposed){nP(this);var e=this._scheduler;if(this[mi]){var r=this[mi].silent;this[Xr]=!0;try{kl(this),Ss.update.call(this,null,this[mi].updateParams)}catch(h){throw this[Xr]=!1,this[mi]=null,h}this._zr.flush(),this[Xr]=!1,this[mi]=null,nc.call(this,r),Up.call(this,r)}else if(e.unfinished){var i=1,o=this._model,u=this._api;e.unfinished=!1;do{var c=+new Date;e.performSeriesTasks(o),e.performDataProcessorTasks(o),CD(this,o),e.performVisualTasks(o),Iy(this,this._model,u,"remain",{}),i-=+new Date-c}while(i>0&&e.unfinished);e.unfinished||this._zr.flush()}}},t.prototype.getDom=function(){return this._dom},t.prototype.getId=function(){return this.id},t.prototype.getZr=function(){return this._zr},t.prototype.isSSR=function(){return this._ssr},t.prototype.setOption=function(e,r,i){if(!this[Xr]){if(this._disposed)return;var o,u,c;if(xe(r)&&(i=r.lazyUpdate,o=r.silent,u=r.replaceMerge,c=r.transition,r=r.notMerge),this[Xr]=!0,!this._model||r){var h=new IF(this._api),d=this._theme,p=this._model=new Xm;p.scheduler=this._scheduler,p.ssr=this._ssr,p.init(null,null,null,d,this._locale,h)}this._model.setOption(e,{replaceMerge:u},ID);var g={seriesTransition:c,optionChanged:!0};if(i)this[mi]={silent:o,updateParams:g},this[Xr]=!1,this.getZr().wakeUp();else{try{kl(this),Ss.update.call(this,null,g)}catch(m){throw this[mi]=null,this[Xr]=!1,m}this._ssr||this._zr.flush(),this[mi]=null,this[Xr]=!1,nc.call(this,o),Up.call(this,o)}}},t.prototype.setTheme=function(){},t.prototype.getModel=function(){return this._model},t.prototype.getOption=function(){return this._model&&this._model.getOption()},t.prototype.getWidth=function(){return this._zr.getWidth()},t.prototype.getHeight=function(){return this._zr.getHeight()},t.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||ct.hasGlobalWindow&&window.devicePixelRatio||1},t.prototype.getRenderedCanvas=function(e){return this.renderToCanvas(e)},t.prototype.renderToCanvas=function(e){return this._zr.painter.getRenderedCanvas({backgroundColor:(e=e||{}).backgroundColor||this._model.get("backgroundColor"),pixelRatio:e.pixelRatio||this.getDevicePixelRatio()})},t.prototype.renderToSVGString=function(e){return this._zr.painter.renderToString({useViewBox:(e=e||{}).useViewBox})},t.prototype.getSvgDataURL=function(){if(ct.svgSupported){var e=this._zr;return F(e.storage.getDisplayList(),function(i){i.stopAnimation(null,!0)}),e.painter.toDataURL()}},t.prototype.getDataURL=function(e){if(!this._disposed){var i=this._model,o=[],u=this;F((e=e||{}).excludeComponents,function(h){i.eachComponent({mainType:h},function(d){var p=u._componentsMap[d.__viewId];p.group.ignore||(o.push(p),p.group.ignore=!0)})});var c="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(e).toDataURL("image/"+(e&&e.type||"png"));return F(o,function(h){h.group.ignore=!1}),c}},t.prototype.getConnectedDataURL=function(e){if(!this._disposed){var r="svg"===e.type,i=this.group,o=Math.min,u=Math.max,c=1/0;if(fh[i]){var h=c,d=c,p=-c,g=-c,m=[],y=e&&e.pixelRatio||this.getDevicePixelRatio();F(Fl,function(M,I){if(M.group===i){var L=r?M.getZr().painter.getSvgDom().innerHTML:M.renderToCanvas(Te(e)),E=M.getDom().getBoundingClientRect();h=o(E.left,h),d=o(E.top,d),p=u(E.right,p),g=u(E.bottom,g),m.push({dom:L,left:E.left,top:E.top})}});var S=(p*=y)-(h*=y),b=(g*=y)-(d*=y),D=eo.createCanvas(),C=Ea(D,{renderer:r?"svg":"canvas"});if(C.resize({width:S,height:b}),r){var T="";return F(m,function(M){T+='<g transform="translate('+(M.left-h)+","+(M.top-d)+')">'+M.dom+"</g>"}),C.painter.getSvgRoot().innerHTML=T,e.connectedBackgroundColor&&C.painter.setBackgroundColor(e.connectedBackgroundColor),C.refreshImmediately(),C.painter.toDataURL()}return e.connectedBackgroundColor&&C.add(new st({shape:{x:0,y:0,width:S,height:b},style:{fill:e.connectedBackgroundColor}})),F(m,function(M){var I=new Zn({style:{x:M.left*y-h,y:M.top*y-d,image:M.dom}});C.add(I)}),C.refreshImmediately(),D.toDataURL("image/"+(e&&e.type||"png"))}return this.getDataURL(e)}},t.prototype.convertToPixel=function(e,r){return DD(this,"convertToPixel",e,r)},t.prototype.convertFromPixel=function(e,r){return DD(this,"convertFromPixel",e,r)},t.prototype.containPixel=function(e,r){var o;if(!this._disposed)return F(nl(this._model,e),function(c,h){h.indexOf("Models")>=0&&F(c,function(d){var p=d.coordinateSystem;if(p&&p.containPoint)o=o||!!p.containPoint(r);else if("seriesModels"===h){var g=this._chartsMap[d.__viewId];g&&g.containPoint&&(o=o||g.containPoint(r,d))}},this)},this),!!o},t.prototype.getVisual=function(e,r){var o=nl(this._model,e,{defaultMainType:"series"}),c=o.seriesModel.getData(),h=o.hasOwnProperty("dataIndexInside")?o.dataIndexInside:o.hasOwnProperty("dataIndex")?c.indexOfRawIndex(o.dataIndex):null;return null!=h?aD(c,h,r):Np(c,r)},t.prototype.getViewOfComponentModel=function(e){return this._componentsMap[e.__viewId]},t.prototype.getViewOfSeriesModel=function(e){return this._chartsMap[e.__viewId]},t.prototype._initEvents=function(){var e=this;F(UV,function(r){var i=function(o){var h,u=e.getModel(),c=o.target;if("globalout"===r?h={}:c&&Qu(c,function(S){var b=Oe(S);if(b&&null!=b.dataIndex){var D=b.dataModel||u.getSeriesByIndex(b.seriesIndex);return h=D&&D.getDataParams(b.dataIndex,b.dataType,c)||{},!0}if(b.eventData)return h=J({},b.eventData),!0},!0),h){var p=h.componentType,g=h.componentIndex;("markLine"===p||"markPoint"===p||"markArea"===p)&&(p="series",g=h.seriesIndex);var m=p&&null!=g&&u.getComponent(p,g),y=m&&e["series"===m.mainType?"_chartsMap":"_componentsMap"][m.__viewId];h.event=o,h.type=r,e._$eventProcessor.eventInfo={targetEl:c,packedEvent:h,model:m,view:y},e.trigger(r,h)}};i.zrEventfulCallAtLast=!0,e._zr.on(r,i,e)}),F($p,function(r,i){e._messageCenter.on(i,function(o){this.trigger(i,o)},e)}),F(["selectchanged"],function(r){e._messageCenter.on(r,function(i){this.trigger(r,i)},e)}),function _V(n,t,e){n.on("selectchanged",function(r){var i=e.getModel();r.isFromClick?(oh("map","selectchanged",t,i,r),oh("pie","selectchanged",t,i,r)):"select"===r.fromAction?(oh("map","selected",t,i,r),oh("pie","selected",t,i,r)):"unselect"===r.fromAction&&(oh("map","unselected",t,i,r),oh("pie","unselected",t,i,r))})}(this._messageCenter,this,this._api)},t.prototype.isDisposed=function(){return this._disposed},t.prototype.clear=function(){this._disposed||this.setOption({series:[]},!0)},t.prototype.dispose=function(){if(!this._disposed){this._disposed=!0,this.getDom()&&fw(this.getDom(),Zp,"");var r=this,i=r._api,o=r._model;F(r._componentsViews,function(u){u.dispose(o,i)}),F(r._chartsViews,function(u){u.dispose(o,i)}),r._zr.dispose(),r._dom=r._model=r._chartsMap=r._componentsMap=r._chartsViews=r._componentsViews=r._scheduler=r._api=r._zr=r._throttledZrFlush=r._theme=r._coordSysMgr=r._messageCenter=null,delete Fl[r.id]}},t.prototype.resize=function(e){if(!this[Xr]){if(this._disposed)return;this._zr.resize(e);var r=this._model;if(this._loadingFX&&this._loadingFX.resize(),r){var i=r.resetOption("media"),o=e&&e.silent;this[mi]&&(null==o&&(o=this[mi].silent),i=!0,this[mi]=null),this[Xr]=!0;try{i&&kl(this),Ss.update.call(this,{type:"resize",animation:J({duration:0},e&&e.animation)})}catch(u){throw this[Xr]=!1,u}this[Xr]=!1,nc.call(this,o),Up.call(this,o)}}},t.prototype.showLoading=function(e,r){if(!this._disposed&&(xe(e)&&(r=e,e=""),e=e||"default",this.hideLoading(),Yp[e])){var i=Yp[e](this._api,r),o=this._zr;this._loadingFX=i,o.add(i)}},t.prototype.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},t.prototype.makeActionFromEvent=function(e){var r=J({},e);return r.type=$p[e.type],r},t.prototype.dispatchAction=function(e,r){if(!this._disposed&&(xe(r)||(r={silent:!!r}),Wp[e.type]&&this._model)){if(this[Xr])return void this._pendingActions.push(e);var i=r.silent;xD.call(this,e,i);var o=r.flush;o?this._zr.flush():!1!==o&&ct.browser.weChat&&this._throttledZrFlush(),nc.call(this,i),Up.call(this,i)}},t.prototype.updateLabelLayout=function(){Ha.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},t.prototype.appendData=function(e){if(!this._disposed){var r=e.seriesIndex;this.getModel().getSeriesByIndex(r).appendData(e),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},t.internalField=function(){function e(g){g.clearColorPalette(),g.eachSeries(function(m){m.clearColorPalette()})}function i(g){for(var m=[],y=g.currentStates,S=0;S<y.length;S++){var b=y[S];"emphasis"===b||"blur"===b||"select"===b||m.push(b)}g.selected&&g.states.select&&m.push("select"),g.hoverState===Cm&&g.states.emphasis?m.push("emphasis"):g.hoverState===Ud&&g.states.blur&&m.push("blur"),g.useStates(m)}function c(g,m){if(!g.preventAutoZ){var y=g.get("z")||0,S=g.get("zlevel")||0;m.eachRendered(function(b){return h(b,y,S,-1/0),!0})}}function h(g,m,y,S){var b=g.getTextContent(),D=g.getTextGuideLine();if(g.isGroup)for(var T=g.childrenRef(),M=0;M<T.length;M++)S=Math.max(h(T[M],m,y,S),S);else g.z=m,g.zlevel=y,S=Math.max(g.z2,S);if(b&&(b.z=m,b.zlevel=y,isFinite(S)&&(b.z2=S+2)),D){var I=g.textGuideLineConfig;D.z=m,D.zlevel=y,isFinite(S)&&(D.z2=S+(I&&I.showAbove?1:-1))}return S}function d(g,m){m.eachRendered(function(y){if(!Lf(y)){var S=y.getTextContent(),b=y.getTextGuideLine();y.stateTransition&&(y.stateTransition=null),S&&S.stateTransition&&(S.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),y.hasState()?(y.prevStates=y.currentStates,y.clearStates()):y.prevStates&&(y.prevStates=null)}})}function p(g,m){var y=g.getModel("stateAnimation"),S=g.isAnimationEnabled(),b=y.get("duration"),D=b>0?{duration:b,delay:y.get("delay"),easing:y.get("easing")}:null;m.eachRendered(function(C){if(C.states&&C.states.emphasis){if(Lf(C))return;if(C instanceof Ze&&function ij(n){var t=mA(n);t.normalFill=n.style.fill,t.normalStroke=n.style.stroke;var e=n.states.select||{};t.selectFill=e.style&&e.style.fill||null,t.selectStroke=e.style&&e.style.stroke||null}(C),C.__dirty){var T=C.prevStates;T&&C.useStates(T)}if(S){C.stateTransition=D;var M=C.getTextContent(),I=C.getTextGuideLine();M&&(M.stateTransition=D),I&&(I.stateTransition=D)}C.__dirty&&i(C)}})}kl=function(g){var m=g._scheduler;m.restorePipelines(g._model),m.prepareStageTasks(),bD(g,!0),bD(g,!1),m.plan()},bD=function(g,m){for(var y=g._model,S=g._scheduler,b=m?g._componentsViews:g._chartsViews,D=m?g._componentsMap:g._chartsMap,C=g._zr,T=g._api,M=0;M<b.length;M++)b[M].__alive=!1;function I(E){var R=E.__requireNewView;E.__requireNewView=!1;var O="_ec_"+E.id+"_"+E.type,k=!R&&D[O];if(!k){var V=li(E.type);(k=new(m?wt.getClass(V.main,V.sub):Mt.getClass(V.sub))).init(y,T),D[O]=k,b.push(k),C.add(k.group)}E.__viewId=k.__id=O,k.__alive=!0,k.__model=E,k.group.__ecComponentInfo={mainType:E.mainType,index:E.componentIndex},!m&&S.prepareView(k,E,y,T)}for(m?y.eachComponent(function(E,R){"series"!==E&&I(R)}):y.eachSeries(I),M=0;M<b.length;){var L=b[M];L.__alive?M++:(!m&&L.renderTask.dispose(),C.remove(L.group),L.dispose(y,T),b.splice(M,1),D[L.__id]===L&&delete D[L.__id],L.__id=L.group.__ecComponentInfo=null)}},Gp=function(g,m,y,S,b){var D=g._model;if(D.setUpdatePayload(y),S){var C={};C[S+"Id"]=y[S+"Id"],C[S+"Index"]=y[S+"Index"],C[S+"Name"]=y[S+"Name"];var T={mainType:S,query:C};b&&(T.subType=b);var I,M=y.excludeSeriesId;null!=M&&(I=ve(),F(It(M),function(E){var R=rn(E,null);null!=R&&I.set(R,!0)})),D&&D.eachComponent(T,function(E){if(!I||null==I.get(E.id))if(iF(y))if(E instanceof Nt)y.type===Mu&&!y.notBlur&&!E.get(["emphasis","disabled"])&&function eF(n,t,e){var r=n.seriesIndex,i=n.getData(t.dataType);if(i){var o=po(i,t);o=(te(o)?o[0]:o)||0;var u=i.getItemGraphicEl(o);if(!u)for(var c=i.count(),h=0;!u&&h<c;)u=i.getItemGraphicEl(h++);if(u){var d=Oe(u);Uw(r,d.focus,d.blurScope,e)}else{var p=n.get(["emphasis","focus"]),g=n.get(["emphasis","blurScope"]);null!=p&&Uw(r,p,g,e)}}}(E,y,g._api);else{var O=Yd(E.mainType,E.componentIndex,y.name,g._api),V=O.dispatchers;y.type===Mu&&O.focusSelf&&!y.notBlur&&CA(E.mainType,E.componentIndex,g._api),V&&F(V,function(B){y.type===Mu?Jo(B):es(B)})}else AA(y)&&E instanceof Nt&&(function Em(n,t,e){if(AA(t)){var r=t.dataType,o=po(n.getData(r),t);te(o)||(o=[o]),n[t.type===La?"toggleSelect":t.type===Au?"select":"unselect"](o,r)}}(E,y),Pm(E),va(g))},g),D&&D.eachComponent(T,function(E){I&&null!=I.get(E.id)||L(g["series"===S?"_chartsMap":"_componentsMap"][E.__viewId])},g)}else F([].concat(g._componentsViews).concat(g._chartsViews),L);function L(E){E&&E.__alive&&E[m]&&E[m](E.__model,D,g._api,y)}},Ss={prepareAndUpdate:function(g){kl(this),Ss.update.call(this,g,{optionChanged:null!=g.newOption})},update:function(g,m){var y=this._model,S=this._api,b=this._zr,D=this._coordSysMgr,C=this._scheduler;if(y){y.setUpdatePayload(g),C.restoreData(y,g),C.performSeriesTasks(y),D.create(y,S),C.performDataProcessorTasks(y,g),CD(this,y),D.update(y,S),e(y),C.performVisualTasks(y,g),MD(this,y,S,g,m);var T=y.get("backgroundColor")||"transparent",M=y.get("darkMode");b.setBackgroundColor(T),null!=M&&"auto"!==M&&b.setDarkMode(M),Ha.trigger("afterupdate",y,S)}},updateTransform:function(g){var m=this,y=this._model,S=this._api;if(y){y.setUpdatePayload(g);var b=[];y.eachComponent(function(C,T){if("series"!==C){var M=m.getViewOfComponentModel(T);if(M&&M.__alive)if(M.updateTransform){var I=M.updateTransform(T,y,S,g);I&&I.update&&b.push(M)}else b.push(M)}});var D=ve();y.eachSeries(function(C){var T=m._chartsMap[C.__viewId];if(T.updateTransform){var M=T.updateTransform(C,y,S,g);M&&M.update&&D.set(C.uid,1)}else D.set(C.uid,1)}),e(y),this._scheduler.performVisualTasks(y,g,{setDirty:!0,dirtyMap:D}),Iy(this,y,S,g,{},D),Ha.trigger("afterupdate",y,S)}},updateView:function(g){var m=this._model;m&&(m.setUpdatePayload(g),Mt.markUpdateMethod(g,"updateView"),e(m),this._scheduler.performVisualTasks(m,g,{setDirty:!0}),MD(this,m,this._api,g,{}),Ha.trigger("afterupdate",m,this._api))},updateVisual:function(g){var m=this,y=this._model;y&&(y.setUpdatePayload(g),y.eachSeries(function(S){S.getData().clearAllVisual()}),Mt.markUpdateMethod(g,"updateVisual"),e(y),this._scheduler.performVisualTasks(y,g,{visualType:"visual",setDirty:!0}),y.eachComponent(function(S,b){if("series"!==S){var D=m.getViewOfComponentModel(b);D&&D.__alive&&D.updateVisual(b,y,m._api,g)}}),y.eachSeries(function(S){m._chartsMap[S.__viewId].updateVisual(S,y,m._api,g)}),Ha.trigger("afterupdate",y,this._api))},updateLayout:function(g){Ss.update.call(this,g)}},DD=function(g,m,y,S){if(!g._disposed)for(var C,b=g._model,D=g._coordSysMgr.getCoordinateSystems(),T=nl(b,y),M=0;M<D.length;M++){var I=D[M];if(I[m]&&null!=(C=I[m](b,T,S)))return C}},CD=function(g,m){var y=g._chartsMap,S=g._scheduler;m.eachSeries(function(b){S.updateStreamModes(b,y[b.__viewId])})},xD=function(g,m){var y=this,S=this.getModel(),b=g.type,D=g.escapeConnect,C=Wp[b],T=C.actionInfo,M=(T.update||"update").split(":"),I=M.pop(),L=null!=M[0]&&li(M[0]);this[Xr]=!0;var E=[g],R=!1;g.batch&&(R=!0,E=re(g.batch,function(j){return(j=De(J({},j),g)).batch=null,j}));var k,O=[],V=AA(g),B=iF(g);if(B&&DA(this._api),F(E,function(j){if((k=(k=C.action(j,y._model,y._api))||J({},j)).type=T.event||k.type,O.push(k),B){var W=Nd(g),X=W.mainTypeSpecified?W.queryOptionMap.keys()[0]:"series";Gp(y,I,j,X),va(y)}else V?(Gp(y,I,j,"series"),va(y)):L&&Gp(y,I,j,L.main,L.sub)}),"none"!==I&&!B&&!V&&!L)try{this[mi]?(kl(this),Ss.update.call(this,g),this[mi]=null):Ss[I].call(this,g)}catch(j){throw this[Xr]=!1,j}if(k=R?{type:T.event||b,escapeConnect:D,batch:O}:O[0],this[Xr]=!1,!m){var H=this._messageCenter;if(H.trigger(k.type,k),V){var G={type:"selectchanged",escapeConnect:D,selected:xA(S),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};H.trigger(G.type,G)}}},nc=function(g){for(var m=this._pendingActions;m.length;){var y=m.shift();xD.call(this,y,g)}},Up=function(g){!g&&this.trigger("updated")},TD=function(g,m){g.on("rendered",function(y){m.trigger("rendered",y),g.animation.isFinished()&&!m[mi]&&!m._scheduler.unfinished&&!m._pendingActions.length&&m.trigger("finished")})},QE=function(g,m){g.on("mouseover",function(y){var b=Qu(y.target,oa);b&&(function tF(n,t,e){var r=Oe(n),i=Yd(r.componentMainType,r.componentIndex,r.componentHighDownName,e),o=i.dispatchers;o?(i.focusSelf&&CA(r.componentMainType,r.componentIndex,e),F(o,function(c){return Hw(c,t)})):(Uw(r.seriesIndex,r.focus,r.blurScope,e),"self"===r.focus&&CA(r.componentMainType,r.componentIndex,e),Hw(n,t))}(b,y,m._api),va(m))}).on("mouseout",function(y){var b=Qu(y.target,oa);b&&(function Pf(n,t,e){DA(e);var r=Oe(n),i=Yd(r.componentMainType,r.componentIndex,r.componentHighDownName,e).dispatchers;i?F(i,function(o){return bA(o,t)}):bA(n,t)}(b,y,m._api),va(m))}).on("click",function(y){var b=Qu(y.target,function(T){return null!=Oe(T).dataIndex},!0);if(b){var D=b.selected?"unselect":"select",C=Oe(b);m._api.dispatchAction({type:D,dataType:C.dataType,dataIndexInside:C.dataIndex,seriesIndex:C.seriesIndex,isFromClick:!0})}})},MD=function(g,m,y,S,b){(function r(g){var m=[],y=[],S=!1;if(g.eachComponent(function(T,M){var I=M.get("zlevel")||0,L=M.get("z")||0,E=M.getZLevelKey();S=S||!!E,("series"===T?y:m).push({zlevel:I,z:L,idx:M.componentIndex,type:T,key:E})}),S){var D,C,b=m.concat(y);Bg(b,function(T,M){return T.zlevel===M.zlevel?T.z-M.z:T.zlevel-M.zlevel}),F(b,function(T){var M=g.getComponent(T.type,T.idx),I=T.zlevel,L=T.key;null!=D&&(I=Math.max(D,I)),L?(I===D&&L!==C&&I++,C=L):C&&(I===D&&I++,C=""),D=I,M.setZLevel(I)})}})(m),JE(g,m,y,S,b),F(g._chartsViews,function(D){D.__alive=!1}),Iy(g,m,y,S,b),F(g._chartsViews,function(D){D.__alive||D.remove(m,y)})},JE=function(g,m,y,S,b,D){F(D||g._componentsViews,function(C){var T=C.__model;d(0,C),C.render(T,m,y,S),c(T,C),p(T,C)})},Iy=function(g,m,y,S,b,D){var C=g._scheduler;b=J(b||{},{updatedSeries:m.getSeries()}),Ha.trigger("series:beforeupdate",m,y,b);var T=!1;m.eachSeries(function(M){var I=g._chartsMap[M.__viewId];I.__alive=!0;var L=I.renderTask;C.updatePayload(L,S),d(0,I),D&&D.get(M.uid)&&L.dirty(),L.perform(C.getPerformArgs(L))&&(T=!0),I.group.silent=!!M.get("silent"),function u(g,m){var y=g.get("blendMode")||null;m.eachRendered(function(S){S.isGroup||(S.style.blend=y)})}(M,I),Pm(M)}),C.unfinished=T||C.unfinished,Ha.trigger("series:layoutlabels",m,y,b),Ha.trigger("series:transition",m,y,b),m.eachSeries(function(M){var I=g._chartsMap[M.__viewId];c(M,I),p(M,I)}),function o(g,m){var b=0;g._zr.storage.traverse(function(D){D.isGroup||b++}),b>m.get("hoverLayerThreshold")&&!ct.node&&!ct.worker&&m.eachSeries(function(D){if(!D.preventUsingHoverLayer){var C=g._chartsMap[D.__viewId];C.__alive&&C.eachRendered(function(T){T.states.emphasis&&(T.states.emphasis.hoverLayer=!0)})}})}(g,m),Ha.trigger("series:afterupdate",m,y,b)},va=function(g){g[Ay]=!0,g.getZr().wakeUp()},nP=function(g){g[Ay]&&(g.getZr().storage.traverse(function(m){Lf(m)||i(m)}),g[Ay]=!1)},eP=function(g){return new(function(m){function y(){return null!==m&&m.apply(this,arguments)||this}return q(y,m),y.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},y.prototype.getComponentByElement=function(S){for(;S;){var b=S.__ecComponentInfo;if(null!=b)return g._model.getComponent(b.mainType,b.index);S=S.parent}},y.prototype.enterEmphasis=function(S,b){Jo(S,b),va(g)},y.prototype.leaveEmphasis=function(S,b){es(S,b),va(g)},y.prototype.enterBlur=function(S){Gw(S),va(g)},y.prototype.leaveBlur=function(S){Am(S),va(g)},y.prototype.enterSelect=function(S){$d(S),va(g)},y.prototype.leaveSelect=function(S){Im(S),va(g)},y.prototype.getModel=function(){return g.getModel()},y.prototype.getViewOfComponentModel=function(S){return g.getViewOfComponentModel(S)},y.prototype.getViewOfSeriesModel=function(S){return g.getViewOfSeriesModel(S)},y}(nI))(g)},tP=function(g){function m(y,S){for(var b=0;b<y.length;b++)y[b][_D]=S}F($p,function(y,S){g._messageCenter.on(S,function(b){if(fh[g.group]&&0!==g[_D]){if(b&&b.escapeConnect)return;var D=g.makeActionFromEvent(b),C=[];F(Fl,function(T){T!==g&&T.group===g.group&&C.push(T)}),m(C,0),F(C,function(T){1!==T[_D]&&T.dispatchAction(D)}),m(C,2)}})})}}(),t}($i),Ey=jp.prototype;Ey.on=qE("on"),Ey.off=qE("off"),Ey.one=function(n,t,e){var r=this;this.on.call(this,n,function i(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];t&&t.apply&&t.apply(this,o),r.off(n,i)},e)};var UV=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"],Wp={},$p={},AD=[],ID=[],Py=[],Ly={},Yp={},Fl={},fh={},jV=+new Date-0,WV=+new Date-0,Zp="_echarts_instance_";function $V(n,t,e){var r=!(e&&e.ssr);if(r){var i=iP(n);if(i)return i}var o=new jp(n,t,e);return o.id="ec_"+jV++,Fl[o.id]=o,r&&fw(n,Zp,o.id),tP(o),Ha.trigger("afterinit",o),o}function an(n){if(te(n)){var t=n;n=null,F(t,function(e){null!=e.group&&(n=e.group)}),n=n||"g_"+WV++,F(t,function(e){e.group=n})}return fh[n]=!0,n}function Vl(n){fh[n]=!1}var rP=Vl;function YV(n){fe(n)?n=Fl[n]:n instanceof jp||(n=iP(n)),n instanceof jp&&!n.isDisposed()&&n.dispose()}function iP(n){return Fl[function zM(n,t){return n.getAttribute?n.getAttribute(t):n[t]}(n,Zp)]}function ED(n){return Fl[n]}function qp(n,t){Ly[n]=t}function PD(n){Ge(ID,n)<0&&ID.push(n)}function Ry(n,t){ND(AD,n,t,Ij)}function Ny(n){Xp("afterinit",n)}function aP(n){Xp("afterupdate",n)}function Xp(n,t){Ha.on(n,t)}function Fi(n,t,e){_e(t)&&(e=t,t="");var r=xe(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase(),!$p[t=n.event]&&(Jn(YE.test(r)&&YE.test(t)),Wp[r]||(Wp[r]={action:e,actionInfo:n}),$p[t]=r)}function LD(n,t){zf.register(n,t)}function oP(n){var t=zf.get(n);if(t)return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()}function RD(n,t){ND(Py,n,t,VV,"layout")}function ws(n,t){ND(Py,n,t,jE,"visual")}var sP=[];function ND(n,t,e,r,i){if((_e(t)||xe(t))&&(e=t,t=r),!(Ge(sP,e)>=0)){sP.push(e);var o=ki.wrapStageHandler(e,i);o.__prio=t,o.__raw=e,n.push(o)}}function OD(n,t){Yp[n]=t}function ZV(n){Q2({createCanvas:n})}function kD(n,t,e){var r=yD("registerMap");r&&r(n,t,e)}function Lj(n){var t=yD("getMap");return t&&t(n)}var FD=function fs(n){var t=(n=Te(n)).type;t||St("");var r=t.split(":");2!==r.length&&St("");var i=!1;"echarts"===r[0]&&(t=r[1],i=!0),n.__isBuiltIn=i,iy.set(t,n)};ws(2e3,fV),ws(4500,Ba),ws(4500,za),ws(2e3,wE),ws(4500,bE),ws(7e3,function Bp(n,t){n.eachRawSeries(function(e){if(!n.isSeriesFiltered(e)){var r=e.getData();r.hasItemVisual()&&r.each(function(u){var c=r.getItemVisual(u,"decal");c&&(r.ensureUniqueItemVisual(u,"style").decal=_s(c,t))});var i=r.getVisual("decal");i&&(r.getVisual("style").decal=_s(i,t))}})}),PD(uI),Ry(900,function cI(n){var t=ve();n.eachSeries(function(e){var r=e.get("stack");if(r){var i=t.get(r)||t.set(r,[]),o=e.getData(),u={stackResultDimension:o.getCalculationInfo("stackResultDimension"),stackedOverDimension:o.getCalculationInfo("stackedOverDimension"),stackedDimension:o.getCalculationInfo("stackedDimension"),stackedByDimension:o.getCalculationInfo("stackedByDimension"),isStackedByIndex:o.getCalculationInfo("isStackedByIndex"),data:o,seriesModel:e};if(!u.stackedDimension||!u.isStackedByIndex&&!u.stackedByDimension)return;i.length&&o.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(u)}}),t.each(fI)}),OD("default",function vE(n,t){De(t=t||{},{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var e=new Ee,r=new st({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4});e.add(r);var u,i=new rt({style:{text:t.text,fill:t.textColor,fontSize:t.fontSize,fontWeight:t.fontWeight,fontStyle:t.fontStyle,fontFamily:t.fontFamily},zlevel:t.zlevel,z:10001}),o=new st({style:{fill:"none"},textContent:i,textConfig:{position:"right",distance:10},zlevel:t.zlevel,z:10001});return e.add(o),t.showSpinner&&((u=new En({shape:{startAngle:-Pp/2,endAngle:-Pp/2+.1,r:t.spinnerRadius},style:{stroke:t.color,lineCap:"round",lineWidth:t.lineWidth},zlevel:t.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Pp/2}).start("circularInOut"),u.animateShape(!0).when(1e3,{startAngle:3*Pp/2}).delay(300).start("circularInOut"),e.add(u)),e.resize=function(){var c=i.getBoundingRect().width,h=t.showSpinner?t.spinnerRadius:0,d=(n.getWidth()-2*h-(t.showSpinner&&c?10:0)-c)/2-(t.showSpinner&&c?0:5+c/2)+(t.showSpinner?0:c/2)+(c?0:h),p=n.getHeight()/2;t.showSpinner&&u.setShape({cx:d,cy:p}),o.setShape({x:d-h,y:p-h,width:2*h,height:2*h}),r.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},e.resize(),e}),Fi({type:Mu,event:Mu,update:Mu},ht),Fi({type:xm,event:xm,update:xm},ht),Fi({type:Au,event:Au,update:Au},ht),Fi({type:jd,event:jd,update:jd},ht),Fi({type:La,event:La,update:La},ht),qp("light",yV),qp("dark",_E);var qV={},lP=[],Rj={registerPreprocessor:PD,registerProcessor:Ry,registerPostInit:Ny,registerPostUpdate:aP,registerUpdateLifecycle:Xp,registerAction:Fi,registerCoordinateSystem:LD,registerLayout:RD,registerVisual:ws,registerTransform:FD,registerLoading:OD,registerMap:kD,registerImpl:function zE(n,t){BE[n]=t},PRIORITY:$E,ComponentModel:at,ComponentView:wt,SeriesModel:Nt,ChartView:Mt,registerComponentModel:function(n){at.registerClass(n)},registerComponentView:function(n){wt.registerClass(n)},registerSeriesModel:function(n){Nt.registerClass(n)},registerChartView:function(n){Mt.registerClass(n)},registerSubTypeDefaulter:function(n,t){at.registerSubTypeDefaulter(n,t)},registerPainter:function(n,t){LM(n,t)}};function $e(n){te(n)?F(n,function(t){$e(t)}):Ge(lP,n)>=0||(lP.push(n),_e(n)&&(n={install:n}),n.install(Rj))}function Kp(n){return null==n?0:n.length||1}function uP(n){return n}var XV=function(){function n(t,e,r,i,o,u){this._old=t,this._new=e,this._oldKeyGetter=r||uP,this._newKeyGetter=i||uP,this.context=o,this._diffModeMultiple="multiple"===u}return n.prototype.add=function(t){return this._add=t,this},n.prototype.update=function(t){return this._update=t,this},n.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},n.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},n.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},n.prototype.remove=function(t){return this._remove=t,this},n.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},n.prototype._executeOneToOne=function(){var t=this._old,e=this._new,r={},i=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,i,"_oldKeyGetter"),this._initIndexMap(e,r,o,"_newKeyGetter");for(var u=0;u<t.length;u++){var c=i[u],h=r[c],d=Kp(h);if(d>1){var p=h.shift();1===h.length&&(r[c]=h[0]),this._update&&this._update(p,u)}else 1===d?(r[c]=null,this._update&&this._update(h,u)):this._remove&&this._remove(u)}this._performRestAdd(o,r)},n.prototype._executeMultiple=function(){var e=this._new,r={},i={},o=[],u=[];this._initIndexMap(this._old,r,o,"_oldKeyGetter"),this._initIndexMap(e,i,u,"_newKeyGetter");for(var c=0;c<o.length;c++){var h=o[c],d=r[h],p=i[h],g=Kp(d),m=Kp(p);if(g>1&&1===m)this._updateManyToOne&&this._updateManyToOne(p,d),i[h]=null;else if(1===g&&m>1)this._updateOneToMany&&this._updateOneToMany(p,d),i[h]=null;else if(1===g&&1===m)this._update&&this._update(p,d),i[h]=null;else if(g>1&&m>1)this._updateManyToMany&&this._updateManyToMany(p,d),i[h]=null;else if(g>1)for(var y=0;y<g;y++)this._remove&&this._remove(d[y]);else this._remove&&this._remove(d)}this._performRestAdd(u,i)},n.prototype._performRestAdd=function(t,e){for(var r=0;r<t.length;r++){var i=t[r],o=e[i],u=Kp(o);if(u>1)for(var c=0;c<u;c++)this._add&&this._add(o[c]);else 1===u&&this._add&&this._add(o);e[i]=null}},n.prototype._initIndexMap=function(t,e,r,i){for(var o=this._diffModeMultiple,u=0;u<t.length;u++){var c="_ec_"+this[i](t[u],u);if(o||(r[u]=c),e){var h=e[c],d=Kp(h);0===d?(e[c]=u,o&&r.push(c)):1===d?e[c]=[h,u]:h.push(u)}}},n}();const bs=XV;var KV=function(){function n(t,e){this._encode=t,this._schema=e}return n.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},n.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},n}();function VD(n,t){return n.hasOwnProperty(t)||(n[t]=[]),n[t]}function Oy(n){return"category"===n?"ordinal":"time"===n?"time":"float"}const ky=function n(t){this.otherDims={},null!=t&&J(this,t)};var Qp=ot(),cP={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},BD=function(){function n(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return n.prototype.isDimensionOmitted=function(){return this._dimOmitted},n.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=GD(this.source)))},n.prototype.getSourceDimensionIndex=function(t){return ke(this._dimNameMap.get(t),-1)},n.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},n.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=db(this.source),r=!fP(t),i="",o=[],u=0,c=0;u<t;u++){var h=void 0,d=void 0,p=void 0,g=this.dimensions[c];if(g&&g.storeDimIndex===u)h=e?g.name:null,d=g.type,p=g.ordinalMeta,c++;else{var m=this.getSourceDimension(u);m&&(h=e?m.name:null,d=m.type)}o.push({property:h,type:d,ordinalMeta:p}),e&&null!=h&&(!g||!g.isCalculationCoord)&&(i+=r?h.replace(/\`/g,"`1").replace(/\$/g,"`2"):h),i+="$",i+=cP[d]||"f",p&&(i+=p.uid),i+="$"}var y=this.source;return{dimensions:o,hash:[y.seriesLayoutBy,y.startIndex,i].join("$$")}},n.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,r=0;e<this._fullDimCount;e++){var i=void 0,o=this.dimensions[r];if(o&&o.storeDimIndex===e)o.isCalculationCoord||(i=o.name),r++;else{var u=this.getSourceDimension(e);u&&(i=u.name)}t.push(i)}return t},n.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},n}();function zD(n){return n instanceof BD}function HD(n){for(var t=ve(),e=0;e<(n||[]).length;e++){var r=n[e],i=xe(r)?r.name:r;null!=i&&null==t.get(i)&&t.set(i,e)}return t}function GD(n){var t=Qp(n);return t.dimNameMap||(t.dimNameMap=HD(n.dimensionsDefine))}function fP(n){return n>30}var dP,Bl,ev,ic,UD,jD,WD,Jp=xe,rc=re,Nj=typeof Int32Array>"u"?Array:Int32Array,nB=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],rB=["_approximateExtent"],Oj=function(){function n(t,e){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var r,i=!1;zD(t)?(r=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,r=t),r=r||["x","y"];for(var o={},u=[],c={},h=!1,d={},p=0;p<r.length;p++){var g=r[p],m=fe(g)?new ky({name:g}):g instanceof ky?g:new ky(g),y=m.name;m.type=m.type||"float",m.coordDim||(m.coordDim=y,m.coordDimIndex=0);var S=m.otherDims=m.otherDims||{};u.push(y),o[y]=m,null!=d[y]&&(h=!0),m.createInvertedIndices&&(c[y]=[]),0===S.itemName&&(this._nameDimIdx=p),0===S.itemId&&(this._idDimIdx=p),i&&(m.storeDimIndex=p)}if(this.dimensions=u,this._dimInfos=o,this._initGetDimensionInfo(h),this.hostModel=e,this._invertedIndicesMap=c,this._dimOmitted){var b=this._dimIdxToName=ve();F(u,function(D){b.set(o[D].storeDimIndex,D)})}}return n.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var r=this._dimIdxToName.get(e);if(null!=r)return r;var i=this._schema.getSourceDimension(e);return i?i.name:void 0},n.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var r=this._getDimInfo(t);return r?r.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},n.prototype._recognizeDimIndex=function(t){if(ft(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},n.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},n.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},n.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(r){return e.hasOwnProperty(r)?e[r]:void 0}:function(r){return e[r]}},n.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},n.prototype.mapDimension=function(t,e){var r=this._dimSummary;if(null==e)return r.encodeFirstDimNotExtra[t];var i=r.encode[t];return i?i[e]:null},n.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},n.prototype.getStore=function(){return this._store},n.prototype.initData=function(t,e,r){var o,i=this;if(t instanceof Ab&&(o=t),!o){var u=this.dimensions,c=Tr(t)||Kn(t)?new pI(t,u.length):t;o=new Ab;var h=rc(u,function(d){return{type:i._dimInfos[d].type,property:d}});o.initData(c,h,r)}this._store=o,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,o.count()),this._dimSummary=function QV(n,t){var e={},r=e.encode={},i=ve(),o=[],u=[],c={};F(n.dimensions,function(m){var y=n.getDimensionInfo(m),S=y.coordDim;if(S){var b=y.coordDimIndex;VD(r,S)[b]=m,y.isExtraCoord||(i.set(S,1),function JV(n){return!("ordinal"===n||"time"===n)}(y.type)&&(o[0]=m),VD(c,S)[b]=n.getDimensionIndex(y.name)),y.defaultTooltip&&u.push(m)}$A.each(function(D,C){var T=VD(r,C),M=y.otherDims[C];null!=M&&!1!==M&&(T[M]=y.name)})});var h=[],d={};i.each(function(m,y){var S=r[y];d[y]=S[0],h=h.concat(S)}),e.dataDimsOnCoord=h,e.dataDimIndicesOnCoord=re(h,function(m){return n.getDimensionInfo(m).storeDimIndex}),e.encodeFirstDimNotExtra=d;var p=r.label;p&&p.length&&(o=p.slice());var g=r.tooltip;return g&&g.length?u=g.slice():u.length||(u=o.slice()),r.defaultedLabel=o,r.defaultedTooltip=u,e.userOutput=new KV(c,t),e}(this,this._schema),this.userOutput=this._dimSummary.userOutput},n.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},n.prototype.appendValues=function(t,e){var r=this._store.appendValues(t,e.length),i=r.start,o=r.end,u=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var c=i;c<o;c++)this._nameList[c]=e[c-i],u&&WD(this,c)},n.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,r=0;r<e.length;r++){var i=this._dimInfos[e[r]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},n.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==cr&&!t.fillStorage},n.prototype._doInit=function(t,e){if(!(t>=e)){var i=this._store.getProvider();this._updateOrdinalMeta();var o=this._nameList,u=this._idList;if(i.getSource().sourceFormat===ur&&!i.pure)for(var d=[],p=t;p<e;p++){var g=i.getItem(p,d);if(!this.hasItemOption&&QU(g)&&(this.hasItemOption=!0),g){var m=g.name;null==o[p]&&null!=m&&(o[p]=rn(m,null));var y=g.id;null==u[p]&&null!=y&&(u[p]=rn(y,null))}}if(this._shouldMakeIdFromName())for(p=t;p<e;p++)WD(this,p);dP(this)}},n.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},n.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},n.prototype.setCalculationInfo=function(t,e){Jp(t)?J(this._calculationInfo,t):this._calculationInfo[t]=e},n.prototype.getName=function(t){var e=this.getRawIndex(t),r=this._nameList[e];return null==r&&null!=this._nameDimIdx&&(r=ev(this,this._nameDimIdx,e)),null==r&&(r=""),r},n.prototype._getCategory=function(t,e){var r=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[r]:r},n.prototype.getId=function(t){return Bl(this,this.getRawIndex(t))},n.prototype.count=function(){return this._store.count()},n.prototype.get=function(t,e){var i=this._dimInfos[t];if(i)return this._store.get(i.storeDimIndex,e)},n.prototype.getByRawIndex=function(t,e){var i=this._dimInfos[t];if(i)return this._store.getByRawIndex(i.storeDimIndex,e)},n.prototype.getIndices=function(){return this._store.getIndices()},n.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},n.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},n.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},n.prototype.getValues=function(t,e){var r=this,i=this._store;return te(t)?i.getValues(rc(t,function(o){return r._getStoreDimIndex(o)}),e):i.getValues(t)},n.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,r=0,i=e.length;r<i;r++)if(isNaN(this._store.get(e[r],t)))return!1;return!0},n.prototype.indexOfName=function(t){for(var e=0,r=this._store.count();e<r;e++)if(this.getName(e)===t)return e;return-1},n.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},n.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},n.prototype.rawIndexOf=function(t,e){var i=(t&&this._invertedIndicesMap[t])[e];return null==i||isNaN(i)?-1:i},n.prototype.indicesOfNearest=function(t,e,r){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,r)},n.prototype.each=function(t,e,r){_e(t)&&(r=e,e=t,t=[]);var i=r||this,o=rc(ic(t),this._getStoreDimIndex,this);this._store.each(o,i?de(e,i):e)},n.prototype.filterSelf=function(t,e,r){_e(t)&&(r=e,e=t,t=[]);var i=r||this,o=rc(ic(t),this._getStoreDimIndex,this);return this._store=this._store.filter(o,i?de(e,i):e),this},n.prototype.selectRange=function(t){var e=this,r={},i=Xe(t),o=[];return F(i,function(u){var c=e._getStoreDimIndex(u);r[c]=t[u],o.push(c)}),this._store=this._store.selectRange(r),this},n.prototype.mapArray=function(t,e,r){_e(t)&&(r=e,e=t,t=[]);var i=[];return this.each(t,function(){i.push(e&&e.apply(this,arguments))},r=r||this),i},n.prototype.map=function(t,e,r,i){var o=r||i||this,u=rc(ic(t),this._getStoreDimIndex,this),c=jD(this);return c._store=this._store.map(u,o?de(e,o):e),c},n.prototype.modify=function(t,e,r,i){var u=r||i||this,c=rc(ic(t),this._getStoreDimIndex,this);this._store.modify(c,u?de(e,u):e)},n.prototype.downSample=function(t,e,r,i){var o=jD(this);return o._store=this._store.downSample(this._getStoreDimIndex(t),e,r,i),o},n.prototype.lttbDownSample=function(t,e){var r=jD(this);return r._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),r},n.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},n.prototype.getItemModel=function(t){var e=this.hostModel,r=this.getRawDataItem(t);return new Rt(r,e,e&&e.ecModel)},n.prototype.diff=function(t){var e=this;return new bs(t?t.getStore().getIndices():[],this.getStore().getIndices(),function(r){return Bl(t,r)},function(r){return Bl(e,r)})},n.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},n.prototype.setVisual=function(t,e){this._visual=this._visual||{},Jp(t)?J(this._visual,t):this._visual[t]=e},n.prototype.getItemVisual=function(t,e){var r=this._itemVisuals[t];return(r&&r[e])??this.getVisual(e)},n.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},n.prototype.ensureUniqueItemVisual=function(t,e){var r=this._itemVisuals,i=r[t];i||(i=r[t]={});var o=i[e];return null==o&&(te(o=this.getVisual(e))?o=o.slice():Jp(o)&&(o=J({},o)),i[e]=o),o},n.prototype.setItemVisual=function(t,e,r){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,Jp(e)?J(i,e):i[e]=r},n.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},n.prototype.setLayout=function(t,e){Jp(t)?J(this._layout,t):this._layout[t]=e},n.prototype.getLayout=function(t){return this._layout[t]},n.prototype.getItemLayout=function(t){return this._itemLayouts[t]},n.prototype.setItemLayout=function(t,e,r){this._itemLayouts[t]=r?J(this._itemLayouts[t]||{},e):e},n.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},n.prototype.setItemGraphicEl=function(t,e){Hd(this.hostModel&&this.hostModel.seriesIndex,this.dataType,t,e),this._graphicEls[t]=e},n.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},n.prototype.eachItemGraphicEl=function(t,e){F(this._graphicEls,function(r,i){r&&t&&t.call(e,r,i)})},n.prototype.cloneShallow=function(t){return t||(t=new n(this._schema?this._schema:rc(this.dimensions,this._getDimInfo,this),this.hostModel)),UD(t,this),t._store=this._store,t},n.prototype.wrapMethod=function(t,e){var r=this[t];_e(r)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var i=r.apply(this,arguments);return e.apply(this,[i].concat(iS(arguments)))})},n.internalField=(dP=function(t){var e=t._invertedIndicesMap;F(e,function(r,i){var o=t._dimInfos[i],u=o.ordinalMeta,c=t._store;if(u){r=e[i]=new Nj(u.categories.length);for(var h=0;h<r.length;h++)r[h]=-1;for(h=0;h<c.count();h++)r[c.get(o.storeDimIndex,h)]=h}})},ev=function(t,e,r){return rn(t._getCategory(e,r),null)},Bl=function(t,e){var r=t._idList[e];return null==r&&null!=t._idDimIdx&&(r=ev(t,t._idDimIdx,e)),null==r&&(r="e\0\0"+e),r},ic=function(t){return te(t)||(t=null!=t?[t]:[]),t},jD=function(t){var e=new n(t._schema?t._schema:rc(t.dimensions,t._getDimInfo,t),t.hostModel);return UD(e,t),e},UD=function(t,e){F(nB.concat(e.__wrappedMethods||[]),function(r){e.hasOwnProperty(r)&&(t[r]=e[r])}),t.__wrappedMethods=e.__wrappedMethods,F(rB,function(r){t[r]=Te(e[r])}),t._calculationInfo=J({},e._calculationInfo)},void(WD=function(t,e){var r=t._nameList,i=t._idList,o=t._nameDimIdx,u=t._idDimIdx,c=r[e],h=i[e];if(null==c&&null!=o&&(r[e]=c=ev(t,o,e)),null==h&&null!=u&&(i[e]=h=ev(t,u,e)),null==h&&null!=c){var d=t._nameRepeatCount,p=d[c]=(d[c]||0)+1;h=c,p>1&&(h+="__ec__"+p),i[e]=h}})),n}();const on=Oj;function iB(n,t){return hh(n,t).dimensions}function hh(n,t){Tr(n)||(n=se(n));var e=(t=t||{}).coordDimensions||[],r=t.dimensionsDefine||n.dimensionsDefine||[],i=ve(),o=[],u=function Fy(n,t,e,r){var i=Math.max(n.dimensionsDetectedCount||1,t.length,e.length,r||0);return F(t,function(o){var u;xe(o)&&(u=o.dimsDef)&&(i=Math.max(i,u.length))}),i}(n,e,r,t.dimensionsCount),c=t.canOmitUnusedDimensions&&fP(u),h=r===n.dimensionsDefine,d=h?GD(n):HD(r),p=t.encodeDefine;!p&&t.encodeDefaulter&&(p=t.encodeDefaulter(n,u));for(var g=ve(p),m=new pp(u),y=0;y<m.length;y++)m[y]=-1;function S(k){var V=m[k];if(V<0){var B=r[k],H=xe(B)?B:{name:B},G=new ky,j=H.name;return null!=j&&null!=d.get(j)&&(G.name=G.displayName=j),null!=H.type&&(G.type=H.type),null!=H.displayName&&(G.displayName=H.displayName),m[k]=o.length,G.storeDimIndex=k,o.push(G),G}return o[V]}if(!c)for(y=0;y<u;y++)S(y);g.each(function(k,V){var B=It(k).slice();if(1===B.length&&!fe(B[0])&&B[0]<0)g.set(V,!1);else{var H=g.set(V,[]);F(B,function(G,j){var W=fe(G)?d.get(G):G;null!=W&&W<u&&(H[j]=W,D(S(W),V,j))})}});var b=0;function D(k,V,B){null!=$A.get(V)?k.otherDims[V]=B:(k.coordDim=V,k.coordDimIndex=B,i.set(V,!0))}F(e,function(k){var V,B,H,G;if(fe(k))V=k,G={};else{V=(G=k).name;var j=G.ordinalMeta;G.ordinalMeta=null,(G=J({},G)).ordinalMeta=j,B=G.dimsDef,H=G.otherDims,G.name=G.coordDim=G.coordDimIndex=G.dimsDef=G.otherDims=null}var W=g.get(V);if(!1!==W){if(!(W=It(W)).length)for(var Y=0;Y<(B&&B.length||1);Y++){for(;b<u&&null!=S(b).coordDim;)b++;b<u&&W.push(b++)}F(W,function(K,X){var ee=S(K);if(h&&null!=G.type&&(ee.type=G.type),D(De(ee,G),V,X),null==ee.name&&B){var oe=B[X];!xe(oe)&&(oe={name:oe}),ee.name=ee.displayName=oe.name,ee.defaultTooltip=oe.defaultTooltip}H&&De(ee.otherDims,H)})}});var C=t.generateCoord,T=t.generateCoordCount,M=null!=T;T=C?T||1:0;var I=C||"value";function L(k){null==k.name&&(k.name=k.coordDim)}if(c)F(o,function(k){L(k)}),o.sort(function(k,V){return k.storeDimIndex-V.storeDimIndex});else for(var E=0;E<u;E++){var R=S(E);null==R.coordDim&&(R.coordDim=pP(I,i,M),R.coordDimIndex=0,(!C||T<=0)&&(R.isExtraCoord=!0),T--),L(R),null==R.type&&(sb(n,E)===fr.Must||R.isExtraCoord&&(null!=R.otherDims.itemName||null!=R.otherDims.seriesName))&&(R.type="ordinal")}return function aB(n){for(var t=ve(),e=0;e<n.length;e++){var r=n[e],i=r.name,o=t.get(i)||0;o>0&&(r.name=i+(o-1)),o++,t.set(i,o)}}(o),new BD({source:n,dimensions:o,fullDimensionCount:u,dimensionOmitted:c})}function pP(n,t,e){if(e||t.hasKey(n)){for(var r=0;t.hasKey(n+r);)r++;n+=r}return t.set(n,!0),n}var oB=function n(t){this.coordSysDims=[],this.axisMap=ve(),this.categoryAxisMap=ve(),this.coordSysName=t},Vy={cartesian2d:function(n,t,e,r){var i=n.getReferringComponents("xAxis",Mn).models[0],o=n.getReferringComponents("yAxis",Mn).models[0];t.coordSysDims=["x","y"],e.set("x",i),e.set("y",o),dh(i)&&(r.set("x",i),t.firstCategoryDimIndex=0),dh(o)&&(r.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(n,t,e,r){var i=n.getReferringComponents("singleAxis",Mn).models[0];t.coordSysDims=["single"],e.set("single",i),dh(i)&&(r.set("single",i),t.firstCategoryDimIndex=0)},polar:function(n,t,e,r){var i=n.getReferringComponents("polar",Mn).models[0],o=i.findAxisModel("radiusAxis"),u=i.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],e.set("radius",o),e.set("angle",u),dh(o)&&(r.set("radius",o),t.firstCategoryDimIndex=0),dh(u)&&(r.set("angle",u),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(n,t,e,r){t.coordSysDims=["lng","lat"]},parallel:function(n,t,e,r){var i=n.ecModel,o=i.getComponent("parallel",n.get("parallelIndex")),u=t.coordSysDims=o.dimensions.slice();F(o.parallelAxisIndex,function(c,h){var d=i.getComponent("parallelAxis",c),p=u[h];e.set(p,d),dh(d)&&(r.set(p,d),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=h))})}};function dh(n){return"category"===n.get("type")}function gP(n,t,e){var o,u,c,r=(e=e||{}).byIndex,i=e.stackedCoordDimension;!function mP(n){return!zD(n.schema)}(t)?(o=(u=t.schema).dimensions,c=t.store):o=t;var d,p,g,m,h=!(!n||!n.get("stack"));if(F(o,function(T,M){fe(T)&&(o[M]=T={name:T}),h&&!T.isExtraCoord&&(!r&&!d&&T.ordinalMeta&&(d=T),!p&&"ordinal"!==T.type&&"time"!==T.type&&(!i||i===T.coordDim)&&(p=T))}),p&&!r&&!d&&(r=!0),p){g="__\0ecstackresult_"+n.id,m="__\0ecstackedover_"+n.id,d&&(d.createInvertedIndices=!0);var y=p.coordDim,S=p.type,b=0;F(o,function(T){T.coordDim===y&&b++});var D={name:g,coordDim:y,coordDimIndex:b,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},C={name:m,coordDim:m,coordDimIndex:b+1,type:S,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};u?(c&&(D.storeDimIndex=c.ensureCalculationDimension(m,S),C.storeDimIndex=c.ensureCalculationDimension(g,S)),u.appendCalculationDimension(D),u.appendCalculationDimension(C)):(o.push(D),o.push(C))}return{stackedDimension:p&&p.name,stackedByDimension:d&&d.name,isStackedByIndex:r,stackedOverDimension:m,stackResultDimension:g}}function Ds(n,t){return!!t&&t===n.getCalculationInfo("stackedDimension")}function $D(n,t){return Ds(n,t)?n.getCalculationInfo("stackResultDimension"):t}const Ua=function sB(n,t,e){e=e||{};var i,r=t.getSourceManager(),o=!1;n?(o=!0,i=se(n)):o=(i=r.getSource()).sourceFormat===ur;var u=function vP(n){var t=n.get("coordinateSystem"),e=new oB(t),r=Vy[t];if(r)return r(n,e,e.axisMap,e.categoryAxisMap),e}(t),c=function yP(n,t){var i,e=n.get("coordinateSystem"),r=zf.get(e);return t&&t.coordSysDims&&(i=re(t.coordSysDims,function(o){var u={name:o},c=t.axisMap.get(o);if(c){var h=c.get("type");u.type=Oy(h)}return u})),i||(i=r&&(r.getDimensionsInfo?r.getDimensionsInfo():r.dimensions.slice())||["x","y"]),i}(t,u),h=e.useEncodeDefaulter,d=_e(h)?h:h?Re(Wm,c,t):null,g=hh(i,{coordDimensions:c,generateCoord:e.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:d,canOmitUnusedDimensions:!o}),m=function Ga(n,t,e){var r,i;return e&&F(n,function(o,u){var h=e.categoryAxisMap.get(o.coordDim);h&&(null==r&&(r=u),o.ordinalMeta=h.getOrdinalMeta(),t&&(o.createInvertedIndices=!0)),null!=o.otherDims.itemName&&(i=!0)}),!i&&null!=r&&(n[r].otherDims.itemName=0),r}(g.dimensions,e.createInvertedIndices,u),y=o?null:r.getSharedDataStore(g),S=gP(t,{schema:g,store:y}),b=new on(g,t);b.setCalculationInfo(S);var D=null!=m&&function lB(n){if(n.sourceFormat===ur){var t=function _P(n){for(var t=0;t<n.length&&null==n[t];)t++;return n[t]}(n.data||[]);return!te(mf(t))}}(i)?function(C,T,M,I){return I===m?M:this.defaultDimValueGetter(C,T,M,I)}:null;return b.hasItemOption=!1,b.initData(o?i:y,null,D),b};var By=function(){function n(t){this._setting=t||{},this._extent=[1/0,-1/0]}return n.prototype.getSetting=function(t){return this._setting[t]},n.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},n.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.setExtent=function(t,e){var r=this._extent;isNaN(t)||(r[0]=t),isNaN(e)||(r[1]=e)},n.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},n.prototype.isBlank=function(){return this._isBlank},n.prototype.setBlank=function(t){this._isBlank=t},n}();qo(By);const Co=By;var uB=0,SP=function(){function n(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++uB}return n.createByAxisModel=function(t){var e=t.option,r=e.data,i=r&&re(r,wP);return new n({categories:i,needCollect:!i,deduplication:!1!==e.dedplication})},n.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},n.prototype.parseAndCollect=function(t){var e,r=this._needCollect;if(!fe(t)&&!r)return t;if(r&&!this._deduplication)return this.categories[e=this.categories.length]=t,e;var i=this._getOrCreateMap();return null==(e=i.get(t))&&(r?(this.categories[e=this.categories.length]=t,i.set(t,e)):e=NaN),e},n.prototype._getOrCreateMap=function(){return this._map||(this._map=ve(this.categories))},n}();function wP(n){return xe(n)&&null!=n.value?n.value:n+""}const YD=SP;function tv(n){return"interval"===n.type||"log"===n.type}function zy(n){var t=Math.pow(10,am(n)),e=n/t;return e?2===e?e=3:3===e?e=5:e*=2:e=1,Kt(e*t)}function Hy(n){return ea(n)+2}function Gy(n,t,e){n[t]=Math.max(Math.min(n[t],e[1]),e[0])}function Uy(n,t){return n>=t[0]&&n<=t[1]}function jy(n,t){return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])}function Wy(n,t){return n*(t[1]-t[0])+t[0]}var qD=function(n){function t(e){var r=n.call(this,e)||this;r.type="ordinal";var i=r.getSetting("ordinalMeta");return i||(i=new YD({})),te(i)&&(i=new YD({categories:re(i,function(o){return xe(o)?o.value:o})})),r._ordinalMeta=i,r._extent=r.getSetting("extent")||[0,i.categories.length-1],r}return q(t,n),t.prototype.parse=function(e){return null==e?NaN:fe(e)?this._ordinalMeta.getOrdinal(e):Math.round(e)},t.prototype.contain=function(e){return Uy(e=this.parse(e),this._extent)&&null!=this._ordinalMeta.categories[e]},t.prototype.normalize=function(e){return jy(e=this._getTickNumber(this.parse(e)),this._extent)},t.prototype.scale=function(e){return e=Math.round(Wy(e,this._extent)),this.getRawOrdinalNumber(e)},t.prototype.getTicks=function(){for(var e=[],r=this._extent,i=r[0];i<=r[1];)e.push({value:i}),i++;return e},t.prototype.getMinorTicks=function(e){},t.prototype.setSortInfo=function(e){if(null!=e){for(var r=e.ordinalNumbers,i=this._ordinalNumbersByTick=[],o=this._ticksByOrdinalNumber=[],u=0,c=this._ordinalMeta.categories.length,h=Math.min(c,r.length);u<h;++u){var d=r[u];i[u]=d,o[d]=u}for(var p=0;u<c;++u){for(;null!=o[p];)p++;i.push(p),o[p]=u}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},t.prototype._getTickNumber=function(e){var r=this._ticksByOrdinalNumber;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getRawOrdinalNumber=function(e){var r=this._ordinalNumbersByTick;return r&&e>=0&&e<r.length?r[e]:e},t.prototype.getLabel=function(e){if(!this.isBlank()){var r=this.getRawOrdinalNumber(e.value),i=this._ordinalMeta.categories[r];return null==i?"":i+""}},t.prototype.count=function(){return this._extent[1]-this._extent[0]+1},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.isInExtentRange=function(e){return e=this._getTickNumber(e),this._extent[0]<=e&&this._extent[1]>=e},t.prototype.getOrdinalMeta=function(){return this._ordinalMeta},t.prototype.calcNiceTicks=function(){},t.prototype.calcNiceExtent=function(){},t.type="ordinal",t}(Co);Co.registerClass(qD);const nv=qD;var zl=Kt,bP=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return q(t,n),t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Uy(e,this._extent)},t.prototype.normalize=function(e){return jy(e,this._extent)},t.prototype.scale=function(e){return Wy(e,this._extent)},t.prototype.setExtent=function(e,r){var i=this._extent;isNaN(e)||(i[0]=parseFloat(e)),isNaN(r)||(i[1]=parseFloat(r))},t.prototype.unionExtent=function(e){var r=this._extent;e[0]<r[0]&&(r[0]=e[0]),e[1]>r[1]&&(r[1]=e[1]),this.setExtent(r[0],r[1])},t.prototype.getInterval=function(){return this._interval},t.prototype.setInterval=function(e){this._interval=e,this._niceExtent=this._extent.slice(),this._intervalPrecision=Hy(e)},t.prototype.getTicks=function(e){var r=this._interval,i=this._extent,o=this._niceExtent,u=this._intervalPrecision,c=[];if(!r)return c;i[0]<o[0]&&c.push(e?{value:zl(o[0]-r,u)}:{value:i[0]});for(var d=o[0];d<=o[1]&&(c.push({value:d}),(d=zl(d+r,u))!==c[c.length-1].value);)if(c.length>1e4)return[];var p=c.length?c[c.length-1].value:o[1];return i[1]>p&&c.push(e?{value:zl(p+r,u)}:{value:i[1]}),c},t.prototype.getMinorTicks=function(e){for(var r=this.getTicks(!0),i=[],o=this.getExtent(),u=1;u<r.length;u++){for(var h=r[u-1],d=0,p=[],m=(r[u].value-h.value)/e;d<e-1;){var y=zl(h.value+(d+1)*m);y>o[0]&&y<o[1]&&p.push(y),d++}i.push(p)}return i},t.prototype.getLabel=function(e,r){if(null==e)return"";var i=r&&r.precision;return null==i?i=ea(e.value)||0:"auto"===i&&(i=this._intervalPrecision),yl(zl(e.value,i,!0))},t.prototype.calcNiceTicks=function(e,r,i){e=e||5;var o=this._extent,u=o[1]-o[0];if(isFinite(u)){u<0&&(u=-u,o.reverse());var c=function ZD(n,t,e,r){var i={},u=i.interval=om((n[1]-n[0])/t,!0);null!=e&&u<e&&(u=i.interval=e),null!=r&&u>r&&(u=i.interval=r);var c=i.intervalPrecision=Hy(u);return function cB(n,t){!isFinite(n[0])&&(n[0]=t[0]),!isFinite(n[1])&&(n[1]=t[1]),Gy(n,0,t),Gy(n,1,t),n[0]>n[1]&&(n[0]=n[1])}(i.niceTickExtent=[Kt(Math.ceil(n[0]/u)*u,c),Kt(Math.floor(n[1]/u)*u,c)],n),i}(o,e,r,i);this._intervalPrecision=c.intervalPrecision,this._interval=c.interval,this._niceExtent=c.niceTickExtent}},t.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1])if(0!==r[0]){var i=Math.abs(r[0]);e.fixMax||(r[1]+=i/2),r[0]-=i/2}else r[1]=1;isFinite(r[1]-r[0])||(r[0]=0,r[1]=1),this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval);var u=this._interval;e.fixMin||(r[0]=zl(Math.floor(r[0]/u)*u)),e.fixMax||(r[1]=zl(Math.ceil(r[1]/u)*u))},t.prototype.setNiceExtent=function(e,r){this._niceExtent=[e,r]},t.type="interval",t}(Co);Co.registerClass(bP);const Cs=bP;var XD=typeof Float32Array<"u",fB=XD?Float32Array:Array;function ja(n){return te(n)?XD?new Float32Array(n):n:new fB(n)}var $y="__ec_stack_";function KD(n){return n.get("stack")||$y+n.seriesIndex}function Yy(n){return n.dim+n.index}function Ir(n,t){var e=[];return t.eachSeriesByType(n,function(r){Zy(r)&&e.push(r)}),e}function DP(n){var t=function ph(n){var t={};F(n,function(h){var p=h.coordinateSystem.getBaseAxis();if("time"===p.type||"value"===p.type)for(var g=h.getData(),m=p.dim+"_"+p.index,y=g.getDimensionIndex(g.mapDimension(p.dim)),S=g.getStore(),b=0,D=S.count();b<D;++b){var C=S.get(y,b);t[m]?t[m].push(C):t[m]=[C]}});var e={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(i){i.sort(function(h,d){return h-d});for(var o=null,u=1;u<i.length;++u){var c=i[u]-i[u-1];c>0&&(o=null===o?c:Math.min(o,c))}e[r]=o}}return e}(n),e=[];return F(n,function(r){var c,o=r.coordinateSystem.getBaseAxis(),u=o.getExtent();if("category"===o.type)c=o.getBandWidth();else if("value"===o.type||"time"===o.type){var d=t[o.dim+"_"+o.index],p=Math.abs(u[1]-u[0]),g=o.scale.getExtent(),m=Math.abs(g[1]-g[0]);c=d?p/m*d:p}else{var y=r.getData();c=Math.abs(u[1]-u[0])/y.count()}var S=le(r.get("barWidth"),c),b=le(r.get("barMaxWidth"),c),D=le(r.get("barMinWidth")||(pB(r)?.5:1),c),C=r.get("barGap"),T=r.get("barCategoryGap");e.push({bandWidth:c,barWidth:S,barMaxWidth:b,barMinWidth:D,barGap:C,barCategoryGap:T,axisKey:Yy(o),stackId:KD(r)})}),CP(e)}function CP(n){var t={};F(n,function(r,i){var o=r.axisKey,u=r.bandWidth,c=t[o]||{bandWidth:u,remainedWidth:u,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},h=c.stacks;t[o]=c;var d=r.stackId;h[d]||c.autoWidthCount++,h[d]=h[d]||{width:0,maxWidth:0};var p=r.barWidth;p&&!h[d].width&&(h[d].width=p,p=Math.min(c.remainedWidth,p),c.remainedWidth-=p);var g=r.barMaxWidth;g&&(h[d].maxWidth=g);var m=r.barMinWidth;m&&(h[d].minWidth=m);var y=r.barGap;null!=y&&(c.gap=y);var S=r.barCategoryGap;null!=S&&(c.categoryGap=S)});var e={};return F(t,function(r,i){e[i]={};var o=r.stacks,u=r.bandWidth,c=r.categoryGap;if(null==c){var h=Xe(o).length;c=Math.max(35-4*h,15)+"%"}var d=le(c,u),p=le(r.gap,1),g=r.remainedWidth,m=r.autoWidthCount,y=(g-d)/(m+(m-1)*p);y=Math.max(y,0),F(o,function(C){var T=C.maxWidth,M=C.minWidth;if(C.width){var I=C.width;T&&(I=Math.min(I,T)),M&&(I=Math.max(I,M)),C.width=I,g-=I+p*I,m--}else I=y,T&&T<I&&(I=Math.min(T,g)),M&&M>I&&(I=M),I!==y&&(C.width=I,g-=I+p*I,m--)}),y=(g-d)/(m+(m-1)*p),y=Math.max(y,0);var b,S=0;F(o,function(C,T){C.width||(C.width=y),b=C,S+=C.width*(1+p)}),b&&(S-=b.width*p);var D=-S/2;F(o,function(C,T){e[i][T]=e[i][T]||{bandWidth:u,offset:D,width:C.width},D+=C.width*(1+p)})}),e}function dB(n,t){var e=Ir(n,t),r=DP(e);F(e,function(i){var o=i.getData(),c=i.coordinateSystem.getBaseAxis(),h=KD(i),d=r[Yy(c)][h];o.setLayout({bandWidth:d.bandWidth,offset:d.offset,size:d.width})})}function QD(n){return{seriesType:n,plan:So(),reset:function(t){if(Zy(t)){var e=t.getData(),r=t.coordinateSystem,i=r.getBaseAxis(),o=r.getOtherAxis(i),u=e.getDimensionIndex(e.mapDimension(o.dim)),c=e.getDimensionIndex(e.mapDimension(i.dim)),h=t.get("showBackground",!0),d=e.mapDimension(o.dim),p=e.getCalculationInfo("stackResultDimension"),g=Ds(e,d)&&!!e.getCalculationInfo("stackedOnSeries"),m=o.isHorizontal(),y=function Vj(n,t){return t.toGlobalCoord(t.dataToCoord("log"===t.type?1:0))}(0,o),S=pB(t),b=t.get("barMinHeight")||0,D=p&&e.getDimensionIndex(p),C=e.getLayout("size"),T=e.getLayout("offset");return{progress:function(M,I){for(var B,L=M.count,E=S&&ja(3*L),R=S&&h&&ja(3*L),O=S&&ja(L),k=r.master.getRect(),V=m?k.width:k.height,H=I.getStore(),G=0;null!=(B=M.next());){var j=H.get(g?D:u,B),W=H.get(c,B),Y=y,K=void 0;g&&(K=+j-H.get(u,B));var X=void 0,ee=void 0,oe=void 0,he=void 0;if(m){var me=r.dataToPoint([j,W]);g&&(Y=r.dataToPoint([K,W])[0]),X=Y,ee=me[1]+T,oe=me[0]-Y,he=C,Math.abs(oe)<b&&(oe=(oe<0?-1:1)*b)}else me=r.dataToPoint([W,j]),g&&(Y=r.dataToPoint([W,K])[1]),X=me[0]+T,ee=Y,oe=C,he=me[1]-Y,Math.abs(he)<b&&(he=(he<=0?-1:1)*b);S?(E[G]=X,E[G+1]=ee,E[G+2]=m?oe:he,R&&(R[G]=m?k.x:X,R[G+1]=m?ee:k.y,R[G+2]=V),O[B]=B):I.setItemLayout(B,{x:X,y:ee,width:oe,height:he}),G+=3}S&&I.setLayout({largePoints:E,largeDataIndices:O,largeBackgroundPoints:R,valueAxisHorizontal:m})}}}}}}function Zy(n){return n.coordinateSystem&&"cartesian2d"===n.coordinateSystem.type}function pB(n){return n.pipelineContext&&n.pipelineContext.large}var vh=function(n){function t(e){var r=n.call(this,e)||this;return r.type="time",r}return q(t,n),t.prototype.getLabel=function(e){var r=this.getSetting("useUTC");return Jd(e.value,di[function kf(n){switch(n){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}(Of(this._minLevelUnit))]||di.second,r,this.getSetting("locale"))},t.prototype.getFormattedLabel=function(e,r,i){var o=this.getSetting("useUTC");return function fF(n,t,e,r,i){var o=null;if(fe(e))o=e;else if(_e(e))o=e(n.value,t,{level:n.level});else{var u=J({},Fu);if(n.level>0)for(var c=0;c<ml.length;++c)u[ml[c]]="{primary|"+u[ml[c]]+"}";var h=e?!1===e.inherit?e:De(e,u):u,d=UA(n.value,i);if(h[d])o=h[d];else if(h.inherit){for(c=Vm.indexOf(d)-1;c>=0;--c)if(h[d]){o=h[d];break}o=o||u.none}if(te(o)){var g=null==n.level?0:n.level>=0?n.level:o.length+n.level;o=o[g=Math.min(g,o.length-1)]}}return Jd(new Date(n.value),o,i,r)}(e,r,i,this.getSetting("locale"),o)},t.prototype.getTicks=function(){var r=this._extent,i=[];if(!this._interval)return i;i.push({value:r[0],level:0});var o=this.getSetting("useUTC"),u=function MP(n,t,e,r){var o=Vm,u=0;function c(V,B,H,G,j,W,Y){for(var K=new Date(B),X=B,ee=K[G]();X<H&&X<=r[1];)Y.push({value:X}),K[j](ee+=V),X=K.getTime();Y.push({value:X,notAdd:!0})}function h(V,B,H){var G=[],j=!B.length;if(!function JD(n,t,e,r){var i=Ii(t),o=Ii(e),u=function(S){return Bm(i,S,r)===Bm(o,S,r)},c=function(){return u("year")},h=function(){return c()&&u("month")},d=function(){return h()&&u("day")},p=function(){return d()&&u("hour")},g=function(){return p()&&u("minute")},m=function(){return g()&&u("second")};switch(n){case"year":return c();case"month":return h();case"day":return d();case"hour":return p();case"minute":return g();case"second":return m();case"millisecond":return m()&&u("millisecond")}}(Of(V),r[0],r[1],e)){j&&(B=[{value:eC(new Date(r[0]),V,e)},{value:r[1]}]);for(var W=0;W<B.length-1;W++){var Y=B[W].value,K=B[W+1].value;if(Y!==K){var X=void 0,ee=void 0,oe=void 0;switch(V){case"year":X=Math.max(1,Math.round(t/Hr/365)),ee=Ff(e),oe=hF(e);break;case"half-year":case"quarter":case"month":X=xP(t),ee=Vf(e),oe=dF(e);break;case"week":case"half-week":case"day":X=vB(t),ee=ep(e),oe=pF(e),!0;break;case"half-day":case"quarter-day":case"hour":X=gB(t),ee=Ra(e),oe=np(e);break;case"minute":X=TP(t,!0),ee=tb(e),oe=jA(e);break;case"second":X=TP(t,!1),ee=nb(e),oe=zm(e);break;case"millisecond":X=mB(t),ee=tp(e),oe=Hm(e)}c(X,Y,K,ee,oe,0,G),"year"===V&&H.length>1&&0===W&&H.unshift({value:H[0].value-X})}}for(W=0;W<G.length;W++)H.push(G[W]);return G}}for(var d=[],p=[],g=0,m=0,y=0;y<o.length&&u++<1e4;++y){var S=Of(o[y]);if(GA(o[y])&&(h(o[y],d[d.length-1]||[],p),S!==(o[y+1]?Of(o[y+1]):null))){if(p.length){m=g,p.sort(function(V,B){return V.value-B.value});for(var D=[],C=0;C<p.length;++C){var T=p[C].value;(0===C||p[C-1].value!==T)&&(D.push(p[C]),T>=r[0]&&T<=r[1]&&g++)}var M=(r[1]-r[0])/t;if(g>1.5*M&&m>M/1.5||(d.push(D),g>M||n===o[y]))break}p=[]}}var I=yt(re(d,function(V){return yt(V,function(B){return B.value>=r[0]&&B.value<=r[1]&&!B.notAdd})}),function(V){return V.length>0}),L=[],E=I.length-1;for(y=0;y<I.length;++y)for(var R=I[y],O=0;O<R.length;++O)L.push({value:R[O].value,level:E-y});L.sort(function(V,B){return V.value-B.value});var k=[];for(y=0;y<L.length;++y)(0===y||L[y].value!==L[y-1].value)&&k.push(L[y]);return k}(this._minLevelUnit,this._approxInterval,o,r);return(i=i.concat(u)).push({value:r[1],level:0}),i},t.prototype.calcNiceExtent=function(e){var r=this._extent;if(r[0]===r[1]&&(r[0]-=Hr,r[1]+=Hr),r[1]===-1/0&&r[0]===1/0){var i=new Date;r[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),r[0]=r[1]-Hr}this.calcNiceTicks(e.splitNumber,e.minInterval,e.maxInterval)},t.prototype.calcNiceTicks=function(e,r,i){var o=this._extent;this._approxInterval=(o[1]-o[0])/(e=e||10),null!=r&&this._approxInterval<r&&(this._approxInterval=r),null!=i&&this._approxInterval>i&&(this._approxInterval=i);var c=qy.length,h=Math.min(function(n,t,e,r){for(;e<r;){var i=e+r>>>1;n[i][1]<t?e=i+1:r=i}return e}(qy,this._approxInterval,0,c),c-1);this._interval=qy[h][1],this._minLevelUnit=qy[Math.max(h-1,0)][0]},t.prototype.parse=function(e){return ft(e)?e:+Ii(e)},t.prototype.contain=function(e){return Uy(this.parse(e),this._extent)},t.prototype.normalize=function(e){return jy(this.parse(e),this._extent)},t.prototype.scale=function(e){return Wy(e,this._extent)},t.type="time",t}(Cs),qy=[["second",1e3],["minute",6e4],["hour",ku],["quarter-day",6*ku],["half-day",12*ku],["day",1.2*Hr],["half-week",3.5*Hr],["week",7*Hr],["month",31*Hr],["quarter",95*Hr],["half-year",HA/2],["year",HA]];function vB(n,t){return(n/=Hr)>16?16:n>7.5?7:n>3.5?4:n>1.5?2:1}function xP(n){return(n/=30*Hr)>6?6:n>3?3:n>2?2:1}function gB(n){return(n/=ku)>12?12:n>6?6:n>3.5?4:n>2?2:1}function TP(n,t){return(n/=t?6e4:1e3)>30?30:n>20?20:n>15?15:n>10?10:n>5?5:n>2?2:1}function mB(n){return om(n,!0)}function eC(n,t,e){var r=new Date(n);switch(Of(t)){case"year":case"month":r[dF(e)](0);case"day":r[pF(e)](1);case"hour":r[np(e)](0);case"minute":r[jA(e)](0);case"second":r[zm(e)](0),r[Hm(e)](0)}return r.getTime()}Co.registerClass(vh);const AP=vh;var rv=Co.prototype,ac=Cs.prototype,zj=Kt,IP=Math.floor,yB=Math.ceil,iv=Math.pow,Er=Math.log,tC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new Cs,e._interval=0,e}return q(t,n),t.prototype.getTicks=function(e){var i=this._extent,o=this._originalScale.getExtent();return re(ac.getTicks.call(this,e),function(c){var h=c.value,d=Kt(iv(this.base,h));return d=h===i[0]&&this._fixMin?gh(d,o[0]):d,{value:d=h===i[1]&&this._fixMax?gh(d,o[1]):d}},this)},t.prototype.setExtent=function(e,r){var i=Er(this.base);e=Er(Math.max(0,e))/i,r=Er(Math.max(0,r))/i,ac.setExtent.call(this,e,r)},t.prototype.getExtent=function(){var e=this.base,r=rv.getExtent.call(this);r[0]=iv(e,r[0]),r[1]=iv(e,r[1]);var o=this._originalScale.getExtent();return this._fixMin&&(r[0]=gh(r[0],o[0])),this._fixMax&&(r[1]=gh(r[1],o[1])),r},t.prototype.unionExtent=function(e){this._originalScale.unionExtent(e);var r=this.base;e[0]=Er(e[0])/Er(r),e[1]=Er(e[1])/Er(r),rv.unionExtent.call(this,e)},t.prototype.unionExtentFromData=function(e,r){this.unionExtent(e.getApproximateExtent(r))},t.prototype.calcNiceTicks=function(e){e=e||10;var r=this._extent,i=r[1]-r[0];if(!(i===1/0||i<=0)){var o=NM(i);for(e/i*o<=.5&&(o*=10);!isNaN(o)&&Math.abs(o)<1&&Math.abs(o)>0;)o*=10;var c=[Kt(yB(r[0]/o)*o),Kt(IP(r[1]/o)*o)];this._interval=o,this._niceExtent=c}},t.prototype.calcNiceExtent=function(e){ac.calcNiceExtent.call(this,e),this._fixMin=e.fixMin,this._fixMax=e.fixMax},t.prototype.parse=function(e){return e},t.prototype.contain=function(e){return Uy(e=Er(e)/Er(this.base),this._extent)},t.prototype.normalize=function(e){return jy(e=Er(e)/Er(this.base),this._extent)},t.prototype.scale=function(e){return e=Wy(e,this._extent),iv(this.base,e)},t.type="log",t}(Co),nC=tC.prototype;function gh(n,t){return zj(n,ea(t))}nC.getMinorTicks=ac.getMinorTicks,nC.getLabel=ac.getLabel,Co.registerClass(tC);const Hj=tC;var _B=function(){function n(t,e,r){this._prepareParams(t,e,r)}return n.prototype._prepareParams=function(t,e,r){r[1]<r[0]&&(r=[NaN,NaN]),this._dataMin=r[0],this._dataMax=r[1];var i=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);_e(o)?this._modelMinNum=Xy(t,o({min:r[0],max:r[1]})):"dataMin"!==o&&(this._modelMinNum=Xy(t,o));var u=this._modelMaxRaw=e.get("max",!0);if(_e(u)?this._modelMaxNum=Xy(t,u({min:r[0],max:r[1]})):"dataMax"!==u&&(this._modelMaxNum=Xy(t,u)),i)this._axisDataLen=e.getCategories().length;else{var c=e.get("boundaryGap"),h=te(c)?c:[c||0,c||0];this._boundaryGapInner="boolean"==typeof h[0]||"boolean"==typeof h[1]?[0,0]:[Dr(h[0],1),Dr(h[1],1)]}},n.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,r=this._dataMax,i=this._axisDataLen,o=this._boundaryGapInner,u=t?null:r-e||Math.abs(e),c="dataMin"===this._modelMinRaw?e:this._modelMinNum,h="dataMax"===this._modelMaxRaw?r:this._modelMaxNum,d=null!=c,p=null!=h;null==c&&(c=t?i?0:NaN:e-o[0]*u),null==h&&(h=t?i?i-1:NaN:r+o[1]*u),(null==c||!isFinite(c))&&(c=NaN),(null==h||!isFinite(h))&&(h=NaN);var g=jc(c)||jc(h)||t&&!i;this._needCrossZero&&(c>0&&h>0&&!d&&(c=0),c<0&&h<0&&!p&&(h=0));var m=this._determinedMin,y=this._determinedMax;return null!=m&&(c=m,d=!0),null!=y&&(h=y,p=!0),{min:c,max:h,minFixed:d,maxFixed:p,isBlank:g}},n.prototype.modifyDataMinMax=function(t,e){this[SB[t]]=e},n.prototype.setDeterminedMinMax=function(t,e){this[Gj[t]]=e},n.prototype.freeze=function(){this.frozen=!0},n}(),Gj={min:"_determinedMin",max:"_determinedMax"},SB={min:"_dataMin",max:"_dataMax"};function EP(n,t,e){var r=n.rawExtentInfo;return r||(r=new _B(n,t,e),n.rawExtentInfo=r,r)}function Xy(n,t){return null==t?null:jc(t)?NaN:n.parse(t)}function rC(n,t){var e=n.type,r=EP(n,t,n.getExtent()).calculate();n.setBlank(r.isBlank);var i=r.min,o=r.max,u=t.ecModel;if(u&&"time"===e){var c=Ir("bar",u),h=!1;if(F(c,function(g){h=h||g.getBaseAxis()===t.axis}),h){var d=DP(c),p=function PP(n,t,e,r){var i=e.axis.getExtent(),o=i[1]-i[0],u=function Fj(n,t,e){if(n&&t){var r=n[Yy(t)];return null!=r&&null!=e?r[KD(e)]:r}}(r,e.axis);if(void 0===u)return{min:n,max:t};var c=1/0;F(u,function(y){c=Math.min(y.offset,c)});var h=-1/0;F(u,function(y){h=Math.max(y.offset+y.width,h)}),c=Math.abs(c),h=Math.abs(h);var d=c+h,p=t-n,m=p/(1-(c+h)/o)-p;return{min:n-=m*(c/d),max:t+=m*(h/d)}}(i,o,t,d);i=p.min,o=p.max}}return{extent:[i,o],fixMin:r.minFixed,fixMax:r.maxFixed}}function oc(n,t){var e=t,r=rC(n,e),i=r.extent,o=e.get("splitNumber");n instanceof Hj&&(n.base=e.get("logBase"));var u=n.type,c=e.get("interval"),h="interval"===u||"time"===u;n.setExtent(i[0],i[1]),n.calcNiceExtent({splitNumber:o,fixMin:r.fixMin,fixMax:r.fixMax,minInterval:h?e.get("minInterval"):null,maxInterval:h?e.get("maxInterval"):null}),null!=c&&n.setInterval&&n.setInterval(c)}function mh(n,t){if(t=t||n.get("type"))switch(t){case"category":return new nv({ordinalMeta:n.getOrdinalMeta?n.getOrdinalMeta():n.getCategories(),extent:[1/0,-1/0]});case"time":return new AP({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new(Co.getClass(t)||Cs)}}function av(n){var r,t=n.getLabelModel().get("formatter"),e="category"===n.type?n.scale.getExtent()[0]:null;return"time"===n.scale.type?(r=t,function(i,o){return n.scale.getFormattedLabel(i,o,r)}):fe(t)?function(r){return function(i){var o=n.scale.getLabel(i);return r.replace("{value}",o??"")}}(t):_e(t)?function(r){return function(i,o){return null!=e&&(o=i.value-e),r(iC(n,i),o,null!=i.level?{level:i.level}:null)}}(t):function(r){return n.scale.getLabel(r)}}function iC(n,t){return"category"===n.type?n.scale.getLabel(t):t.value}function wB(n,t){var e=t*Math.PI/180,r=n.width,i=n.height,o=r*Math.abs(Math.cos(e))+Math.abs(i*Math.sin(e)),u=r*Math.abs(Math.sin(e))+Math.abs(i*Math.cos(e));return new Be(n.x,n.y,o,u)}function Ky(n){return n.get("interval")??"auto"}function aC(n){return"category"===n.type&&0===Ky(n.getLabelModel())}function ov(n,t){var e={};return F(n.mapDimensionsAll(t),function(r){e[$D(n,r)]=!0}),Xe(e)}var yh=function(){function n(){}return n.prototype.getNeedCrossZero=function(){return!this.option.scale},n.prototype.getCoordSysModel=function(){},n}();function bB(n){return Ua(null,n)}var Uj={isDimensionStacked:Ds,enableDataStack:gP,getStackedDimension:$D};function OP(n,t){var e=t;t instanceof Rt||(e=new Rt(t));var r=mh(e);return r.setExtent(n[0],n[1]),oc(r,e),r}function jj(n){un(n,yh)}function Wj(n,t){return Et(n,null,null,"normal"!==(t=t||{}).state)}var $j=1e-8;function DB(n,t){return Math.abs(n-t)<$j}function _h(n,t,e){var r=0,i=n[0];if(!i)return!1;for(var o=1;o<n.length;o++){var u=n[o];r+=sl(i[0],i[1],u[0],u[1],t,e),i=u}var c=n[0];return(!DB(i[0],c[0])||!DB(i[1],c[1]))&&(r+=sl(i[0],i[1],c[0],c[1],t,e)),0!==r}var Yj=[];function kP(n,t){for(var e=0;e<n.length;e++)Wn(n[e],n[e],t)}function CB(n,t,e,r){for(var i=0;i<n.length;i++){var o=n[i];r&&(o=r.project(o)),o&&isFinite(o[0])&&isFinite(o[1])&&(ro(t,t,o),Bo(e,e,o))}}var Qy=function(){function n(t){this.name=t}return n.prototype.setCenter=function(t){this._center=t},n.prototype.getCenter=function(){var t=this._center;return t||(t=this._center=this.calcCenter()),t},n}(),Jy=function n(t,e){this.type="polygon",this.exterior=t,this.interiors=e},oC=function n(t){this.type="linestring",this.points=t},FP=function(n){function t(e,r,i){var o=n.call(this,e)||this;return o.type="geoJSON",o.geometries=r,o._center=i&&[i[0],i[1]],o}return q(t,n),t.prototype.calcCenter=function(){for(var r,e=this.geometries,i=0,o=0;o<e.length;o++){var u=e[o],c=u.exterior,h=c&&c.length;h>i&&(r=u,i=h)}if(r)return function Zj(n){for(var t=0,e=0,r=0,i=n.length,o=n[i-1][0],u=n[i-1][1],c=0;c<i;c++){var h=n[c][0],d=n[c][1],p=o*d-h*u;t+=p,e+=(o+h)*p,r+=(u+d)*p,o=h,u=d}return t?[e/t/3,r/t/3,t]:[n[0][0]||0,n[0][1]||0]}(r.exterior);var d=this.getBoundingRect();return[d.x+d.width/2,d.y+d.height/2]},t.prototype.getBoundingRect=function(e){var r=this._rect;if(r&&!e)return r;var i=[1/0,1/0],o=[-1/0,-1/0];return F(this.geometries,function(c){"polygon"===c.type?CB(c.exterior,i,o,e):F(c.points,function(h){CB(h,i,o,e)})}),isFinite(i[0])&&isFinite(i[1])&&isFinite(o[0])&&isFinite(o[1])||(i[0]=i[1]=o[0]=o[1]=0),r=new Be(i[0],i[1],o[0]-i[0],o[1]-i[1]),e||(this._rect=r),r},t.prototype.contain=function(e){var r=this.getBoundingRect(),i=this.geometries;if(!r.contain(e[0],e[1]))return!1;e:for(var o=0,u=i.length;o<u;o++){var c=i[o];if("polygon"===c.type){var d=c.interiors;if(_h(c.exterior,e[0],e[1])){for(var p=0;p<(d?d.length:0);p++)if(_h(d[p],e[0],e[1]))continue e;return!0}}}return!1},t.prototype.transformTo=function(e,r,i,o){var u=this.getBoundingRect(),c=u.width/u.height;i?o||(o=i/c):i=c*o;for(var h=new Be(e,r,i,o),d=u.calculateTransform(h),p=this.geometries,g=0;g<p.length;g++){var m=p[g];"polygon"===m.type?(kP(m.exterior,d),F(m.interiors,function(y){kP(y,d)})):F(m.points,function(y){kP(y,d)})}(u=this._rect).copy(h),this._center=[u.x+u.width/2,u.y+u.height/2]},t.prototype.cloneShallow=function(e){null==e&&(e=this.name);var r=new t(e,this.geometries,this._center);return r._rect=this._rect,r.transformTo=null,r},t}(Qy),xs=function(n){function t(e,r){var i=n.call(this,e)||this;return i.type="geoSVG",i._elOnlyForCalculate=r,i}return q(t,n),t.prototype.calcCenter=function(){for(var e=this._elOnlyForCalculate,r=e.getBoundingRect(),i=[r.x+r.width/2,r.y+r.height/2],o=Zi(Yj),u=e;u&&!u.isGeoSVGGraphicRoot;)Ae(o,u.getLocalTransform(),o),u=u.parent;return Ho(o,o),Wn(i,i,o),i},t}(Qy);function VP(n,t,e){for(var r=0;r<n.length;r++)n[r]=TB(n[r],t[r],e)}function TB(n,t,e){for(var r=[],i=t[0],o=t[1],u=0;u<n.length;u+=2){var c=n.charCodeAt(u)-64,h=n.charCodeAt(u+1)-64;c=c>>1^-(1&c),h=h>>1^-(1&h),i=c+=i,o=h+=o,r.push([c/e,h/e])}return r}function sC(n,t){return n=function xB(n){if(!n.UTF8Encoding)return n;var t=n,e=t.UTF8Scale;return null==e&&(e=1024),F(t.features,function(i){var o=i.geometry,u=o.encodeOffsets,c=o.coordinates;if(u)switch(o.type){case"LineString":o.coordinates=TB(c,u,e);break;case"Polygon":case"MultiLineString":VP(c,u,e);break;case"MultiPolygon":F(c,function(h,d){return VP(h,u[d],e)})}}),t.UTF8Encoding=!1,t}(n),re(yt(n.features,function(e){return e.geometry&&e.properties&&e.geometry.coordinates.length>0}),function(e){var r=e.properties,i=e.geometry,o=[];switch(i.type){case"Polygon":var u=i.coordinates;o.push(new Jy(u[0],u.slice(1)));break;case"MultiPolygon":F(i.coordinates,function(h){h[0]&&o.push(new Jy(h[0],h.slice(1)))});break;case"LineString":o.push(new oC([i.coordinates]));break;case"MultiLineString":o.push(new oC(i.coordinates))}var c=new FP(r[t||"name"],o,r.cp);return c.properties=r,c})}function e0(n,t,e,r,i,o,u,c){return new rt({style:{text:n,font:t,align:e,verticalAlign:r,padding:i,rich:o,overflow:u?"truncate":null,lineHeight:c}}).getBoundingRect()}var sv=ot();function zP(n,t){var o,u,e=HP(n,"labels"),r=Ky(t);return GP(e,r)||(_e(r)?o=jP(n,r):(u="auto"===r?function AB(n){return sv(n).autoInterval??(sv(n).autoInterval=n.calculateCategoryInterval())}(n):r,o=n0(n,u)),UP(e,r,{labels:o,labelCategoryInterval:u}))}function HP(n,t){return sv(n)[t]||(sv(n)[t]=[])}function GP(n,t){for(var e=0;e<n.length;e++)if(n[e].key===t)return n[e].value}function UP(n,t,e){return n.push({key:t,value:e}),e}function n0(n,t,e){var r=av(n),i=n.scale,o=i.getExtent(),u=n.getLabelModel(),c=[],h=Math.max((t||0)+1,1),d=o[0],p=i.count();0!==d&&h>1&&p/h>2&&(d=Math.round(Math.ceil(d/h)*h));var g=aC(n),m=u.get("showMinLabel")||g,y=u.get("showMaxLabel")||g;m&&d!==o[0]&&b(o[0]);for(var S=d;S<=o[1];S+=h)b(S);function b(D){var C={value:D};c.push(e?D:{formattedLabel:r(C),rawLabel:i.getLabel(C),tickValue:D})}return y&&S-h!==o[1]&&b(o[1]),c}function jP(n,t,e){var r=n.scale,i=av(n),o=[];return F(r.getTicks(),function(u){var c=r.getLabel(u),h=u.value;t(u.value,c)&&o.push(e?h:{formattedLabel:i(u),rawLabel:c,tickValue:h})}),o}var WP=[0,1],PB=function(){function n(t,e,r){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=r||[0,0]}return n.prototype.contain=function(t){var e=this._extent,r=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=r&&t<=i},n.prototype.containData=function(t){return this.scale.contain(t)},n.prototype.getExtent=function(){return this._extent.slice()},n.prototype.getPixelPrecision=function(t){return im(t||this.scale.getExtent(),this._extent)},n.prototype.setExtent=function(t,e){var r=this._extent;r[0]=t,r[1]=e},n.prototype.dataToCoord=function(t,e){var r=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&$P(r=r.slice(),i.count()),Ct(t,WP,r,e)},n.prototype.coordToData=function(t,e){var r=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&$P(r=r.slice(),i.count());var o=Ct(t,r,WP,e);return this.scale.scale(o)},n.prototype.pointToData=function(t,e){},n.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),o=re(function MB(n,t){return"category"===n.type?function lv(n,t){var o,u,e=HP(n,"ticks"),r=Ky(t),i=GP(e,r);if(i)return i;if((!t.get("show")||n.scale.isBlank())&&(o=[]),_e(r))o=jP(n,r,!0);else if("auto"===r){var c=zP(n,n.getLabelModel());u=c.labelCategoryInterval,o=re(c.labels,function(h){return h.tickValue})}else o=n0(n,u=r,!0);return UP(e,r,{ticks:o,tickCategoryInterval:u})}(n,t):{ticks:re(n.scale.getTicks(),function(e){return e.value})}}(this,e).ticks,function(c){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(c):c),tickValue:c}},this);return function LB(n,t,e,r){var i=t.length;if(n.onBand&&!e&&i){var u,o=n.getExtent();if(1===i)t[0].coord=o[0],u=t[1]={coord:o[1]};else{var d=(t[i-1].coord-t[0].coord)/(t[i-1].tickValue-t[0].tickValue);F(t,function(y){y.coord-=d/2});var p=n.scale.getExtent();t.push(u={coord:t[i-1].coord+d*(1+p[1]-t[i-1].tickValue)})}var g=o[0]>o[1];m(t[0].coord,o[0])&&(r?t[0].coord=o[0]:t.shift()),r&&m(o[0],t[0].coord)&&t.unshift({coord:o[0]}),m(o[1],u.coord)&&(r?u.coord=o[1]:t.pop()),r&&m(u.coord,o[1])&&t.push({coord:o[1]})}function m(y,S){return y=Kt(y),S=Kt(S),g?y>S:y<S}}(this,o,e.get("alignWithLabel"),t.clamp),o},n.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");return e>0&&e<100||(e=5),re(this.scale.getMinorTicks(e),function(o){return re(o,function(u){return{coord:this.dataToCoord(u),tickValue:u}},this)},this)},n.prototype.getViewLabels=function(){return function BP(n){return"category"===n.type?function qj(n){var t=n.getLabelModel(),e=zP(n,t);return!t.get("show")||n.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}(n):function t0(n){var t=n.scale.getTicks(),e=av(n);return{labels:re(t,function(r,i){return{level:r.level,formattedLabel:e(r,i),rawLabel:n.scale.getLabel(r),tickValue:r.value}})}}(n)}(this).labels},n.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},n.prototype.getTickModel=function(){return this.model.getModel("axisTick")},n.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),r=e[1]-e[0]+(this.onBand?1:0);0===r&&(r=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/r},n.prototype.calculateCategoryInterval=function(){return function IB(n){var t=function EB(n){var t=n.getLabelModel();return{axisRotate:n.getRotate?n.getRotate():n.isHorizontal&&!n.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(n),e=av(n),r=(t.axisRotate-t.labelRotate)/180*Math.PI,i=n.scale,o=i.getExtent(),u=i.count();if(o[1]-o[0]<1)return 0;var c=1;u>40&&(c=Math.max(1,Math.floor(u/40)));for(var h=o[0],d=n.dataToCoord(h+1)-n.dataToCoord(h),p=Math.abs(d*Math.cos(r)),g=Math.abs(d*Math.sin(r)),m=0,y=0;h<=o[1];h+=c){var b,D=Qg(e({value:h}),t.font,"center","top");b=1.3*D.height,m=Math.max(m,1.3*D.width,7),y=Math.max(y,b,7)}var C=m/p,T=y/g;isNaN(C)&&(C=1/0),isNaN(T)&&(T=1/0);var M=Math.max(0,Math.floor(Math.min(C,T))),I=sv(n.model),L=n.getExtent(),E=I.lastAutoInterval,R=I.lastTickCount;return null!=E&&null!=R&&Math.abs(E-M)<=1&&Math.abs(R-u)<=1&&E>M&&I.axisExtent0===L[0]&&I.axisExtent1===L[1]?M=E:(I.lastTickCount=u,I.lastAutoInterval=M,I.axisExtent0=L[0],I.axisExtent1=L[1]),M}(this)},n}();function $P(n,t){var i=(n[1]-n[0])/t/2;n[0]+=i,n[1]-=i}const ga=PB;function RB(n){var t=at.extend(n);return at.registerClass(t),t}function NB(n){var t=wt.extend(n);return wt.registerClass(t),t}function OB(n){var t=Nt.extend(n);return Nt.registerClass(t),t}function kB(n){var t=Mt.extend(n);return Mt.registerClass(t),t}var uv=2*Math.PI,Hl=Qo.CMD,lC=["top","right","bottom","left"];function FB(n,t,e,r,i){var o=e.width,u=e.height;switch(n){case"top":r.set(e.x+o/2,e.y-t),i.set(0,-1);break;case"bottom":r.set(e.x+o/2,e.y+u+t),i.set(0,1);break;case"left":r.set(e.x-t,e.y+u/2),i.set(-1,0);break;case"right":r.set(e.x+o+t,e.y+u/2),i.set(1,0)}}function VB(n,t,e,r,i,o,u,c,h){u-=n,c-=t;var d=Math.sqrt(u*u+c*c),p=(u/=d)*e+n,g=(c/=d)*e+t;if(Math.abs(r-i)%uv<1e-4)return h[0]=p,h[1]=g,d-e;if(o){var m=r;r=go(i),i=go(m)}else r=go(r),i=go(i);r>i&&(i+=uv);var y=Math.atan2(c,u);if(y<0&&(y+=uv),y>=r&&y<=i||y+uv>=r&&y+uv<=i)return h[0]=p,h[1]=g,d-e;var S=e*Math.cos(r)+n,b=e*Math.sin(r)+t,D=e*Math.cos(i)+n,C=e*Math.sin(i)+t,T=(S-u)*(S-u)+(b-c)*(b-c),M=(D-u)*(D-u)+(C-c)*(C-c);return T<M?(h[0]=S,h[1]=b,Math.sqrt(T)):(h[0]=D,h[1]=C,Math.sqrt(M))}function cv(n,t,e,r,i,o,u,c){var h=i-n,d=o-t,p=e-n,g=r-t,m=Math.sqrt(p*p+g*g),S=(h*(p/=m)+d*(g/=m))/m;c&&(S=Math.min(Math.max(S,0),1));var b=u[0]=n+(S*=m)*p,D=u[1]=t+S*g;return Math.sqrt((b-i)*(b-i)+(D-o)*(D-o))}function uC(n,t,e,r,i,o,u){e<0&&(n+=e,e=-e),r<0&&(t+=r,r=-r);var c=n+e,h=t+r,d=u[0]=Math.min(Math.max(i,n),c),p=u[1]=Math.min(Math.max(o,t),h);return Math.sqrt((d-i)*(d-i)+(p-o)*(p-o))}var xo=[];function yi(n,t,e){var r=uC(t.x,t.y,t.width,t.height,n.x,n.y,xo);return e.set(xo[0],xo[1]),r}function YP(n,t,e){for(var c,h,r=0,i=0,o=0,u=0,d=1/0,p=t.data,g=n.x,m=n.y,y=0;y<p.length;){var S=p[y++];1===y&&(o=r=p[y],u=i=p[y+1]);var b=d;switch(S){case Hl.M:r=o=p[y++],i=u=p[y++];break;case Hl.L:b=cv(r,i,p[y],p[y+1],g,m,xo,!0),r=p[y++],i=p[y++];break;case Hl.C:b=cu(r,i,p[y++],p[y++],p[y++],p[y++],p[y],p[y+1],g,m,xo),r=p[y++],i=p[y++];break;case Hl.Q:b=fu(r,i,p[y++],p[y++],p[y],p[y+1],g,m,xo),r=p[y++],i=p[y++];break;case Hl.A:var D=p[y++],C=p[y++],T=p[y++],M=p[y++],I=p[y++],L=p[y++];y+=1;var E=!!(1-p[y++]);c=Math.cos(I)*T+D,h=Math.sin(I)*M+C,y<=1&&(o=c,u=h),b=VB(D,C,M,I,I+L,E,(g-D)*M/T+D,m,xo),r=Math.cos(I+L)*T+D,i=Math.sin(I+L)*M+C;break;case Hl.R:b=uC(o=r=p[y++],u=i=p[y++],p[y++],p[y++],g,m,xo);break;case Hl.Z:b=cv(r,i,o,u,g,m,xo,!0),r=o,i=u}b<d&&(d=b,e.set(xo[0],xo[1]))}return d}var _i=new ze,Ot=new ze,sn=new ze,To=new ze,ma=new ze;function Ts(n,t){if(n){var e=n.getTextGuideLine(),r=n.getTextContent();if(r&&e){var i=n.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],u=i.candidates||lC,c=r.getBoundingRect().clone();c.applyTransform(r.getComputedTransform());var h=1/0,d=i.anchor,p=n.getComputedTransform(),g=p&&Ho([],p),m=t.get("length2")||0;d&&sn.copy(d);for(var y=0;y<u.length;y++){FB(u[y],0,c,_i,To),ze.scaleAndAdd(Ot,_i,To,m),Ot.transform(g);var b=n.getBoundingRect(),D=d?d.distance(Ot):n instanceof Ze?YP(Ot,n.path,sn):yi(Ot,b,sn);D<h&&(h=D,Ot.transform(p),sn.transform(p),sn.toArray(o[0]),Ot.toArray(o[1]),_i.toArray(o[2]))}r0(o,t.get("minTurnAngle")),e.setShape({points:o})}}}var fv=[],pr=new ze;function r0(n,t){if(t<=180&&t>0){t=t/180*Math.PI,_i.fromArray(n[0]),Ot.fromArray(n[1]),sn.fromArray(n[2]),ze.sub(To,_i,Ot),ze.sub(ma,sn,Ot);var e=To.len(),r=ma.len();if(!(e<.001||r<.001)){To.scale(1/e),ma.scale(1/r);var i=To.dot(ma);if(Math.cos(t)<i){var u=cv(Ot.x,Ot.y,sn.x,sn.y,_i.x,_i.y,fv,!1);pr.fromArray(fv),pr.scaleAndAdd(ma,u/Math.tan(Math.PI-t));var c=sn.x!==Ot.x?(pr.x-Ot.x)/(sn.x-Ot.x):(pr.y-Ot.y)/(sn.y-Ot.y);if(isNaN(c))return;c<0?ze.copy(pr,Ot):c>1&&ze.copy(pr,sn),pr.toArray(n[1])}}}}function BB(n,t,e){if(e<=180&&e>0){e=e/180*Math.PI,_i.fromArray(n[0]),Ot.fromArray(n[1]),sn.fromArray(n[2]),ze.sub(To,Ot,_i),ze.sub(ma,sn,Ot);var r=To.len(),i=ma.len();if(!(r<.001||i<.001)&&(To.scale(1/r),ma.scale(1/i),To.dot(t)<Math.cos(e))){var c=cv(Ot.x,Ot.y,sn.x,sn.y,_i.x,_i.y,fv,!1);pr.fromArray(fv);var h=Math.PI/2,p=h+Math.acos(ma.dot(t))-e;if(p>=h)ze.copy(pr,sn);else{pr.scaleAndAdd(ma,c/Math.tan(Math.PI/2-p));var g=sn.x!==Ot.x?(pr.x-Ot.x)/(sn.x-Ot.x):(pr.y-Ot.y)/(sn.y-Ot.y);if(isNaN(g))return;g<0?ze.copy(pr,Ot):g>1&&ze.copy(pr,sn)}pr.toArray(n[1])}}}function zB(n,t,e,r){var i="normal"===e,o=i?n:n.ensureState(e);o.ignore=t;var u=r.get("smooth");u&&!0===u&&(u=.3),o.shape=o.shape||{},u>0&&(o.shape.smooth=u);var c=r.getModel("lineStyle").getLineStyle();i?n.useStyle(c):o.style=c}function ZP(n,t){var e=t.smooth,r=t.points;if(r)if(n.moveTo(r[0][0],r[0][1]),e>0&&r.length>=3){var i=Ws(r[0],r[1]),o=Ws(r[1],r[2]);if(!i||!o)return n.lineTo(r[1][0],r[1][1]),void n.lineTo(r[2][0],r[2][1]);var u=Math.min(i,o)*e,c=$s([],r[1],r[0],u/i),h=$s([],r[1],r[2],u/o),d=$s([],c,h,.5);n.bezierCurveTo(c[0],c[1],c[0],c[1],d[0],d[1]),n.bezierCurveTo(h[0],h[1],h[0],h[1],r[2][0],r[2][1])}else for(var p=1;p<r.length;p++)n.lineTo(r[p][0],r[p][1])}function cC(n,t,e){var r=n.getTextGuideLine(),i=n.getTextContent();if(i){for(var o=t.normal,u=o.get("show"),c=i.ignore,h=0;h<fl.length;h++){var d=fl[h],p=t[d],g="normal"===d;if(p){var m=p.get("show");if((g?c:ke(i.states[d]&&i.states[d].ignore,c))||!ke(m,u)){var S=g?r:r&&r.states[d];S&&(S.ignore=!0);continue}r||(r=new Wr,n.setTextGuideLine(r),!g&&(c||!u)&&zB(r,!0,"normal",t.normal),n.stateProxy&&(r.stateProxy=n.stateProxy)),zB(r,!1,d,p)}}if(r){De(r.style,e),r.style.fill=null;var b=o.get("showAbove");(n.textGuideLineConfig=n.textGuideLineConfig||{}).showAbove=b||!1,r.buildPath=ZP}}else r&&n.removeTextGuideLine()}function a0(n,t){for(var e={normal:n.getModel(t=t||"labelLine")},r=0;r<Cr.length;r++){var i=Cr[r];e[i]=n.getModel([i,t])}return e}function qP(n){for(var t=[],e=0;e<n.length;e++){var r=n[e];if(!r.defaultAttr.ignore){var i=r.label,o=i.getComputedTransform(),u=i.getBoundingRect(),c=!o||o[1]<1e-5&&o[2]<1e-5,h=i.style.margin||0,d=u.clone();d.applyTransform(o),d.x-=h/2,d.y-=h/2,d.width+=h,d.height+=h;var p=c?new Pl(u,o):null;t.push({label:i,labelLine:r.labelLine,rect:d,localRect:u,obb:p,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:c,transform:o})}}return t}function XP(n,t,e,r,i,o){var u=n.length;if(!(u<2)){n.sort(function(k,V){return k.rect[t]-V.rect[t]});for(var h,c=0,d=!1,p=[],g=0,m=0;m<u;m++){var y=n[m],S=y.rect;(h=S[t]-c)<0&&(S[t]-=h,y.label[t]-=h,d=!0);var b=Math.max(-h,0);p.push(b),g+=b,c=S[t]+S[e]}g>0&&o&&E(-g/u,0,u);var T,M,D=n[0],C=n[u-1];return I(),T<0&&R(-T,.8),M<0&&R(M,.8),I(),L(T,M,1),L(M,T,-1),I(),T<0&&O(-T),M<0&&O(M),d}function I(){T=D.rect[t]-r,M=i-C.rect[t]-C.rect[e]}function L(k,V,B){if(k<0){var H=Math.min(V,-k);if(H>0){E(H*B,0,u);var G=H+k;G<0&&R(-G*B,1)}else R(-k*B,1)}}function E(k,V,B){0!==k&&(d=!0);for(var H=V;H<B;H++){var G=n[H];G.rect[t]+=k,G.label[t]+=k}}function R(k,V){for(var B=[],H=0,G=1;G<u;G++){var j=n[G-1].rect,W=Math.max(n[G].rect[t]-j[t]-j[e],0);B.push(W),H+=W}if(H){var Y=Math.min(Math.abs(k)/H,V);if(k>0)for(G=0;G<u-1;G++)E(B[G]*Y,0,G+1);else for(G=u-1;G>0;G--)E(-B[G-1]*Y,G,u)}}function O(k){var V=k<0?-1:1;k=Math.abs(k);for(var B=Math.ceil(k/(u-1)),H=0;H<u-1;H++)if(V>0?E(B,0,H+1):E(-B,u-H-1,u),(k-=B)<=0)return}}function HB(n,t,e,r){return XP(n,"y","height",t,e,r)}function fC(n){var t=[];n.sort(function(b,D){return D.priority-b.priority});var e=new Be(0,0,0,0);function r(b){if(!b.ignore){var D=b.ensureState("emphasis");null==D.ignore&&(D.ignore=!1)}b.ignore=!0}for(var i=0;i<n.length;i++){var o=n[i],u=o.axisAligned,c=o.localRect,h=o.transform,d=o.label,p=o.labelLine;e.copy(o.rect),e.width-=.1,e.height-=.1,e.x+=.05,e.y+=.05;for(var g=o.obb,m=!1,y=0;y<t.length;y++){var S=t[y];if(e.intersect(S.rect)){if(u&&S.axisAligned){m=!0;break}if(S.obb||(S.obb=new Pl(S.localRect,S.transform)),g||(g=new Pl(c,h)),g.intersect(S.obb)){m=!0;break}}}m?(r(d),p&&r(p)):(d.attr("ignore",o.defaultAttr.ignore),p&&p.attr("ignore",o.defaultAttr.labelGuideIgnore),t.push(o))}}function GB(n){if(n){for(var t=[],e=0;e<n.length;e++)t.push(n[e].slice());return t}}function QP(n,t){var e=n.label,r=t&&t.getTextGuideLine();return{dataIndex:n.dataIndex,dataType:n.dataType,seriesIndex:n.seriesModel.seriesIndex,text:n.label.style.text,rect:n.hostRect,labelRect:n.rect,align:e.style.align,verticalAlign:e.style.verticalAlign,labelLinePoints:GB(r&&r.shape.points)}}var UB=["align","verticalAlign","width","height","fontSize"],vr=new co,o0=ot(),JP=ot();function s0(n,t,e){for(var r=0;r<e.length;r++){var i=e[r];null!=t[i]&&(n[i]=t[i])}}var hv=["x","y","rotation"],eL=function(){function n(){this._labelList=[],this._chartViewList=[]}return n.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},n.prototype._addLabel=function(t,e,r,i,o){var u=i.style,h=i.__hostTarget.textConfig||{},d=i.getComputedTransform(),p=i.getBoundingRect().plain();Be.applyTransform(p,p,d),d?vr.setLocalTransform(d):(vr.x=vr.y=vr.rotation=vr.originX=vr.originY=0,vr.scaleX=vr.scaleY=1),vr.rotation=go(vr.rotation);var m,g=i.__hostTarget;if(g){m=g.getBoundingRect().plain();var y=g.getComputedTransform();Be.applyTransform(m,m,y)}var S=m&&g.getTextGuideLine();this._labelList.push({label:i,labelLine:S,seriesModel:r,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:p,hostRect:m,priority:m?m.width*m.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:S&&S.ignore,x:vr.x,y:vr.y,scaleX:vr.scaleX,scaleY:vr.scaleY,rotation:vr.rotation,style:{x:u.x,y:u.y,align:u.align,verticalAlign:u.verticalAlign,width:u.width,height:u.height,fontSize:u.fontSize},cursor:i.cursor,attachedPos:h.position,attachedRot:h.rotation}})},n.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var r=t.__model,i=r.get("labelLayout");(_e(i)||Xe(i).length)&&t.group.traverse(function(o){if(o.ignore)return!0;var u=o.getTextContent(),c=Oe(o);u&&!u.disableLabelLayout&&e._addLabel(c.dataIndex,c.dataType,r,u,i)})},n.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),r=t.getHeight();function i(M,I){return function(){Ts(M,I)}}for(var o=0;o<this._labelList.length;o++){var u=this._labelList[o],c=u.label,h=c.__hostTarget,d=u.defaultAttr,p=void 0;p=_e(u.layoutOption)?u.layoutOption(QP(u,h)):u.layoutOption,u.computedLayoutOption=p=p||{};var g=Math.PI/180;h&&h.setTextConfig({local:!1,position:null!=p.x||null!=p.y?null:d.attachedPos,rotation:null!=p.rotate?p.rotate*g:d.attachedRot,offset:[p.dx||0,p.dy||0]});var m=!1;if(null!=p.x?(c.x=le(p.x,e),c.setStyle("x",0),m=!0):(c.x=d.x,c.setStyle("x",d.style.x)),null!=p.y?(c.y=le(p.y,r),c.setStyle("y",0),m=!0):(c.y=d.y,c.setStyle("y",d.style.y)),p.labelLinePoints){var y=h.getTextGuideLine();y&&(y.setShape({points:p.labelLinePoints}),m=!1)}o0(c).needsUpdateLabelLine=m,c.rotation=null!=p.rotate?p.rotate*g:d.rotation,c.scaleX=d.scaleX,c.scaleY=d.scaleY;for(var b=0;b<UB.length;b++){var D=UB[b];c.setStyle(D,null!=p[D]?p[D]:d.style[D])}if(p.draggable){if(c.draggable=!0,c.cursor="move",h){var C=u.seriesModel;null!=u.dataIndex&&(C=u.seriesModel.getData(u.dataType).getItemModel(u.dataIndex)),c.on("drag",i(h,C.getModel("labelLine")))}}else c.off("drag"),c.cursor=d.cursor}},n.prototype.layout=function(t){var e=t.getWidth(),r=t.getHeight(),i=qP(this._labelList),o=yt(i,function(h){return"shiftX"===h.layoutOption.moveOverlap}),u=yt(i,function(h){return"shiftY"===h.layoutOption.moveOverlap});(function KP(n,t,e,r){XP(n,"x","width",t,e,r)})(o,0,e),HB(u,0,r),fC(yt(i,function(h){return h.layoutOption.hideOverlap}))},n.prototype.processLabelsOverall=function(){var t=this;F(this._chartViewList,function(e){var r=e.__model,i=e.ignoreLabelLineUpdate,o=r.isAnimationEnabled();e.group.traverse(function(u){if(u.ignore&&!u.forceLabelAnimation)return!0;var c=!i,h=u.getTextContent();!c&&h&&(c=o0(h).needsUpdateLabelLine),c&&t._updateLabelLine(u,r),o&&t._animateLabels(u,r)})})},n.prototype._updateLabelLine=function(t,e){var r=t.getTextContent(),i=Oe(t),o=i.dataIndex;if(r&&null!=o){var u=e.getData(i.dataType),c=u.getItemModel(o),h={},d=u.getItemVisual(o,"style");if(d){var p=u.getVisual("drawType");h.stroke=d[p]}var g=c.getModel("labelLine");cC(t,a0(c),h),Ts(t,g)}},n.prototype._animateLabels=function(t,e){var r=t.getTextContent(),i=t.getTextGuideLine();if(r&&(t.forceLabelAnimation||!r.ignore&&!r.invisible&&!t.disableLabelAnimation&&!Lf(t))){var u=(o=o0(r)).oldLayout,c=Oe(t),h=c.dataIndex,d={x:r.x,y:r.y,rotation:r.rotation},p=e.getData(c.dataType);if(u){r.attr(u);var m=t.prevStates;m&&(Ge(m,"select")>=0&&r.attr(o.oldLayoutSelect),Ge(m,"emphasis")>=0&&r.attr(o.oldLayoutEmphasis)),dt(r,d,e,h)}else if(r.attr(d),!Nu(r).valueAnimation){var g=ke(r.style.opacity,1);r.style.opacity=0,$t(r,{style:{opacity:g}},e,h)}if(o.oldLayout=d,r.states.select){var y=o.oldLayoutSelect={};s0(y,d,hv),s0(y,r.states.select,hv)}if(r.states.emphasis){var S=o.oldLayoutEmphasis={};s0(S,d,hv),s0(S,r.states.emphasis,hv)}OA(r,h,p,e,e)}if(i&&!i.ignore&&!i.invisible){var o=JP(i),b={points:i.shape.points};(u=o.oldLayout)?(i.attr({shape:u}),dt(i,{shape:b},e)):(i.setShape(b),i.style.strokePercent=0,$t(i,{style:{strokePercent:1}},e)),o.oldLayout=b}},n}();const Sh=eL;var wh=ot();function hC(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){var i=wh(e).labelManager;i||(i=wh(e).labelManager=new Sh),i.clearLabels()}),n.registerUpdateLifecycle("series:layoutlabels",function(t,e,r){var i=wh(e).labelManager;r.updatedSeries.forEach(function(o){i.addLabelsOfSeries(e.getViewOfSeriesModel(o))}),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()})}function dC(n,t,e){var r=eo.createCanvas(),i=t.getWidth(),o=t.getHeight(),u=r.style;return u&&(u.position="absolute",u.left="0",u.top="0",u.width=i+"px",u.height=o+"px",r.setAttribute("data-zr-dom-id",n)),r.width=i*e,r.height=o*e,r}$e(hC);var jB=function(n){function t(e,r,i){var u,o=n.call(this)||this;o.motionBlur=!1,o.lastFrameAlpha=.7,o.dpr=1,o.virtual=!1,o.config={},o.incremental=!1,o.zlevel=0,o.maxRepaintRectCount=5,o.__dirty=!0,o.__firstTimePaint=!0,o.__used=!1,o.__drawIndex=0,o.__startIndex=0,o.__endIndex=0,o.__prevStartIndex=null,o.__prevEndIndex=null,i=i||uf,"string"==typeof e?u=dC(e,r,i):xe(e)&&(e=(u=e).id),o.id=e,o.dom=u;var c=u.style;return c&&(sS(u),u.onselectstart=function(){return!1},c.padding="0",c.margin="0",c.borderWidth="0"),o.painter=r,o.dpr=i,o}return ye(t,n),t.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},t.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},t.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},t.prototype.setUnpainted=function(){this.__firstTimePaint=!0},t.prototype.createBackBuffer=function(){var e=this.dpr;this.domBack=dC("back-"+this.id,this.painter,e),this.ctxBack=this.domBack.getContext("2d"),1!==e&&this.ctxBack.scale(e,e)},t.prototype.createRepaintRects=function(e,r,i,o){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var D,u=[],c=this.maxRepaintRectCount,h=!1,d=new Be(0,0,0,0);function p(T){if(T.isFinite()&&!T.isZero())if(0===u.length)(M=new Be(0,0,0,0)).copy(T),u.push(M);else{for(var I=!1,L=1/0,E=0,R=0;R<u.length;++R){var O=u[R];if(O.intersect(T)){var k=new Be(0,0,0,0);k.copy(O),k.union(T),u[R]=k,I=!0;break}if(h){d.copy(T),d.union(O);var G=d.width*d.height-T.width*T.height-O.width*O.height;G<L&&(L=G,E=R)}}var M;h&&(u[E].union(T),I=!0),I||((M=new Be(0,0,0,0)).copy(T),u.push(M)),h||(h=u.length>=c)}}for(var g=this.__startIndex;g<this.__endIndex;++g)if(m=e[g]){var y=m.shouldBePainted(i,o,!0,!0);(S=m.__isRendered&&(m.__dirty&Ti||!y)?m.getPrevPaintRect():null)&&p(S);var b=y&&(m.__dirty&Ti||!m.__isRendered)?m.getPaintRect():null;b&&p(b)}for(g=this.__prevStartIndex;g<this.__prevEndIndex;++g){var m,S;y=(m=r[g]).shouldBePainted(i,o,!0,!0),!m||y&&m.__zr||!m.__isRendered||(S=m.getPrevPaintRect())&&p(S)}do{for(D=!1,g=0;g<u.length;)if(u[g].isZero())u.splice(g,1);else{for(var C=g+1;C<u.length;)u[g].intersect(u[C])?(D=!0,u[g].union(u[C]),u.splice(C,1)):C++;g++}}while(D);return this._paintRects=u,u},t.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},t.prototype.resize=function(e,r){var i=this.dpr,o=this.dom,u=o.style,c=this.domBack;u&&(u.width=e+"px",u.height=r+"px"),o.width=e*i,o.height=r*i,c&&(c.width=e*i,c.height=r*i,1!==i&&this.ctxBack.scale(i,i))},t.prototype.clear=function(e,r,i){var o=this.dom,u=this.ctx,c=o.width,h=o.height;r=r||this.clearColor;var d=this.motionBlur&&!e,p=this.lastFrameAlpha,g=this.dpr,m=this;d&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(o,0,0,c/g,h/g));var y=this.domBack;function S(b,D,C,T){if(u.clearRect(b,D,C,T),r&&"transparent"!==r){var M=void 0;fd(r)?(M=(r.global||r.__width===C&&r.__height===T)&&r.__canvasGradient||Ty(u,r,{x:0,y:0,width:C,height:T}),r.__canvasGradient=M,r.__width=C,r.__height=T):kT(r)&&(r.scaleX=r.scaleX||g,r.scaleY=r.scaleY||g,M=EE(u,r,{dirty:function(){m.setUnpainted(),m.__painter.refresh()}})),u.save(),u.fillStyle=M||r,u.fillRect(b,D,C,T),u.restore()}d&&(u.save(),u.globalAlpha=p,u.drawImage(y,b,D,C,T),u.restore())}!i||d?S(0,0,c,h):i.length&&F(i,function(b){S(b.x*g,b.y*g,b.width*g,b.height*g)})},t}($i);const pC=jB;var Gl=314159,Jj=function(){function n(t,e,r,i){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var o=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=r=J({},r||{}),this.dpr=r.devicePixelRatio||uf,this._singleCanvas=o,this.root=t,t.style&&(sS(t),t.innerHTML=""),this.storage=e;var c=this._zlevelList;this._prevDisplayList=[];var h=this._layers;if(o){var p=t,g=p.width,m=p.height;null!=r.width&&(g=r.width),null!=r.height&&(m=r.height),this.dpr=r.devicePixelRatio||1,p.width=g*this.dpr,p.height=m*this.dpr,this._width=g,this._height=m;var y=new pC(p,this,this.dpr);y.__builtin__=!0,y.initContext(),h[Gl]=y,y.zlevel=Gl,c.push(Gl),this._domRoot=t}else{this._width=pa(t,0,r),this._height=pa(t,1,r);var d=this._domRoot=function Qj(n,t){var e=document.createElement("div");return e.style.cssText=["position:relative","width:"+n+"px","height:"+t+"px","padding:0","margin:0","border-width:0"].join(";")+";",e}(this._width,this._height);t.appendChild(d)}}return n.prototype.getType=function(){return"canvas"},n.prototype.isSingleCanvas=function(){return this._singleCanvas},n.prototype.getViewportRoot=function(){return this._domRoot},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),r=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,r,t,this._redrawId);for(var o=0;o<i.length;o++){var c=this._layers[i[o]];!c.__builtin__&&c.refresh&&c.refresh(0===o?this._backgroundColor:null)}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},n.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},n.prototype._paintHoverList=function(t){var e=t.length,r=this._hoverlayer;if(r&&r.clear(),e){for(var o,i={inHover:!0,viewWidth:this._width,viewHeight:this._height},u=0;u<e;u++){var c=t[u];c.__inHover&&(r||(r=this._hoverlayer=this.getLayer(1e5)),o||(o=r.ctx).save(),tc(o,c,i,u===e-1))}o&&o.restore()}},n.prototype.getHoverLayer=function(){return this.getLayer(1e5)},n.prototype.paintOne=function(t,e){pD(t,e)},n.prototype._paintList=function(t,e,r,i){if(this._redrawId===i){r=r||!1,this._updateLayerStatus(t);var o=this._doPaintList(t,e,r),u=o.finished,c=o.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),c&&this._paintHoverList(t),u)this.eachLayer(function(d){d.afterBrush&&d.afterBrush()});else{var h=this;Ye(function(){h._paintList(t,e,r,i)})}}},n.prototype._compositeManually=function(){var t=this.getLayer(Gl).ctx,e=this._domRoot.width,r=this._domRoot.height;t.clearRect(0,0,e,r),this.eachBuiltinLayer(function(i){i.virtual&&t.drawImage(i.dom,0,0,e,r)})},n.prototype._doPaintList=function(t,e,r){for(var i=this,o=[],u=this._opts.useDirtyRect,c=0;c<this._zlevelList.length;c++){var d=this._layers[this._zlevelList[c]];d.__builtin__&&d!==this._hoverlayer&&(d.__dirty||r)&&o.push(d)}for(var p=!0,g=!1,m=function(b){var D=o[b],C=D.ctx,T=u&&D.createRepaintRects(t,e,y._width,y._height),M=r?D.__startIndex:D.__drawIndex,I=!r&&D.incremental&&Date.now,L=I&&Date.now(),E=D.zlevel===y._zlevelList[0]?y._backgroundColor:null;if(D.__startIndex===D.__endIndex)D.clear(!1,E,T);else if(M===D.__startIndex){var R=t[M];(!R.incremental||!R.notClear||r)&&D.clear(!1,E,T)}-1===M&&(console.error("For some unknown reason. drawIndex is -1"),M=D.__startIndex);var O,k=function(G){var j={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(O=M;O<D.__endIndex;O++){var W=t[O];if(W.__inHover&&(g=!0),i._doPaintEl(W,D,u,G,j,O===D.__endIndex-1),I&&Date.now()-L>15)break}j.prevElClipPaths&&C.restore()};if(T)if(0===T.length)O=D.__endIndex;else for(var V=y.dpr,B=0;B<T.length;++B){var H=T[B];C.save(),C.beginPath(),C.rect(H.x*V,H.y*V,H.width*V,H.height*V),C.clip(),k(H),C.restore()}else C.save(),k(),C.restore();D.__drawIndex=O,D.__drawIndex<D.__endIndex&&(p=!1)},y=this,S=0;S<o.length;S++)m(S);return ct.wxa&&F(this._layers,function(b){b&&b.ctx&&b.ctx.draw&&b.ctx.draw()}),{finished:p,needsRefreshHover:g}},n.prototype._doPaintEl=function(t,e,r,i,o,u){var c=e.ctx;if(r){var h=t.getPaintRect();(!i||h&&h.intersect(i))&&(tc(c,t,o,u),t.setPrevPaintRect(h))}else tc(c,t,o,u)},n.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Gl);var r=this._layers[t];return r||((r=new pC("zr_"+t,this,this.dpr)).zlevel=t,r.__builtin__=!0,this._layerConfig[t]?Ve(r,this._layerConfig[t],!0):this._layerConfig[t-.01]&&Ve(r,this._layerConfig[t-.01],!0),e&&(r.virtual=e),this.insertLayer(t,r),r.initContext()),r},n.prototype.insertLayer=function(t,e){var r=this._layers,i=this._zlevelList,o=i.length,u=this._domRoot,c=null,h=-1;if(!r[t]&&function Kj(n){return!(!n||!n.__builtin__&&("function"!=typeof n.resize||"function"!=typeof n.refresh))}(e)){if(o>0&&t>i[0]){for(h=0;h<o-1&&!(i[h]<t&&i[h+1]>t);h++);c=r[i[h]]}if(i.splice(h+1,0,t),r[t]=e,!e.virtual)if(c){var d=c.dom;d.nextSibling?u.insertBefore(e.dom,d.nextSibling):u.appendChild(e.dom)}else u.firstChild?u.insertBefore(e.dom,u.firstChild):u.appendChild(e.dom);e.__painter=this}},n.prototype.eachLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i];t.call(e,this._layers[o],o)}},n.prototype.eachBuiltinLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],u=this._layers[o];u.__builtin__&&t.call(e,u,o)}},n.prototype.eachOtherLayer=function(t,e){for(var r=this._zlevelList,i=0;i<r.length;i++){var o=r[i],u=this._layers[o];u.__builtin__||t.call(e,u,o)}},n.prototype.getLayers=function(){return this._layers},n.prototype._updateLayerStatus=function(t){function e(g){o&&(o.__endIndex!==g&&(o.__dirty=!0),o.__endIndex=g)}if(this.eachBuiltinLayer(function(g,m){g.__dirty=g.__used=!1}),this._singleCanvas)for(var r=1;r<t.length;r++)if((i=t[r]).zlevel!==t[r-1].zlevel||i.incremental){this._needsManuallyCompositing=!0;break}var c,h,o=null,u=0;for(h=0;h<t.length;h++){var i,d=(i=t[h]).zlevel,p=void 0;c!==d&&(c=d,u=0),i.incremental?((p=this.getLayer(d+.001,this._needsManuallyCompositing)).incremental=!0,u=1):p=this.getLayer(d+(u>0?.01:0),this._needsManuallyCompositing),p.__builtin__||Eg("ZLevel "+d+" has been used by unkown layer "+p.id),p!==o&&(p.__used=!0,p.__startIndex!==h&&(p.__dirty=!0),p.__startIndex=h,p.__drawIndex=p.incremental?-1:h,e(h),o=p),i.__dirty&Ti&&!i.__inHover&&(p.__dirty=!0,p.incremental&&p.__drawIndex<0&&(p.__drawIndex=h))}e(h),this.eachBuiltinLayer(function(g,m){!g.__used&&g.getElementCount()>0&&(g.__dirty=!0,g.__startIndex=g.__endIndex=g.__drawIndex=0),g.__dirty&&g.__drawIndex<0&&(g.__drawIndex=g.__startIndex)})},n.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},n.prototype._clearLayer=function(t){t.clear()},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t,F(this._layers,function(e){e.setUnpainted()})},n.prototype.configLayer=function(t,e){if(e){var r=this._layerConfig;r[t]?Ve(r[t],e,!0):r[t]=e;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];o!==t&&o!==t+.01||Ve(this._layers[o],r[t],!0)}}},n.prototype.delLayer=function(t){var e=this._layers,r=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],r.splice(Ge(r,t),1))},n.prototype.resize=function(t,e){if(this._domRoot.style){var r=this._domRoot;r.style.display="none";var i=this._opts,o=this.root;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=pa(o,0,i),e=pa(o,1,i),r.style.display="",this._width!==t||e!==this._height){for(var u in r.style.width=t+"px",r.style.height=e+"px",this._layers)this._layers.hasOwnProperty(u)&&this._layers[u].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(Gl).resize(t,e)}return this},n.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},n.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},n.prototype.getRenderedCanvas=function(t){if(this._singleCanvas&&!this._compositeManually)return this._layers[Gl].dom;var e=new pC("image",this,(t=t||{}).pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var r=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,o=e.dom.height;this.eachLayer(function(g){g.__builtin__?r.drawImage(g.dom,0,0,i,o):g.renderToCanvas&&(r.save(),g.renderToCanvas(r),r.restore())})}else for(var u={inHover:!1,viewWidth:this._width,viewHeight:this._height},c=this.storage.getDisplayList(!0),h=0,d=c.length;h<d;h++)tc(r,c[h],u,h===d-1);return e.dom},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n}();const tL=Jj;var vC=Math.sin,gC=Math.cos,$B=Math.PI,bh=2*Math.PI,e4=180/$B,t4=function(){function n(){}return n.prototype.reset=function(t){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,t||4)},n.prototype.moveTo=function(t,e){this._add("M",t,e)},n.prototype.lineTo=function(t,e){this._add("L",t,e)},n.prototype.bezierCurveTo=function(t,e,r,i,o,u){this._add("C",t,e,r,i,o,u)},n.prototype.quadraticCurveTo=function(t,e,r,i){this._add("Q",t,e,r,i)},n.prototype.arc=function(t,e,r,i,o,u){this.ellipse(t,e,r,r,0,i,o,u)},n.prototype.ellipse=function(t,e,r,i,o,u,c,h){var S,d=c-u,p=!h,g=Math.abs(d),m=du(g-bh)||(p?d>=bh:-d>=bh),y=d>0?d%bh:d%bh+bh;S=!!m||!du(g)&&y>=$B==!!p;var b=t+r*gC(u),D=e+i*vC(u);this._start&&this._add("M",b,D);var C=Math.round(o*e4);if(m){var T=1/this._p,M=(p?1:-1)*(bh-T);this._add("A",r,i,C,1,+p,t+r*gC(u+M),e+i*vC(u+M)),T>.01&&this._add("A",r,i,C,0,+p,b,D)}else{var I=t+r*gC(c),L=e+i*vC(c);this._add("A",r,i,C,+S,+p,I,L)}},n.prototype.rect=function(t,e,r,i){this._add("M",t,e),this._add("l",r,0),this._add("l",0,i),this._add("l",-r,0),this._add("Z")},n.prototype.closePath=function(){this._d.length>0&&this._add("Z")},n.prototype._add=function(t,e,r,i,o,u,c,h,d){for(var p=[],g=this._p,m=1;m<arguments.length;m++){var y=arguments[m];if(isNaN(y))return void(this._invalid=!0);p.push(Math.round(y*g)/g)}this._d.push(t+p.join(" ")),this._start="Z"===t},n.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},n.prototype.getStr=function(){return this._str},n}();const YB=t4;var dv="none",c0=Math.round,f0=["lineCap","miterLimit","lineJoin"],sc=re(f0,function(n){return"stroke-"+n.toLowerCase()});var h0="http://www.w3.org/2000/svg",d0="http://www.w3.org/1999/xlink",XB="http://www.w3.org/2000/xmlns/",mC="http://www.w3.org/XML/1998/namespace";function p0(n){return document.createElementNS(h0,n)}function _n(n,t,e,r,i){return{tag:n,attrs:e||{},children:r,text:i,key:t}}function rL(n,t){var e=(t=t||{}).newline?"\n":"";return function r(i){var o=i.children,u=i.tag,h=i.text;return function n4(n,t){var e=[];if(t)for(var r in t){var i=t[r],o=r;!1!==i&&(!0!==i&&null!=i&&(o+='="'+i+'"'),e.push(o))}return"<"+n+" "+e.join(" ")+">"}(u,i.attrs)+("style"!==u?yr(h):h||"")+(o?""+e+re(o,function(d){return r(d)}).join(e)+e:"")+function r4(n){return"</"+n+">"}(u)}(n)}function yC(n){return{zrId:n,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function aL(n,t,e,r){return _n("svg","root",{width:n,height:t,xmlns:h0,"xmlns:xlink":d0,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+n+" "+t},e)}var oL={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},lc="transform-origin";function sL(n,t,e){var r=J({},n.shape);J(r,t),n.buildPath(e,r);var i=new YB;return i.reset(NS(n)),e.rebuildPath(i,1),i.generateStr(),i.getStr()}function lL(n,t){var e=t.originX,r=t.originY;(e||r)&&(n[lc]=e+"px "+r+"px")}var uL={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function cL(n,t){var e=t.zrId+"-ani-"+t.cssAnimIdx++;return t.cssAnims[e]=n,e}function _C(n){return fe(n)?oL[n]?"cubic-bezier("+oL[n]+")":Xs(n)?n:"":""}function uc(n,t,e,r){var i=n.animators,o=i.length,u=[];if(n instanceof Ni){var c=function KB(n,t,e){var o,u,i={};if(F(n.shape.paths,function(h){var d=yC(e.zrId);d.animation=!0,uc(h,{},d,!0);var p=d.cssAnims,g=d.cssNodes,m=Xe(p),y=m.length;if(y){var S=p[u=m[y-1]];for(var b in S){var D=S[b];i[b]=i[b]||{d:""},i[b].d+=D.d||""}for(var C in g){var T=g[C].animation;T.indexOf(u)>=0&&(o=T)}}}),o){t.d=!1;var c=cL(i,e);return o.replace(u,c)}}(n,t,e);if(c)u.push(c);else if(!o)return}else if(!o)return;for(var h={},d=0;d<o;d++){var p=i[d],g=[p.getMaxTime()/1e3+"s"],m=_C(p.getClip().easing),y=p.getDelay();g.push(m||"linear"),y&&g.push(y/1e3+"s"),p.getLoop()&&g.push("infinite");var S=g.join(" ");h[S]=h[S]||[S,[]],h[S][1].push(p)}function b(T){var M=T[1],I=M.length,L={},E={},R={},O="animation-timing-function";function k(Pe,et,je){for(var be=Pe.getTracks(),We=Pe.getMaxTime(),ln=0;ln<be.length;ln++){var vt=be[ln];if(vt.needsAnimate()){var Pn=vt.keyframes,Dn=vt.propName;if(je&&(Dn=je(Dn)),Dn)for(var bi=0;bi<Pn.length;bi++){var Vc=Pn[bi],Ca=Math.round(Vc.time/We*100)+"%",Y2=_C(Vc.easing),od=Vc.rawValue;(fe(od)||ft(od))&&(et[Ca]=et[Ca]||{},et[Ca][Dn]=Vc.rawValue,Y2&&(et[Ca][O]=Y2))}}}}for(var V=0;V<I;V++)(H=(B=M[V]).targetName)?"shape"===H&&k(B,E):!r&&k(B,L);for(var G in L){var j={};qS(j,n),J(j,L[G]);var W=OS(j),Y=L[G][O];R[G]=W?{transform:W}:{},lL(R[G],j),Y&&(R[G][O]=Y)}var K,X=!0;for(var G in E){R[G]=R[G]||{};var ee=!K;Y=E[G][O],ee&&(K=new Qo);var oe=K.len();K.reset(),R[G].d=sL(n,E[G],K);var he=K.len();if(!ee&&oe!==he){X=!1;break}Y&&(R[G][O]=Y)}if(!X)for(var G in R)delete R[G].d;if(!r)for(V=0;V<I;V++){var B,H;"style"===(H=(B=M[V]).targetName)&&k(B,R,function(be){return uL[be]})}var Me,me=Xe(R),Ie=!0;for(V=1;V<me.length;V++){var qe=me[V-1];if(R[qe][lc]!==R[me[V]][lc]){Ie=!1;break}Me=R[qe][lc]}if(Ie&&Me){for(var G in R)R[G][lc]&&delete R[G][lc];t[lc]=Me}if(yt(me,function(Pe){return Xe(R[Pe]).length>0}).length)return cL(R,e)+" "+T[0]+" both"}for(var D in h)(c=b(h[D]))&&u.push(c);if(u.length){var C=e.zrId+"-cls-"+e.cssClassIdx++;e.cssNodes["."+C]={animation:u.join(",")},t.class=C}}var v0=Math.round;function SC(n){return n&&fe(n.src)}function Dh(n){return n&&_e(n.toDataURL)}function wC(n,t,e,r){(function nL(n,t,e,r){var i=null==t.opacity?1:t.opacity;if(e instanceof Zn)n("opacity",i);else{if(function ZB(n){var t=n.fill;return null!=t&&t!==dv}(t)){var o=Wg(t.fill);n("fill",o.color);var u=null!=t.fillOpacity?t.fillOpacity*o.opacity*i:o.opacity*i;(r||u<1)&&n("fill-opacity",u)}else n("fill",dv);if(function qB(n){var t=n.stroke;return null!=t&&t!==dv}(t)){var c=Wg(t.stroke);n("stroke",c.color);var h=t.strokeNoScale?e.getLineScale():1,d=h?(t.lineWidth||0)/h:0,p=null!=t.strokeOpacity?t.strokeOpacity*c.opacity*i:c.opacity*i,g=t.strokeFirst;if((r||1!==d)&&n("stroke-width",d),(r||g)&&n("paint-order",g?"stroke":"fill"),(r||p<1)&&n("stroke-opacity",p),t.lineDash){var m=oD(e),y=m[0],S=m[1];y&&(S=c0(S||0),n("stroke-dasharray",y.join(",")),(S||r)&&n("stroke-dashoffset",S))}else r&&n("stroke-dasharray",dv);for(var b=0;b<f0.length;b++){var D=f0[b];if(r||t[D]!==Tu[D]){var C=t[D]||Tu[D];C&&n(sc[b],C)}}}else r&&n("stroke",dv)}})(function(i,o){var u="fill"===i||"stroke"===i;u&&bd(o)?mL(t,n,i,r):u&&hM(o)?g0(e,n,i,r):n[i]=o},t,e,!1),function a4(n,t,e){var r=n.style;if(function qU(n){return n&&(n.shadowBlur||n.shadowOffsetX||n.shadowOffsetY)}(r)){var i=function XU(n){var t=n.style,e=n.getGlobalScale();return[t.shadowColor,(t.shadowBlur||0).toFixed(2),(t.shadowOffsetX||0).toFixed(2),(t.shadowOffsetY||0).toFixed(2),e[0],e[1]].join(",")}(n),o=e.shadowCache,u=o[i];if(!u){var c=n.getGlobalScale(),h=c[0],d=c[1];if(!h||!d)return;var p=r.shadowOffsetX||0,g=r.shadowOffsetY||0,m=r.shadowBlur,y=Wg(r.shadowColor),S=y.opacity,b=y.color,T=m/2/h+" "+m/2/d;u=e.zrId+"-s"+e.shadowIdx++,e.defs[u]=_n("filter",u,{id:u,x:"-100%",y:"-100%",width:"300%",height:"300%"},[_n("feDropShadow","",{dx:p/h,dy:g/d,stdDeviation:T,"flood-color":b,"flood-opacity":S})]),o[i]=u}t.filter=kr(u)}}(e,n,r)}function fL(n){return du(n[0]-1)&&du(n[1])&&du(n[2])&&du(n[3]-1)}function hL(n,t,e){if(t&&(!function i4(n){return du(n[4])&&du(n[5])}(t)||!fL(t))){var r=e?10:1e4;n.transform=fL(t)?"translate("+v0(t[4]*r)/r+" "+v0(t[5]*r)/r+")":function ZU(n){return"matrix("+RS(n[0])+","+RS(n[1])+","+RS(n[2])+","+RS(n[3])+","+uM(n[4])+","+uM(n[5])+")"}(t)}}function dL(n,t,e){for(var r=n.points,i=[],o=0;o<r.length;o++)i.push(v0(r[o][0]*e)/e),i.push(v0(r[o][1]*e)/e);t.points=i.join(" ")}function pL(n){return!n.smooth}var JB={circle:[function QB(n){var t=re(n,function(e){return"string"==typeof e?[e,e]:e});return function(e,r,i){for(var o=0;o<t.length;o++){var u=t[o],c=e[u[0]];null!=c&&(r[u[1]]=v0(c*i)/i)}}}(["cx","cy","r"])],polyline:[dL,pL],polygon:[dL,pL]};function bC(n,t){var e=n.style,r=n.shape,i=JB[n.type],o={},u=t.animation,c="path",h=n.style.strokePercent,d=t.compress&&NS(n)||4;if(!i||t.willUpdate||i[1]&&!i[1](r)||u&&function vL(n){for(var t=n.animators,e=0;e<t.length;e++)if("shape"===t[e].targetName)return!0;return!1}(n)||h<1){var g=!n.path||n.shapeChanged();n.path||n.createPathProxy();var m=n.path;g&&(m.beginPath(),n.buildPath(m,n.shape),n.pathUpdated());var y=m.getVersion(),S=n,b=S.__svgPathBuilder;(S.__svgPathVersion!==y||!b||h!==S.__svgPathStrokePercent)&&(b||(b=S.__svgPathBuilder=new YB),b.reset(d),m.rebuildPath(b,h),b.generateStr(),S.__svgPathVersion=y,S.__svgPathStrokePercent=h),o.d=b.getStr()}else{c=n.type;var p=Math.pow(10,d);i[0](r,o,p)}return hL(o,n.transform),wC(o,e,n,t),t.animation&&uc(n,o,t),_n(c,n.id+"",o)}function DC(n,t){return n instanceof Ze?bC(n,t):n instanceof Zn?function ez(n,t){var e=n.style,r=e.image;if(r&&!fe(r)&&(SC(r)?r=r.src:Dh(r)&&(r=r.toDataURL())),r){var i=e.x||0,o=e.y||0,h={href:r,width:e.width,height:e.height};return i&&(h.x=i),o&&(h.y=o),hL(h,n.transform),wC(h,e,n,t),t.animation&&uc(n,h,t),_n("image",n.id+"",h)}}(n,t):n instanceof Vd?function gL(n,t){var e=n.style,r=e.text;if(null!=r&&(r+=""),r&&!isNaN(e.x)&&!isNaN(e.y)){var i=e.font||Us,o=e.x||0,u=function fM(n,t,e){return"top"===e?n+=t/2:"bottom"===e&&(n-=t/2),n}(e.y||0,Jg(i),e.textBaseline),h={"dominant-baseline":"central","text-anchor":cM[e.textAlign]||e.textAlign};if(dA(e)){var d="",p=e.fontStyle,g=bm(e.fontSize);if(!parseFloat(g))return;var y=e.fontWeight;d+="font-size:"+g+";font-family:"+(e.fontFamily||Tg)+";",p&&"normal"!==p&&(d+="font-style:"+p+";"),y&&"normal"!==y&&(d+="font-weight:"+y+";"),h.style=d}else h.style="font: "+i;return r.match(/\s/)&&(h["xml:space"]="preserve"),o&&(h.x=o),u&&(h.y=u),hL(h,n.transform),wC(h,e,n,t),t.animation&&uc(n,h,t),_n("text",n.id+"",h,void 0,r)}}(n,t):void 0}function mL(n,t,e,r){var o,i=n[e],u={gradientUnits:i.global?"userSpaceOnUse":"objectBoundingBox"};if(gk(i))o="linearGradient",u.x1=i.x,u.y1=i.y,u.x2=i.x2,u.y2=i.y2;else{if(!$n(i))return;o="radialGradient",u.cx=ke(i.x,.5),u.cy=ke(i.y,.5),u.r=ke(i.r,.5)}for(var c=i.colorStops,h=[],d=0,p=c.length;d<p;++d){var g=100*uM(c[d].offset)+"%",y=Wg(c[d].color),b=y.opacity,D={offset:g};D["stop-color"]=y.color,b<1&&(D["stop-opacity"]=b),h.push(_n("stop",d+"",D))}var T=rL(_n(o,"",u,h)),M=r.gradientCache,I=M[T];I||(I=r.zrId+"-g"+r.gradientIdx++,M[T]=I,u.id=I,r.defs[I]=_n(o,I,u,h)),t[e]=kr(I)}function g0(n,t,e,r){var g,i=n.style[e],o=n.getBoundingRect(),u={},c=i.repeat,h="no-repeat"===c,d="repeat-x"===c,p="repeat-y"===c;if(Qs(i)){var m=i.imageWidth,y=i.imageHeight,S=void 0,b=i.image;if(fe(b)?S=b:SC(b)?S=b.src:Dh(b)&&(S=b.toDataURL()),typeof Image>"u"){var D="Image width/height must been given explictly in svg-ssr renderer.";Jn(m,D),Jn(y,D)}else if(null==m||null==y){var C=function(V,B){if(V){var H=V.elm,G=m||B.width,j=y||B.height;"pattern"===V.tag&&(d?(j=1,G/=o.width):p&&(G=1,j/=o.height)),V.attrs.width=G,V.attrs.height=j,H&&(H.setAttribute("width",G),H.setAttribute("height",j))}},T=jM(S,null,n,function(V){h||C(E,V),C(g,V)});T&&T.width&&T.height&&(m=m||T.width,y=y||T.height)}g=_n("image","img",{href:S,width:m,height:y}),u.width=m,u.height=y}else i.svgElement&&(g=Te(i.svgElement),u.width=i.svgWidth,u.height=i.svgHeight);if(g){var M,I;h?M=I=1:d?(I=1,M=u.width/o.width):p?(M=1,I=u.height/o.height):u.patternUnits="userSpaceOnUse",null!=M&&!isNaN(M)&&(u.width=M),null!=I&&!isNaN(I)&&(u.height=I);var L=OS(i);L&&(u.patternTransform=L);var E=_n("pattern","",u,[g]),R=rL(E),O=r.patternCache,k=O[R];k||(k=r.zrId+"-p"+r.patternIdx++,O[R]=k,u.id=k,E=r.defs[k]=_n("pattern",k,u,[g])),t[e]=kr(k)}}function yL(n,t,e){var r=e.clipPathCache,i=e.defs,o=r[n.id];if(!o){var u={id:o=e.zrId+"-c"+e.clipPathIdx++};r[n.id]=o,i[o]=_n("clipPath",o,u,[bC(n,e)])}t["clip-path"]=kr(o)}function CC(n){return document.createTextNode(n)}function Mo(n,t,e){n.insertBefore(t,e)}function _L(n,t){n.removeChild(t)}function SL(n,t){n.appendChild(t)}function xC(n){return n.parentNode}function TC(n){return n.nextSibling}function MC(n,t){n.textContent=t}var wL=58,Ch=120,l4=_n("","");function bL(n){return void 0===n}function Ms(n){return void 0!==n}function u4(n,t,e){for(var r={},i=t;i<=e;++i){var o=n[i].key;void 0!==o&&(r[o]=i)}return r}function m0(n,t){return n.tag===t.tag&&n.key===t.key}function pv(n){var t,e=n.children,r=n.tag;if(Ms(r)){var i=n.elm=p0(r);if(DL(l4,n),te(e))for(t=0;t<e.length;++t){var o=e[t];null!=o&&SL(i,pv(o))}else Ms(n.text)&&!xe(n.text)&&SL(i,CC(n.text))}else n.elm=CC(n.text);return n.elm}function tz(n,t,e,r,i){for(;r<=i;++r){var o=e[r];null!=o&&Mo(n,pv(o),t)}}function AC(n,t,e,r){for(;e<=r;++e){var i=t[e];null!=i&&(Ms(i.tag)?_L(xC(i.elm),i.elm):_L(n,i.elm))}}function DL(n,t){var e,r=t.elm,i=n&&n.attrs||{},o=t.attrs||{};if(i!==o){for(e in o){var u=o[e];i[e]!==u&&(!0===u?r.setAttribute(e,""):!1===u?r.removeAttribute(e):e.charCodeAt(0)!==Ch?r.setAttribute(e,u):"xmlns:xlink"===e||"xmlns"===e?r.setAttributeNS(XB,e,u):e.charCodeAt(3)===wL?r.setAttributeNS(mC,e,u):e.charCodeAt(5)===wL?r.setAttributeNS(d0,e,u):r.setAttribute(e,u))}for(e in i)e in o||r.removeAttribute(e)}}function vv(n,t){var e=t.elm=n.elm,r=n.children,i=t.children;n!==t&&(DL(n,t),bL(t.text)?Ms(r)&&Ms(i)?r!==i&&function c4(n,t,e){for(var g,m,y,r=0,i=0,o=t.length-1,u=t[0],c=t[o],h=e.length-1,d=e[0],p=e[h];r<=o&&i<=h;)null==u?u=t[++r]:null==c?c=t[--o]:null==d?d=e[++i]:null==p?p=e[--h]:m0(u,d)?(vv(u,d),u=t[++r],d=e[++i]):m0(c,p)?(vv(c,p),c=t[--o],p=e[--h]):m0(u,p)?(vv(u,p),Mo(n,u.elm,TC(c.elm)),u=t[++r],p=e[--h]):m0(c,d)?(vv(c,d),Mo(n,c.elm,u.elm),c=t[--o],d=e[++i]):(bL(g)&&(g=u4(t,r,o)),bL(m=g[d.key])||(y=t[m]).tag!==d.tag?Mo(n,pv(d),u.elm):(vv(y,d),t[m]=void 0,Mo(n,y.elm,u.elm)),d=e[++i]);(r<=o||i<=h)&&(r>o?tz(n,null==e[h+1]?null:e[h+1].elm,e,i,h):AC(n,t,r,o))}(e,r,i):Ms(i)?(Ms(n.text)&&MC(e,""),tz(e,null,i,0,i.length-1)):Ms(r)?AC(e,r,0,r.length-1):Ms(n.text)&&MC(e,""):n.text!==t.text&&(Ms(r)&&AC(e,r,0,r.length-1),MC(e,t.text)))}var f4=0,IC=function(){function n(t,e,r){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=e,this._opts=r=J({},r),this.root=t,this._id="zr"+f4++,this._oldVNode=aL(r.width,r.height),t&&!r.ssr){var i=this._viewport=document.createElement("div");i.style.cssText="position:relative;overflow:hidden";var o=this._svgDom=this._oldVNode.elm=p0("svg");DL(null,this._oldVNode),i.appendChild(o),t.appendChild(i)}this.resize(r.width,r.height)}return n.prototype.getType=function(){return this.type},n.prototype.getViewportRoot=function(){return this._viewport},n.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},n.prototype.getSvgDom=function(){return this._svgDom},n.prototype.refresh=function(){if(this.root){var t=this.renderToVNode({willUpdate:!0});t.attrs.style="position:absolute;left:0;top:0;user-select:none",function nz(n,t){if(m0(n,t))vv(n,t);else{var e=n.elm,r=xC(e);pv(t),null!==r&&(Mo(r,t.elm,TC(e)),AC(r,[n],0,0))}}(this._oldVNode,t),this._oldVNode=t}},n.prototype.renderOneToVNode=function(t){return DC(t,yC(this._id))},n.prototype.renderToVNode=function(t){t=t||{};var e=this.storage.getDisplayList(!0),r=this._width,i=this._height,o=yC(this._id);o.animation=t.animation,o.willUpdate=t.willUpdate,o.compress=t.compress;var u=[],c=this._bgVNode=function rz(n,t,e,r){var i;if(e&&"none"!==e)if(i=_n("rect","bg",{width:n,height:t,x:"0",y:"0",id:"0"}),bd(e))mL({fill:e},i.attrs,"fill",r);else if(hM(e))g0({style:{fill:e},dirty:ht,getBoundingRect:function(){return{width:n,height:t}}},i.attrs,"fill",r);else{var o=Wg(e),c=o.opacity;i.attrs.fill=o.color,c<1&&(i.attrs["fill-opacity"]=c)}return i}(r,i,this._backgroundColor,o);c&&u.push(c);var h=t.compress?null:this._mainVNode=_n("g","main",{},[]);this._paintList(e,o,h?h.children:u),h&&u.push(h);var d=re(Xe(o.defs),function(m){return o.defs[m]});if(d.length&&u.push(_n("defs","defs",{},d)),t.animation){var p=function iL(n,t,e){var r=(e=e||{}).newline?"\n":"",i=" {"+r,o=r+"}",u=re(Xe(n),function(h){return h+i+re(Xe(n[h]),function(d){return d+":"+n[h][d]+";"}).join(r)+o}).join(r),c=re(Xe(t),function(h){return"@keyframes "+h+i+re(Xe(t[h]),function(d){return d+i+re(Xe(t[h][d]),function(p){var g=t[h][d][p];return"d"===p&&(g='path("'+g+'")'),p+":"+g+";"}).join(r)+o}).join(r)+o}).join(r);return u||c?["<![CDATA[",u,c,"]]>"].join(r):""}(o.cssNodes,o.cssAnims,{newline:!0});if(p){var g=_n("style","stl",{},[],p);u.push(g)}}return aL(r,i,u,t.useViewBox)},n.prototype.renderToString=function(t){return rL(this.renderToVNode({animation:ke((t=t||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:ke(t.useViewBox,!0)}),{newline:!0})},n.prototype.setBackgroundColor=function(t){this._backgroundColor=t},n.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},n.prototype._paintList=function(t,e,r){for(var c,h,i=t.length,o=[],u=0,d=0,p=0;p<i;p++){var g=t[p];if(!g.invisible){var m=g.__clipPaths,y=m&&m.length||0,S=h&&h.length||0,b=void 0;for(b=Math.max(y-1,S-1);b>=0&&(!m||!h||m[b]!==h[b]);b--);for(var D=S-1;D>b;D--)c=o[--u-1];for(var C=b+1;C<y;C++){var T={};yL(m[C],T,e);var M=_n("g","clip-g-"+d++,T,[]);(c?c.children:r).push(M),o[u++]=M,c=M}h=m;var I=DC(g,e);I&&(c?c.children:r).push(I)}}},n.prototype.resize=function(t,e){var r=this._opts,i=this.root,o=this._viewport;if(null!=t&&(r.width=t),null!=e&&(r.height=e),i&&o&&(o.style.display="none",t=pa(i,0,r),e=pa(i,1,r),o.style.display=""),this._width!==t||this._height!==e){if(this._width=t,this._height=e,o){var u=o.style;u.width=t+"px",u.height=e+"px"}if(hM(this._backgroundColor))this.refresh();else{var c=this._svgDom;c&&(c.setAttribute("width",t),c.setAttribute("height",e));var h=this._bgVNode&&this._bgVNode.elm;h&&(h.setAttribute("width",t),h.setAttribute("height",e))}}},n.prototype.getWidth=function(){return this._width},n.prototype.getHeight=function(){return this._height},n.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},n.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},n.prototype.toDataURL=function(t){var e=this.renderToString(),r="data:image/svg+xml;";return t?(e=dM(e))&&r+"base64,"+e:r+"charset=UTF-8,"+encodeURIComponent(e)},n}();const iz=IC;var EC=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return q(t,n),t.prototype.getInitialData=function(e){return Ua(null,this,{useEncodeDefaulter:!0})},t.prototype.getLegendIcon=function(e){var r=new Ee,i=dn("line",0,e.itemHeight/2,e.itemWidth,0,e.lineStyle.stroke,!1);r.add(i),i.setStyle(e.lineStyle);var o=this.getData().getVisual("symbol"),u=this.getData().getVisual("symbolRotate"),c="none"===o?"circle":o,h=.8*e.itemHeight,d=dn(c,(e.itemWidth-h)/2,(e.itemHeight-h)/2,h,h,e.itemStyle.fill);return r.add(d),d.setStyle(e.itemStyle),d.rotation=("inherit"===e.iconRotate?u:e.iconRotate||0)*Math.PI/180,d.setOrigin([e.itemWidth/2,e.itemHeight/2]),c.indexOf("empty")>-1&&(d.style.stroke=d.style.fill,d.style.fill="#fff",d.style.lineWidth=2),r},t.type="series.line",t.dependencies=["grid","polar"],t.defaultOption={z:3,coordinateSystem:"cartesian2d",legendHoverLink:!0,clip:!0,label:{position:"top"},endLabel:{show:!1,valueAnimation:!0,distance:8},lineStyle:{width:2,type:"solid"},emphasis:{scale:!0},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0,universalTransition:{divideShape:"clone"},triggerLineEvent:!1},t}(Nt);const az=EC;function xh(n,t){var e=n.mapDimensionsAll("defaultedLabel"),r=e.length;if(1===r){var i=Yf(n,t,e[0]);return null!=i?i+"":null}if(r){for(var o=[],u=0;u<e.length;u++)o.push(Yf(n,t,e[u]));return o.join(" ")}}function y0(n,t){var e=n.mapDimensionsAll("defaultedLabel");if(!te(t))return t+"";for(var r=[],i=0;i<e.length;i++){var o=n.getDimensionIndex(e[i]);o>=0&&r.push(t[o])}return r.join(" ")}var CL=function(n){function t(e,r,i,o){var u=n.call(this)||this;return u.updateData(e,r,i,o),u}return q(t,n),t.prototype._createSymbol=function(e,r,i,o,u){this.removeAll();var c=dn(e,-1,-1,2,2,null,u);c.attr({z2:100,culling:!0,scaleX:o[0]/2,scaleY:o[1]/2}),c.drift=Is,this._symbolType=e,this.add(c)},t.prototype.stopSymbolAnimation=function(e){this.childAt(0).stopAnimation(null,e)},t.prototype.getSymbolType=function(){return this._symbolType},t.prototype.getSymbolPath=function(){return this.childAt(0)},t.prototype.highlight=function(){Jo(this.childAt(0))},t.prototype.downplay=function(){es(this.childAt(0))},t.prototype.setZ=function(e,r){var i=this.childAt(0);i.zlevel=e,i.z=r},t.prototype.setDraggable=function(e,r){var i=this.childAt(0);i.draggable=e,i.cursor=!r&&e?"move":i.cursor},t.prototype.updateData=function(e,r,i,o){this.silent=!1;var u=e.getItemVisual(r,"symbol")||"circle",c=e.hostModel,h=t.getSymbolSize(e,r),d=u!==this._symbolType,p=o&&o.disableAnimation;if(d){var g=e.getItemVisual(r,"symbolKeepAspect");this._createSymbol(u,e,r,h,g)}else{(m=this.childAt(0)).silent=!1;var y={scaleX:h[0]/2,scaleY:h[1]/2};p?m.attr(y):dt(m,y,c,r),zr(m)}if(this._updateCommon(e,r,h,i,o),d){var m=this.childAt(0);p||(y={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:m.style.opacity}},m.scaleX=m.scaleY=0,m.style.opacity=0,$t(m,y,c,r))}p&&this.childAt(0).stopAnimation("leave")},t.prototype._updateCommon=function(e,r,i,o,u){var d,p,g,m,y,S,b,D,C,c=this.childAt(0),h=e.hostModel;if(o&&(d=o.emphasisItemStyle,p=o.blurItemStyle,g=o.selectItemStyle,m=o.focus,y=o.blurScope,b=o.labelStatesModels,D=o.hoverScale,C=o.cursorStyle,S=o.emphasisDisabled),!o||e.hasItemOption){var T=o&&o.itemModel?o.itemModel:e.getItemModel(r),M=T.getModel("emphasis");d=M.getModel("itemStyle").getItemStyle(),g=T.getModel(["select","itemStyle"]).getItemStyle(),p=T.getModel(["blur","itemStyle"]).getItemStyle(),m=M.get("focus"),y=M.get("blurScope"),S=M.get("disabled"),b=qn(T),D=M.getShallow("scale"),C=T.getShallow("cursor")}var I=e.getItemVisual(r,"symbolRotate");c.attr("rotation",(I||0)*Math.PI/180||0);var L=Nl(e.getItemVisual(r,"symbolOffset"),i);L&&(c.x=L[0],c.y=L[1]),C&&c.attr("cursor",C);var E=e.getItemVisual(r,"style"),R=E.fill;if(c instanceof Zn){var O=c.style;c.useStyle(J({image:O.image,x:O.x,y:O.y,width:O.width,height:O.height},E))}else c.useStyle(c.__isEmptyBrush?J({},E):E),c.style.decal=null,c.setColor(R,u&&u.symbolInnerColor),c.style.strokeNoScale=!0;var k=e.getItemVisual(r,"liftZ"),V=this._z2;null!=k?null==V&&(this._z2=c.z2,c.z2+=k):null!=V&&(c.z2=V,this._z2=null);var B=u&&u.useNameLabel;xr(c,b,{labelFetcher:h,labelDataIndex:r,defaultText:function H(W){return B?e.getName(W):xh(e,W)},inheritColor:R,defaultOpacity:E.opacity}),this._sizeX=i[0]/2,this._sizeY=i[1]/2;var G=c.ensureState("emphasis");G.style=d,c.ensureState("select").style=g,c.ensureState("blur").style=p;var j=null==D||!0===D?Math.max(1.1,3/this._sizeY):isFinite(D)&&D>0?+D:1;G.scaleX=this._sizeX*j,G.scaleY=this._sizeY*j,this.setSymbolScale(1),nn(this,m,y,S)},t.prototype.setSymbolScale=function(e){this.scaleX=this.scaleY=e},t.prototype.fadeOut=function(e,r,i){var o=this.childAt(0),u=Oe(this).dataIndex,c=i&&i.animation;if(this.silent=o.silent=!0,i&&i.fadeLabel){var h=o.getTextContent();h&&pl(h,{style:{opacity:0}},r,{dataIndex:u,removeOpt:c,cb:function(){o.removeTextContent()}})}else o.removeTextContent();pl(o,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:u,cb:e,removeOpt:c})},t.getSymbolSize=function(e,r){return Ju(e.getItemVisual(r,"symbolSize"))},t}(Ee);function Is(n,t){this.parent.drift(n,t)}const Wa=CL;function _0(n,t,e,r){return t&&!isNaN(t[0])&&!isNaN(t[1])&&!(r.isIgnore&&r.isIgnore(e))&&!(r.clipShape&&!r.clipShape.contain(t[0],t[1]))&&"none"!==n.getItemVisual(e,"symbol")}function PC(n){return null!=n&&!xe(n)&&(n={isIgnore:n}),n||{}}function xL(n){var t=n.hostModel,e=t.getModel("emphasis");return{emphasisItemStyle:e.getModel("itemStyle").getItemStyle(),blurItemStyle:t.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:t.getModel(["select","itemStyle"]).getItemStyle(),focus:e.get("focus"),blurScope:e.get("blurScope"),emphasisDisabled:e.get("disabled"),hoverScale:e.get("scale"),labelStatesModels:qn(t),cursorStyle:t.get("cursor")}}var LC=function(){function n(t){this.group=new Ee,this._SymbolCtor=t||Wa}return n.prototype.updateData=function(t,e){this._progressiveEls=null,e=PC(e);var r=this.group,i=t.hostModel,o=this._data,u=this._SymbolCtor,c=e.disableAnimation,h=xL(t),d={disableAnimation:c},p=e.getSymbolPoint||function(g){return t.getItemLayout(g)};o||r.removeAll(),t.diff(o).add(function(g){var m=p(g);if(_0(t,m,g,e)){var y=new u(t,g,h,d);y.setPosition(m),t.setItemGraphicEl(g,y),r.add(y)}}).update(function(g,m){var y=o.getItemGraphicEl(m),S=p(g);if(_0(t,S,g,e)){var b=t.getItemVisual(g,"symbol")||"circle",D=y&&y.getSymbolType&&y.getSymbolType();if(!y||D&&D!==b)r.remove(y),(y=new u(t,g,h,d)).setPosition(S);else{y.updateData(t,g,h,d);var C={x:S[0],y:S[1]};c?y.attr(C):dt(y,C,i)}r.add(y),t.setItemGraphicEl(g,y)}else r.remove(y)}).remove(function(g){var m=o.getItemGraphicEl(g);m&&m.fadeOut(function(){r.remove(m)},i)}).execute(),this._getSymbolPoint=p,this._data=t},n.prototype.updateLayout=function(){var t=this,e=this._data;e&&e.eachItemGraphicEl(function(r,i){var o=t._getSymbolPoint(i);r.setPosition(o),r.markRedraw()})},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=xL(t),this._data=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e,r){function i(h){h.isGroup||(h.incremental=!0,h.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],r=PC(r);for(var o=t.start;o<t.end;o++){var u=e.getItemLayout(o);if(_0(e,u,o,r)){var c=new this._SymbolCtor(e,o,this._seriesScope);c.traverse(i),c.setPosition(u),this.group.add(c),e.setItemGraphicEl(o,c),this._progressiveEls.push(c)}}},n.prototype.eachRendered=function(t){ms(this._progressiveEls||this.group,t)},n.prototype.remove=function(t){var e=this.group,r=this._data;r&&t?r.eachItemGraphicEl(function(i){i.fadeOut(function(){e.remove(i)},r.hostModel)}):e.removeAll()},n}();const gv=LC;function TL(n,t,e){var r=n.getBaseAxis(),i=n.getOtherAxis(r),o=function ML(n,t){var e=0,r=n.scale.getExtent();return"start"===t?e=r[0]:"end"===t?e=r[1]:ft(t)&&!isNaN(t)?e=t:r[0]>0?e=r[0]:r[1]<0&&(e=r[1]),e}(i,e),u=r.dim,c=i.dim,h=t.mapDimension(c),d=t.mapDimension(u),p="x"===c||"radius"===c?1:0,g=re(n.dimensions,function(S){return t.mapDimension(S)}),m=!1,y=t.getCalculationInfo("stackResultDimension");return Ds(t,g[0])&&(m=!0,g[0]=y),Ds(t,g[1])&&(m=!0,g[1]=y),{dataDimsForPoint:g,valueStart:o,valueAxisDim:c,baseAxisDim:u,stacked:!!m,valueDim:h,baseDim:d,baseDataOffset:p,stackedOverDimension:t.getCalculationInfo("stackedOverDimension")}}function AL(n,t,e,r){var i=NaN;n.stacked&&(i=e.get(e.getCalculationInfo("stackedOverDimension"),r)),isNaN(i)&&(i=n.valueStart);var o=n.baseDataOffset,u=[];return u[o]=e.get(n.baseDim,r),u[1-o]=i,t.dataToPoint(u)}var Bi=Math.min,Sn=Math.max;function At(n,t){return isNaN(n)||isNaN(t)}function Kr(n,t,e,r,i,o,u,c,h){for(var d,p,g,m,y,S,b=e,D=0;D<r;D++){var C=t[2*b],T=t[2*b+1];if(b>=i||b<0)break;if(At(C,T)){if(h){b+=o;continue}break}if(b===e)n[o>0?"moveTo":"lineTo"](C,T),g=C,m=T;else{var M=C-d,I=T-p;if(M*M+I*I<.5){b+=o;continue}if(u>0){for(var L=b+o,E=t[2*L],R=t[2*L+1];E===C&&R===T&&D<r;)D++,E=t[2*(L+=o)],R=t[2*L+1],M=(C=t[2*(b+=o)])-d,I=(T=t[2*b+1])-p;var O=D+1;if(h)for(;At(E,R)&&O<r;)O++,E=t[2*(L+=o)],R=t[2*L+1];var k=.5,V=0,B=0,H=void 0,G=void 0;if(O>=r||At(E,R))y=C,S=T;else{V=E-d,B=R-p;var j=C-d,W=E-C,Y=T-p,K=R-T,X=void 0,ee=void 0;if("x"===c){var oe=V>0?1:-1;y=C-oe*(X=Math.abs(j))*u,S=T,H=C+oe*(ee=Math.abs(W))*u,G=T}else if("y"===c){var he=B>0?1:-1;y=C,S=T-he*(X=Math.abs(Y))*u,H=C,G=T+he*(ee=Math.abs(K))*u}else X=Math.sqrt(j*j+Y*Y),y=C-V*u*(1-(k=(ee=Math.sqrt(W*W+K*K))/(ee+X))),S=T-B*u*(1-k),G=T+B*u*k,H=Bi(H=C+V*u*k,Sn(E,C)),G=Bi(G,Sn(R,T)),H=Sn(H,Bi(E,C)),S=T-(B=(G=Sn(G,Bi(R,T)))-T)*X/ee,y=Bi(y=C-(V=H-C)*X/ee,Sn(d,C)),S=Bi(S,Sn(p,T)),H=C+(V=C-(y=Sn(y,Bi(d,C))))*ee/X,G=T+(B=T-(S=Sn(S,Bi(p,T))))*ee/X}n.bezierCurveTo(g,m,y,S,C,T),g=H,m=G}else n.lineTo(C,T)}d=C,p=T,b+=o}return D}var wn=function n(){this.smooth=0,this.smoothConstraint=!0},oz=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-polyline",r}return q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new wn},t.prototype.buildPath=function(e,r){var i=r.points,o=0,u=i.length/2;if(r.connectNulls){for(;u>0&&At(i[2*u-2],i[2*u-1]);u--);for(;o<u&&At(i[2*o],i[2*o+1]);o++);}for(;o<u;)o+=Kr(e,i,o,u,u,1,r.smooth,r.smoothMonotone,r.connectNulls)+1},t.prototype.getPointOn=function(e,r){this.path||(this.createPathProxy(),this.buildPath(this.path,this.shape));for(var c,h,o=this.path.data,u=Qo.CMD,d="x"===r,p=[],g=0;g<o.length;){var y=void 0,S=void 0,b=void 0,D=void 0,C=void 0,T=void 0,M=void 0;switch(o[g++]){case u.M:c=o[g++],h=o[g++];break;case u.L:if(y=o[g++],S=o[g++],(M=d?(e-c)/(y-c):(e-h)/(S-h))<=1&&M>=0){var I=d?(S-h)*M+h:(y-c)*M+c;return d?[e,I]:[I,e]}c=y,h=S;break;case u.C:y=o[g++],S=o[g++],b=o[g++],D=o[g++],C=o[g++],T=o[g++];var L=d?ri(c,y,b,C,e,p):ri(h,S,D,T,e,p);if(L>0)for(var E=0;E<L;E++){var R=p[E];if(R<=1&&R>=0)return I=d?Le(h,S,D,T,R):Le(c,y,b,C,R),d?[e,I]:[I,e]}c=C,h=T}}},t}(Ze),sz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t}(wn),EL=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-polygon",r}return q(t,n),t.prototype.getDefaultShape=function(){return new sz},t.prototype.buildPath=function(e,r){var i=r.points,o=r.stackedOnPoints,u=0,c=i.length/2,h=r.smoothMonotone;if(r.connectNulls){for(;c>0&&At(i[2*c-2],i[2*c-1]);c--);for(;u<c&&At(i[2*u],i[2*u+1]);u++);}for(;u<c;){var d=Kr(e,i,u,c,c,1,r.smooth,h,r.connectNulls);Kr(e,o,u+d-1,d,c,-1,r.stackedOnSmooth,h,r.connectNulls),u+=d+1,e.closePath()}},t}(Ze);function PL(n,t,e,r,i){var o=n.getArea(),u=o.x,c=o.y,h=o.width,d=o.height,p=e.get(["lineStyle","width"])||2;u-=p/2,c-=p/2,h+=p,d+=p,u=Math.floor(u),h=Math.round(h);var g=new st({shape:{x:u,y:c,width:h,height:d}});if(t){var m=n.getBaseAxis(),y=m.isHorizontal(),S=m.inverse;y?(S&&(g.shape.x+=h),g.shape.width=0):(S||(g.shape.y+=d),g.shape.height=0);var b=_e(i)?function(D){i(D,g)}:null;$t(g,{shape:{width:h,height:d,x:u,y:c}},e,null,r,b)}return g}function LL(n,t,e){var r=n.getArea(),i=Kt(r.r0,1),o=Kt(r.r,1),u=new jr({shape:{cx:Kt(n.cx,1),cy:Kt(n.cy,1),r0:i,r:o,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}});return t&&("angle"===n.getBaseAxis().dim?u.shape.endAngle=r.startAngle:u.shape.r=i,$t(u,{shape:{endAngle:r.endAngle,r:o}},e)),u}function w0(n,t,e,r,i){return n?"polar"===n.type?LL(n,t,e):"cartesian2d"===n.type?PL(n,t,e,r,i):null:null}function Th(n,t){return n.type===t}function lz(n,t){if(n.length===t.length){for(var e=0;e<n.length;e++)if(n[e]!==t[e])return;return!0}}function mv(n){for(var t=1/0,e=1/0,r=-1/0,i=-1/0,o=0;o<n.length;){var u=n[o++],c=n[o++];isNaN(u)||(t=Math.min(u,t),r=Math.max(u,r)),isNaN(c)||(e=Math.min(c,e),i=Math.max(c,i))}return[[t,e],[r,i]]}function yv(n,t){var e=mv(n),r=e[0],i=e[1],o=mv(t),u=o[0],c=o[1];return Math.max(Math.abs(r[0]-u[0]),Math.abs(r[1]-u[1]),Math.abs(i[0]-c[0]),Math.abs(i[1]-c[1]))}function _v(n){return ft(n)?n:n?.5:0}function Ao(n,t,e,r){var i=t.getBaseAxis(),o="x"===i.dim||"radius"===i.dim?0:1,u=[],c=0,h=[],d=[],p=[],g=[];if(r){for(c=0;c<n.length;c+=2)!isNaN(n[c])&&!isNaN(n[c+1])&&g.push(n[c],n[c+1]);n=g}for(c=0;c<n.length-2;c+=2)switch(p[0]=n[c+2],p[1]=n[c+3],d[0]=n[c],d[1]=n[c+1],u.push(d[0],d[1]),e){case"end":h[o]=p[o],h[1-o]=d[1-o],u.push(h[0],h[1]);break;case"middle":var y=[];h[o]=y[o]=(d[o]+p[o])/2,h[1-o]=d[1-o],y[1-o]=p[1-o],u.push(h[0],h[1]),u.push(y[0],y[1]);break;default:h[o]=d[o],h[1-o]=p[1-o],u.push(h[0],h[1])}return u.push(n[c++],n[c++]),u}function cz(n,t){return isNaN(n)||isNaN(t)}function NL(n,t){return[n[2*t],n[2*t+1]]}function hz(n){if(n.get(["endLabel","show"]))return!0;for(var t=0;t<Cr.length;t++)if(n.get([Cr[t],"endLabel","show"]))return!0;return!1}function Si(n,t,e,r){if(Th(t,"cartesian2d")){var i=r.getModel("endLabel"),o=i.get("valueAnimation"),u=r.getData(),c={lastFrameIndex:0},h=hz(r)?function(y,S){n._endLabelOnDuring(y,S,u,c,o,i,t)}:null,d=t.getBaseAxis().isHorizontal(),p=PL(t,e,r,function(){var y=n._endLabel;y&&e&&null!=c.originalX&&y.attr({x:c.originalX,y:c.originalY})},h);if(!r.get("clip",!0)){var g=p.shape,m=Math.max(g.width,g.height);d?(g.y-=m,g.height+=2*m):(g.x-=m,g.width+=2*m)}return h&&h(1,p),p}return LL(t,e,r)}var dz=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.init=function(){var e=new Ee,r=new gv;this.group.add(r.group),this._symbolDraw=r,this._lineGroup=e},t.prototype.render=function(e,r,i){var o=this,u=e.coordinateSystem,c=this.group,h=e.getData(),d=e.getModel("lineStyle"),p=e.getModel("areaStyle"),g=h.getLayout("points")||[],m="polar"===u.type,y=this._coordSys,S=this._symbolDraw,b=this._polyline,D=this._polygon,C=this._lineGroup,T=!r.ssr&&e.isAnimationEnabled(),M=!p.isEmpty(),I=p.get("origin"),L=TL(u,h,I),E=M&&function ya(n,t,e){if(!e.valueDim)return[];for(var r=t.count(),i=ja(2*r),o=0;o<r;o++){var u=AL(e,n,t,o);i[2*o]=u[0],i[2*o+1]=u[1]}return i}(u,h,L),R=e.get("showSymbol"),O=e.get("connectNulls"),k=R&&!m&&function p4(n,t,e){var r=n.get("showAllSymbol"),i="auto"===r;if(!r||i){var o=e.getAxesByScale("ordinal")[0];if(o&&(!i||!function uz(n,t){var e=n.getExtent(),r=Math.abs(e[1]-e[0])/n.scale.count();isNaN(r)&&(r=0);for(var i=t.count(),o=Math.max(1,Math.round(i/5)),u=0;u<i;u+=o)if(1.5*Wa.getSymbolSize(t,u)[n.isHorizontal()?1:0]>r)return!1;return!0}(o,t))){var u=t.mapDimension(o.dim),c={};return F(o.getViewLabels(),function(h){var d=o.scale.getRawOrdinalNumber(h.tickValue);c[d]=1}),function(h){return!c.hasOwnProperty(t.get(u,h))}}}}(e,h,u),V=this._data;V&&V.eachItemGraphicEl(function(ut,Je){ut.__temp&&(c.remove(ut),V.setItemGraphicEl(Je,null))}),R||S.remove(),c.add(C);var H,B=!m&&e.get("step");u&&u.getArea&&e.get("clip",!0)&&(null!=(H=u.getArea()).width?(H.x-=.1,H.y-=.1,H.width+=.2,H.height+=.2):H.r0&&(H.r0-=.5,H.r+=.5)),this._clipShapeForSymbol=H;var G=function d4(n,t,e){var r=n.getVisual("visualMeta");if(r&&r.length&&n.count()&&"cartesian2d"===t.type){for(var i,o,u=r.length-1;u>=0;u--){var c=n.getDimensionInfo(r[u].dimension);if("x"===(i=c&&c.coordDim)||"y"===i){o=r[u];break}}if(o){var h=t.getAxis(i),d=re(o.stops,function(M){return{coord:h.toGlobalCoord(h.dataToCoord(M.value)),color:M.color}}),p=d.length,g=o.outerColors.slice();p&&d[0].coord>d[p-1].coord&&(d.reverse(),g.reverse());var m=function h4(n,t){var i,o,e=[],r=n.length;function u(p,g,m){var y=p.coord;return{coord:m,color:lM((m-y)/(g.coord-y),[p.color,g.color])}}for(var c=0;c<r;c++){var h=n[c],d=h.coord;if(d<0)i=h;else{if(d>t){o?e.push(u(o,h,t)):i&&e.push(u(i,h,0),u(i,h,t));break}i&&(e.push(u(i,h,0)),i=null),e.push(h),o=h}}return e}(d,"x"===i?e.getWidth():e.getHeight()),y=m.length;if(!y&&p)return d[0].coord<0?g[1]?g[1]:d[p-1].color:g[0]?g[0]:d[0].color;var b=m[0].coord-10,D=m[y-1].coord+10,C=D-b;if(C<.001)return"transparent";F(m,function(M){M.offset=(M.coord-b)/C}),m.push({offset:y?m[y-1].offset:.5,color:g[1]||"transparent"}),m.unshift({offset:y?m[0].offset:.5,color:g[0]||"transparent"});var T=new eh(0,0,0,0,m,!0);return T[i]=b,T[i+"2"]=D,T}}}(h,u,i)||h.getVisual("style")[h.getVisual("drawType")];if(b&&y.type===u.type&&B===this._step){M&&!D?D=this._newPolygon(g,E):D&&!M&&(C.remove(D),D=this._polygon=null),m||this._initOrUpdateEndLabel(e,u,Na(G));var j=C.getClipPath();j?$t(j,{shape:Si(this,u,!1,e).shape},e):C.setClipPath(Si(this,u,!0,e)),R&&S.updateData(h,{isIgnore:k,clipShape:H,disableAnimation:!0,getSymbolPoint:function(ut){return[g[2*ut],g[2*ut+1]]}}),(!lz(this._stackedOnPoints,E)||!lz(this._points,g))&&(T?this._doUpdateAnimation(h,E,u,i,B,I,O):(B&&(g=Ao(g,u,B,O),E&&(E=Ao(E,u,B,O))),b.setShape({points:g}),D&&D.setShape({points:g,stackedOnPoints:E})))}else R&&S.updateData(h,{isIgnore:k,clipShape:H,disableAnimation:!0,getSymbolPoint:function(ut){return[g[2*ut],g[2*ut+1]]}}),T&&this._initSymbolLabelAnimation(h,u,H),B&&(g=Ao(g,u,B,O),E&&(E=Ao(E,u,B,O))),b=this._newPolyline(g),M?D=this._newPolygon(g,E):D&&(C.remove(D),D=this._polygon=null),m||this._initOrUpdateEndLabel(e,u,Na(G)),C.setClipPath(Si(this,u,!0,e));var Y=e.getModel("emphasis"),K=Y.get("focus"),X=Y.get("blurScope"),ee=Y.get("disabled");b.useStyle(De(d.getLineStyle(),{fill:"none",stroke:G,lineJoin:"bevel"})),lr(b,e,"lineStyle"),b.style.lineWidth>0&&"bolder"===e.get(["emphasis","lineStyle","width"])&&(b.getState("emphasis").style.lineWidth=+b.style.lineWidth+1),Oe(b).seriesIndex=e.seriesIndex,nn(b,K,X,ee);var he=_v(e.get("smooth")),me=e.get("smoothMonotone");if(b.setShape({smooth:he,smoothMonotone:me,connectNulls:O}),D){var Ie=h.getCalculationInfo("stackedOnSeries"),Me=0;D.useStyle(De(p.getAreaStyle(),{fill:G,opacity:.7,lineJoin:"bevel",decal:h.getVisual("style").decal})),Ie&&(Me=_v(Ie.get("smooth"))),D.setShape({smooth:he,stackedOnSmooth:Me,smoothMonotone:me,connectNulls:O}),lr(D,e,"areaStyle"),Oe(D).seriesIndex=e.seriesIndex,nn(D,K,X,ee)}var qe=function(ut){o._changePolyState(ut)};h.eachItemGraphicEl(function(ut){ut&&(ut.onHoverStateChange=qe)}),this._polyline.onHoverStateChange=qe,this._data=h,this._coordSys=u,this._stackedOnPoints=E,this._points=g,this._step=B,this._valueOrigin=I,e.get("triggerLineEvent")&&(this.packEventData(e,b),D&&this.packEventData(e,D))},t.prototype.packEventData=function(e,r){Oe(r).eventData={componentType:"series",componentSubType:"line",componentIndex:e.componentIndex,seriesIndex:e.seriesIndex,seriesName:e.name,seriesType:"line"}},t.prototype.highlight=function(e,r,i,o){var u=e.getData(),c=po(u,o);if(this._changePolyState("emphasis"),!(c instanceof Array)&&null!=c&&c>=0){var h=u.getLayout("points"),d=u.getItemGraphicEl(c);if(!d){var p=h[2*c],g=h[2*c+1];if(isNaN(p)||isNaN(g)||this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(p,g))return;var m=e.get("zlevel")||0,y=e.get("z")||0;(d=new Wa(u,c)).x=p,d.y=g,d.setZ(m,y);var S=d.getSymbolPath().getTextContent();S&&(S.zlevel=m,S.z=y,S.z2=this._polyline.z2+1),d.__temp=!0,u.setItemGraphicEl(c,d),d.stopSymbolAnimation(!0),this.group.add(d)}d.highlight()}else Mt.prototype.highlight.call(this,e,r,i,o)},t.prototype.downplay=function(e,r,i,o){var u=e.getData(),c=po(u,o);if(this._changePolyState("normal"),null!=c&&c>=0){var h=u.getItemGraphicEl(c);h&&(h.__temp?(u.setItemGraphicEl(c,null),this.group.remove(h)):h.downplay())}else Mt.prototype.downplay.call(this,e,r,i,o)},t.prototype._changePolyState=function(e){var r=this._polygon;dl(this._polyline,e),r&&dl(r,e)},t.prototype._newPolyline=function(e){var r=this._polyline;return r&&this._lineGroup.remove(r),r=new oz({shape:{points:e},segmentIgnoreThreshold:2,z2:10}),this._lineGroup.add(r),this._polyline=r,r},t.prototype._newPolygon=function(e,r){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new EL({shape:{points:e,stackedOnPoints:r},segmentIgnoreThreshold:2}),this._lineGroup.add(i),this._polygon=i,i},t.prototype._initSymbolLabelAnimation=function(e,r,i){var o,u,c=r.getBaseAxis(),h=c.inverse;"cartesian2d"===r.type?(o=c.isHorizontal(),u=!1):"polar"===r.type&&(o="angle"===c.dim,u=!0);var d=e.hostModel,p=d.get("animationDuration");_e(p)&&(p=p(null));var g=d.get("animationDelay")||0,m=_e(g)?g(null):g;e.eachItemGraphicEl(function(y,S){var b=y;if(b){var C=void 0,T=void 0,M=void 0;if(i)if(u){var I=i,L=r.pointToCoord([y.x,y.y]);o?(C=I.startAngle,T=I.endAngle,M=-L[1]/180*Math.PI):(C=I.r0,T=I.r,M=L[0])}else o?(C=i.x,T=i.x+i.width,M=y.x):(C=i.y+i.height,T=i.y,M=y.y);var R=T===C?0:(M-C)/(T-C);h&&(R=1-R);var O=_e(g)?g(S):p*R+m,k=b.getSymbolPath(),V=k.getTextContent();b.attr({scaleX:0,scaleY:0}),b.animateTo({scaleX:1,scaleY:1},{duration:200,setToFinal:!0,delay:O}),V&&V.animateFrom({style:{opacity:0}},{duration:300,delay:O}),k.disableLabelAnimation=!0}})},t.prototype._initOrUpdateEndLabel=function(e,r,i){var o=e.getModel("endLabel");if(hz(e)){var u=e.getData(),c=this._polyline,h=u.getLayout("points");if(!h)return c.removeTextContent(),void(this._endLabel=null);var d=this._endLabel;d||((d=this._endLabel=new rt({z2:200})).ignoreClip=!0,c.setTextContent(this._endLabel),c.disableLabelAnimation=!0);var p=function RL(n){for(var t=n.length/2;t>0&&cz(n[2*t-2],n[2*t-1]);t--);return t-1}(h);p>=0&&(xr(c,qn(e,"endLabel"),{inheritColor:i,labelFetcher:e,labelDataIndex:p,defaultText:function(g,m,y){return null!=y?y0(u,y):xh(u,g)},enableTextSetter:!0},function RC(n,t){var e=t.getBaseAxis(),r=e.isHorizontal(),i=e.inverse,o=r?i?"right":"left":"center",u=r?"middle":i?"top":"bottom";return{normal:{align:n.get("align")||o,verticalAlign:n.get("verticalAlign")||u}}}(o,r)),c.textConfig.position=null)}else this._endLabel&&(this._polyline.removeTextContent(),this._endLabel=null)},t.prototype._endLabelOnDuring=function(e,r,i,o,u,c,h){var d=this._endLabel,p=this._polyline;if(d){e<1&&null==o.originalX&&(o.originalX=d.x,o.originalY=d.y);var g=i.getLayout("points"),m=i.hostModel,y=m.get("connectNulls"),S=c.get("precision"),b=c.get("distance")||0,D=h.getBaseAxis(),C=D.isHorizontal(),T=D.inverse,M=r.shape,I=T?C?M.x:M.y+M.height:C?M.x+M.width:M.y,L=(C?b:0)*(T?-1:1),E=(C?0:-b)*(T?-1:1),R=C?"x":"y",O=function fz(n,t,e){for(var o,u,r=n.length/2,i="x"===e?0:1,c=0,h=-1,d=0;d<r;d++)if(u=n[2*d+i],!isNaN(u)&&!isNaN(n[2*d+1-i])){if(0===d){o=u;continue}if(o<=t&&u>=t||o>=t&&u<=t){h=d;break}c=d,o=u}return{range:[c,h],t:(t-o)/(u-o)}}(g,I,R),k=O.range,V=k[1]-k[0],B=void 0;if(V>=1){if(V>1&&!y){var H=NL(g,k[0]);d.attr({x:H[0]+L,y:H[1]+E}),u&&(B=m.getRawValue(k[0]))}else{(H=p.getPointOn(I,R))&&d.attr({x:H[0]+L,y:H[1]+E});var G=m.getRawValue(k[0]),j=m.getRawValue(k[1]);u&&(B=rl(i,S,G,j,O.t))}o.lastFrameIndex=k[0]}else{var W=1===e||o.lastFrameIndex>0?k[0]:0;H=NL(g,W),u&&(B=m.getRawValue(W)),d.attr({x:H[0]+L,y:H[1]+E})}if(u){var Y=Nu(d);"function"==typeof Y.setLabelText&&Y.setLabelText(B)}}},t.prototype._doUpdateAnimation=function(e,r,i,o,u,c,h){var d=this._polyline,p=this._polygon,g=e.hostModel,m=function S0(n,t,e,r,i,o,u,c){for(var h=function IL(n,t){var e=[];return t.diff(n).add(function(r){e.push({cmd:"+",idx:r})}).update(function(r,i){e.push({cmd:"=",idx:i,idx1:r})}).remove(function(r){e.push({cmd:"-",idx:r})}).execute(),e}(n,t),d=[],p=[],g=[],m=[],y=[],S=[],b=[],D=TL(i,t,u),C=n.getLayout("points")||[],T=t.getLayout("points")||[],M=0;M<h.length;M++){var I=h[M],L=!0,E=void 0,R=void 0;switch(I.cmd){case"=":var O=C[E=2*I.idx],k=C[E+1],V=T[R=2*I.idx1],B=T[R+1];(isNaN(O)||isNaN(k))&&(O=V,k=B),d.push(O,k),p.push(V,B),g.push(e[E],e[E+1]),m.push(r[R],r[R+1]),b.push(t.getRawIndex(I.idx1));break;case"+":var H=I.idx,G=D.dataDimsForPoint,j=i.dataToPoint([t.get(G[0],H),t.get(G[1],H)]);R=2*H,d.push(j[0],j[1]),p.push(T[R],T[R+1]);var W=AL(D,i,t,H);g.push(W[0],W[1]),m.push(r[R],r[R+1]),b.push(t.getRawIndex(H));break;case"-":L=!1}L&&(y.push(I),S.push(S.length))}S.sort(function(qe,ut){return b[qe]-b[ut]});var Y=d.length,K=ja(Y),X=ja(Y),ee=ja(Y),oe=ja(Y),he=[];for(M=0;M<S.length;M++){var me=S[M],Ie=2*M,Me=2*me;K[Ie]=d[Me],K[Ie+1]=d[Me+1],X[Ie]=p[Me],X[Ie+1]=p[Me+1],ee[Ie]=g[Me],ee[Ie+1]=g[Me+1],oe[Ie]=m[Me],oe[Ie+1]=m[Me+1],he[M]=y[me]}return{current:K,next:X,stackedOnCurrent:ee,stackedOnNext:oe,status:he}}(this._data,e,this._stackedOnPoints,r,this._coordSys,0,this._valueOrigin),y=m.current,S=m.stackedOnCurrent,b=m.next,D=m.stackedOnNext;if(u&&(y=Ao(m.current,i,u,h),S=Ao(m.stackedOnCurrent,i,u,h),b=Ao(m.next,i,u,h),D=Ao(m.stackedOnNext,i,u,h)),yv(y,b)>3e3||p&&yv(S,D)>3e3)return d.stopAnimation(),d.setShape({points:b}),void(p&&(p.stopAnimation(),p.setShape({points:b,stackedOnPoints:D})));d.shape.__points=m.current,d.shape.points=y;var C={shape:{points:b}};m.current!==y&&(C.shape.__points=m.next),d.stopAnimation(),dt(d,C,g),p&&(p.setShape({points:y,stackedOnPoints:S}),p.stopAnimation(),dt(p,{shape:{stackedOnPoints:D}},g),d.shape.points!==p.shape.points&&(p.shape.points=d.shape.points));for(var T=[],M=m.status,I=0;I<M.length;I++)if("="===M[I].cmd){var E=e.getItemGraphicEl(M[I].idx1);E&&T.push({el:E,ptIdx:I})}d.animators&&d.animators.length&&d.animators[0].during(function(){p&&p.dirtyShape();for(var R=d.shape.__points,O=0;O<T.length;O++){var k=T[O].el,V=2*T[O].ptIdx;k.x=R[V],k.y=R[V+1],k.markRedraw()}})},t.prototype.remove=function(e){var r=this.group,i=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),i&&i.eachItemGraphicEl(function(o,u){o.__temp&&(r.remove(o),i.setItemGraphicEl(u,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._endLabel=this._data=null},t.type="line",t}(Mt);const pz=dz;function Sv(n,t){return{seriesType:n,plan:So(),reset:function(e){var r=e.getData(),i=e.coordinateSystem,u=t||e.pipelineContext.large;if(i){var c=re(i.dimensions,function(y){return r.mapDimension(y)}).slice(0,2),h=c.length,d=r.getCalculationInfo("stackResultDimension");Ds(r,c[0])&&(c[0]=d),Ds(r,c[1])&&(c[1]=d);var p=r.getStore(),g=r.getDimensionIndex(c[0]),m=r.getDimensionIndex(c[1]);return h&&{progress:function(y,S){for(var D=u&&ja((y.end-y.start)*h),C=[],T=[],M=y.start,I=0;M<y.end;M++){var L=void 0;if(1===h){var E=p.get(g,M);L=i.dataToPoint(E,null,T)}else C[0]=p.get(g,M),C[1]=p.get(m,M),L=i.dataToPoint(C,null,T);u?(D[I++]=L[0],D[I++]=L[1]):S.setItemLayout(M,L.slice())}u&&S.setLayout("points",D)}}}}}}var vz={average:function(n){for(var t=0,e=0,r=0;r<n.length;r++)isNaN(n[r])||(t+=n[r],e++);return 0===e?NaN:t/e},sum:function(n){for(var t=0,e=0;e<n.length;e++)t+=n[e]||0;return t},max:function(n){for(var t=-1/0,e=0;e<n.length;e++)n[e]>t&&(t=n[e]);return isFinite(t)?t:NaN},min:function(n){for(var t=1/0,e=0;e<n.length;e++)n[e]<t&&(t=n[e]);return isFinite(t)?t:NaN},nearest:function(n){return n[0]}},wv=function(n){return Math.round(n.length/2)};function OL(n){return{seriesType:n,reset:function(t,e,r){var i=t.getData(),o=t.get("sampling"),u=t.coordinateSystem,c=i.count();if(c>10&&"cartesian2d"===u.type&&o){var h=u.getBaseAxis(),d=u.getOtherAxis(h),p=h.getExtent(),g=r.getDevicePixelRatio(),m=Math.abs(p[1]-p[0])*(g||1),y=Math.round(c/m);if(isFinite(y)&&y>1){"lttb"===o&&t.setData(i.lttbDownSample(i.mapDimension(d.dim),1/y));var S=void 0;fe(o)?S=vz[o]:_e(o)&&(S=o),S&&t.setData(i.downSample(i.mapDimension(d.dim),1/y,S,wv))}}}}}var Pt=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.getInitialData=function(e,r){return Ua(null,this,{useEncodeDefaulter:!0})},t.prototype.getMarkerPosition=function(e,r,i){var o=this.coordinateSystem;if(o&&o.clampData){var u=o.clampData(e),c=o.dataToPoint(u);if(i)F(o.getAxes(),function(m,y){if("category"===m.type&&null!=r){var S=m.getTicksCoords(),b=u[y],D="x1"===r[y]||"y1"===r[y];if(D&&(b+=1),S.length<2)return;if(2===S.length)return void(c[y]=m.toGlobalCoord(m.getExtent()[D?1:0]));for(var C=void 0,T=void 0,M=1,I=0;I<S.length;I++){var L=S[I].coord,E=I===S.length-1?S[I-1].tickValue+M:S[I].tickValue;if(E===b){T=L;break}if(E<b)C=L;else if(null!=C&&E>b){T=(L+C)/2;break}1===I&&(M=E-S[0].tickValue)}null==T&&(C?C&&(T=S[S.length-1].coord):T=S[0].coord),c[y]=m.toGlobalCoord(T)}});else{var h=this.getData(),d=h.getLayout("offset"),p=h.getLayout("size"),g=o.getBaseAxis().isHorizontal()?0:1;c[g]+=d+p/2}return c}return[NaN,NaN]},t.type="series.__base_bar__",t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},t}(Nt);Nt.registerClass(Pt);const xt=Pt;var gz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.getInitialData=function(){return Ua(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},t.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},t.prototype.getProgressiveThreshold=function(){var e=this.get("progressiveThreshold"),r=this.get("largeThreshold");return r>e&&(e=r),e},t.prototype.brushSelector=function(e,r,i){return i.rect(r.getItemLayout(e))},t.type="series.bar",t.dependencies=["grid","polar"],t.defaultOption=ns(xt.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),t}(xt);const b0=gz;var Ps=function n(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},D0=function(n){function t(e){var r=n.call(this,e)||this;return r.type="sausage",r}return q(t,n),t.prototype.getDefaultShape=function(){return new Ps},t.prototype.buildPath=function(e,r){var i=r.cx,o=r.cy,u=Math.max(r.r0||0,0),c=Math.max(r.r,0),h=.5*(c-u),d=u+h,p=r.startAngle,g=r.endAngle,m=r.clockwise,y=2*Math.PI,S=m?g-p<y:p-g<y;S||(p=g-(m?y:-y));var b=Math.cos(p),D=Math.sin(p),C=Math.cos(g),T=Math.sin(g);S?(e.moveTo(b*u+i,D*u+o),e.arc(b*d+i,D*d+o,h,-Math.PI+p,p,!m)):e.moveTo(b*c+i,D*c+o),e.arc(i,o,c,p,g,!m),e.arc(C*d+i,T*d+o,h,g-2*Math.PI,g-Math.PI,!m),0!==u&&e.arc(i,o,u,g,p,m)},t}(Ze);const wi=D0;function C0(n,t,e){return t*Math.sin(n)*(e?-1:1)}function Ut(n,t,e){return t*Math.cos(n)*(e?1:-1)}function cc(n,t,e){var r=n.get("borderRadius");if(null==r)return e?{cornerRadius:0}:null;te(r)||(r=[r,r,r,r]);var i=Math.abs(t.r||0-t.r0||0);return{cornerRadius:re(r,function(o){return Dr(o,i)})}}var Mh=Math.max,NC=Math.min,yz=function(n){function t(){var e=n.call(this)||this;return e.type=t.type,e._isFirstFrame=!0,e}return q(t,n),t.prototype.render=function(e,r,i,o){this._model=e,this._removeOnRenderedListener(i),this._updateDrawMode(e);var u=e.get("coordinateSystem");("cartesian2d"===u||"polar"===u)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(e,r,i):this._renderNormal(e,r,i,o))},t.prototype.incrementalPrepareRender=function(e){this._clear(),this._updateDrawMode(e),this._updateLargeClip(e)},t.prototype.incrementalRender=function(e,r){this._progressiveEls=[],this._incrementalRenderLarge(e,r)},t.prototype.eachRendered=function(e){ms(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(null==this._isLargeDraw||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e,r,i,o){var g,u=this.group,c=e.getData(),h=this._data,d=e.coordinateSystem,p=d.getBaseAxis();"cartesian2d"===d.type?g=p.isHorizontal():"polar"===d.type&&(g="angle"===p.dim);var m=e.isAnimationEnabled()?e:null,y=function M0(n,t){var e=n.get("realtimeSort",!0),r=t.getBaseAxis();if(e&&"category"===r.type&&"cartesian2d"===t.type)return{baseAxis:r,otherAxis:t.getOtherAxis(r)}}(e,d);y&&this._enableRealtimeSort(y,c,i);var S=e.get("clip",!0)||y,b=function x0(n,t){var e=n.getArea&&n.getArea();if(Th(n,"cartesian2d")){var r=n.getBaseAxis();if("category"!==r.type||!r.onBand){var i=t.getLayout("bandWidth");r.isHorizontal()?(e.x-=i,e.width+=2*i):(e.y-=i,e.height+=2*i)}}return e}(d,c);u.removeClipPath();var D=e.get("roundCap",!0),C=e.get("showBackground",!0),T=e.getModel("backgroundStyle"),M=T.get("borderRadius")||0,I=[],L=this._backgroundEls,E=o&&o.isInitSort,R=o&&"changeAxisOrder"===o.type;function O(B){var H=I0[d.type](c,B),G=function wz(n,t,e){return new("polar"===n.type?jr:st)({shape:VC(t,e,n),silent:!0,z2:0})}(d,g,H);return G.useStyle(T.getItemStyle()),G.setShape("cartesian2d"===d.type?"r":"cornerRadius",M),I[B]=G,G}c.diff(h).add(function(B){var H=c.getItemModel(B),G=I0[d.type](c,B,H);if(C&&O(B),c.hasValue(B)&&VL[d.type](G)){var j=!1;S&&(j=OC[d.type](b,G));var W=T0[d.type](e,c,B,G,g,m,p.model,!1,D);y&&(W.forceLabelAnimation=!0),BL(W,c,B,H,G,e,g,"polar"===d.type),E?W.attr({shape:G}):y?A0(y,m,W,G,B,g,!1,!1):$t(W,{shape:G},e,B),c.setItemGraphicEl(B,W),u.add(W),W.ignore=j}}).update(function(B,H){var G=c.getItemModel(B),j=I0[d.type](c,B,G);if(C){var W=void 0;0===L.length?W=O(H):((W=L[H]).useStyle(T.getItemStyle()),W.setShape("cartesian2d"===d.type?"r":"cornerRadius",M),I[B]=W);var Y=I0[d.type](c,B);dt(W,{shape:VC(g,Y,d)},m,B)}var X=h.getItemGraphicEl(H);if(c.hasValue(B)&&VL[d.type](j)){var ee=!1;if(S&&(ee=OC[d.type](b,j))&&u.remove(X),X?zr(X):X=T0[d.type](e,c,B,j,g,m,p.model,!!X,D),y&&(X.forceLabelAnimation=!0),R){var oe=X.getTextContent();if(oe){var he=Nu(oe);null!=he.prevValue&&(he.prevValue=he.value)}}else BL(X,c,B,G,j,e,g,"polar"===d.type);E?X.attr({shape:j}):y?A0(y,m,X,j,B,g,!0,R):dt(X,{shape:j},e,B,null),c.setItemGraphicEl(B,X),X.ignore=ee,u.add(X)}else u.remove(X)}).remove(function(B){var H=h.getItemGraphicEl(B);H&&Pi(H,e,B)}).execute();var k=this._backgroundGroup||(this._backgroundGroup=new Ee);k.removeAll();for(var V=0;V<I.length;++V)k.add(I[V]);u.add(k),this._backgroundEls=I,this._data=c},t.prototype._renderLarge=function(e,r,i){this._clear(),HL(e,this.group),this._updateLargeClip(e)},t.prototype._incrementalRenderLarge=function(e,r){this._removeBackground(),HL(r,this.group,this._progressiveEls,!0)},t.prototype._updateLargeClip=function(e){var r=e.get("clip",!0)&&w0(e.coordinateSystem,!1,e),i=this.group;r?i.setClipPath(r):i.removeClipPath()},t.prototype._enableRealtimeSort=function(e,r,i){var o=this;if(r.count()){var u=e.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(r,e,i),this._isFirstFrame=!1;else{var c=function(h){var d=r.getItemGraphicEl(h),p=d&&d.shape;return p&&Math.abs(u.isHorizontal()?p.height:p.width)||0};this._onRendered=function(){o._updateSortWithinSameData(r,c,u,i)},i.getZr().on("rendered",this._onRendered)}}},t.prototype._dataSort=function(e,r,i){var o=[];return e.each(e.mapDimension(r.dim),function(u,c){var h=i(c);o.push({dataIndex:c,mappedValue:h=h??NaN,ordinalNumber:u})}),o.sort(function(u,c){return c.mappedValue-u.mappedValue}),{ordinalNumbers:re(o,function(u){return u.ordinalNumber})}},t.prototype._isOrderChangedWithinSameData=function(e,r,i){for(var o=i.scale,u=e.mapDimension(i.dim),c=Number.MAX_VALUE,h=0,d=o.getOrdinalMeta().categories.length;h<d;++h){var p=e.rawIndexOf(u,o.getRawOrdinalNumber(h)),g=p<0?Number.MIN_VALUE:r(e.indexOfRawIndex(p));if(g>c)return!0;c=g}return!1},t.prototype._isOrderDifferentInView=function(e,r){for(var i=r.scale,o=i.getExtent(),u=Math.max(0,o[0]),c=Math.min(o[1],i.getOrdinalMeta().categories.length-1);u<=c;++u)if(e.ordinalNumbers[u]!==i.getRawOrdinalNumber(u))return!0},t.prototype._updateSortWithinSameData=function(e,r,i,o){if(this._isOrderChangedWithinSameData(e,r,i)){var u=this._dataSort(e,i,r);this._isOrderDifferentInView(u,i)&&(this._removeOnRenderedListener(o),o.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",axisId:i.index,sortInfo:u}))}},t.prototype._dispatchInitSort=function(e,r,i){var o=r.baseAxis,u=this._dataSort(e,o,function(c){return e.get(e.mapDimension(r.otherAxis.dim),c)});i.dispatchAction({type:"changeAxisOrder",componentType:o.dim+"Axis",isInitSort:!0,axisId:o.index,sortInfo:u})},t.prototype.remove=function(e,r){this._clear(this._model),this._removeOnRenderedListener(r)},t.prototype.dispose=function(e,r){this._removeOnRenderedListener(r)},t.prototype._removeOnRenderedListener=function(e){this._onRendered&&(e.getZr().off("rendered",this._onRendered),this._onRendered=null)},t.prototype._clear=function(e){var r=this.group,i=this._data;e&&e.isAnimationEnabled()&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(o){Pi(o,e,Oe(o).dataIndex)})):r.removeAll(),this._data=null,this._isFirstFrame=!0},t.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},t.type="bar",t}(Mt),OC={cartesian2d:function(n,t){var e=t.width<0?-1:1,r=t.height<0?-1:1;e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height);var i=n.x+n.width,o=n.y+n.height,u=Mh(t.x,n.x),c=NC(t.x+t.width,i),h=Mh(t.y,n.y),d=NC(t.y+t.height,o),p=c<u,g=d<h;return t.x=p&&u>i?c:u,t.y=g&&h>o?d:h,t.width=p?0:c-u,t.height=g?0:d-h,e<0&&(t.x+=t.width,t.width=-t.width),r<0&&(t.y+=t.height,t.height=-t.height),p||g},polar:function(n,t){var e=t.r0<=t.r?1:-1;if(e<0){var r=t.r;t.r=t.r0,t.r0=r}var i=NC(t.r,n.r),o=Mh(t.r0,n.r0);t.r=i,t.r0=o;var u=i-o<0;return e<0&&(r=t.r,t.r=t.r0,t.r0=r),u}},T0={cartesian2d:function(n,t,e,r,i,o,u,c,h){var d=new st({shape:J({},r),z2:1});return d.__dataIndex=e,d.name="item",o&&(d.shape[i?"height":"width"]=0),d},polar:function(n,t,e,r,i,o,u,c,h){var d=!i&&h?wi:jr,p=new d({shape:r,z2:1});p.name="item";var g=kC(i);if(p.calculateTextPosition=function mz(n,t){var e=(t=t||{}).isRoundCap;return function(r,i,o){var u=i.position;if(!u||u instanceof Array)return em(r,i,o);var c=n(u),h=null!=i.distance?i.distance:5,d=this.shape,p=d.cx,g=d.cy,m=d.r,y=d.r0,S=(m+y)/2,b=d.startAngle,D=d.endAngle,C=(b+D)/2,T=e?Math.abs(m-y)/2:0,M=Math.cos,I=Math.sin,L=p+m*M(b),E=g+m*I(b),R="left",O="top";switch(c){case"startArc":L=p+(y-h)*M(C),E=g+(y-h)*I(C),R="center",O="top";break;case"insideStartArc":L=p+(y+h)*M(C),E=g+(y+h)*I(C),R="center",O="bottom";break;case"startAngle":L=p+S*M(b)+C0(b,h+T,!1),E=g+S*I(b)+Ut(b,h+T,!1),R="right",O="middle";break;case"insideStartAngle":L=p+S*M(b)+C0(b,-h+T,!1),E=g+S*I(b)+Ut(b,-h+T,!1),R="left",O="middle";break;case"middle":L=p+S*M(C),E=g+S*I(C),R="center",O="middle";break;case"endArc":L=p+(m+h)*M(C),E=g+(m+h)*I(C),R="center",O="bottom";break;case"insideEndArc":L=p+(m-h)*M(C),E=g+(m-h)*I(C),R="center",O="top";break;case"endAngle":L=p+S*M(D)+C0(D,h+T,!0),E=g+S*I(D)+Ut(D,h+T,!0),R="left",O="middle";break;case"insideEndAngle":L=p+S*M(D)+C0(D,-h+T,!0),E=g+S*I(D)+Ut(D,-h+T,!0),R="right",O="middle";break;default:return em(r,i,o)}return(r=r||{}).x=L,r.y=E,r.align=R,r.verticalAlign=O,r}}(g,{isRoundCap:d===wi}),o){var y=i?"r":"endAngle",S={};p.shape[y]=i?r.r0:r.startAngle,S[y]=r[y],(c?dt:$t)(p,{shape:S},o)}return p}};function A0(n,t,e,r,i,o,u,c){var h,d;o?(d={x:r.x,width:r.width},h={y:r.y,height:r.height}):(d={y:r.y,height:r.height},h={x:r.x,width:r.width}),c||(u?dt:$t)(e,{shape:h},t,i,null),(u?dt:$t)(e,{shape:d},t?n.baseAxis.model:null,i)}function kL(n,t){for(var e=0;e<t.length;e++)if(!isFinite(n[t[e]]))return!0;return!1}var FL=["x","y","width","height"],_z=["cx","cy","r","startAngle","endAngle"],VL={cartesian2d:function(n){return!kL(n,FL)},polar:function(n){return!kL(n,_z)}},I0={cartesian2d:function(n,t,e){var r=n.getItemLayout(t),i=e?function zL(n,t){var e=n.get(["itemStyle","borderColor"]);if(!e||"none"===e)return 0;var r=n.get(["itemStyle","borderWidth"])||0,i=isNaN(t.width)?Number.MAX_VALUE:Math.abs(t.width),o=isNaN(t.height)?Number.MAX_VALUE:Math.abs(t.height);return Math.min(r,i,o)}(e,r):0,o=r.width>0?1:-1,u=r.height>0?1:-1;return{x:r.x+o*i/2,y:r.y+u*i/2,width:r.width-o*i,height:r.height-u*i}},polar:function(n,t,e){var r=n.getItemLayout(t);return{cx:r.cx,cy:r.cy,r0:r.r0,r:r.r,startAngle:r.startAngle,endAngle:r.endAngle,clockwise:r.clockwise}}};function kC(n){return function(t){var e=t?"Arc":"Angle";return function(r){switch(r){case"start":case"insideStart":case"end":case"insideEnd":return r+e;default:return r}}}(n)}function BL(n,t,e,r,i,o,u,c){var h=t.getItemVisual(e,"style");if(c){if(!o.get("roundCap")){var p=n.shape;J(p,cc(r.getModel("itemStyle"),p,!0)),n.setShape(p)}}else{var d=r.get(["itemStyle","borderRadius"])||0;n.setShape("r",d)}n.useStyle(h);var m=r.getShallow("cursor");m&&n.attr("cursor",m);var y=c?u?i.r>=i.r0?"endArc":"startArc":i.endAngle>=i.startAngle?"endAngle":"startAngle":u?i.height>=0?"bottom":"top":i.width>=0?"right":"left",S=qn(r);xr(n,S,{labelFetcher:o,labelDataIndex:e,defaultText:xh(o.getData(),e),inheritColor:h.fill,defaultOpacity:h.opacity,defaultOutsidePosition:y});var b=n.getTextContent();if(c&&b){var D=r.get(["label","position"]);n.textConfig.inside="middle"===D||null,function Bn(n,t,e,r){if(ft(r))n.setTextConfig({rotation:r});else if(te(t))n.setTextConfig({rotation:0});else{var h,i=n.shape,o=i.clockwise?i.startAngle:i.endAngle,u=i.clockwise?i.endAngle:i.startAngle,c=(o+u)/2,d=e(t);switch(d){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":h=c;break;case"startAngle":case"insideStartAngle":h=o;break;case"endAngle":case"insideEndAngle":h=u;break;default:return void n.setTextConfig({rotation:0})}var p=1.5*Math.PI-h;"middle"===d&&p>Math.PI/2&&p<1.5*Math.PI&&(p-=Math.PI),n.setTextConfig({rotation:p})}}(n,"outside"===D?y:D,kC(u),r.get(["label","rotate"]))}Kd(b,S,o.getRawValue(e),function(T){return y0(t,T)});var C=r.getModel(["emphasis"]);nn(n,C.get("focus"),C.get("blurScope"),C.get("disabled")),lr(n,r),function Sz(n){return null!=n.startAngle&&null!=n.endAngle&&n.startAngle===n.endAngle}(i)&&(n.style.fill="none",n.style.stroke="none",F(n.states,function(T){T.style&&(T.style.fill=T.style.stroke="none")}))}var E0=function n(){},Ah=function(n){function t(e){var r=n.call(this,e)||this;return r.type="largeBar",r}return q(t,n),t.prototype.getDefaultShape=function(){return new E0},t.prototype.buildPath=function(e,r){for(var i=r.points,o=this.baseDimIdx,u=1-this.baseDimIdx,c=[],h=[],d=this.barWidth,p=0;p<i.length;p+=3)h[o]=d,h[u]=i[p+2],c[o]=i[p+o],c[u]=i[p+u],e.rect(c[0],c[1],h[0],h[1])},t}(Ze);function HL(n,t,e,r){var i=n.getData(),o=i.getLayout("valueAxisHorizontal")?1:0,u=i.getLayout("largeDataIndices"),c=i.getLayout("size"),h=n.getModel("backgroundStyle"),d=i.getLayout("largeBackgroundPoints");if(d){var p=new Ah({shape:{points:d},incremental:!!r,silent:!0,z2:0});p.baseDimIdx=o,p.largeDataIndices=u,p.barWidth=c,p.useStyle(h.getItemStyle()),t.add(p),e&&e.push(p)}var g=new Ah({shape:{points:i.getLayout("largePoints")},incremental:!!r,ignoreCoarsePointer:!0,z2:1});g.baseDimIdx=o,g.largeDataIndices=u,g.barWidth=c,t.add(g),g.useStyle(i.getVisual("style")),Oe(g).seriesIndex=n.seriesIndex,n.get("silent")||(g.on("mousedown",GL),g.on("mousemove",GL)),e&&e.push(g)}var GL=Ep(function(n){var e=function FC(n,t,e){for(var r=n.baseDimIdx,i=1-r,o=n.shape.points,u=n.largeDataIndices,c=[],h=[],d=n.barWidth,p=0,g=o.length/3;p<g;p++){var m=3*p;if(h[r]=d,h[i]=o[m+2],c[r]=o[m+r],c[i]=o[m+i],h[i]<0&&(c[i]+=h[i],h[i]=-h[i]),t>=c[0]&&t<=c[0]+h[0]&&e>=c[1]&&e<=c[1]+h[1])return u[p]}return-1}(this,n.offsetX,n.offsetY);Oe(this).dataIndex=e>=0?e:null},30,!1);function VC(n,t,e){if(Th(e,"cartesian2d")){var r=t,i=e.getArea();return{x:n?r.x:i.x,y:n?i.y:r.y,width:n?r.width:i.width,height:n?i.height:r.height}}return{cx:(i=e.getArea()).cx,cy:i.cy,r0:n?i.r0:t.r0,r:n?i.r:t.r,startAngle:n?t.startAngle:0,endAngle:n?t.endAngle:2*Math.PI}}const BC=yz;var P0=2*Math.PI,UL=Math.PI/180;function L0(n,t){return An(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function jL(n,t){var e=L0(n,t),r=n.get("center"),i=n.get("radius");te(i)||(i=[0,i]);var p,g,o=le(e.width,t.getWidth()),u=le(e.height,t.getHeight()),c=Math.min(o,u),h=le(i[0],c/2),d=le(i[1],c/2),m=n.coordinateSystem;if(m){var y=m.dataToPoint(r);p=y[0]||0,g=y[1]||0}else te(r)||(r=[r,r]),p=le(r[0],o)+e.x,g=le(r[1],u)+e.y;return{cx:p,cy:g,r0:h,r:d}}function Dz(n,t,e){t.eachSeriesByType(n,function(r){var i=r.getData(),o=i.mapDimension("value"),u=L0(r,e),c=jL(r,e),h=c.cx,d=c.cy,p=c.r,g=c.r0,m=-r.get("startAngle")*UL,y=r.get("minAngle")*UL,S=0;i.each(o,function(V){!isNaN(V)&&S++});var b=i.getSum(o),D=Math.PI/(b||S)*2,C=r.get("clockwise"),T=r.get("roseType"),M=r.get("stillShowZeroSum"),I=i.getDataExtent(o);I[0]=0;var L=P0,E=0,R=m,O=C?1:-1;if(i.setLayout({viewRect:u,r:p}),i.each(o,function(V,B){var H;if(isNaN(V))i.setItemLayout(B,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:C,cx:h,cy:d,r0:g,r:T?NaN:p});else{(H="area"!==T?0===b&&M?D:V*D:P0/S)<y?(H=y,L-=y):E+=V;var G=R+O*H;i.setItemLayout(B,{angle:H,startAngle:R,endAngle:G,clockwise:C,cx:h,cy:d,r0:g,r:T?Ct(V,I,[g,p]):p}),R=G}}),L<P0&&S)if(L<=.001){var k=P0/S;i.each(o,function(V,B){if(!isNaN(V)){var H=i.getItemLayout(B);H.angle=k,H.startAngle=m+O*B*k,H.endAngle=m+O*(B+1)*k}})}else D=L/E,R=m,i.each(o,function(V,B){if(!isNaN(V)){var H=i.getItemLayout(B),G=H.angle===y?y:V*D;H.startAngle=R,H.endAngle=R+O*G,R+=O*G}})})}function bv(n){return{seriesType:n,reset:function(t,e){var r=e.findComponents({mainType:"legend"});if(r&&r.length){var i=t.getData();i.filterSelf(function(o){for(var u=i.getName(o),c=0;c<r.length;c++)if(!r[c].isSelected(u))return!1;return!0})}}}}var zC=Math.PI/180;function R0(n,t,e,r,i,o,u,c,h,d){if(!(n.length<2)){for(var m=n.length,y=0;y<m;y++)"outer"===n[y].position&&"labelLine"===n[y].labelAlignTo&&(n[y].linePoints[1][0]+=n[y].label.x-d,n[y].label.x=d);HB(n,h,h+u)&&function g(b){for(var D={list:[],maxY:0},C={list:[],maxY:0},T=0;T<b.length;T++)if("none"===b[T].labelAlignTo){var M=b[T],I=M.label.y>e?C:D,L=Math.abs(M.label.y-e);if(L>=I.maxY){var E=M.label.x-t-M.len2*i,R=r+M.len,O=Math.abs(E)<R?Math.sqrt(L*L/(1-E*E/R/R)):R;I.rB=O,I.maxY=L}I.list.push(M)}p(D),p(C)}(n)}function p(b){for(var D=b.rB,C=D*D,T=0;T<b.list.length;T++){var M=b.list[T],I=Math.abs(M.label.y-e),L=r+M.len,E=L*L,R=Math.sqrt((1-Math.abs(I*I/C))*E),O=t+(R+M.len2)*i;$L(M,M.targetTextWidth-(O-M.label.x)*i,!0),M.label.x=O}}}function $L(n,t,e){if(void 0===e&&(e=!1),null==n.labelStyleWidth){var r=n.label,i=r.style,o=n.rect,u=i.backgroundColor,c=i.padding,h=c?c[1]+c[3]:0,d=i.overflow,p=o.width+(u?0:h);if(t<p||e){var g=o.height;if(d&&d.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",t-h);var m=r.getBoundingRect();r.setStyle("width",Math.ceil(m.width)),r.setStyle("backgroundColor",u)}else{var y=t-h;r.setStyle("width",t<p?y:e?y>n.unconstrainedWidth?null:y:null)}var b=r.getBoundingRect();o.width=b.width,o.height=b.height+((r.style.margin||0)+2.1),o.y-=(o.height-g)/2}}}function YL(n){return"center"===n.position}var HC=function(n){function t(e,r,i){var o=n.call(this)||this;o.z2=2;var u=new rt;return o.setTextContent(u),o.updateData(e,r,i,!0),o}return q(t,n),t.prototype.updateData=function(e,r,i,o){var u=this,c=e.hostModel,h=e.getItemModel(r),d=h.getModel("emphasis"),p=e.getItemLayout(r),g=J(cc(h.getModel("itemStyle"),p,!0),p);if(isNaN(g.startAngle))u.setShape(g);else{if(o){u.setShape(g);var m=c.getShallow("animationType");c.ecModel.ssr?($t(u,{scaleX:0,scaleY:0},c,{dataIndex:r,isFrom:!0}),u.originX=g.cx,u.originY=g.cy):"scale"===m?(u.shape.r=p.r0,$t(u,{shape:{r:p.r}},c,r)):null!=i?(u.setShape({startAngle:i,endAngle:i}),$t(u,{shape:{startAngle:p.startAngle,endAngle:p.endAngle}},c,r)):(u.shape.endAngle=p.startAngle,dt(u,{shape:{endAngle:p.endAngle}},c,r))}else zr(u),dt(u,{shape:g},c,r);u.useStyle(e.getItemVisual(r,"style")),lr(u,h);var y=(p.startAngle+p.endAngle)/2,S=c.get("selectedOffset"),b=Math.cos(y)*S,D=Math.sin(y)*S,C=h.getShallow("cursor");C&&u.attr("cursor",C),this._updateLabel(c,e,r),u.ensureState("emphasis").shape=J({r:p.r+(d.get("scale")&&d.get("scaleSize")||0)},cc(d.getModel("itemStyle"),p)),J(u.ensureState("select"),{x:b,y:D,shape:cc(h.getModel(["select","itemStyle"]),p)}),J(u.ensureState("blur"),{shape:cc(h.getModel(["blur","itemStyle"]),p)});var T=u.getTextGuideLine(),M=u.getTextContent();T&&J(T.ensureState("select"),{x:b,y:D}),J(M.ensureState("select"),{x:b,y:D}),nn(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))}},t.prototype._updateLabel=function(e,r,i){var o=this,u=r.getItemModel(i),c=u.getModel("labelLine"),h=r.getItemVisual(i,"style"),d=h&&h.fill,p=h&&h.opacity;xr(o,qn(u),{labelFetcher:r.hostModel,labelDataIndex:i,inheritColor:d,defaultOpacity:p,defaultText:e.getFormattedLabel(i,"normal")||r.getName(i)});var g=o.getTextContent();o.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var m=e.get(["label","position"]);if("outside"!==m&&"outer"!==m)o.removeTextGuideLine();else{var y=this.getTextGuideLine();y||(y=new Wr,this.setTextGuideLine(y)),cC(this,a0(u),{stroke:d,opacity:Ln(c.get(["lineStyle","opacity"]),p,1)})}},t}(jr),qL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return q(t,n),t.prototype.render=function(e,r,i,o){var d,u=e.getData(),c=this._data,h=this.group;if(!c&&u.count()>0){for(var p=u.getItemLayout(0),g=1;isNaN(p&&p.startAngle)&&g<u.count();++g)p=u.getItemLayout(g);p&&(d=p.startAngle)}if(this._emptyCircleSector&&h.remove(this._emptyCircleSector),0===u.count()&&e.get("showEmptyCircle")){var m=new jr({shape:jL(e,i)});m.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=m,h.add(m)}u.diff(c).add(function(y){var S=new HC(u,y,d);u.setItemGraphicEl(y,S),h.add(S)}).update(function(y,S){var b=c.getItemGraphicEl(S);b.updateData(u,y,d),b.off("click"),h.add(b),u.setItemGraphicEl(y,b)}).remove(function(y){Pi(c.getItemGraphicEl(y),e,y)}).execute(),function ZL(n){var r,i,t=n.getData(),e=[],o=!1,u=(n.get("minShowLabelAngle")||0)*zC,c=t.getLayout("viewRect"),h=t.getLayout("r"),d=c.width,p=c.x,g=c.y,m=c.height;function y(E){E.ignore=!0}t.each(function(E){var R=t.getItemGraphicEl(E),O=R.shape,k=R.getTextContent(),V=R.getTextGuideLine(),B=t.getItemModel(E),H=B.getModel("label"),G=H.get("position")||B.get(["emphasis","label","position"]),j=H.get("distanceToLabelLine"),W=H.get("alignTo"),Y=le(H.get("edgeDistance"),d),K=H.get("bleedMargin"),X=B.getModel("labelLine"),ee=X.get("length");ee=le(ee,d);var oe=X.get("length2");if(oe=le(oe,d),Math.abs(O.endAngle-O.startAngle)<u)return F(k.states,y),k.ignore=!0,void(V&&(F(V.states,y),V.ignore=!0));if(function S(E){if(!E.ignore)return!0;for(var R in E.states)if(!1===E.states[R].ignore)return!0;return!1}(k)){var Me,qe,ut,Je,he=(O.startAngle+O.endAngle)/2,me=Math.cos(he),Ie=Math.sin(he);r=O.cx,i=O.cy;var Pe="inside"===G||"inner"===G;if("center"===G)Me=O.cx,qe=O.cy,Je="center";else{var et=(Pe?(O.r+O.r0)/2*me:O.r*me)+r,je=(Pe?(O.r+O.r0)/2*Ie:O.r*Ie)+i;if(Me=et+3*me,qe=je+3*Ie,!Pe){var be=et+me*(ee+h-O.r),We=je+Ie*(ee+h-O.r),ln=be+(me<0?-1:1)*oe;Me="edge"===W?me<0?p+Y:p+d-Y:ln+(me<0?-j:j),qe=We,ut=[[et,je],[be,We],[ln,We]]}Je=Pe?"center":"edge"===W?me>0?"right":"left":me>0?"left":"right"}var Pn=Math.PI,Dn=0,bi=H.get("rotate");if(ft(bi))Dn=bi*(Pn/180);else if("center"===G)Dn=0;else if("radial"===bi||!0===bi)Dn=me<0?-he+Pn:-he;else if("tangential"===bi&&"outside"!==G&&"outer"!==G){var Ca=Math.atan2(me,Ie);Ca<0&&(Ca=2*Pn+Ca),Ie>0&&(Ca=Pn+Ca),Dn=Ca-Pn}if(o=!!Dn,k.x=Me,k.y=qe,k.rotation=Dn,k.setStyle({verticalAlign:"middle"}),Pe){k.setStyle({align:Je});var CU=k.states.select;CU&&(CU.x+=k.x,CU.y+=k.y)}else{var od=k.getBoundingRect().clone();od.applyTransform(k.getComputedTransform());var S6=(k.style.margin||0)+2.1;od.y-=S6/2,od.height+=S6,e.push({label:k,labelLine:V,position:G,len:ee,len2:oe,minTurnAngle:X.get("minTurnAngle"),maxSurfaceAngle:X.get("maxSurfaceAngle"),surfaceNormal:new ze(me,Ie),linePoints:ut,textAlign:Je,labelDistance:j,labelAlignTo:W,edgeDistance:Y,bleedMargin:K,rect:od,unconstrainedWidth:od.width,labelStyleWidth:k.style.width})}R.setTextConfig({inside:Pe})}}),!o&&n.get("avoidLabelOverlap")&&function WL(n,t,e,r,i,o,u,c){for(var h=[],d=[],p=Number.MAX_VALUE,g=-Number.MAX_VALUE,m=0;m<n.length;m++){var y=n[m].label;YL(n[m])||(y.x<t?(p=Math.min(p,y.x),h.push(n[m])):(g=Math.max(g,y.x),d.push(n[m])))}for(m=0;m<n.length;m++)if(!YL(S=n[m])&&S.linePoints){if(null!=S.labelStyleWidth)continue;y=S.label;var D,b=S.linePoints;S.targetTextWidth=D="edge"===S.labelAlignTo?y.x<t?b[2][0]-S.labelDistance-u-S.edgeDistance:u+i-S.edgeDistance-b[2][0]-S.labelDistance:"labelLine"===S.labelAlignTo?y.x<t?p-u-S.bleedMargin:u+i-g-S.bleedMargin:y.x<t?y.x-u-S.bleedMargin:u+i-y.x-S.bleedMargin,$L(S,D)}for(R0(d,t,e,r,1,0,o,0,c,g),R0(h,t,e,r,-1,0,o,0,c,p),m=0;m<n.length;m++){var S;if(!YL(S=n[m])&&S.linePoints){var T=(y=S.label).style.padding,L=S.rect.width+(y.style.backgroundColor?0:T?T[1]+T[3]:0),E=(b=S.linePoints)[1][0]-b[2][0];"edge"===S.labelAlignTo?b[2][0]=y.x<t?u+S.edgeDistance+L+S.labelDistance:u+i-S.edgeDistance-L-S.labelDistance:(b[2][0]=y.x<t?y.x+S.labelDistance:y.x-S.labelDistance,b[1][0]=b[2][0]+E),b[1][1]=b[2][1]=y.y}}}(e,r,i,h,d,m,p,g);for(var b=0;b<e.length;b++){var D=e[b],C=D.label,T=D.labelLine,M=isNaN(C.x)||isNaN(C.y);if(C){C.setStyle({align:D.textAlign}),M&&(F(C.states,y),C.ignore=!0);var I=C.states.select;I&&(I.x+=C.x,I.y+=C.y)}if(T){var L=D.linePoints;M||!L?(F(T.states,y),T.ignore=!0):(r0(L,D.minTurnAngle),BB(L,D.surfaceNormal,D.maxSurfaceAngle),T.setShape({points:L}),C.__hostTarget.textGuideLineConfig={anchor:new ze(L[0][0],L[0][1])})}}}(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=u)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,r){var o=r.getData().getItemLayout(0);if(o){var u=e[0]-o.cx,c=e[1]-o.cy,h=Math.sqrt(u*u+c*c);return h<=o.r&&h>=o.r0}},t.type="pie",t}(Mt);const Cz=qL;function Ih(n,t,e){t=te(t)&&{coordDimensions:t}||J({encodeDefine:n.getEncode()},t);var r=n.getSource(),i=hh(r,t).dimensions,o=new on(i,n);return o.initData(r,e),o}var XL=function(){function n(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return n.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},n.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},n.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},n.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},n}();const Dv=XL;var xz=ot(),KL=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Dv(de(this.getData,this),de(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.mergeOption=function(){n.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return Ih(this,{coordDimensions:["value"],encodeDefaulter:Re($m,this)})},t.prototype.getDataParams=function(e){var r=this.getData(),i=xz(r),o=i.seats;if(!o){var u=[];r.each(r.mapDimension("value"),function(h){u.push(h)}),o=i.seats=RM(u,r.hostModel.get("percentPrecision"))}var c=n.prototype.getDataParams.call(this,e);return c.percent=o[e]||0,c.$vars.push("percent"),c},t.prototype._defaultLabelLine=function(e){ta(e,"labelLine",["show"]);var r=e.labelLine,i=e.emphasis.labelLine;r.show=r.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Nt);const v4=KL;var JL=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return q(t,n),t.prototype.getInitialData=function(e,r){return Ua(null,this,{useEncodeDefaulter:!0})},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?5e3:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?1e4:this.get("progressiveThreshold"))},t.prototype.brushSelector=function(e,r,i){return i.point(r.getItemLayout(e))},t.prototype.getZLevelKey=function(){return this.getData().count()>this.getProgressiveThreshold()?this.id:""},t.type="series.scatter",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{opacity:.8},emphasis:{scale:!0},clip:!0,select:{itemStyle:{borderColor:"#212121"}},universalTransition:{divideShape:"clone"}},t}(Nt);const GC=JL;var Mz=function n(){},Az=function(n){function t(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return q(t,n),t.prototype.getDefaultShape=function(){return new Mz},t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.buildPath=function(e,r){var g,i=r.points,o=r.size,u=this.symbolProxy,c=u.shape,h=e.getContext?e.getContext():e,p=this.softClipShape;if(h&&o[0]<4)this._ctx=h;else{for(this._ctx=null,g=this._off;g<i.length;){var m=i[g++],y=i[g++];isNaN(m)||isNaN(y)||p&&!p.contain(m,y)||(c.x=m-o[0]/2,c.y=y-o[1]/2,c.width=o[0],c.height=o[1],u.buildPath(e,c,!0))}this.incremental&&(this._off=g,this.notClear=!0)}},t.prototype.afterBrush=function(){var c,e=this.shape,r=e.points,i=e.size,o=this._ctx,u=this.softClipShape;if(o){for(c=this._off;c<r.length;){var h=r[c++],d=r[c++];isNaN(h)||isNaN(d)||u&&!u.contain(h,d)||o.fillRect(h-i[0]/2,d-i[1]/2,i[0],i[1])}this.incremental&&(this._off=c,this.notClear=!0)}},t.prototype.findDataIndex=function(e,r){for(var i=this.shape,o=i.points,u=i.size,c=Math.max(u[0],4),h=Math.max(u[1],4),d=o.length/2-1;d>=0;d--){var p=2*d,g=o[p]-c/2,m=o[p+1]-h/2;if(e>=g&&r>=m&&e<=g+c&&r<=m+h)return d}return-1},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(e=i[0],r=i[1])?(this.hoverDataIdx=this.findDataIndex(e,r))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var r=this.shape,i=r.points,o=r.size,u=o[0],c=o[1],h=1/0,d=1/0,p=-1/0,g=-1/0,m=0;m<i.length;){var y=i[m++],S=i[m++];h=Math.min(y,h),p=Math.max(y,p),d=Math.min(S,d),g=Math.max(S,g)}e=this._rect=new Be(h-u/2,d-c/2,p-h+u,g-d+c)}return e},t}(Ze),g4=function(){function n(){this.group=new Ee}return n.prototype.updateData=function(t,e){this._clear();var r=this._create();r.setShape({points:t.getLayout("points")}),this._setCommon(r,t,e)},n.prototype.updateLayout=function(t){var e=t.getLayout("points");this.group.eachChild(function(r){null!=r.startIndex&&(e=new Float32Array(e.buffer,4*r.startIndex*2,2*(r.endIndex-r.startIndex))),r.setShape("points",e),r.reset()})},n.prototype.incrementalPrepareUpdate=function(t){this._clear()},n.prototype.incrementalUpdate=function(t,e,r){var i=this._newAdded[0],o=e.getLayout("points"),u=i&&i.shape.points;if(u&&u.length<2e4){var c=u.length,h=new Float32Array(c+o.length);h.set(u),h.set(o,c),i.endIndex=t.end,i.setShape({points:h})}else{this._newAdded=[];var d=this._create();d.startIndex=t.start,d.endIndex=t.end,d.incremental=!0,d.setShape({points:o}),this._setCommon(d,e,r)}},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new Az({cursor:"default"});return t.ignoreCoarsePointer=!0,this.group.add(t),this._newAdded.push(t),t},n.prototype._setCommon=function(t,e,r){var i=e.hostModel;r=r||{};var o=e.getVisual("symbolSize");t.setShape("size",o instanceof Array?o:[o,o]),t.softClipShape=r.clipShape||null,t.symbolProxy=dn(e.getVisual("symbol"),0,0,0,0),t.setColor=t.symbolProxy.setColor;var u=t.shape.size[0]<4;t.useStyle(i.getModel("itemStyle").getItemStyle(u?["color","shadowBlur","shadowColor"]:["color"]));var c=e.getVisual("style"),h=c&&c.fill;h&&t.setColor(h);var d=Oe(t);d.seriesIndex=i.seriesIndex,t.on("mousemove",function(p){d.dataIndex=null;var g=t.hoverDataIdx;g>=0&&(d.dataIndex=g+(t.startIndex||0))})},n.prototype.remove=function(){this._clear()},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const eR=g4;var m4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o=e.getData();this._updateSymbolDraw(o,e).updateData(o,{clipShape:this._getClipShape(e)}),this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,i){var o=e.getData();this._updateSymbolDraw(o,e).incrementalPrepareUpdate(o),this._finished=!1},t.prototype.incrementalRender=function(e,r,i){this._symbolDraw.incrementalUpdate(e,r.getData(),{clipShape:this._getClipShape(r)}),this._finished=e.end===r.getData().count()},t.prototype.updateTransform=function(e,r,i){var o=e.getData();if(this.group.dirty(),!this._finished||o.count()>1e4)return{update:!0};var u=Sv("").reset(e,r,i);u.progress&&u.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout(o)},t.prototype.eachRendered=function(e){this._symbolDraw&&this._symbolDraw.eachRendered(e)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,i=r&&r.getArea&&r.getArea();return e.get("clip",!0)?i:null},t.prototype._updateSymbolDraw=function(e,r){var i=this._symbolDraw,u=r.pipelineContext.large;return(!i||u!==this._isLargeDraw)&&(i&&i.remove(),i=this._symbolDraw=u?new eR:new gv,this._isLargeDraw=u,this.group.removeAll()),this.group.add(i.group),i},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0),this._symbolDraw=null},t.prototype.dispose=function(){},t.type="scatter",t}(Mt);const y4=m4;var _4=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(at);const S4=_4;var zi=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",Mn).models[0]},t.type="cartesian2dAxis",t}(at);un(zi,yh);var tR={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Iz=Ve({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},tR),UC=Ve({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},tR);const nR={category:Iz,value:UC,time:Ve({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},UC),log:De({logBase:10},UC)};var Lz={value:1,category:1,time:1,log:1};function Eh(n,t,e,r){F(Lz,function(i,o){var u=Ve(Ve({},nR[o],!0),r,!0),c=function(h){function d(){var p=null!==h&&h.apply(this,arguments)||this;return p.type=t+"Axis."+o,p}return q(d,h),d.prototype.mergeDefaultAndTheme=function(p,g){var m=up(this),y=m?wl(p):{};Ve(p,g.getTheme().get(o+"Axis")),Ve(p,this.getDefaultOption()),p.type=rR(p),m&&as(p,y,m)},d.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=YD.createByAxisModel(this))},d.prototype.getCategories=function(p){var g=this.option;if("category"===g.type)return p?g.data:this.__ordinalMeta.categories},d.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},d.type=t+"Axis."+o,d.defaultOption=u,d}(e);n.registerComponentModel(c)}),n.registerSubTypeDefaulter(t+"Axis",rR)}function rR(n){return n.type||(n.data?"category":"value")}var Rz=function(){function n(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return n.prototype.getAxis=function(t){return this._axes[t]},n.prototype.getAxes=function(){return re(this._dimList,function(t){return this._axes[t]},this)},n.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),yt(this.getAxes(),function(e){return e.scale.type===t})},n.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},n}(),jC=["x","y"];function iR(n){return"interval"===n.type||"time"===n.type}var Oz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=jC,e}return q(t,n),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,r=this.getAxis("y").scale;if(iR(e)&&iR(r)){var i=e.getExtent(),o=r.getExtent(),u=this.dataToPoint([i[0],o[0]]),c=this.dataToPoint([i[1],o[1]]),h=i[1]-i[0],d=o[1]-o[0];if(h&&d){var p=(c[0]-u[0])/h,g=(c[1]-u[1])/d,S=this._transform=[p,0,0,g,u[0]-i[0]*p,u[1]-o[0]*g];this._invTransform=Ho([],S)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var r=this.getAxis("x"),i=this.getAxis("y");return r.contain(r.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,r){var i=this.dataToPoint(e),o=this.dataToPoint(r),u=this.getArea(),c=new Be(i[0],i[1],o[0]-i[0],o[1]-i[1]);return u.intersect(c)},t.prototype.dataToPoint=function(e,r,i){i=i||[];var o=e[0],u=e[1];if(this._transform&&null!=o&&isFinite(o)&&null!=u&&isFinite(u))return Wn(i,e,this._transform);var c=this.getAxis("x"),h=this.getAxis("y");return i[0]=c.toGlobalCoord(c.dataToCoord(o,r)),i[1]=h.toGlobalCoord(h.dataToCoord(u,r)),i},t.prototype.clampData=function(e,r){var i=this.getAxis("x").scale,o=this.getAxis("y").scale,u=i.getExtent(),c=o.getExtent(),h=i.parse(e[0]),d=o.parse(e[1]);return(r=r||[])[0]=Math.min(Math.max(Math.min(u[0],u[1]),h),Math.max(u[0],u[1])),r[1]=Math.min(Math.max(Math.min(c[0],c[1]),d),Math.max(c[0],c[1])),r},t.prototype.pointToData=function(e,r){var i=[];if(this._invTransform)return Wn(i,e,this._invTransform);var o=this.getAxis("x"),u=this.getAxis("y");return i[0]=o.coordToData(o.toLocalCoord(e[0]),r),i[1]=u.coordToData(u.toLocalCoord(e[1]),r),i},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(){var e=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),i=Math.min(e[0],e[1]),o=Math.min(r[0],r[1]),u=Math.max(e[0],e[1])-i,c=Math.max(r[0],r[1])-o;return new Be(i,o,u,c)},t}(Rz);const kz=Oz;var Fz=function(n){function t(e,r,i,o,u){var c=n.call(this,e,r,i)||this;return c.index=0,c.type=o||"value",c.position=u||"bottom",c}return q(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var r=this.getExtent();return r[0]=this.toGlobalCoord(r[0]),r[1]=this.toGlobalCoord(r[1]),e&&r[0]>r[1]&&r.reverse(),r},t.prototype.pointToData=function(e,r){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),r)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(ga);const Vz=Fz;function WC(n,t,e){e=e||{};var r=n.coordinateSystem,i=t.axis,o={},u=i.getAxesOnZeroOf()[0],c=i.position,h=u?"onZero":c,d=i.dim,p=r.getRect(),g=[p.x,p.x+p.width,p.y,p.y+p.height],m={left:0,right:1,top:0,bottom:1,onZero:2},y=t.get("offset")||0,S="x"===d?[g[2]-y,g[3]+y]:[g[0]-y,g[1]+y];if(u){var b=u.toGlobalCoord(u.dataToCoord(0));S[m.onZero]=Math.max(Math.min(b,S[1]),S[0])}o.position=["y"===d?S[m[h]]:g[0],"x"===d?S[m[h]]:g[3]],o.rotation=Math.PI/2*("x"===d?0:1),o.labelDirection=o.tickDirection=o.nameDirection={top:-1,bottom:1,left:-1,right:1}[c],o.labelOffset=u?S[m[c]]-S[m.onZero]:0,t.get(["axisTick","inside"])&&(o.tickDirection=-o.tickDirection),bt(e.labelInside,t.get(["axisLabel","inside"]))&&(o.labelDirection=-o.labelDirection);var C=t.get(["axisLabel","rotate"]);return o.labelRotate="top"===h?-C:C,o.z2=1,o}function $C(n){return"cartesian2d"===n.get("coordinateSystem")}function aR(n){var t={xAxisModel:null,yAxisModel:null};return F(t,function(e,r){var i=r.replace(/Model$/,""),o=n.getReferringComponents(i,Mn).models[0];t[r]=o}),t}var YC=Math.log;function oR(n,t,e){var r=Cs.prototype,i=r.getTicks.call(e),o=r.getTicks.call(e,!0),u=i.length-1,c=r.getInterval.call(e),h=rC(n,t),d=h.extent,p=h.fixMin,g=h.fixMax;if("log"===n.type){var m=YC(n.base);d=[YC(d[0])/m,YC(d[1])/m]}n.setExtent(d[0],d[1]),n.calcNiceExtent({splitNumber:u,fixMin:p,fixMax:g});var y=r.getExtent.call(n);p&&(d[0]=y[0]),g&&(d[1]=y[1]);var S=r.getInterval.call(n),b=d[0],D=d[1];if(p&&g)S=(D-b)/u;else if(p)for(D=d[0]+S*u;D<d[1]&&isFinite(D)&&isFinite(d[1]);)S=zy(S),D=d[0]+S*u;else if(g)for(b=d[1]-S*u;b>d[0]&&isFinite(b)&&isFinite(d[0]);)S=zy(S),b=d[1]-S*u;else{n.getTicks().length-1>u&&(S=zy(S));var T=S*u;(b=Kt((D=Math.ceil(d[1]/S)*S)-T))<0&&d[0]>=0?(b=0,D=Kt(T)):D>0&&d[1]<=0&&(D=0,b=-Kt(T))}var M=(i[0].value-o[0].value)/c,I=(i[u].value-o[u].value)/c;r.setExtent.call(n,b+S*M,D+S*I),r.setInterval.call(n,S),(M||I)&&r.setNiceExtent.call(n,b+S,D-S)}var ZC=function(){function n(t,e,r){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=jC,this._initCartesian(t,e,r),this.model=t}return n.prototype.getRect=function(){return this._rect},n.prototype.update=function(t,e){var r=this._axesMap;function i(u){var c,h=Xe(u),d=h.length;if(d){for(var p=[],g=d-1;g>=0;g--){var y=u[+h[g]],S=y.model,b=y.scale;tv(b)&&S.get("alignTicks")&&null==S.get("interval")?p.push(y):(oc(b,S),tv(b)&&(c=y))}p.length&&(c||oc((c=p.pop()).scale,c.model),F(p,function(D){oR(D.scale,D.model,c.scale)}))}}this._updateScale(t,this.model),i(r.x),i(r.y);var o={};F(r.x,function(u){Bz(r,"y",u,o)}),F(r.y,function(u){Bz(r,"x",u,o)}),this.resize(this.model,e)},n.prototype.resize=function(t,e,r){var i=t.getBoxLayoutParams(),o=!r&&t.get("containLabel"),u=An(i,{width:e.getWidth(),height:e.getHeight()});this._rect=u;var c=this._axesList;function h(){F(c,function(d){var p=d.isHorizontal(),g=p?[0,u.width]:[0,u.height],m=d.inverse?1:0;d.setExtent(g[m],g[1-m]),function Hz(n,t){var e=n.getExtent(),r=e[0]+e[1];n.toGlobalCoord="x"===n.dim?function(i){return i+t}:function(i){return r-i+t},n.toLocalCoord="x"===n.dim?function(i){return i-t}:function(i){return r-i+t}}(d,p?u.x:u.y)})}h(),o&&(F(c,function(d){if(!d.model.get(["axisLabel","inside"])){var p=function RP(n){var e=n.scale;if(n.model.get(["axisLabel","show"])&&!e.isBlank()){var r,i,o=e.getExtent();i=e instanceof nv?e.count():(r=e.getTicks()).length;var h,u=n.getLabelModel(),c=av(n),d=1;i>40&&(d=Math.ceil(i/40));for(var p=0;p<i;p+=d){var m=c(r?r[p]:{value:o[0]+p},p),S=wB(u.getTextRect(m),u.get("rotate")||0);h?h.union(S):h=S}return h}}(d);if(p){var g=d.isHorizontal()?"height":"width",m=d.model.get(["axisLabel","margin"]);u[g]-=p[g]+m,"top"===d.position?u.y+=p.height+m:"left"===d.position&&(u.x+=p.width+m)}}}),h()),F(this._coordsList,function(d){d.calcAffineTransform()})},n.prototype.getAxis=function(t,e){var r=this._axesMap[t];if(null!=r)return r[e||0]},n.prototype.getAxes=function(){return this._axesList.slice()},n.prototype.getCartesian=function(t,e){if(null!=t&&null!=e)return this._coordsMap["x"+t+"y"+e];xe(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,o=this._coordsList;i<o.length;i++)if(o[i].getAxis("x").index===t||o[i].getAxis("y").index===e)return o[i]},n.prototype.getCartesians=function(){return this._coordsList.slice()},n.prototype.convertToPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(r):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(r)):null},n.prototype.convertFromPixel=function(t,e,r){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(r):i.axis?i.axis.coordToData(i.axis.toLocalCoord(r)):null},n.prototype._findConvertTarget=function(t){var c,h,e=t.seriesModel,r=t.xAxisModel||e&&e.getReferringComponents("xAxis",Mn).models[0],i=t.yAxisModel||e&&e.getReferringComponents("yAxis",Mn).models[0],o=t.gridModel;return e?Ge(this._coordsList,c=e.coordinateSystem)<0&&(c=null):r&&i?c=this.getCartesian(r.componentIndex,i.componentIndex):r?h=this.getAxis("x",r.componentIndex):i?h=this.getAxis("y",i.componentIndex):o&&o.coordinateSystem===this&&(c=this._coordsList[0]),{cartesian:c,axis:h}},n.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},n.prototype._initCartesian=function(t,e,r){var i=this,o=this,u={left:!1,right:!1,top:!1,bottom:!1},c={x:{},y:{}},h={x:0,y:0};if(e.eachComponent("xAxis",d("x"),this),e.eachComponent("yAxis",d("y"),this),!h.x||!h.y)return this._axesMap={},void(this._axesList=[]);function d(p){return function(g,m){if(Cv(g,t)){var y=g.get("position");"x"===p?"top"!==y&&"bottom"!==y&&(y=u.bottom?"top":"bottom"):"left"!==y&&"right"!==y&&(y=u.left?"right":"left"),u[y]=!0;var S=new Vz(p,mh(g),[0,0],g.get("type"),y);S.onBand="category"===S.type&&g.get("boundaryGap"),S.inverse=g.get("inverse"),g.axis=S,S.model=g,S.grid=o,S.index=m,o._axesList.push(S),c[p][m]=S,h[p]++}}}this._axesMap=c,F(c.x,function(p,g){F(c.y,function(m,y){var S="x"+g+"y"+y,b=new kz(S);b.master=i,b.model=t,i._coordsMap[S]=b,i._coordsList.push(b),b.addAxis(p),b.addAxis(m)})})},n.prototype._updateScale=function(t,e){function r(i,o){F(ov(i,o.dim),function(u){o.scale.unionExtentFromData(i,u)})}F(this._axesList,function(i){if(i.scale.setExtent(1/0,-1/0),"category"===i.type){var o=i.model.get("categorySortInfo");i.scale.setSortInfo(o)}}),t.eachSeries(function(i){if($C(i)){var o=aR(i),u=o.xAxisModel,c=o.yAxisModel;if(!Cv(u,e)||!Cv(c,e))return;var h=this.getCartesian(u.componentIndex,c.componentIndex),d=i.getData(),p=h.getAxis("x"),g=h.getAxis("y");r(d,p),r(d,g)}},this)},n.prototype.getTooltipAxes=function(t){var e=[],r=[];return F(this.getCartesians(),function(i){var o=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),u=i.getOtherAxis(o);Ge(e,o)<0&&e.push(o),Ge(r,u)<0&&r.push(u)}),{baseAxes:e,otherAxes:r}},n.create=function(t,e){var r=[];return t.eachComponent("grid",function(i,o){var u=new n(i,t,e);u.name="grid_"+o,u.resize(i,e,!0),i.coordinateSystem=u,r.push(u)}),t.eachSeries(function(i){if($C(i)){var o=aR(i),u=o.xAxisModel,c=o.yAxisModel,h=u.getCoordSysModel();i.coordinateSystem=h.coordinateSystem.getCartesian(u.componentIndex,c.componentIndex)}}),r},n.dimensions=jC,n}();function Cv(n,t){return n.getCoordSysModel()===t}function Bz(n,t,e,r){e.getAxesOnZeroOf=function(){return o?[o]:[]};var o,i=n[t],u=e.model,c=u.get(["axisLine","onZero"]),h=u.get(["axisLine","onZeroAxisIndex"]);if(c){if(null!=h)zz(i[h])&&(o=i[h]);else for(var d in i)if(i.hasOwnProperty(d)&&zz(i[d])&&!r[p(i[d])]){o=i[d];break}o&&(r[p(o)]=!0)}function p(g){return g.dim+"_"+g.index}}function zz(n){return n&&"category"!==n.type&&"time"!==n.type&&function LP(n){var t=n.scale.getExtent(),e=t[0],r=t[1];return!(e>0&&r>0||e<0&&r<0)}(n)}const sR=ZC;var Ul=Math.PI,fc=function(){function n(t,e){this.group=new Ee,this.opt=e,this.axisModel=t,De(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var r=new Ee({x:e.position[0],y:e.position[1],rotation:e.rotation});r.updateTransform(),this._transformGroup=r}return n.prototype.hasBuilder=function(t){return!!lR[t]},n.prototype.add=function(t){lR[t](this.opt,this.axisModel,this.group,this._transformGroup)},n.prototype.getGroup=function(){return this.group},n.innerTextLayout=function(t,e,r){var o,u,i=Zo(e-t);return Yt(i)?(u=r>0?"top":"bottom",o="center"):Yt(i-Ul)?(u=r>0?"bottom":"top",o="center"):(u="middle",o=i>0&&i<Ul?r>0?"right":"left":r>0?"left":"right"),{rotation:i,textAlign:o,textVerticalAlign:u}},n.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},n.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},n}(),lR={axisLine:function(n,t,e,r){var i=t.get(["axisLine","show"]);if("auto"===i&&n.handleAutoShown&&(i=n.handleAutoShown("axisLine")),i){var o=t.axis.getExtent(),u=r.transform,c=[o[0],0],h=[o[1],0],d=c[0]>h[0];u&&(Wn(c,c,u),Wn(h,h,u));var p=J({lineCap:"round"},t.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Vn({shape:{x1:c[0],y1:c[1],x2:h[0],y2:h[1]},style:p,strokeContainThreshold:n.strokeContainThreshold||5,silent:!0,z2:1});Xu(g.shape,g.style.lineWidth),g.anid="line",e.add(g);var m=t.get(["axisLine","symbol"]);if(null!=m){var y=t.get(["axisLine","symbolSize"]);fe(m)&&(m=[m,m]),(fe(y)||ft(y))&&(y=[y,y]);var S=Nl(t.get(["axisLine","symbolOffset"])||0,y),b=y[0],D=y[1];F([{rotate:n.rotation+Math.PI/2,offset:S[0],r:0},{rotate:n.rotation-Math.PI/2,offset:S[1],r:Math.sqrt((c[0]-h[0])*(c[0]-h[0])+(c[1]-h[1])*(c[1]-h[1]))}],function(C,T){if("none"!==m[T]&&null!=m[T]){var M=dn(m[T],-b/2,-D/2,b,D,p.stroke,!0),I=C.r+C.offset,L=d?h:c;M.attr({rotation:C.rotate,x:L[0]+I*Math.cos(n.rotation),y:L[1]-I*Math.sin(n.rotation),silent:!0,z2:11}),e.add(M)}})}}},axisTickLabel:function(n,t,e,r){var i=function jz(n,t,e,r){var i=e.axis,o=e.getModel("axisTick"),u=o.get("show");if("auto"===u&&r.handleAutoShown&&(u=r.handleAutoShown("axisTick")),u&&!i.scale.isBlank()){for(var c=o.getModel("lineStyle"),h=r.tickDirection*o.get("length"),p=cR(i.getTicksCoords(),t.transform,h,De(c.getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<p.length;g++)n.add(p[g]);return p}}(e,r,t,n),o=function D4(n,t,e,r){var i=e.axis;if(bt(r.axisLabelShow,e.get(["axisLabel","show"]))&&!i.scale.isBlank()){var u=e.getModel("axisLabel"),c=u.get("margin"),h=i.getViewLabels(),d=(bt(r.labelRotate,u.get("rotate"))||0)*Ul/180,p=fc.innerTextLayout(r.rotation,d,r.labelDirection),g=e.getCategories&&e.getCategories(!0),m=[],y=fc.isLabelSilent(e),S=e.get("triggerEvent");return F(h,function(b,D){var C="ordinal"===i.scale.type?i.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,T=b.formattedLabel,M=b.rawLabel,I=u;if(g&&g[C]){var L=g[C];xe(L)&&L.textStyle&&(I=new Rt(L.textStyle,u,e.ecModel))}var E=I.getTextColor()||e.get(["axisLine","lineStyle","color"]),R=i.dataToCoord(C),O=new rt({x:R,y:r.labelOffset+r.labelDirection*c,rotation:p.rotation,silent:y,z2:10+(b.level||0),style:Et(I,{text:T,align:I.getShallow("align",!0)||p.textAlign,verticalAlign:I.getShallow("verticalAlign",!0)||I.getShallow("baseline",!0)||p.textVerticalAlign,fill:_e(E)?E("category"===i.type?M:"value"===i.type?C+"":C,D):E})});if(O.anid="label_"+C,S){var k=fc.makeAxisEventDataBase(e);k.targetType="axisLabel",k.value=M,k.tickIndex=D,"category"===i.type&&(k.dataIndex=C),Oe(O).eventData=k}t.add(O),O.updateTransform(),m.push(O),n.add(O),O.decomposeTransform()}),m}}(e,r,t,n);(function uR(n,t,e){if(!aC(n.axis)){var r=n.get(["axisLabel","showMinLabel"]),i=n.get(["axisLabel","showMaxLabel"]),o=(t=t||[])[0],u=t[1],c=t[t.length-1],h=t[t.length-2],d=(e=e||[])[0],p=e[1],g=e[e.length-1],m=e[e.length-2];!1===r?($a(o),$a(d)):Gz(o,u)&&(r?($a(u),$a(p)):($a(o),$a(d))),!1===i?($a(c),$a(g)):Gz(h,c)&&(i?($a(h),$a(m)):($a(c),$a(g)))}})(t,o,i),function Wz(n,t,e,r){var i=e.axis,o=e.getModel("minorTick");if(o.get("show")&&!i.scale.isBlank()){var u=i.getMinorTicksCoords();if(u.length)for(var c=o.getModel("lineStyle"),h=r*o.get("length"),d=De(c.getLineStyle(),De(e.getModel("axisTick").getLineStyle(),{stroke:e.get(["axisLine","lineStyle","color"])})),p=0;p<u.length;p++)for(var g=cR(u[p],t.transform,h,d,"minorticks_"+p),m=0;m<g.length;m++)n.add(g[m])}}(e,r,t,n.tickDirection),t.get(["axisLabel","hideOverlap"])&&fC(qP(re(o,function(c){return{label:c,priority:c.z2,defaultAttr:{ignore:c.ignore}}})))},axisName:function(n,t,e,r){var i=bt(n.axisName,t.get("name"));if(i){var m,S,o=t.get("nameLocation"),u=n.nameDirection,c=t.getModel("nameTextStyle"),h=t.get("nameGap")||0,d=t.axis.getExtent(),p=d[0]>d[1]?-1:1,g=["start"===o?d[0]-p*h:"end"===o?d[1]+p*h:(d[0]+d[1])/2,Uz(o)?n.labelOffset+u*h:0],y=t.get("nameRotate");null!=y&&(y=y*Ul/180),Uz(o)?m=fc.innerTextLayout(n.rotation,y??n.rotation,u):(m=function b4(n,t,e,r){var o,u,i=Zo(e-n),c=r[0]>r[1],h="start"===t&&!c||"start"!==t&&c;return Yt(i-Ul/2)?(u=h?"bottom":"top",o="center"):Yt(i-1.5*Ul)?(u=h?"top":"bottom",o="center"):(u="middle",o=i<1.5*Ul&&i>Ul/2?h?"left":"right":h?"right":"left"),{rotation:i,textAlign:o,textVerticalAlign:u}}(n.rotation,o,y||0,d),null!=(S=n.axisNameAvailableWidth)&&(S=Math.abs(S/Math.sin(m.rotation)),!isFinite(S)&&(S=null)));var b=c.getFont(),D=t.get("nameTruncate",!0)||{},C=D.ellipsis,T=bt(n.nameTruncateMaxWidth,D.maxWidth,S),M=new rt({x:g[0],y:g[1],rotation:m.rotation,silent:fc.isLabelSilent(t),style:Et(c,{text:i,font:b,overflow:"truncate",width:T,ellipsis:C,fill:c.getTextColor()||t.get(["axisLine","lineStyle","color"]),align:c.get("align")||m.textAlign,verticalAlign:c.get("verticalAlign")||m.textVerticalAlign}),z2:1});if(nh({el:M,componentModel:t,itemName:i}),M.__fullText=i,M.anid="name",t.get("triggerEvent")){var I=fc.makeAxisEventDataBase(t);I.targetType="axisName",I.name=i,Oe(M).eventData=I}r.add(M),M.updateTransform(),e.add(M),M.decomposeTransform()}}};function $a(n){n&&(n.ignore=!0)}function Gz(n,t){var e=n&&n.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(e&&r){var i=Zi([]);return ge(i,i,-n.rotation),e.applyTransform(Ae([],i,n.getLocalTransform())),r.applyTransform(Ae([],i,t.getLocalTransform())),e.intersect(r)}}function Uz(n){return"middle"===n||"center"===n}function cR(n,t,e,r,i){for(var o=[],u=[],c=[],h=0;h<n.length;h++){var d=n[h].coord;u[0]=d,u[1]=0,c[0]=d,c[1]=e,t&&(Wn(u,u,t),Wn(c,c,t));var p=new Vn({shape:{x1:u[0],y1:u[1],x2:c[0],y2:c[1]},style:r,z2:2,autoBatch:!0,silent:!0});Xu(p.shape,p.style.lineWidth),p.anid=i+"_"+n[h].tickValue,o.push(p)}return o}const Io=fc;function XC(n,t){return"all"===n||te(n)&&Ge(n,t)>=0||n===t}function KC(n){var t=(n.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return t&&t.axesInfo[xv(n)]}function QC(n){return!!n.get(["handle","show"])}function xv(n){return n.type+"||"+n.id}var Zz={},M4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i,o){this.axisPointerClass&&function O0(n){var t=KC(n);if(t){var e=t.axisPointerModel,r=t.axis.scale,i=e.option,o=e.get("status"),u=e.get("value");null!=u&&(u=r.parse(u));var c=QC(e);null==o&&(i.status=c?"show":"hide");var h=r.getExtent().slice();h[0]>h[1]&&h.reverse(),(null==u||u>h[1])&&(u=h[1]),u<h[0]&&(u=h[0]),i.value=u,c&&(i.status=t.axis.scale.isBlank()?"hide":"show")}}(e),n.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},t.prototype.updateAxisPointer=function(e,r,i,o){this._doUpdateAxisPointerClass(e,i,!1)},t.prototype.remove=function(e,r){var i=this._axisPointer;i&&i.remove(r)},t.prototype.dispose=function(e,r){this._disposeAxisPointer(r),n.prototype.dispose.apply(this,arguments)},t.prototype._doUpdateAxisPointerClass=function(e,r,i){var o=t.getAxisPointerClass(this.axisPointerClass);if(o){var u=function T4(n){var t=KC(n);return t&&t.axisPointerModel}(e);u?(this._axisPointer||(this._axisPointer=new o)).render(e,u,r,i):this._disposeAxisPointer(r)}},t.prototype._disposeAxisPointer=function(e){this._axisPointer&&this._axisPointer.dispose(e),this._axisPointer=null},t.registerAxisPointerClass=function(e,r){Zz[e]=r},t.getAxisPointerClass=function(e){return e&&Zz[e]},t.type="axis",t}(wt);const hc=M4;var JC=ot();function fR(n,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitArea"),u=o.getModel("areaStyle"),c=u.get("color"),h=r.coordinateSystem.getRect(),d=i.getTicksCoords({tickModel:o,clamp:!0});if(d.length){var p=c.length,g=JC(n).splitAreaColors,m=ve(),y=0;if(g)for(var S=0;S<d.length;S++){var b=g.get(d[S].tickValue);if(null!=b){y=(b+(p-1)*S)%p;break}}var D=i.toGlobalCoord(d[0].coord),C=u.getAreaStyle();for(c=te(c)?c:[c],S=1;S<d.length;S++){var T=i.toGlobalCoord(d[S].coord),M=void 0,I=void 0,L=void 0,E=void 0;i.isHorizontal()?(I=h.y,E=h.height,D=(M=D)+(L=T-M)):(M=h.x,L=h.width,D=(I=D)+(E=T-I));var R=d[S-1].tickValue;null!=R&&m.set(R,y),t.add(new st({anid:null!=R?"area_"+R:null,shape:{x:M,y:I,width:L,height:E},style:De({fill:c[y]},C),autoBatch:!0,silent:!0})),y=(y+1)%p}JC(n).splitAreaColors=m}}}function qz(n){JC(n).splitAreaColors=null}var A4=["axisLine","axisTickLabel","axisName"],Xz=["splitArea","splitLine","minorSplitLine"],hR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="CartesianAxisPointer",e}return q(t,n),t.prototype.render=function(e,r,i,o){this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Ee,this.group.add(this._axisGroup),e.get("show")){var c=e.getCoordSysModel(),h=WC(c,e),d=new Io(e,J({handleAutoShown:function(g){for(var m=c.coordinateSystem.getCartesians(),y=0;y<m.length;y++)if(tv(m[y].getOtherAxis(e.axis).scale))return!0;return!1}},h));F(A4,d.add,d),this._axisGroup.add(d.getGroup()),F(Xz,function(g){e.get([g,"show"])&&Kz[g](this,this._axisGroup,e,c)},this),o&&"changeAxisOrder"===o.type&&o.isInitSort||Mp(u,this._axisGroup,e),n.prototype.render.call(this,e,r,i,o)}},t.prototype.remove=function(){qz(this)},t.type="cartesianAxis",t}(hc),Kz={splitLine:function(n,t,e,r){var i=e.axis;if(!i.scale.isBlank()){var o=e.getModel("splitLine"),u=o.getModel("lineStyle"),c=u.get("color");c=te(c)?c:[c];for(var h=r.coordinateSystem.getRect(),d=i.isHorizontal(),p=0,g=i.getTicksCoords({tickModel:o}),m=[],y=[],S=u.getLineStyle(),b=0;b<g.length;b++){var D=i.toGlobalCoord(g[b].coord);d?(m[0]=D,m[1]=h.y,y[0]=D,y[1]=h.y+h.height):(m[0]=h.x,m[1]=D,y[0]=h.x+h.width,y[1]=D);var C=p++%c.length,M=new Vn({anid:null!=g[b].tickValue?"line_"+g[b].tickValue:null,autoBatch:!0,shape:{x1:m[0],y1:m[1],x2:y[0],y2:y[1]},style:De({stroke:c[C]},S),silent:!0});Xu(M.shape,S.lineWidth),t.add(M)}}},minorSplitLine:function(n,t,e,r){var i=e.axis,u=e.getModel("minorSplitLine").getModel("lineStyle"),c=r.coordinateSystem.getRect(),h=i.isHorizontal(),d=i.getMinorTicksCoords();if(d.length)for(var p=[],g=[],m=u.getLineStyle(),y=0;y<d.length;y++)for(var S=0;S<d[y].length;S++){var b=i.toGlobalCoord(d[y][S].coord);h?(p[0]=b,p[1]=c.y,g[0]=b,g[1]=c.y+c.height):(p[0]=c.x,p[1]=b,g[0]=c.x+c.width,g[1]=b);var D=new Vn({anid:"minor_line_"+d[y][S].tickValue,autoBatch:!0,shape:{x1:p[0],y1:p[1],x2:g[0],y2:g[1]},style:m,silent:!0});Xu(D.shape,m.lineWidth),t.add(D)}},splitArea:function(n,t,e,r){fR(n,t,e,r)}},Qz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="xAxis",t}(hR),I4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=Qz.type,e}return q(t,n),t.type="yAxis",t}(hR),Jz=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="grid",e}return q(t,n),t.prototype.render=function(e,r){this.group.removeAll(),e.get("show")&&this.group.add(new st({shape:e.coordinateSystem.getRect(),style:De({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(wt),dR={offset:0};function eH(n){n.registerComponentView(Jz),n.registerComponentModel(S4),n.registerCoordinateSystem("cartesian2d",sR),Eh(n,"x",zi,dR),Eh(n,"y",zi,dR),n.registerComponentView(Qz),n.registerComponentView(I4),n.registerPreprocessor(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})})}function bn(n){n.eachSeriesByType("radar",function(t){var e=t.getData(),r=[],i=t.coordinateSystem;if(i){var o=i.getIndicatorAxes();F(o,function(u,c){e.each(e.mapDimension(o[c].dim),function(h,d){r[d]=r[d]||[];var p=i.dataToPoint(h,c);r[d][c]=tH(p)?p:nH(i)})}),e.each(function(u){var c=nS(r[u],function(h){return tH(h)})||nH(i);r[u].push(c.slice()),e.setItemLayout(u,r[u])})}})}function tH(n){return!isNaN(n[0])&&!isNaN(n[1])}function nH(n){return[n.cx,n.cy]}function L4(n){var t=n.polar;if(t){te(t)||(t=[t]);var e=[];F(t,function(r,i){r.indicator?(r.type&&!r.shape&&(r.shape=r.type),n.radar=n.radar||[],te(n.radar)||(n.radar=[n.radar]),n.radar.push(r)):e.push(r)}),n.polar=e}F(n.series,function(r){r&&"radar"===r.type&&r.polarIndex&&(r.radarIndex=r.polarIndex)})}var R4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o=e.coordinateSystem,u=this.group,c=e.getData(),h=this._data;function d(m,y){var S=m.getItemVisual(y,"symbol")||"circle";if("none"!==S){var b=Ju(m.getItemVisual(y,"symbolSize")),D=dn(S,-1,-1,2,2),C=m.getItemVisual(y,"symbolRotate")||0;return D.attr({style:{strokeNoScale:!0},z2:100,scaleX:b[0]/2,scaleY:b[1]/2,rotation:C*Math.PI/180||0}),D}}function p(m,y,S,b,D,C){S.removeAll();for(var T=0;T<y.length-1;T++){var M=d(b,D);M&&(M.__dimIdx=T,m[T]?(M.setPosition(m[T]),Gs[C?"initProps":"updateProps"](M,{x:y[T][0],y:y[T][1]},e,D)):M.setPosition(y[T]),S.add(M))}}function g(m){return re(m,function(y){return[o.cx,o.cy]})}c.diff(h).add(function(m){var y=c.getItemLayout(m);if(y){var S=new dr,b=new Wr,D={shape:{points:y}};S.shape.points=g(y),b.shape.points=g(y),$t(S,D,e,m),$t(b,D,e,m);var C=new Ee,T=new Ee;C.add(b),C.add(S),C.add(T),p(b.shape.points,y,T,c,m,!0),c.setItemGraphicEl(m,C)}}).update(function(m,y){var S=h.getItemGraphicEl(y),b=S.childAt(0),D=S.childAt(1),C=S.childAt(2),T={shape:{points:c.getItemLayout(m)}};T.shape.points&&(p(b.shape.points,T.shape.points,C,c,m,!1),zr(D),zr(b),dt(b,T,e),dt(D,T,e),c.setItemGraphicEl(m,S))}).remove(function(m){u.remove(h.getItemGraphicEl(m))}).execute(),c.eachItemGraphicEl(function(m,y){var S=c.getItemModel(y),b=m.childAt(0),D=m.childAt(1),C=m.childAt(2),T=c.getItemVisual(y,"style"),M=T.fill;u.add(m),b.useStyle(De(S.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:M})),lr(b,S,"lineStyle"),lr(D,S,"areaStyle");var I=S.getModel("areaStyle"),L=I.isEmpty()&&I.parentModel.isEmpty();D.ignore=L,F(["emphasis","select","blur"],function(O){var k=S.getModel([O,"areaStyle"]),V=k.isEmpty()&&k.parentModel.isEmpty();D.ensureState(O).ignore=V&&L}),D.useStyle(De(I.getAreaStyle(),{fill:M,opacity:.7,decal:T.decal}));var E=S.getModel("emphasis"),R=E.getModel("itemStyle").getItemStyle();C.eachChild(function(O){if(O instanceof Zn){var k=O.style;O.useStyle(J({image:k.image,x:k.x,y:k.y,width:k.width,height:k.height},T))}else O.useStyle(T),O.setColor(M),O.style.strokeNoScale=!0;O.ensureState("emphasis").style=Te(R);var B=c.getStore().get(c.getDimensionIndex(O.__dimIdx),y);(null==B||isNaN(B))&&(B=""),xr(O,qn(S),{labelFetcher:c.hostModel,labelDataIndex:y,labelDimIndex:O.__dimIdx,defaultText:B,inheritColor:M,defaultOpacity:T.opacity})}),nn(m,E.get("focus"),E.get("blurScope"),E.get("disabled"))}),this._data=c},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.type="radar",t}(Mt);const N4=R4;var O4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Dv(de(this.getData,this),de(this.getRawData,this))},t.prototype.getInitialData=function(e,r){return Ih(this,{generateCoord:"indicator_",generateCoordCount:1/0})},t.prototype.formatTooltip=function(e,r,i){var o=this.getData(),c=this.coordinateSystem.getIndicatorAxes(),h=this.getData().getName(e),d=""===h?this.name:h,p=FI(this,e);return hn("section",{header:d,sortBlocks:!0,blocks:re(c,function(g){var m=o.get(o.mapDimension(g.dim),e);return hn("nameValue",{markerType:"subItem",markerColor:p,name:g.name,value:m,sortParam:m})})})},t.prototype.getTooltipPosition=function(e){if(null!=e)for(var r=this.getData(),i=this.coordinateSystem,o=r.getValues(re(i.dimensions,function(d){return r.mapDimension(d)}),e),u=0,c=o.length;u<c;u++)if(!isNaN(o[u])){var h=i.getIndicatorAxes();return i.coordToPoint(h[u].dataToCoord(o[u]),u)}},t.type="series.radar",t.dependencies=["radar"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},t}(Nt);const k4=O4;var Tv=nR.value;function ex(n,t){return De({show:t},n)}var F4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.optionUpdated=function(){var e=this.get("boundaryGap"),r=this.get("splitNumber"),i=this.get("scale"),o=this.get("axisLine"),u=this.get("axisTick"),c=this.get("axisLabel"),h=this.get("axisName"),d=this.get(["axisName","show"]),p=this.get(["axisName","formatter"]),g=this.get("axisNameGap"),m=this.get("triggerEvent"),y=re(this.get("indicator")||[],function(S){null!=S.max&&S.max>0&&!S.min?S.min=0:null!=S.min&&S.min<0&&!S.max&&(S.max=0);var b=h;null!=S.color&&(b=De({color:S.color},h));var D=Ve(Te(S),{boundaryGap:e,splitNumber:r,scale:i,axisLine:o,axisTick:u,axisLabel:c,name:S.text,showName:d,nameLocation:"end",nameGap:g,nameTextStyle:b,triggerEvent:m},!1);fe(p)?D.name=p.replace("{value}",D.name??""):_e(p)&&(D.name=p(D.name,D));var T=new Rt(D,null,this.ecModel);return un(T,yh.prototype),T.mainType="radar",T.componentIndex=this.componentIndex,T},this);this._indicatorModels=y},t.prototype.getIndicatorModels=function(){return this._indicatorModels},t.type="radar",t.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:Ve({lineStyle:{color:"#bbb"}},Tv.axisLine),axisLabel:ex(Tv.axisLabel,!1),axisTick:ex(Tv.axisTick,!1),splitLine:ex(Tv.splitLine,!0),splitArea:ex(Tv.splitArea,!0),indicator:[]},t}(at);const V4=F4;var pR=["axisLine","axisTickLabel","axisName"],rH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){this.group.removeAll(),this._buildAxes(e),this._buildSplitLineAndArea(e)},t.prototype._buildAxes=function(e){var r=e.coordinateSystem;F(re(r.getIndicatorAxes(),function(u){var c=u.model.get("showName")?u.name:"";return new Io(u.model,{axisName:c,position:[r.cx,r.cy],rotation:u.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}),function(u){F(pR,u.add,u),this.group.add(u.getGroup())},this)},t.prototype._buildSplitLineAndArea=function(e){var r=e.coordinateSystem,i=r.getIndicatorAxes();if(i.length){var o=e.get("shape"),u=e.getModel("splitLine"),c=e.getModel("splitArea"),h=u.getModel("lineStyle"),d=c.getModel("areaStyle"),p=u.get("show"),g=c.get("show"),m=h.get("color"),y=d.get("color"),S=te(m)?m:[m],b=te(y)?y:[y],D=[],C=[];if("circle"===o)for(var M=i[0].getTicksCoords(),I=r.cx,L=r.cy,E=0;E<M.length;E++)p&&D[T(D,S,E)].push(new bo({shape:{cx:I,cy:L,r:M[E].coord}})),g&&E<M.length-1&&C[T(C,b,E)].push(new Ml({shape:{cx:I,cy:L,r0:M[E].coord,r:M[E+1].coord}}));else{var O,k=re(i,function(W,Y){var K=W.getTicksCoords();return O=null==O?K.length-1:Math.min(K.length-1,O),re(K,function(X){return r.coordToPoint(X.coord,Y)})}),V=[];for(E=0;E<=O;E++){for(var B=[],H=0;H<i.length;H++)B.push(k[H][E]);B[0]&&B.push(B[0].slice()),p&&D[T(D,S,E)].push(new Wr({shape:{points:B}})),g&&V&&C[T(C,b,E-1)].push(new dr({shape:{points:B.concat(V)}})),V=B.slice().reverse()}}var G=h.getLineStyle(),j=d.getAreaStyle();F(C,function(W,Y){this.group.add(vi(W,{style:De({stroke:"none",fill:b[Y%b.length]},j),silent:!0}))},this),F(D,function(W,Y){this.group.add(vi(W,{style:De({fill:"none",stroke:S[Y%S.length]},G),silent:!0}))},this)}function T(W,Y,K){var X=K%Y.length;return W[X]=W[X]||[],X}},t.type="radar",t}(wt);const iH=rH;var tx=function(n){function t(e,r,i){var o=n.call(this,e,r,i)||this;return o.type="value",o.angle=0,o.name="",o}return q(t,n),t}(ga);const Mv=tx;var B4=function(){function n(t,e,r){this.dimensions=[],this._model=t,this._indicatorAxes=re(t.getIndicatorModels(),function(i,o){var u="indicator_"+o,c=new Mv(u,new Cs);return c.name=i.get("name"),c.model=i,i.axis=c,this.dimensions.push(u),c},this),this.resize(t,r)}return n.prototype.getIndicatorAxes=function(){return this._indicatorAxes},n.prototype.dataToPoint=function(t,e){return this.coordToPoint(this._indicatorAxes[e].dataToCoord(t),e)},n.prototype.coordToPoint=function(t,e){var i=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(i),this.cy-t*Math.sin(i)]},n.prototype.pointToData=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=Math.sqrt(e*e+r*r);e/=i,r/=i;for(var c,o=Math.atan2(-r,e),u=1/0,h=-1,d=0;d<this._indicatorAxes.length;d++){var p=this._indicatorAxes[d],g=Math.abs(o-p.angle);g<u&&(c=p,h=d,u=g)}return[h,+(c&&c.coordToData(i))]},n.prototype.resize=function(t,e){var r=t.get("center"),i=e.getWidth(),o=e.getHeight(),u=Math.min(i,o)/2;this.cx=le(r[0],i),this.cy=le(r[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var c=t.get("radius");(fe(c)||ft(c))&&(c=[0,c]),this.r0=le(c[0],u),this.r=le(c[1],u),F(this._indicatorAxes,function(h,d){h.setExtent(this.r0,this.r);var p=this.startAngle+d*Math.PI*2/this._indicatorAxes.length;p=Math.atan2(Math.sin(p),Math.cos(p)),h.angle=p},this)},n.prototype.update=function(t,e){var r=this._indicatorAxes,i=this._model;F(r,function(c){c.scale.setExtent(1/0,-1/0)}),t.eachSeriesByType("radar",function(c,h){if("radar"===c.get("coordinateSystem")&&t.getComponent("radar",c.get("radarIndex"))===i){var d=c.getData();F(r,function(p){p.scale.unionExtentFromData(d,d.mapDimension(p.dim))})}},this);var o=i.get("splitNumber"),u=new Cs;u.setExtent(0,o),u.setInterval(1),F(r,function(c,h){oR(c.scale,c.model,u)})},n.prototype.convertToPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.convertFromPixel=function(t,e,r){return console.warn("Not implemented."),null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.create=function(t,e){var r=[];return t.eachComponent("radar",function(i){var o=new n(i,t,e);r.push(o),i.coordinateSystem=o}),t.eachSeriesByType("radar",function(i){"radar"===i.get("coordinateSystem")&&(i.coordinateSystem=r[i.get("radarIndex")||0])}),r},n.dimensions=[],n}();const z4=B4;function vR(n){n.registerCoordinateSystem("radar",z4),n.registerComponentModel(V4),n.registerComponentView(iH),n.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each(function(r){e.setItemVisual(r,"legendIcon","roundRect")}),e.setVisual("legendIcon","roundRect")}})}var aH="\0_ec_interaction_mutex";function nx(n,t){return!!mR(n)[t]}function mR(n){return n[aH]||(n[aH]={})}Fi({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},ht);var G4=function(n){function t(e){var r=n.call(this)||this;r._zr=e;var i=de(r._mousedownHandler,r),o=de(r._mousemoveHandler,r),u=de(r._mouseupHandler,r),c=de(r._mousewheelHandler,r),h=de(r._pinchHandler,r);return r.enable=function(d,p){this.disable(),this._opt=De(Te(p)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==d&&(d=!0),(!0===d||"move"===d||"pan"===d)&&(e.on("mousedown",i),e.on("mousemove",o),e.on("mouseup",u)),(!0===d||"scale"===d||"zoom"===d)&&(e.on("mousewheel",c),e.on("pinch",h))},r.disable=function(){e.off("mousedown",i),e.off("mousemove",o),e.off("mouseup",u),e.off("mousewheel",c),e.off("pinch",h)},r}return q(t,n),t.prototype.isDragging=function(){return this._dragging},t.prototype.isPinching=function(){return this._pinching},t.prototype.setPointerChecker=function(e){this.pointerChecker=e},t.prototype.dispose=function(){this.disable()},t.prototype._mousedownHandler=function(e){if(!ZT(e)){for(var r=e.target;r;){if(r.draggable)return;r=r.__hostTarget||r.parent}var i=e.offsetX,o=e.offsetY;this.pointerChecker&&this.pointerChecker(e,i,o)&&(this._x=i,this._y=o,this._dragging=!0)}},t.prototype._mousemoveHandler=function(e){if(this._dragging&&rx("moveOnMouseMove",e,this._opt)&&"pinch"!==e.gestureEvent&&!nx(this._zr,"globalPan")){var r=e.offsetX,i=e.offsetY,o=this._x,u=this._y,c=r-o,h=i-u;this._x=r,this._y=i,this._opt.preventDefaultMouseMove&&Yi(e.event),sH(this,"pan","moveOnMouseMove",e,{dx:c,dy:h,oldX:o,oldY:u,newX:r,newY:i,isAvailableBehavior:null})}},t.prototype._mouseupHandler=function(e){ZT(e)||(this._dragging=!1)},t.prototype._mousewheelHandler=function(e){var r=rx("zoomOnMouseWheel",e,this._opt),i=rx("moveOnMouseWheel",e,this._opt),o=e.wheelDelta,u=Math.abs(o),c=e.offsetX,h=e.offsetY;if(0!==o&&(r||i)){if(r){var d=u>3?1.4:u>1?1.2:1.1;yR(this,"zoom","zoomOnMouseWheel",e,{scale:o>0?d:1/d,originX:c,originY:h,isAvailableBehavior:null})}if(i){var g=Math.abs(o);yR(this,"scrollMove","moveOnMouseWheel",e,{scrollDelta:(o>0?1:-1)*(g>3?.4:g>1?.15:.05),originX:c,originY:h,isAvailableBehavior:null})}}},t.prototype._pinchHandler=function(e){nx(this._zr,"globalPan")||yR(this,"zoom",null,e,{scale:e.pinchScale>1?1.1:1/1.1,originX:e.pinchX,originY:e.pinchY,isAvailableBehavior:null})},t}($i);function yR(n,t,e,r,i){n.pointerChecker&&n.pointerChecker(r,i.originX,i.originY)&&(Yi(r.event),sH(n,t,e,r,i))}function sH(n,t,e,r,i){i.isAvailableBehavior=de(rx,null,e,r),n.trigger(t,i)}function rx(n,t,e){var r=e[n];return!n||r&&(!fe(r)||t.event[r+"Key"])}const k0=G4;function _R(n,t,e){var r=n.target;r.x+=t,r.y+=e,r.dirty()}function SR(n,t,e,r){var i=n.target,o=n.zoomLimit,u=n.zoom=n.zoom||1;if(u*=t,o){var c=o.min||0;u=Math.max(Math.min(o.max||1/0,u),c)}var d=u/n.zoom;n.zoom=u,i.x-=(e-i.x)*(d-1),i.y-=(r-i.y)*(d-1),i.scaleX*=d,i.scaleY*=d,i.dirty()}var lH={axisPointer:1,tooltip:1,brush:1};function ix(n,t,e){var r=t.getComponentByElement(n.topTarget),i=r&&r.coordinateSystem;return r&&r!==e&&!lH.hasOwnProperty(r.mainType)&&i&&i.model!==e}function wR(n){fe(n)&&(n=(new DOMParser).parseFromString(n,"text/xml"));var e=n;for(9===e.nodeType&&(e=e.firstChild);"svg"!==e.nodeName.toLowerCase()||1!==e.nodeType;)e=e.nextSibling;return e}var ax,ox={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},uH=Xe(ox),sx={"alignment-baseline":"textBaseline","stop-color":"stopColor"},cH=Xe(sx),U4=function(){function n(){this._defs={},this._root=null}return n.prototype.parse=function(t,e){e=e||{};var r=wR(t);this._defsUsePending=[];var i=new Ee;this._root=i;var p,g,o=[],u=r.getAttribute("viewBox")||"",c=parseFloat(r.getAttribute("width")||e.width),h=parseFloat(r.getAttribute("height")||e.height);isNaN(c)&&(c=null),isNaN(h)&&(h=null),Pr(r,i,null,!0,!1);for(var d=r.firstChild;d;)this._parseNode(d,i,o,null,!1,!1),d=d.nextSibling;if(function Av(n,t){for(var e=0;e<t.length;e++){var r=t[e];r[0].style[r[1]]=n[r[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],u){var m=dc(u);m.length>=4&&(p={x:parseFloat(m[0]||0),y:parseFloat(m[1]||0),width:parseFloat(m[2]),height:parseFloat(m[3])})}if(p&&null!=c&&null!=h&&(g=B0(p,{x:0,y:0,width:c,height:h}),!e.ignoreViewBox)){var y=i;(i=new Ee).add(y),y.scaleX=y.scaleY=g.scale,y.x=g.x,y.y=g.y}return!e.ignoreRootClip&&null!=c&&null!=h&&i.setClipPath(new st({shape:{x:0,y:0,width:c,height:h}})),{root:i,width:c,height:h,viewBoxRect:p,viewBoxTransform:g,named:o}},n.prototype._parseNode=function(t,e,r,i,o,u){var h,c=t.nodeName.toLowerCase(),d=i;if("defs"===c&&(o=!0),"text"===c&&(u=!0),"defs"===c||"switch"===c)h=e;else{if(!o){var p=ax[c];if(p&&pe(ax,c)){h=p.call(this,t,e);var g=t.getAttribute("name");if(g){var m={name:g,namedFrom:null,svgNodeTagLower:c,el:h};r.push(m),"g"===c&&(d=m)}else i&&r.push({name:i.name,namedFrom:i,svgNodeTagLower:c,el:h});e.add(h)}}var y=fH[c];if(y&&pe(fH,c)){var S=y.call(this,t),b=t.getAttribute("id");b&&(this._defs[b]=S)}}if(h&&h.isGroup)for(var D=t.firstChild;D;)1===D.nodeType?this._parseNode(D,h,r,d,o,u):3===D.nodeType&&u&&this._parseText(D,h),D=D.nextSibling},n.prototype._parseText=function(t,e){var r=new Vd({style:{text:t.textContent},silent:!0,x:this._textX||0,y:this._textY||0});Ya(e,r),Pr(t,r,this._defsUsePending,!1,!1),function j4(n,t){var e=t.__selfStyle;if(e){var r=e.textBaseline,i=r;r&&"auto"!==r&&"baseline"!==r?"before-edge"===r||"text-before-edge"===r?i="top":"after-edge"===r||"text-after-edge"===r?i="bottom":("central"===r||"mathematical"===r)&&(i="middle"):i="alphabetic",n.style.textBaseline=i}var o=t.__inheritedStyle;if(o){var u=o.textAlign,c=u;u&&("middle"===u&&(c="center"),n.style.textAlign=c)}}(r,e);var i=r.style,o=i.fontSize;o&&o<9&&(i.fontSize=9,r.scaleX*=o/9,r.scaleY*=o/9);var u=(i.fontSize||i.fontFamily)&&[i.fontStyle,i.fontWeight,(i.fontSize||12)+"px",i.fontFamily||"sans-serif"].join(" ");i.font=u;var c=r.getBoundingRect();return this._textX+=c.width,e.add(r),r},n.internalField=void(ax={g:function(t,e){var r=new Ee;return Ya(e,r),Pr(t,r,this._defsUsePending,!1,!1),r},rect:function(t,e){var r=new st;return Ya(e,r),Pr(t,r,this._defsUsePending,!1,!1),r.setShape({x:parseFloat(t.getAttribute("x")||"0"),y:parseFloat(t.getAttribute("y")||"0"),width:parseFloat(t.getAttribute("width")||"0"),height:parseFloat(t.getAttribute("height")||"0")}),r.silent=!0,r},circle:function(t,e){var r=new bo;return Ya(e,r),Pr(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),r:parseFloat(t.getAttribute("r")||"0")}),r.silent=!0,r},line:function(t,e){var r=new Vn;return Ya(e,r),Pr(t,r,this._defsUsePending,!1,!1),r.setShape({x1:parseFloat(t.getAttribute("x1")||"0"),y1:parseFloat(t.getAttribute("y1")||"0"),x2:parseFloat(t.getAttribute("x2")||"0"),y2:parseFloat(t.getAttribute("y2")||"0")}),r.silent=!0,r},ellipse:function(t,e){var r=new cy;return Ya(e,r),Pr(t,r,this._defsUsePending,!1,!1),r.setShape({cx:parseFloat(t.getAttribute("cx")||"0"),cy:parseFloat(t.getAttribute("cy")||"0"),rx:parseFloat(t.getAttribute("rx")||"0"),ry:parseFloat(t.getAttribute("ry")||"0")}),r.silent=!0,r},polygon:function(t,e){var i,r=t.getAttribute("points");r&&(i=pH(r));var o=new dr({shape:{points:i||[]},silent:!0});return Ya(e,o),Pr(t,o,this._defsUsePending,!1,!1),o},polyline:function(t,e){var i,r=t.getAttribute("points");r&&(i=pH(r));var o=new Wr({shape:{points:i||[]},silent:!0});return Ya(e,o),Pr(t,o,this._defsUsePending,!1,!1),o},image:function(t,e){var r=new Zn;return Ya(e,r),Pr(t,r,this._defsUsePending,!1,!1),r.setStyle({image:t.getAttribute("xlink:href")||t.getAttribute("href"),x:+t.getAttribute("x"),y:+t.getAttribute("y"),width:+t.getAttribute("width"),height:+t.getAttribute("height")}),r.silent=!0,r},text:function(t,e){var r=t.getAttribute("x")||"0",i=t.getAttribute("y")||"0",o=t.getAttribute("dx")||"0",u=t.getAttribute("dy")||"0";this._textX=parseFloat(r)+parseFloat(o),this._textY=parseFloat(i)+parseFloat(u);var c=new Ee;return Ya(e,c),Pr(t,c,this._defsUsePending,!1,!0),c},tspan:function(t,e){var r=t.getAttribute("x"),i=t.getAttribute("y");null!=r&&(this._textX=parseFloat(r)),null!=i&&(this._textY=parseFloat(i));var o=t.getAttribute("dx")||"0",u=t.getAttribute("dy")||"0",c=new Ee;return Ya(e,c),Pr(t,c,this._defsUsePending,!1,!0),this._textX+=parseFloat(o),this._textY+=parseFloat(u),c},path:function(t,e){var i=Hb(t.getAttribute("d")||"");return Ya(e,i),Pr(t,i,this._defsUsePending,!1,!1),i.silent=!0,i}}),n}(),fH={lineargradient:function(n){var t=parseInt(n.getAttribute("x1")||"0",10),e=parseInt(n.getAttribute("y1")||"0",10),r=parseInt(n.getAttribute("x2")||"10",10),i=parseInt(n.getAttribute("y2")||"0",10),o=new eh(t,e,r,i);return hH(n,o),dH(n,o),o},radialgradient:function(n){var t=parseInt(n.getAttribute("cx")||"0",10),e=parseInt(n.getAttribute("cy")||"0",10),r=parseInt(n.getAttribute("r")||"0",10),i=new bp(t,e,r);return hH(n,i),dH(n,i),i}};function hH(n,t){"userSpaceOnUse"===n.getAttribute("gradientUnits")&&(t.global=!0)}function dH(n,t){for(var e=n.firstChild;e;){if(1===e.nodeType&&"stop"===e.nodeName.toLocaleLowerCase()){var i,r=e.getAttribute("offset");i=r&&r.indexOf("%")>0?parseInt(r,10)/100:r?parseFloat(r):0;var o={};ux(e,o,o);var u=o.stopColor||e.getAttribute("stop-color")||"#000000";t.colorStops.push({offset:i,color:u})}e=e.nextSibling}}function Ya(n,t){n&&n.__inheritedStyle&&(t.__inheritedStyle||(t.__inheritedStyle={}),De(t.__inheritedStyle,n.__inheritedStyle))}function pH(n){for(var t=dc(n),e=[],r=0;r<t.length;r+=2){var i=parseFloat(t[r]),o=parseFloat(t[r+1]);e.push([i,o])}return e}function Pr(n,t,e,r,i){var o=t,u=o.__inheritedStyle=o.__inheritedStyle||{},c={};1===n.nodeType&&(function yH(n,t){var e=n.getAttribute("transform");if(e){e=e.replace(/,/g," ");var r=[],i=null;e.replace(mH,function(g,m,y){return r.push(m,y),""});for(var o=r.length-1;o>0;o-=2){var c=r[o-1],h=dc(r[o]);switch(i=i||[1,0,0,1,0,0],c){case"translate":qi(i,i,[parseFloat(h[0]),parseFloat(h[1]||"0")]);break;case"scale":su(i,i,[parseFloat(h[0]),parseFloat(h[1]||h[0])]);break;case"rotate":ge(i,i,-parseFloat(h[0])*lx);break;case"skewX":Ae(i,[1,0,Math.tan(parseFloat(h[0])*lx),1,0,0],i);break;case"skewY":Ae(i,[1,Math.tan(parseFloat(h[0])*lx),0,1,0,0],i);break;case"matrix":i[0]=parseFloat(h[0]),i[1]=parseFloat(h[1]),i[2]=parseFloat(h[2]),i[3]=parseFloat(h[3]),i[4]=parseFloat(h[4]),i[5]=parseFloat(h[5])}}t.setLocalTransform(i)}}(n,t),ux(n,u,c),r||function bR(n,t,e){for(var r=0;r<uH.length;r++)null!=(o=n.getAttribute(i=uH[r]))&&(t[ox[i]]=o);for(r=0;r<cH.length;r++){var i,o;null!=(o=n.getAttribute(i=cH[r]))&&(e[sx[i]]=o)}}(n,u,c)),o.style=o.style||{},null!=u.fill&&(o.style.fill=F0(o,"fill",u.fill,e)),null!=u.stroke&&(o.style.stroke=F0(o,"stroke",u.stroke,e)),F(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(h){null!=u[h]&&(o.style[h]=parseFloat(u[h]))}),F(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(h){null!=u[h]&&(o.style[h]=u[h])}),i&&(o.__selfStyle=c),u.lineDash&&(o.style.lineDash=re(dc(u.lineDash),function(h){return parseFloat(h)})),("hidden"===u.visibility||"collapse"===u.visibility)&&(o.invisible=!0),"none"===u.display&&(o.ignore=!0)}var vH=/^url\(\s*#(.*?)\)/;function F0(n,t,e,r){var i=e&&e.match(vH);if(!i)return"none"===e&&(e=null),e;var o=ei(i[1]);r.push([n,t,o])}var gH=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function dc(n){return n.match(gH)||[]}var mH=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,lx=Math.PI/180,V0=/([^\s:;]+)\s*:\s*([^:;]+)/g;function ux(n,t,e){var r=n.getAttribute("style");if(r){V0.lastIndex=0;for(var i;null!=(i=V0.exec(r));){var o=i[1],u=pe(ox,o)?ox[o]:null;u&&(t[u]=i[2]);var c=pe(sx,o)?sx[o]:null;c&&(e[c]=i[2])}}}function B0(n,t){var i=Math.min(t.width/n.width,t.height/n.height);return{scale:i,x:-(n.x+n.width/2)*i+(t.x+t.width/2),y:-(n.y+n.height/2)*i+(t.y+t.height/2)}}for(var cx=ve(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),fx=function(){function n(t,e){this.type="geoSVG",this._usedGraphicMap=ve(),this._freedGraphics=[],this._mapName=t,this._parsedXML=wR(e)}return n.prototype.load=function(){var t=this._firstGraphic;if(!t){t=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(t),this._boundingRect=this._firstGraphic.boundingRect.clone();var e=function _H(n){var t=[],e=ve();return F(n,function(r){if(null==r.namedFrom){var i=new xs(r.name,r.el);t.push(i),e.set(r.name,i)}}),{regions:t,regionsMap:e}}(t.named),i=e.regionsMap;this._regions=e.regions,this._regionsMap=i}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},n.prototype._buildGraphic=function(t){var e,r;try{e=t&&function DR(n,t){return(new U4).parse(n,t)}(t,{ignoreViewBox:!0,ignoreRootClip:!0})||{},Jn(null!=(r=e.root))}catch(D){throw new Error("Invalid svg format\n"+D.message)}var i=new Ee;i.add(r),i.isGeoSVGGraphicRoot=!0;var o=e.width,u=e.height,c=e.viewBoxRect,h=this._boundingRect;if(!h){var d=void 0,p=void 0,g=void 0,m=void 0;if(null!=o?(d=0,g=o):c&&(d=c.x,g=c.width),null!=u?(p=0,m=u):c&&(p=c.y,m=c.height),null==d||null==p){var y=r.getBoundingRect();null==d&&(d=y.x,g=y.width),null==p&&(p=y.y,m=y.height)}h=this._boundingRect=new Be(d,p,g,m)}if(c){var S=B0(c,h);r.scaleX=r.scaleY=S.scale,r.x=S.x,r.y=S.y}i.setClipPath(new st({shape:h.plain()}));var b=[];return F(e.named,function(D){null!=cx.get(D.svgNodeTagLower)&&(b.push(D),function CR(n){n.silent=!1,n.isGroup&&n.traverse(function(t){t.silent=!1})}(D.el))}),{root:i,boundingRect:h,named:b}},n.prototype.useGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);return r||(r=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),e.set(t,r),r)},n.prototype.freeGraphic=function(t){var e=this._usedGraphicMap,r=e.get(t);r&&(e.removeKey(t),this._freedGraphics.push(r))},n}(),hx=[126,25],pc=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],vc=0;vc<pc.length;vc++)for(var Ph=0;Ph<pc[vc].length;Ph++)pc[vc][Ph][0]/=10.5,pc[vc][Ph][1]/=-14,pc[vc][Ph][0]+=hx[0],pc[vc][Ph][1]+=hx[1];var MR={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},SH=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],wH=function(){function n(t,e,r){this.type="geoJSON",this._parsedMap=ve(),this._mapName=t,this._specialAreas=r,this._geoJSON=function IR(n){return fe(n)?typeof JSON<"u"&&JSON.parse?JSON.parse(n):new Function("return ("+n+");")():n}(e)}return n.prototype.load=function(t,e){var r=this._parsedMap.get(e=e||"name");if(!r){var i=this._parseToRegions(e);r=this._parsedMap.set(e,{regions:i,boundingRect:px(i)})}var o=ve(),u=[];return F(r.regions,function(c){var h=c.name;t&&pe(t,h)&&(c=c.cloneShallow(h=t[h])),u.push(c),o.set(h,c)}),{regions:u,boundingRect:r.boundingRect||new Be(0,0,0,0),regionsMap:o}},n.prototype._parseToRegions=function(t){var i,e=this._mapName,r=this._geoJSON;try{i=r?sC(r,t):[]}catch(o){throw new Error("Invalid geoJson format\n"+o.message)}return function TR(n,t){if("china"===n){for(var e=0;e<t.length;e++)if("\u5357\u6d77\u8bf8\u5c9b"===t[e].name)return;t.push(new FP("\u5357\u6d77\u8bf8\u5c9b",re(pc,function(r){return{type:"polygon",exterior:r}}),hx))}}(e,i),F(i,function(o){var u=o.name;(function dx(n,t){if("china"===n){var e=MR[t.name];if(e){var r=t.getCenter();r[0]+=e[0]/10.5,r[1]+=-e[1]/14,t.setCenter(r)}}})(e,o),function W4(n,t){"china"===n&&"\u53f0\u6e7e"===t.name&&t.geometries.push({type:"polygon",exterior:SH[0]})}(e,o);var c=this._specialAreas&&this._specialAreas[u];c&&o.transformTo(c.left,c.top,c.width,c.height)},this),i},n.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},n}();function px(n){for(var t,e=0;e<n.length;e++){var r=n[e].getBoundingRect();(t=t||r.clone()).union(r)}return t}var Iv=ve();const Eo={registerMap:function(n,t,e){if(t.svg){var r=new fx(n,t.svg);Iv.set(n,r)}else{var i=t.geoJson||t.geoJSON;i&&!t.features?e=t.specialAreas:i=t,r=new wH(n,i,e),Iv.set(n,r)}},getGeoResource:function(n){return Iv.get(n)},getMapForUser:function(n){var t=Iv.get(n);return t&&"geoJSON"===t.type&&t.getMapForUser()},load:function(n,t,e){var r=Iv.get(n);if(r)return r.load(t,e)}};var vx=["rect","circle","line","ellipse","polygon","polyline","path"],bH=ve(vx),DH=ve(vx.concat(["g"])),$4=ve(vx.concat(["g"])),CH=ot();function Ev(n){var t=n.getItemStyle(),e=n.get("areaColor");return null!=e&&(t.fill=e),t}function xH(n){var t=n.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}var TH=function(){function n(t){var e=new Ee;this.uid=mo("ec_map_draw"),this._controller=new k0(t.getZr()),this._controllerHost={target:e},this.group=e,e.add(this._regionsGroup=new Ee),e.add(this._svgGroup=new Ee)}return n.prototype.draw=function(t,e,r,i,o){var u="geo"===t.mainType,c=t.getData&&t.getData();u&&e.eachComponent({mainType:"series",subType:"map"},function(C){!c&&C.getHostGeoModel()===t&&(c=C.getData())});var h=t.coordinateSystem,d=this._regionsGroup,p=this.group,g=h.getTransformInfo(),m=g.raw,y=g.roam;!d.childAt(0)||o?(p.x=y.x,p.y=y.y,p.scaleX=y.scaleX,p.scaleY=y.scaleY,p.dirty()):dt(p,y,t);var b=c&&c.getVisual("visualMeta")&&c.getVisual("visualMeta").length>0,D={api:r,geo:h,mapOrGeoModel:t,data:c,isVisualEncodedByVisualMap:b,isGeo:u,transformInfoRaw:m};"geoJSON"===h.resourceType?this._buildGeoJSON(D):"geoSVG"===h.resourceType&&this._buildSVG(D),this._updateController(t,e,r),this._updateMapSelectHandler(t,d,r,i)},n.prototype._buildGeoJSON=function(t){var e=this._regionsGroupByName=ve(),r=ve(),i=this._regionsGroup,o=t.transformInfoRaw,u=t.mapOrGeoModel,c=t.data,h=t.geo.projection,d=h&&h.stream;function p(y,S){return S&&(y=S(y)),y&&[y[0]*o.scaleX+o.x,y[1]*o.scaleY+o.y]}function g(y){for(var S=[],b=!d&&h&&h.project,D=0;D<y.length;++D){var C=p(y[D],b);C&&S.push(C)}return S}function m(y){return{shape:{points:g(y)}}}i.removeAll(),F(t.geo.regions,function(y){var S=y.name,b=e.get(S),D=r.get(S)||{},C=D.dataIdx,T=D.regionModel;b||(b=e.set(S,new Ee),i.add(b),C=c?c.indexOfName(S):null,T=t.isGeo?u.getRegionModel(S):c?c.getItemModel(C):null,r.set(S,{dataIdx:C,regionModel:T}));var M=[],I=[];F(y.geometries,function(R){if("polygon"===R.type){var O=[R.exterior].concat(R.interiors||[]);d&&(O=mx(O,d)),F(O,function(V){M.push(new dr(m(V)))})}else{var k=R.points;d&&(k=mx(k,d,!0)),F(k,function(V){I.push(new Wr(m(V)))})}});var L=p(y.getCenter(),h&&h.project);function E(R,O){if(R.length){var k=new Ni({culling:!0,segmentIgnoreThreshold:1,shape:{paths:R}});b.add(k),ER(t,k,C,T),PR(t,k,S,T,u,C,L),O&&(xH(k),F(k.states,xH))}}E(M),E(I,!0)}),e.each(function(y,S){var b=r.get(S),C=b.regionModel;gx(t,y,S,C,u,b.dataIdx),LR(t,y,S,C,u),RR(t,y,S,C,u)},this)},n.prototype._buildSVG=function(t){var e=t.geo.map,r=t.transformInfoRaw;this._svgGroup.x=r.x,this._svgGroup.y=r.y,this._svgGroup.scaleX=r.scaleX,this._svgGroup.scaleY=r.scaleY,this._svgResourceChanged(e)&&(this._freeSVG(),this._useSVG(e));var i=this._svgDispatcherMap=ve(),o=!1;F(this._svgGraphicRecord.named,function(u){var c=u.name,h=t.mapOrGeoModel,d=t.data,p=u.svgNodeTagLower,g=u.el,m=d?d.indexOfName(c):null,y=h.getRegionModel(c);null!=bH.get(p)&&g instanceof ra&&ER(t,g,m,y),g instanceof ra&&(g.culling=!0),g.z2EmphasisLift=0,u.namedFrom||(null!=$4.get(p)&&PR(t,g,c,y,h,m,null),gx(t,g,c,y,h,m),LR(t,g,c,y,h),null==DH.get(p))||("self"===RR(t,g,c,y,h)&&(o=!0),(i.get(c)||i.set(c,[])).push(g))},this),this._enableBlurEntireSVG(o,t)},n.prototype._enableBlurEntireSVG=function(t,e){if(t&&e.isGeo){var i=e.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(o){if(!o.isGroup){Pu(o);var u=o.ensureState("blur").style||{};null==u.opacity&&null!=i&&(u.opacity=i),o.ensureState("emphasis")}})}},n.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},n.prototype.findHighDownDispatchers=function(t,e){if(null==t)return[];var r=e.coordinateSystem;if("geoJSON"===r.resourceType){var i=this._regionsGroupByName;if(i){var o=i.get(t);return o?[o]:[]}}else if("geoSVG"===r.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},n.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},n.prototype._useSVG=function(t){var e=Eo.getGeoResource(t);if(e&&"geoSVG"===e.type){var r=e.useGraphic(this.uid);this._svgGroup.add(r.root),this._svgGraphicRecord=r,this._svgMapName=t}},n.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var e=Eo.getGeoResource(t);e&&"geoSVG"===e.type&&e.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},n.prototype._updateController=function(t,e,r){var i=t.coordinateSystem,o=this._controller,u=this._controllerHost;u.zoomLimit=t.get("scaleLimit"),u.zoom=i.getZoom(),o.enable(t.get("roam")||!1);var c=t.mainType;function h(){var d={type:"geoRoam",componentType:c};return d[c+"Id"]=t.id,d}o.off("pan").on("pan",function(d){this._mouseDownFlag=!1,_R(u,d.dx,d.dy),r.dispatchAction(J(h(),{dx:d.dx,dy:d.dy,animation:{duration:0}}))},this),o.off("zoom").on("zoom",function(d){this._mouseDownFlag=!1,SR(u,d.scale,d.originX,d.originY),r.dispatchAction(J(h(),{zoom:d.scale,originX:d.originX,originY:d.originY,animation:{duration:0}}))},this),o.setPointerChecker(function(d,p,g){return i.containPoint([p,g])&&!ix(d,r,t)})},n.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var e=t.getTextContent();e&&(e.ignore=CH(e).ignore)})},n.prototype._updateMapSelectHandler=function(t,e,r,i){var o=this;e.off("mousedown"),e.off("click"),t.get("selectedMode")&&(e.on("mousedown",function(){o._mouseDownFlag=!0}),e.on("click",function(u){o._mouseDownFlag&&(o._mouseDownFlag=!1)}))},n}();function ER(n,t,e,r){var i=r.getModel("itemStyle"),o=r.getModel(["emphasis","itemStyle"]),u=r.getModel(["blur","itemStyle"]),c=r.getModel(["select","itemStyle"]),h=Ev(i),d=Ev(o),p=Ev(c),g=Ev(u),m=n.data;if(m){var y=m.getItemVisual(e,"style"),S=m.getItemVisual(e,"decal");n.isVisualEncodedByVisualMap&&y.fill&&(h.fill=y.fill),S&&(h.decal=_s(S,n.api))}t.setStyle(h),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=d,t.ensureState("select").style=p,t.ensureState("blur").style=g,Pu(t)}function PR(n,t,e,r,i,o,u){var c=n.data,h=n.isGeo,d=c&&isNaN(c.get(c.mapDimension("value"),o)),p=c&&c.getItemLayout(o);if(h||d||p&&p.showLabel){var g=h?e:o,m=void 0;(!c||o>=0)&&(m=i);var y=u?{normal:{align:"center",verticalAlign:"middle"}}:null;xr(t,qn(r),{labelFetcher:m,labelDataIndex:g,defaultText:e},y);var S=t.getTextContent();if(S&&(CH(S).ignore=S.ignore,t.textConfig&&u)){var b=t.getBoundingRect().clone();t.textConfig.layoutRect=b,t.textConfig.position=[(u[0]-b.x)/b.width*100+"%",(u[1]-b.y)/b.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function gx(n,t,e,r,i,o){n.data?n.data.setItemGraphicEl(o,t):Oe(t).eventData={componentType:"geo",componentIndex:i.componentIndex,geoIndex:i.componentIndex,name:e,region:r&&r.option||{}}}function LR(n,t,e,r,i){n.data||nh({el:t,componentModel:i,itemName:e,itemTooltipOption:r.get("tooltip")})}function RR(n,t,e,r,i){t.highDownSilentOnTouch=!!i.get("selectedMode");var o=r.getModel("emphasis"),u=o.get("focus");return nn(t,u,o.get("blurScope"),o.get("disabled")),n.isGeo&&function Zd(n,t,e){var r=Oe(n);r.componentMainType=t.mainType,r.componentIndex=t.componentIndex,r.componentHighDownName=e}(t,i,e),u}function mx(n,t,e){var i,r=[];function o(){i=[]}function u(){i.length&&(r.push(i),i=[])}var c=t({polygonStart:o,polygonEnd:u,lineStart:o,lineEnd:u,point:function(h,d){isFinite(h)&&isFinite(d)&&i.push([h,d])},sphere:function(){}});return!e&&c.polygonStart(),F(n,function(h){c.lineStart();for(var d=0;d<h.length;d++)c.point(h[d][0],h[d][1]);c.lineEnd()}),!e&&c.polygonEnd(),r}const yx=TH;var MH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i,o){if(!o||"mapToggleSelect"!==o.type||o.from!==this.uid){var u=this.group;if(u.removeAll(),!e.getHostGeoModel()){if(this._mapDraw&&o&&"geoRoam"===o.type&&this._mapDraw.resetForLabelLayout(),o&&"geoRoam"===o.type&&"series"===o.componentType&&o.seriesId===e.id)(c=this._mapDraw)&&u.add(c.group);else if(e.needsDrawMap){var c=this._mapDraw||new yx(i);u.add(c.group),c.draw(e,r,i,this,o),this._mapDraw=c}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;e.get("showLegendSymbol")&&r.getComponent("legend")&&this._renderSymbols(e,r,i)}}},t.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},t.prototype._renderSymbols=function(e,r,i){var o=e.originalData,u=this.group;o.each(o.mapDimension("value"),function(c,h){if(!isNaN(c)){var d=o.getItemLayout(h);if(d&&d.point){var p=d.point,g=d.offset,m=new bo({style:{fill:e.getData().getVisual("style").fill},shape:{cx:p[0]+9*g,cy:p[1],r:3},silent:!0,z2:8+(g?0:hl+1)});if(!g){var y=e.mainSeries.getData(),S=o.getName(h),b=y.indexOfName(S),D=o.getItemModel(h),C=D.getModel("label"),T=y.getItemGraphicEl(b);xr(m,qn(D),{labelFetcher:{getFormattedLabel:function(M,I){return e.getFormattedLabel(b,I)}},defaultText:S}),m.disableLabelAnimation=!0,C.get("position")||m.setTextConfig({position:"bottom"}),T.onHoverStateChange=function(M){dl(m,M)}}u.add(m)}}})},t.type="map",t}(Mt);const Y4=MH;var AH=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.needsDrawMap=!1,e.seriesGroup=[],e.getTooltipPosition=function(r){if(null!=r){var i=this.getData().getName(r),o=this.coordinateSystem,u=o.getRegion(i);return u&&o.dataToPoint(u.getCenter())}},e}return q(t,n),t.prototype.getInitialData=function(e){for(var r=Ih(this,{coordDimensions:["value"],encodeDefaulter:Re($m,this)}),i=ve(),o=[],u=0,c=r.count();u<c;u++){var h=r.getName(u);i.set(h,!0)}return F(Eo.load(this.getMapType(),this.option.nameMap,this.option.nameProperty).regions,function(p){var g=p.name;i.get(g)||o.push(g)}),r.appendValues([],o),r},t.prototype.getHostGeoModel=function(){var e=this.option.geoIndex;return null!=e?this.ecModel.getComponent("geo",e):null},t.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},t.prototype.getRawValue=function(e){var r=this.getData();return r.get(r.mapDimension("value"),e)},t.prototype.getRegionModel=function(e){var r=this.getData();return r.getItemModel(r.indexOfName(e))},t.prototype.formatTooltip=function(e,r,i){for(var o=this.getData(),u=this.getRawValue(e),c=o.getName(e),h=this.seriesGroup,d=[],p=0;p<h.length;p++){var g=h[p].originalData.indexOfName(c),m=o.mapDimension("value");isNaN(h[p].originalData.get(m,g))||d.push(h[p].name)}return hn("section",{header:d.join(", "),noHeader:!d.length,blocks:[hn("nameValue",{name:c,value:u})]})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.getLegendIcon=function(e){var r=e.icon||"roundRect",i=dn(r,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill);return i.setStyle(e.itemStyle),i.style.stroke="none",r.indexOf("empty")>-1&&(i.style.stroke=i.style.fill,i.style.fill="#fff",i.style.lineWidth=2),i},t.type="series.map",t.dependencies=["geo"],t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},t}(Nt);const Z4=AH;function NR(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getHostGeoModel(),i=r?"o"+r.id:"i"+e.getMapType();(t[i]=t[i]||[]).push(e)}),F(t,function(e,r){for(var i=function IH(n,t){var e={};return F(n,function(r){r.each(r.mapDimension("value"),function(i,o){var u="ec-"+r.getName(o);e[u]=e[u]||[],isNaN(i)||e[u].push(i)})}),n[0].map(n[0].mapDimension("value"),function(r,i){for(var o="ec-"+n[0].getName(i),u=0,c=1/0,h=-1/0,d=e[o].length,p=0;p<d;p++)c=Math.min(c,e[o][p]),h=Math.max(h,e[o][p]),u+=e[o][p];return 0===d?NaN:"min"===t?c:"max"===t?h:"average"===t?u/d:u})}(re(e,function(u){return u.getData()}),e[0].get("mapValueCalculation")),o=0;o<e.length;o++)e[o].originalData=e[o].getData();for(o=0;o<e.length;o++)e[o].seriesGroup=e,e[o].needsDrawMap=0===o&&!e[o].getHostGeoModel(),e[o].setData(i.cloneShallow()),e[o].mainSeries=e[0]})}function OR(n){var t={};n.eachSeriesByType("map",function(e){var r=e.getMapType();if(!e.getHostGeoModel()&&!t[r]){var i={};F(e.seriesGroup,function(u){var c=u.coordinateSystem,h=u.originalData;u.get("showLegendSymbol")&&n.getComponent("legend")&&h.each(h.mapDimension("value"),function(d,p){var g=h.getName(p),m=c.getRegion(g);if(m&&!isNaN(d)){var y=i[g]||0,S=c.dataToPoint(m.getCenter());i[g]=y+1,h.setItemLayout(p,{point:S,offset:y})}})});var o=e.getData();o.each(function(u){var c=o.getName(u),h=o.getItemLayout(u)||{};h.showLabel=!i[c],o.setItemLayout(u,h)}),t[r]=!0}})}var Ls=Wn,EH=function(n){function t(e){var r=n.call(this)||this;return r.type="view",r.dimensions=["x","y"],r._roamTransformable=new co,r._rawTransformable=new co,r.name=e,r}return q(t,n),t.prototype.setBoundingRect=function(e,r,i,o){return this._rect=new Be(e,r,i,o),this._rect},t.prototype.getBoundingRect=function(){return this._rect},t.prototype.setViewRect=function(e,r,i,o){this._transformTo(e,r,i,o),this._viewRect=new Be(e,r,i,o)},t.prototype._transformTo=function(e,r,i,o){var u=this.getBoundingRect(),c=this._rawTransformable;c.transform=u.calculateTransform(new Be(e,r,i,o));var h=c.parent;c.parent=null,c.decomposeTransform(),c.parent=h,this._updateTransform()},t.prototype.setCenter=function(e,r){e&&(this._center=[le(e[0],r.getWidth()),le(e[1],r.getHeight())],this._updateCenterAndZoom())},t.prototype.setZoom=function(e){e=e||1;var r=this.zoomLimit;r&&(null!=r.max&&(e=Math.min(r.max,e)),null!=r.min&&(e=Math.max(r.min,e))),this._zoom=e,this._updateCenterAndZoom()},t.prototype.getDefaultCenter=function(){var e=this.getBoundingRect();return[e.x+e.width/2,e.y+e.height/2]},t.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},t.prototype.getZoom=function(){return this._zoom||1},t.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},t.prototype._updateCenterAndZoom=function(){var e=this._rawTransformable.getLocalTransform(),r=this._roamTransformable,i=this.getDefaultCenter(),o=this.getCenter(),u=this.getZoom();o=Wn([],o,e),i=Wn([],i,e),r.originX=o[0],r.originY=o[1],r.x=i[0]-o[0],r.y=i[1]-o[1],r.scaleX=r.scaleY=u,this._updateTransform()},t.prototype._updateTransform=function(){var e=this._roamTransformable,r=this._rawTransformable;r.parent=e,e.updateTransform(),r.updateTransform(),kg(this.transform||(this.transform=[]),r.transform||[1,0,0,1,0,0]),this._rawTransform=r.getLocalTransform(),this.invTransform=this.invTransform||[],Ho(this.invTransform,this.transform),this.decomposeTransform()},t.prototype.getTransformInfo=function(){var e=this._rawTransformable,r=this._roamTransformable,i=new co;return i.transform=r.transform,i.decomposeTransform(),{roam:{x:i.x,y:i.y,scaleX:i.scaleX,scaleY:i.scaleY},raw:{x:e.x,y:e.y,scaleX:e.scaleX,scaleY:e.scaleY}}},t.prototype.getViewRect=function(){return this._viewRect},t.prototype.getViewRectAfterRoam=function(){var e=this.getBoundingRect().clone();return e.applyTransform(this.transform),e},t.prototype.dataToPoint=function(e,r,i){var o=r?this._rawTransform:this.transform;return i=i||[],o?Ls(i,e,o):Nr(i,e)},t.prototype.pointToData=function(e){var r=this.invTransform;return r?Ls([],e,r):[e[0],e[1]]},t.prototype.convertToPixel=function(e,r,i){var o=kR(r);return o===this?o.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var o=kR(r);return o===this?o.pointToData(i):null},t.prototype.containPoint=function(e){return this.getViewRectAfterRoam().contain(e[0],e[1])},t.dimensions=["x","y"],t}(co);function kR(n){var t=n.seriesModel;return t?t.coordinateSystem:null}const gc=EH;var FR={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},PH=["lng","lat"],LH=function(n){function t(e,r,i){var o=n.call(this,e)||this;o.dimensions=PH,o.type="geo",o._nameCoordMap=ve(),o.map=r;var m,u=i.projection,c=Eo.load(r,i.nameMap,i.nameProperty),h=Eo.getGeoResource(r),p=(o.resourceType=h?h.type:null,o.regions=c.regions),g=FR[h.type];if(o._regionsMap=c.regionsMap,o.regions=c.regions,o.projection=u,u)for(var y=0;y<p.length;y++){var S=p[y].getBoundingRect(u);(m=m||S.clone()).union(S)}else m=c.boundingRect;return o.setBoundingRect(m.x,m.y,m.width,m.height),o.aspectScale=u?1:ke(i.aspectScale,g.aspectScale),o._invertLongitute=!u&&g.invertLongitute,o}return q(t,n),t.prototype._transformTo=function(e,r,i,o){var u=this.getBoundingRect(),c=this._invertLongitute;u=u.clone(),c&&(u.y=-u.y-u.height);var h=this._rawTransformable;h.transform=u.calculateTransform(new Be(e,r,i,o));var d=h.parent;h.parent=null,h.decomposeTransform(),h.parent=d,c&&(h.scaleY=-h.scaleY),this._updateTransform()},t.prototype.getRegion=function(e){return this._regionsMap.get(e)},t.prototype.getRegionByCoord=function(e){for(var r=this.regions,i=0;i<r.length;i++){var o=r[i];if("geoJSON"===o.type&&o.contain(e))return r[i]}},t.prototype.addGeoCoord=function(e,r){this._nameCoordMap.set(e,r)},t.prototype.getGeoCoord=function(e){var r=this._regionsMap.get(e);return this._nameCoordMap.get(e)||r&&r.getCenter()},t.prototype.dataToPoint=function(e,r,i){if(fe(e)&&(e=this.getGeoCoord(e)),e){var o=this.projection;return o&&(e=o.project(e)),e&&this.projectedToPoint(e,r,i)}},t.prototype.pointToData=function(e){var r=this.projection;return r&&(e=r.unproject(e)),e&&this.pointToProjected(e)},t.prototype.pointToProjected=function(e){return n.prototype.pointToData.call(this,e)},t.prototype.projectedToPoint=function(e,r,i){return n.prototype.dataToPoint.call(this,e,r,i)},t.prototype.convertToPixel=function(e,r,i){var o=RH(r);return o===this?o.dataToPoint(i):null},t.prototype.convertFromPixel=function(e,r,i){var o=RH(r);return o===this?o.pointToData(i):null},t}(gc);function RH(n){var t=n.geoModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem||(e.getReferringComponents("geo",Mn).models[0]||{}).coordinateSystem:null}un(LH,gc);const VR=LH;function NH(n,t){var e=n.get("boundingCoords");if(null!=e){var r=e[0],i=e[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(i[0])&&isFinite(i[1])){var o=this.projection;if(o){var u=r[0],c=r[1],h=i[0],d=i[1];r=[1/0,1/0],i=[-1/0,-1/0];var p=function(E,R,O,k){for(var V=O-E,B=k-R,H=0;H<=100;H++){var G=H/100,j=o.project([E+V*G,R+B*G]);ro(r,r,j),Bo(i,i,j)}};p(u,c,h,c),p(h,c,h,d),p(h,d,u,d),p(u,d,h,c)}this.setBoundingRect(r[0],r[1],i[0]-r[0],i[1]-r[1])}}var T,M,I,g=this.getBoundingRect(),m=n.get("layoutCenter"),y=n.get("layoutSize"),S=t.getWidth(),b=t.getHeight(),D=g.width/g.height*this.aspectScale,C=!1;if(m&&y&&(T=[le(m[0],S),le(m[1],b)],M=le(y,Math.min(S,b)),!isNaN(T[0])&&!isNaN(T[1])&&!isNaN(M)&&(C=!0)),C)I={},D>1?(I.width=M,I.height=M/D):(I.height=M,I.width=M*D),I.y=T[1]-I.height/2,I.x=T[0]-I.width/2;else{var L=n.getBoxLayoutParams();L.aspect=D,I=An(L,{width:S,height:b})}this.setViewRect(I.x,I.y,I.width,I.height),this.setCenter(n.get("center"),t),this.setZoom(n.get("zoom"))}var X4=function(){function n(){this.dimensions=PH}return n.prototype.create=function(t,e){var r=[];function i(u){return{nameProperty:u.get("nameProperty"),aspectScale:u.get("aspectScale"),projection:u.get("projection")}}t.eachComponent("geo",function(u,c){var h=u.get("map"),d=new VR(h+c,h,J({nameMap:u.get("nameMap")},i(u)));d.zoomLimit=u.get("scaleLimit"),r.push(d),u.coordinateSystem=d,d.model=u,d.resize=NH,d.resize(u,e)}),t.eachSeries(function(u){if("geo"===u.get("coordinateSystem")){var h=u.get("geoIndex")||0;u.coordinateSystem=r[h]}});var o={};return t.eachSeriesByType("map",function(u){if(!u.getHostGeoModel()){var c=u.getMapType();o[c]=o[c]||[],o[c].push(u)}}),F(o,function(u,c){var h=re(u,function(p){return p.get("nameMap")}),d=new VR(c,c,J({nameMap:Pg(h)},i(u[0])));d.zoomLimit=bt.apply(null,re(u,function(p){return p.get("scaleLimit")})),r.push(d),d.resize=NH,d.resize(u[0],e),F(u,function(p){p.coordinateSystem=d,function q4(n,t){F(t.get("geoCoord"),function(e,r){n.addGeoCoord(r,e)})}(d,p)})}),r},n.prototype.getFilledRegions=function(t,e,r,i){for(var o=(t||[]).slice(),u=ve(),c=0;c<o.length;c++)u.set(o[c].name,o[c]);return F(Eo.load(e,r,i).regions,function(d){var p=d.name;!u.get(p)&&o.push({name:p})}),o},n}();const OH=new X4;var Q4=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e,r,i){var o=Eo.getGeoResource(e.map);if(o&&"geoJSON"===o.type){var u=e.itemStyle=e.itemStyle||{};"color"in u||(u.color="#eee")}this.mergeDefaultAndTheme(e,i),ta(e,"label",["show"])},t.prototype.optionUpdated=function(){var e=this,r=this.option;r.regions=OH.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var i={};this._optionModelMap=Di(r.regions||[],function(o,u){var c=u.name;return c&&(o.set(c,new Rt(u,e,e.ecModel)),u.selected&&(i[c]=!0)),o},ve()),r.selectedMap||(r.selectedMap=i)},t.prototype.getRegionModel=function(e){return this._optionModelMap.get(e)||new Rt(null,this,this.ecModel)},t.prototype.getFormattedLabel=function(e,r){var o=this.getRegionModel(e).get("normal"===r?["label","formatter"]:["emphasis","label","formatter"]),u={name:e};return _e(o)?(u.status=r,o(u)):fe(o)?o.replace("{a}",e??""):void 0},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.select=function(e){var r=this.option,i=r.selectedMode;i&&("multiple"!==i&&(r.selectedMap=null),(r.selectedMap||(r.selectedMap={}))[e]=!0)},t.prototype.unSelect=function(e){var r=this.option.selectedMap;r&&(r[e]=!1)},t.prototype.toggleSelected=function(e){this[this.isSelected(e)?"unSelect":"select"](e)},t.prototype.isSelected=function(e){var r=this.option.selectedMap;return!(!r||!r[e])},t.type="geo",t.layoutMode="box",t.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},t}(at);const J4=Q4;function kH(n,t){return n.pointToProjected?n.pointToProjected(t):n.pointToData(t)}function _x(n,t,e,r){var i=n.getZoom(),o=n.getCenter(),u=t.zoom,c=n.projectedToPoint?n.projectedToPoint(o):n.dataToPoint(o);if(null!=t.dx&&null!=t.dy&&(c[0]-=t.dx,c[1]-=t.dy,n.setCenter(kH(n,c),r)),null!=u){if(e){var h=e.min||0;u=Math.max(Math.min(i*u,e.max||1/0),h)/i}n.scaleX*=u,n.scaleY*=u;var g=(t.originY-n.y)*(u-1);n.x-=(t.originX-n.x)*(u-1),n.y-=g,n.updateTransform(),n.setCenter(kH(n,c),r),n.setZoom(u*i)}return{center:n.getCenter(),zoom:n.getZoom()}}var BR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.focusBlurEnabled=!0,e}return q(t,n),t.prototype.init=function(e,r){this._api=r},t.prototype.render=function(e,r,i,o){if(this._model=e,!e.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new yx(i));var u=this._mapDraw;u.draw(e,r,i,this,o),u.group.on("click",this._handleRegionClick,this),u.group.silent=e.get("silent"),this.group.add(u.group),this.updateSelectStatus(e,r,i)},t.prototype._handleRegionClick=function(e){var r;Qu(e.target,function(i){return null!=(r=Oe(i).eventData)},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},t.prototype.updateSelectStatus=function(e,r,i){var o=this;this._mapDraw.group.traverse(function(u){var c=Oe(u).eventData;if(c)return o._model.isSelected(c.name)?i.enterSelect(u):i.leaveSelect(u),!0})},t.prototype.findHighDownDispatchers=function(e){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(e,this._model)},t.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},t.type="geo",t}(wt);const eW=BR;function tW(n,t,e){Eo.registerMap(n,t,e)}function FH(n){function t(e,r){r.update="geo:updateSelectStatus",n.registerAction(r,function(i,o){var u={},c=[];return o.eachComponent({mainType:"geo",query:i},function(h){h[e](i.name),F(h.coordinateSystem.regions,function(g){u[g.name]=h.isSelected(g.name)||!1});var p=[];F(u,function(g,m){u[m]&&p.push(m)}),c.push({geoIndex:h.componentIndex,name:p})}),{selected:u,allSelected:c,name:i.name}})}n.registerCoordinateSystem("geo",OH),n.registerComponentModel(J4),n.registerComponentView(eW),n.registerImpl("registerMap",tW),n.registerImpl("getMap",function(e){return Eo.getMapForUser(e)}),t("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),t("select",{type:"geoSelect",event:"geoselected"}),t("unSelect",{type:"geoUnSelect",event:"geounselected"}),n.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(e,r,i){var o=e.componentType||"series";r.eachComponent({mainType:o,query:e},function(u){var c=u.coordinateSystem;if("geo"===c.type){var h=_x(c,e,u.get("scaleLimit"),i);u.setCenter&&u.setCenter(h.center),u.setZoom&&u.setZoom(h.zoom),"series"===o&&F(u.seriesGroup,function(d){d.setCenter(h.center),d.setZoom(h.zoom)})}})})}function iW(n,t){var e=n.isExpand?n.children:[],r=n.parentNode.children,i=n.hierNode.i?r[n.hierNode.i-1]:null;if(e.length){!function z0(n){for(var t=n.children,e=t.length,r=0,i=0;--e>=0;){var o=t[e];o.hierNode.prelim+=r,o.hierNode.modifier+=r,r+=o.hierNode.shift+(i+=o.hierNode.change)}}(n);var o=(e[0].hierNode.prelim+e[e.length-1].hierNode.prelim)/2;i?(n.hierNode.prelim=i.hierNode.prelim+t(n,i),n.hierNode.modifier=n.hierNode.prelim-o):n.hierNode.prelim=o}else i&&(n.hierNode.prelim=i.hierNode.prelim+t(n,i));n.parentNode.hierNode.defaultAncestor=function H0(n,t,e,r){if(t){for(var i=n,o=n,u=o.parentNode.children[0],c=t,h=i.hierNode.modifier,d=o.hierNode.modifier,p=u.hierNode.modifier,g=c.hierNode.modifier;c=_a(c),o=zR(o),c&&o;){i=_a(i),u=zR(u),i.hierNode.ancestor=n;var m=c.hierNode.prelim+g-o.hierNode.prelim-d+r(c,o);m>0&&(BH(VH(c,n,e),n,m),d+=m,h+=m),g+=c.hierNode.modifier,d+=o.hierNode.modifier,h+=i.hierNode.modifier,p+=u.hierNode.modifier}c&&!_a(i)&&(i.hierNode.thread=c,i.hierNode.modifier+=g-h),o&&!zR(u)&&(u.hierNode.thread=o,u.hierNode.modifier+=d-p,e=n)}return e}(n,i,n.parentNode.hierNode.defaultAncestor||r[0],t)}function aW(n){n.setLayout({x:n.hierNode.prelim+n.parentNode.hierNode.modifier},!0),n.hierNode.modifier+=n.parentNode.hierNode.modifier}function mc(n){return arguments.length?n:zH}function Hi(n,t){return n-=Math.PI/2,{x:t*Math.cos(n),y:t*Math.sin(n)}}function _a(n){var t=n.children;return t.length&&n.isExpand?t[t.length-1]:n.hierNode.thread}function zR(n){var t=n.children;return t.length&&n.isExpand?t[0]:n.hierNode.thread}function VH(n,t,e){return n.hierNode.ancestor.parentNode===t.parentNode?n.hierNode.ancestor:e}function BH(n,t,e){var r=e/(t.hierNode.i-n.hierNode.i);t.hierNode.change-=r,t.hierNode.shift+=e,t.hierNode.modifier+=e,t.hierNode.prelim+=e,n.hierNode.change+=r}function zH(n,t){return n.parentNode===t.parentNode?1:2}var HH=function n(){this.parentPoint=[],this.childPoints=[]},HR=function(n){function t(e){return n.call(this,e)||this}return q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new HH},t.prototype.buildPath=function(e,r){var i=r.childPoints,o=i.length,u=r.parentPoint,c=i[0],h=i[o-1];if(1===o)return e.moveTo(u[0],u[1]),void e.lineTo(c[0],c[1]);var d=r.orient,p="TB"===d||"BT"===d?0:1,g=1-p,m=le(r.forkPosition,1),y=[];y[p]=u[p],y[g]=u[g]+(h[g]-u[g])*m,e.moveTo(u[0],u[1]),e.lineTo(y[0],y[1]),e.moveTo(c[0],c[1]),y[p]=c[p],e.lineTo(y[0],y[1]),y[p]=h[p],e.lineTo(y[0],y[1]),e.lineTo(h[0],h[1]);for(var S=1;S<o-1;S++){var b=i[S];e.moveTo(b[0],b[1]),y[p]=b[p],e.lineTo(y[0],y[1])}},t}(Ze),G0=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._mainGroup=new Ee,e}return q(t,n),t.prototype.init=function(e,r){this._controller=new k0(r.getZr()),this._controllerHost={target:this.group},this.group.add(this._mainGroup)},t.prototype.render=function(e,r,i){var o=e.getData(),u=e.layoutInfo,c=this._mainGroup;"radial"===e.get("layout")?(c.x=u.x+u.width/2,c.y=u.y+u.height/2):(c.x=u.x,c.y=u.y),this._updateViewCoordSys(e,i),this._updateController(e,r,i);var d=this._data;o.diff(d).add(function(p){Rs(o,p)&&GH(o,p,null,c,e)}).update(function(p,g){var m=d.getItemGraphicEl(g);Rs(o,p)?GH(o,p,m,c,e):m&&bx(d,g,m,c,e)}).remove(function(p){var g=d.getItemGraphicEl(p);g&&bx(d,p,g,c,e)}).execute(),this._nodeScaleRatio=e.get("nodeScaleRatio"),this._updateNodeAndLinkScale(e),!0===e.get("expandAndCollapse")&&o.eachItemGraphicEl(function(p,g){p.off("click").on("click",function(){i.dispatchAction({type:"treeExpandAndCollapse",seriesId:e.id,dataIndex:g})})}),this._data=o},t.prototype._updateViewCoordSys=function(e,r){var i=e.getData(),o=[];i.each(function(g){var m=i.getItemLayout(g);m&&!isNaN(m.x)&&!isNaN(m.y)&&o.push([+m.x,+m.y])});var u=[],c=[];Su(o,u,c);var h=this._min,d=this._max;c[0]-u[0]==0&&(u[0]=h?h[0]:u[0]-1,c[0]=d?d[0]:c[0]+1),c[1]-u[1]==0&&(u[1]=h?h[1]:u[1]-1,c[1]=d?d[1]:c[1]+1);var p=e.coordinateSystem=new gc;p.zoomLimit=e.get("scaleLimit"),p.setBoundingRect(u[0],u[1],c[0]-u[0],c[1]-u[1]),p.setCenter(e.get("center"),r),p.setZoom(e.get("zoom")),this.group.attr({x:p.x,y:p.y,scaleX:p.scaleX,scaleY:p.scaleY}),this._min=u,this._max=c},t.prototype._updateController=function(e,r,i){var o=this,u=this._controller,c=this._controllerHost,h=this.group;u.setPointerChecker(function(d,p,g){var m=h.getBoundingRect();return m.applyTransform(h.transform),m.contain(p,g)&&!ix(d,i,e)}),u.enable(e.get("roam")),c.zoomLimit=e.get("scaleLimit"),c.zoom=e.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(d){_R(c,d.dx,d.dy),i.dispatchAction({seriesId:e.id,type:"treeRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){SR(c,d.scale,d.originX,d.originY),i.dispatchAction({seriesId:e.id,type:"treeRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),o._updateNodeAndLinkScale(e),i.updateLabelLayout()})},t.prototype._updateNodeAndLinkScale=function(e){var r=e.getData(),i=this._getNodeGlobalScale(e);r.eachItemGraphicEl(function(o,u){o.setSymbolScale(i)})},t.prototype._getNodeGlobalScale=function(e){var r=e.coordinateSystem;if("view"!==r.type)return 1;var i=this._nodeScaleRatio,o=r.scaleX||1;return((r.getZoom()-1)*i+1)/o},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype.remove=function(){this._mainGroup.removeAll(),this._data=null},t.type="tree",t}(Mt);function Rs(n,t){var e=n.getItemLayout(t);return e&&!isNaN(e.x)&&!isNaN(e.y)}function GH(n,t,e,r,i){var o=!e,u=n.tree.getNodeByDataIndex(t),c=u.getModel(),h=u.getVisual("style").fill,d=!1===u.isExpand&&0!==u.children.length?h:"#fff",p=n.tree.root,g=u.parentNode===p?u:u.parentNode||u,m=n.getItemGraphicEl(g.dataIndex),y=g.getLayout(),S=m?{x:m.__oldX,y:m.__oldY,rawX:m.__radialOldRawX,rawY:m.__radialOldRawY}:y,b=u.getLayout();o?((e=new Wa(n,t,null,{symbolInnerColor:d,useNameLabel:!0})).x=S.x,e.y=S.y):e.updateData(n,t,null,{symbolInnerColor:d,useNameLabel:!0}),e.__radialOldRawX=e.__radialRawX,e.__radialOldRawY=e.__radialRawY,e.__radialRawX=b.rawX,e.__radialRawY=b.rawY,r.add(e),n.setItemGraphicEl(t,e),e.__oldX=e.x,e.__oldY=e.y,dt(e,{x:b.x,y:b.y},i);var D=e.getSymbolPath();if("radial"===i.get("layout")){var C=p.children[0],T=C.getLayout(),M=C.children.length,I=void 0,L=void 0;if(b.x===T.x&&!0===u.isExpand&&C.children.length){var E={x:(C.children[0].getLayout().x+C.children[M-1].getLayout().x)/2,y:(C.children[0].getLayout().y+C.children[M-1].getLayout().y)/2};(I=Math.atan2(E.y-T.y,E.x-T.x))<0&&(I=2*Math.PI+I),(L=E.x<T.x)&&(I-=Math.PI)}else(I=Math.atan2(b.y-T.y,b.x-T.x))<0&&(I=2*Math.PI+I),0===u.children.length||0!==u.children.length&&!1===u.isExpand?(L=b.x<T.x)&&(I-=Math.PI):(L=b.x>T.x)||(I-=Math.PI);var R=L?"left":"right",O=c.getModel("label"),k=O.get("rotate"),V=k*(Math.PI/180),B=D.getTextContent();B&&(D.setTextConfig({position:O.get("position")||R,rotation:null==k?-I:V,origin:"center"}),B.setStyle("verticalAlign","middle"))}var H=c.get(["emphasis","focus"]),G="relative"===H?hd(u.getAncestorsIndices(),u.getDescendantIndices()):"ancestor"===H?u.getAncestorsIndices():"descendant"===H?u.getDescendantIndices():null;G&&(Oe(e).focus=G),function UH(n,t,e,r,i,o,u,c){var h=t.getModel(),d=n.get("edgeShape"),p=n.get("layout"),g=n.getOrient(),m=n.get(["lineStyle","curveness"]),y=n.get("edgeForkPosition"),S=h.getModel("lineStyle").getLineStyle(),b=r.__edge;if("curve"===d)t.parentNode&&t.parentNode!==e&&(b||(b=r.__edge=new $r({shape:U0(p,g,m,i,i)})),dt(b,{shape:U0(p,g,m,o,u)},n));else if("polyline"===d&&"orthogonal"===p&&t!==e&&t.children&&0!==t.children.length&&!0===t.isExpand){for(var D=t.children,C=[],T=0;T<D.length;T++){var M=D[T].getLayout();C.push([M.x,M.y])}b||(b=r.__edge=new HR({shape:{parentPoint:[u.x,u.y],childPoints:[[u.x,u.y]],orient:g,forkPosition:y}})),dt(b,{shape:{parentPoint:[u.x,u.y],childPoints:C}},n)}b&&("polyline"!==d||t.isExpand)&&(b.useStyle(De({strokeNoScale:!0,fill:null},S)),lr(b,h,"lineStyle"),Pu(b),c.add(b))}(i,u,p,e,S,y,b,r),e.__edge&&(e.onHoverStateChange=function(j){if("blur"!==j){var W=u.parentNode&&n.getItemGraphicEl(u.parentNode.dataIndex);W&&W.hoverState===Ud||dl(e.__edge,j)}})}function GR(n,t,e,r,i){var u=Sx(t.tree.root,n),c=u.source,h=u.sourceLayout,d=t.getItemGraphicEl(n.dataIndex);if(d){var p=t.getItemGraphicEl(c.dataIndex),m=d.__edge||(!1===c.isExpand||1===c.children.length?p.__edge:void 0),y=r.get("edgeShape"),S=r.get("layout"),b=r.get("orient"),D=r.get(["lineStyle","curveness"]);m&&("curve"===y?pl(m,{shape:U0(S,b,D,h,h),style:{opacity:0}},r,{cb:function(){e.remove(m)},removeOpt:i}):"polyline"===y&&"orthogonal"===r.get("layout")&&pl(m,{shape:{parentPoint:[h.x,h.y],childPoints:[[h.x,h.y]]},style:{opacity:0}},r,{cb:function(){e.remove(m)},removeOpt:i}))}}function Sx(n,t){for(var r,e=t.parentNode===n?t:t.parentNode||t;null==(r=e.getLayout());)e=e.parentNode===n?e:e.parentNode||e;return{source:e,sourceLayout:r}}function bx(n,t,e,r,i){var o=n.tree.getNodeByDataIndex(t),c=Sx(n.tree.root,o).sourceLayout,h={duration:i.get("animationDurationUpdate"),easing:i.get("animationEasingUpdate")};pl(e,{x:c.x+1,y:c.y+1},i,{cb:function(){r.remove(e),n.setItemGraphicEl(t,null)},removeOpt:h}),e.fadeOut(null,n.hostModel,{fadeLabel:!0,animation:h}),o.children.forEach(function(d){GR(d,n,r,i,h)}),GR(o,n,r,i,h)}function U0(n,t,e,r,i){var o,u,c,h,d,p,g,m;if("radial"===n){p=i.rawX,m=i.rawY;var y=Hi(d=r.rawX,g=r.rawY),S=Hi(d,g+(m-g)*e),b=Hi(p,m+(g-m)*e),D=Hi(p,m);return{x1:y.x||0,y1:y.y||0,x2:D.x||0,y2:D.y||0,cpx1:S.x||0,cpy1:S.y||0,cpx2:b.x||0,cpy2:b.y||0}}return d=r.x,g=r.y,p=i.x,m=i.y,("LR"===t||"RL"===t)&&(o=d+(p-d)*e,u=g,c=p+(d-p)*e,h=m),("TB"===t||"BT"===t)&&(o=d,u=g+(m-g)*e,c=p,h=m+(g-m)*e),{x1:d,y1:g,x2:p,y2:m,cpx1:o,cpy1:u,cpx2:c,cpy2:h}}const jH=G0;var Lr=ot();function Dx(n,t){if(function jR(n){return Lr(n).mainData===n}(this)){var e=J({},Lr(this).datas);e[this.dataType]=t,WH(t,e,n)}else Tx(t,this.dataType,Lr(this).mainData,n);return t}function Cx(n,t){return n.struct&&n.struct.update(),t}function Rh(n,t){return F(Lr(t).datas,function(e,r){e!==t&&Tx(e.cloneShallow(),r,t,n)}),t}function UR(n){var t=Lr(this).mainData;return null==n||null==t?t:Lr(t).datas[n]}function xx(){var n=Lr(this).mainData;return null==n?[{data:n}]:re(Xe(Lr(n).datas),function(t){return{type:t,data:Lr(n).datas[t]}})}function WH(n,t,e){Lr(n).datas={},F(t,function(r,i){Tx(r,i,n,e)})}function Tx(n,t,e,r){Lr(e).datas[t]=n,Lr(n).mainData=e,n.dataType=t,r.struct&&(n[r.structAttr]=r.struct,r.struct[r.datasAttr[t]]=n),n.getLinkedData=UR,n.getLinkedDataAll=xx}const $H=function Lh(n){var t=n.mainData,e=n.datas;e||(e={main:t},n.datasAttr={main:"data"}),n.datas=n.mainData=null,WH(t,e,n),F(e,function(r){F(t.TRANSFERABLE_METHODS,function(i){r.wrapMethod(i,Re(Dx,n))})}),t.wrapMethod("cloneShallow",Re(Rh,n)),F(t.CHANGABLE_METHODS,function(r){t.wrapMethod(r,Re(Cx,n))}),Jn(e[t.dataType]===t)};var WR=function(){function n(t,e){this.depth=0,this.height=0,this.dataIndex=-1,this.children=[],this.viewChildren=[],this.isExpand=!1,this.name=t||"",this.hostTree=e}return n.prototype.isRemoved=function(){return this.dataIndex<0},n.prototype.eachNode=function(t,e,r){_e(t)&&(r=e,e=t,t=null),fe(t=t||{})&&(t={order:t});var u,i=t.order||"preorder",o=this[t.attr||"children"];"preorder"===i&&(u=e.call(r,this));for(var c=0;!u&&c<o.length;c++)o[c].eachNode(t,e,r);"postorder"===i&&e.call(r,this)},n.prototype.updateDepthAndHeight=function(t){var e=0;this.depth=t;for(var r=0;r<this.children.length;r++){var i=this.children[r];i.updateDepthAndHeight(t+1),i.height>e&&(e=i.height)}this.height=e+1},n.prototype.getNodeById=function(t){if(this.getId()===t)return this;for(var e=0,r=this.children,i=r.length;e<i;e++){var o=r[e].getNodeById(t);if(o)return o}},n.prototype.contains=function(t){if(t===this)return!0;for(var e=0,r=this.children,i=r.length;e<i;e++){var o=r[e].contains(t);if(o)return o}},n.prototype.getAncestors=function(t){for(var e=[],r=t?this:this.parentNode;r;)e.push(r),r=r.parentNode;return e.reverse(),e},n.prototype.getAncestorsIndices=function(){for(var t=[],e=this;e;)t.push(e.dataIndex),e=e.parentNode;return t.reverse(),t},n.prototype.getDescendantIndices=function(){var t=[];return this.eachNode(function(e){t.push(e.dataIndex)}),t},n.prototype.getValue=function(t){var e=this.hostTree.data;return e.getStore().get(e.getDimensionIndex(t||"value"),this.dataIndex)},n.prototype.setLayout=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,t,e)},n.prototype.getLayout=function(){return this.hostTree.data.getItemLayout(this.dataIndex)},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostTree.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getLevelModel=function(){return(this.hostTree.levelModels||[])[this.depth]},n.prototype.setVisual=function(t,e){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,t,e)},n.prototype.getVisual=function(t){return this.hostTree.data.getItemVisual(this.dataIndex,t)},n.prototype.getRawIndex=function(){return this.hostTree.data.getRawIndex(this.dataIndex)},n.prototype.getId=function(){return this.hostTree.data.getId(this.dataIndex)},n.prototype.getChildIndex=function(){if(this.parentNode){for(var t=this.parentNode.children,e=0;e<t.length;++e)if(t[e]===this)return e;return-1}return-1},n.prototype.isAncestorOf=function(t){for(var e=t.parentNode;e;){if(e===this)return!0;e=e.parentNode}return!1},n.prototype.isDescendantOf=function(t){return t!==this&&t.isAncestorOf(this)},n}(),oW=function(){function n(t){this.type="tree",this._nodes=[],this.hostModel=t}return n.prototype.eachNode=function(t,e,r){this.root.eachNode(t,e,r)},n.prototype.getNodeByDataIndex=function(t){var e=this.data.getRawIndex(t);return this._nodes[e]},n.prototype.getNodeById=function(t){return this.root.getNodeById(t)},n.prototype.update=function(){for(var t=this.data,e=this._nodes,r=0,i=e.length;r<i;r++)e[r].dataIndex=-1;for(r=0,i=t.count();r<i;r++)e[t.getRawIndex(r)].dataIndex=r},n.prototype.clearLayouts=function(){this.data.clearItemLayouts()},n.createTree=function(t,e,r){var i=new n(e),o=[],u=1;!function c(p,g){var m=p.value;u=Math.max(u,te(m)?m.length:1),o.push(p);var y=new WR(rn(p.name,""),i);g?function $R(n,t){n.parentNode!==t&&(t.children.push(n),n.parentNode=t)}(y,g):i.root=y,i._nodes.push(y);var S=p.children;if(S)for(var b=0;b<S.length;b++)c(S[b],y)}(t),i.root.updateDepthAndHeight(0);var h=hh(o,{coordDimensions:["value"],dimensionsCount:u}).dimensions,d=new on(h,e);return d.initData(o),r&&r(d),$H({mainData:d,struct:i,structAttr:"tree"}),i.update(),i},n}();const YR=oW;function Nh(n,t,e){if(n&&Ge(t,n.type)>=0){var r=e.getData().tree.root,i=n.targetNode;if(fe(i)&&(i=r.getNodeById(i)),i&&r.contains(i))return{node:i};var o=n.targetNodeId;if(null!=o&&(i=r.getNodeById(o)))return{node:i}}}function ZR(n){for(var t=[];n;)(n=n.parentNode)&&t.push(n);return t.reverse()}function Mx(n,t){return Ge(ZR(n),t)>=0}function j0(n,t){for(var e=[];n;){var r=n.dataIndex;e.push({name:n.name,dataIndex:r,value:t.getRawValue(r)}),n=n.parentNode}return e.reverse(),e}var Lv=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.hasSymbolVisual=!0,e.ignoreStyleOnData=!0,e}return q(t,n),t.prototype.getInitialData=function(e){var r={name:e.name,children:e.data},o=new Rt(e.leaves||{},this,this.ecModel),u=YR.createTree(r,this,function c(g){g.wrapMethod("getItemModel",function(m,y){var S=u.getNodeByDataIndex(y);return S&&S.children.length&&S.isExpand||(m.parentModel=o),m})}),h=0;u.eachNode("preorder",function(g){g.depth>h&&(h=g.depth)});var p=e.expandAndCollapse&&e.initialTreeDepth>=0?e.initialTreeDepth:h;return u.root.eachNode("preorder",function(g){var m=g.hostTree.data.getRawDataItem(g.dataIndex);g.isExpand=m&&null!=m.collapsed?!m.collapsed:g.depth<=p}),u.data},t.prototype.getOrient=function(){var e=this.get("orient");return"horizontal"===e?e="LR":"vertical"===e&&(e="TB"),e},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.formatTooltip=function(e,r,i){for(var o=this.getData().tree,u=o.root.children[0],c=o.getNodeByDataIndex(e),h=c.getValue(),d=c.name;c&&c!==u;)d=c.parentNode.name+"."+d,c=c.parentNode;return hn("nameValue",{name:d,value:h,noValue:isNaN(h)||null==h})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=j0(i,this),r.collapsed=!i.isExpand,r},t.type="series.tree",t.layoutMode="box",t.defaultOption={z:2,coordinateSystem:"view",left:"12%",top:"12%",right:"12%",bottom:"12%",layout:"orthogonal",edgeShape:"curve",edgeForkPosition:"50%",roam:!1,nodeScaleRatio:.4,center:null,zoom:1,orient:"LR",symbol:"emptyCircle",symbolSize:7,expandAndCollapse:!0,initialTreeDepth:2,lineStyle:{color:"#ccc",width:1.5,curveness:.5},itemStyle:{color:"lightsteelblue",borderWidth:1.5},label:{show:!0},animationEasing:"linear",animationDuration:700,animationDurationUpdate:500},t}(Nt);const qR=Lv;function Oh(n,t){for(var r,e=[n];r=e.pop();)if(t(r),r.isExpand){var i=r.children;if(i.length)for(var o=i.length-1;o>=0;o--)e.push(i[o])}}function sW(n,t){n.eachSeriesByType("tree",function(e){!function lW(n,t){var e=function Pv(n,t){return An(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(n,t);n.layoutInfo=e;var r=n.get("layout"),i=0,o=0,u=null;"radial"===r?(i=2*Math.PI,o=Math.min(e.height,e.width)/2,u=mc(function(M,I){return(M.parentNode===I.parentNode?1:2)/M.depth})):(i=e.width,o=e.height,u=mc());var c=n.getData().tree.root,h=c.children[0];if(h){(function rW(n){var t=n;t.hierNode={defaultAncestor:null,ancestor:t,prelim:0,modifier:0,change:0,shift:0,i:0,thread:null};for(var r,i,e=[t];r=e.pop();)if(i=r.children,r.isExpand&&i.length)for(var u=i.length-1;u>=0;u--){var c=i[u];c.hierNode={defaultAncestor:null,ancestor:c,prelim:0,modifier:0,change:0,shift:0,i:u,thread:null},e.push(c)}})(c),function YH(n,t,e){for(var o,r=[n],i=[];o=r.pop();)if(i.push(o),o.isExpand){var u=o.children;if(u.length)for(var c=0;c<u.length;c++)r.push(u[c])}for(;o=i.pop();)t(o,e)}(h,iW,u),c.hierNode.modifier=-h.hierNode.prelim,Oh(h,aW);var d=h,p=h,g=h;Oh(h,function(M){var I=M.getLayout().x;I<d.getLayout().x&&(d=M),I>p.getLayout().x&&(p=M),M.depth>g.depth&&(g=M)});var m=d===p?1:u(d,p)/2,y=m-d.getLayout().x,S=0,b=0,D=0,C=0;if("radial"===r)S=i/(p.getLayout().x+m+y),b=o/(g.depth-1||1),Oh(h,function(M){var I=Hi(D=(M.getLayout().x+y)*S,C=(M.depth-1)*b);M.setLayout({x:I.x,y:I.y,rawX:D,rawY:C},!0)});else{var T=n.getOrient();"RL"===T||"LR"===T?(b=o/(p.getLayout().x+m+y),S=i/(g.depth-1||1),Oh(h,function(M){C=(M.getLayout().x+y)*b,M.setLayout({x:D="LR"===T?(M.depth-1)*S:i-(M.depth-1)*S,y:C},!0)})):("TB"===T||"BT"===T)&&(S=i/(p.getLayout().x+m+y),b=o/(g.depth-1||1),Oh(h,function(M){D=(M.getLayout().x+y)*S,M.setLayout({x:D,y:C="TB"===T?(M.depth-1)*b:o-(M.depth-1)*b},!0)}))}}}(e,t)})}function uW(n){n.eachSeriesByType("tree",function(t){var e=t.getData();e.tree.eachNode(function(i){var u=i.getModel().getModel("itemStyle").getItemStyle();J(e.ensureUniqueItemVisual(i.dataIndex,"style"),u)})})}var ZH=["treemapZoomToNode","treemapRender","treemapMove"];function XR(n){var t=n.getData(),r={};t.tree.eachNode(function(i){for(var o=i;o&&o.depth>1;)o=o.parentNode;var u=Ur(n.ecModel,o.name||o.dataIndex+"",r);i.setVisual("decal",u)})}var KR=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventUsingHoverLayer=!0,e}return q(t,n),t.prototype.getInitialData=function(e,r){var i={name:e.name,children:e.data};QR(i);var o=e.levels||[],u=this.designatedVisualItemStyle={},c=new Rt({itemStyle:u},this,r);o=e.levels=function hW(n,t){var e=It(t.get("color")),r=It(t.get(["aria","decal","decals"]));if(e){var i,o;F(n=n||[],function(c){var h=new Rt(c),d=h.get("color"),p=h.get("decal");(h.get(["itemStyle","color"])||d&&"none"!==d)&&(i=!0),(h.get(["itemStyle","decal"])||p&&"none"!==p)&&(o=!0)});var u=n[0]||(n[0]={});return i||(u.color=e.slice()),!o&&r&&(u.decal=r.slice()),n}}(o,r);var h=re(o||[],function(g){return new Rt(g,c,r)},this),d=YR.createTree(i,this,function p(g){g.wrapMethod("getItemModel",function(m,y){var S=d.getNodeByDataIndex(y);return m.parentModel=(S?h[S.depth]:null)||c,m})});return d.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.formatTooltip=function(e,r,i){var o=this.getData(),u=this.getRawValue(e);return hn("nameValue",{name:o.getName(e),value:u})},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treeAncestors=j0(i,this),r.treePathInfo=r.treeAncestors,r},t.prototype.setLayoutInfo=function(e){this.layoutInfo=this.layoutInfo||{},J(this.layoutInfo,e)},t.prototype.mapIdToIndex=function(e){var r=this._idIndexMap;r||(r=this._idIndexMap=ve(),this._idIndexMapCount=0);var i=r.get(e);return null==i&&r.set(e,i=this._idIndexMapCount++),i},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){XR(this)},t.type="series.treemap",t.layoutMode="box",t.defaultOption={progressive:0,left:"center",top:"middle",width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,drillDownIcon:"\u25b6",zoomToNodeRatio:.1024,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{color:"rgba(0,0,0,0.7)",textStyle:{color:"#fff"}},emphasis:{itemStyle:{color:"rgba(0,0,0,0.9)"}}},label:{show:!0,distance:0,padding:5,position:"inside",color:"#fff",overflow:"truncate"},upperLabel:{show:!1,position:[0,"50%"],height:20,overflow:"truncate",verticalAlign:"middle"},itemStyle:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{upperLabel:{show:!0,position:[0,"50%"],overflow:"truncate",verticalAlign:"middle"}},visualDimension:0,visualMin:null,visualMax:null,color:[],colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},t}(Nt);function QR(n){var t=0;F(n.children,function(r){QR(r);var i=r.value;te(i)&&(i=i[0]),t+=i});var e=n.value;te(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),te(n.value)?n.value[0]=e:n.value=e}const XH=KR;var QH=function(){function n(t){this.group=new Ee,t.add(this.group)}return n.prototype.render=function(t,e,r,i){var o=t.getModel("breadcrumb"),u=this.group;if(u.removeAll(),o.get("show")&&r){var c=o.getModel("itemStyle"),h=o.getModel("emphasis"),d=c.getModel("textStyle"),p=h.getModel(["itemStyle","textStyle"]),g={pos:{left:o.get("left"),right:o.get("right"),top:o.get("top"),bottom:o.get("bottom")},box:{width:e.getWidth(),height:e.getHeight()},emptyItemWidth:o.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,g,d),this._renderContent(t,g,c,h,d,p,i),Hu(u,g.pos,g.box)}},n.prototype._prepare=function(t,e,r){for(var i=t;i;i=i.parentNode){var o=rn(i.getModel().get("name"),""),u=r.getTextRect(o),c=Math.max(u.width+16,e.emptyItemWidth);e.totalWidth+=c+8,e.renderList.push({node:i,text:o,width:c})}},n.prototype._renderContent=function(t,e,r,i,o,u,c){for(var h=0,d=e.emptyItemWidth,p=t.get(["breadcrumb","height"]),g=function fj(n,t,e){var r=t.width,i=t.height,o=le(n.left,r),u=le(n.top,i),c=le(n.right,r),h=le(n.bottom,i);return(isNaN(o)||isNaN(parseFloat(n.left)))&&(o=0),(isNaN(c)||isNaN(parseFloat(n.right)))&&(c=r),(isNaN(u)||isNaN(parseFloat(n.top)))&&(u=0),(isNaN(h)||isNaN(parseFloat(n.bottom)))&&(h=i),e=is(e||0),{width:Math.max(c-o-e[1]-e[3],0),height:Math.max(h-u-e[0]-e[2],0)}}(e.pos,e.box),m=e.totalWidth,y=e.renderList,S=i.getModel("itemStyle").getItemStyle(),b=y.length-1;b>=0;b--){var D=y[b],C=D.node,T=D.width,M=D.text;m>g.width&&(m-=T-d,T=d,M=null);var I=new dr({shape:{points:JR(h,0,T,p,b===y.length-1,0===b)},style:De(r.getItemStyle(),{lineJoin:"bevel"}),textContent:new rt({style:Et(o,{text:M})}),textConfig:{position:"inside"},z2:1e4*hl,onclick:Re(c,C)});I.disableLabelAnimation=!0,I.getTextContent().ensureState("emphasis").style=Et(u,{text:M}),I.ensureState("emphasis").style=S,nn(I,i.get("focus"),i.get("blurScope"),i.get("disabled")),this.group.add(I),JH(I,t,C),h+=T+8}},n.prototype.remove=function(){this.group.removeAll()},n}();function JR(n,t,e,r,i,o){var u=[[i?n:n-5,t],[n+e,t],[n+e,t+r],[i?n:n-5,t+r]];return!o&&u.splice(2,0,[n+e+5,t+r/2]),!i&&u.push([n,t+r/2]),u}function JH(n,t,e){Oe(n).eventData={componentType:"series",componentSubType:"treemap",componentIndex:t.componentIndex,seriesIndex:t.seriesIndex,seriesName:t.name,seriesType:"treemap",selfType:"breadcrumb",nodeData:{dataIndex:e&&e.dataIndex,name:e&&e.name},treePathInfo:e&&j0(e,t)}}const eN=QH;var tN=function(){function n(){this._storage=[],this._elExistsMap={}}return n.prototype.add=function(t,e,r,i,o){return!this._elExistsMap[t.id]&&(this._elExistsMap[t.id]=!0,this._storage.push({el:t,target:e,duration:r,delay:i,easing:o}),!0)},n.prototype.finished=function(t){return this._finishedCallback=t,this},n.prototype.start=function(){for(var t=this,e=this._storage.length,r=function(){--e<=0&&(t._storage.length=0,t._elExistsMap={},t._finishedCallback&&t._finishedCallback())},i=0,o=this._storage.length;i<o;i++){var u=this._storage[i];u.el.animateTo(u.target,{duration:u.duration,delay:u.delay,easing:u.easing,setToFinal:!0,done:r,aborted:r})}return this},n}(),Ix=Ee,tG=st,nN="upperLabel",dW=10*hl,rN=2*hl,nG=3*hl,kh=na([["fill","color"],["stroke","strokeColor"],["lineWidth","strokeWidth"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),rG=function(n){var t=kh(n);return t.stroke=t.fill=t.lineWidth=null,t},Ex=ot(),pW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._state="ready",e._storage={nodeGroup:[],background:[],content:[]},e}return q(t,n),t.prototype.render=function(e,r,i,o){if(!(Ge(r.findComponents({mainType:"series",subType:"treemap",query:o}),e)<0)){this.seriesModel=e,this.api=i,this.ecModel=r;var h=Nh(o,["treemapZoomToNode","treemapRootToNode"],e),d=o&&o.type,p=e.layoutInfo,g=!this._oldTree,m=this._storage,y="treemapRootToNode"===d&&h&&m?{rootNodeGroup:m.nodeGroup[h.node.getRawIndex()],direction:o.direction}:null,S=this._giveContainerGroup(p),b=e.get("animation"),D=this._doRender(S,e,y);!b||g||d&&"treemapZoomToNode"!==d&&"treemapRootToNode"!==d?D.renderFinally():this._doAnimation(S,D,e,y),this._resetController(i),this._renderBreadcrumb(e,i,h)}},t.prototype._giveContainerGroup=function(e){var r=this._containerGroup;return r||(r=this._containerGroup=new Ix,this._initEvents(r),this.group.add(r)),r.x=e.x,r.y=e.y,r},t.prototype._doRender=function(e,r,i){var o=r.getData().tree,u=this._oldTree,c={nodeGroup:[],background:[],content:[]},h={nodeGroup:[],background:[],content:[]},d=this._storage,p=[];function g(D,C,T,M){return function vW(n,t,e,r,i,o,u,c,h,d){if(u){var p=u.getLayout(),g=n.getData(),m=u.getModel();if(g.setItemGraphicEl(u.dataIndex,null),p&&p.isInView){var y=p.width,S=p.height,b=p.borderWidth,D=p.invisible,C=u.getRawIndex(),T=c&&c.getRawIndex(),M=u.viewChildren,I=p.upperHeight,L=M&&M.length,E=m.getModel("itemStyle"),R=m.getModel(["emphasis","itemStyle"]),O=m.getModel(["blur","itemStyle"]),k=m.getModel(["select","itemStyle"]),V=E.get("borderRadius")||0,B=Me("nodeGroup",Ix);if(B){if(h.add(B),B.x=p.x||0,B.y=p.y||0,B.markRedraw(),Ex(B).nodeWidth=y,Ex(B).nodeHeight=S,p.isAboveViewRoot)return B;var H=Me("background",tG,d,rN);H&&function ee(Je,Pe,et){var je=Oe(Pe);if(je.dataIndex=u.dataIndex,je.seriesIndex=n.seriesIndex,Pe.setShape({x:0,y:0,width:y,height:S,r:V}),D)he(Pe);else{Pe.invisible=!1;var be=u.getVisual("style"),We=be.stroke,ln=rG(E);ln.fill=We;var vt=kh(R);vt.fill=R.get("borderColor");var Pn=kh(O);Pn.fill=O.get("borderColor");var Dn=kh(k);Dn.fill=k.get("borderColor"),et?me(Pe,We,be.opacity,{x:b,y:0,width:y-2*b,height:I}):Pe.removeTextContent(),Pe.setStyle(ln),Pe.ensureState("emphasis").style=vt,Pe.ensureState("blur").style=Pn,Pe.ensureState("select").style=Dn,Pu(Pe)}Je.add(Pe)}(B,H,L&&p.upperLabelHeight);var G=m.getModel("emphasis"),j=G.get("focus"),W=G.get("blurScope"),Y=G.get("disabled"),K="ancestor"===j?u.getAncestorsIndices():"descendant"===j?u.getDescendantIndices():j;if(L)oa(B)&&Ru(B,!1),H&&(Ru(H,!Y),g.setItemGraphicEl(u.dataIndex,H),jw(H,K,W));else{var X=Me("content",tG,d,nG);X&&function oe(Je,Pe){var et=Oe(Pe);et.dataIndex=u.dataIndex,et.seriesIndex=n.seriesIndex;var je=Math.max(y-2*b,0),be=Math.max(S-2*b,0);if(Pe.culling=!0,Pe.setShape({x:b,y:b,width:je,height:be,r:V}),D)he(Pe);else{Pe.invisible=!1;var We=u.getVisual("style"),ln=We.fill,vt=rG(E);vt.fill=ln,vt.decal=We.decal;var Pn=kh(R),Dn=kh(O),bi=kh(k);me(Pe,ln,We.opacity,null),Pe.setStyle(vt),Pe.ensureState("emphasis").style=Pn,Pe.ensureState("blur").style=Dn,Pe.ensureState("select").style=bi,Pu(Pe)}Je.add(Pe)}(B,X),H.disableMorphing=!0,H&&oa(H)&&Ru(H,!1),Ru(B,!Y),g.setItemGraphicEl(u.dataIndex,B),jw(B,K,W)}return B}}}function he(Je){!Je.invisible&&o.push(Je)}function me(Je,Pe,et,je){var be=m.getModel(je?nN:"label"),We=rn(m.get("name"),null),ln=be.getShallow("show");xr(Je,qn(m,je?nN:"label"),{defaultText:ln?We:null,inheritColor:Pe,defaultOpacity:et,labelFetcher:n,labelDataIndex:u.dataIndex});var vt=Je.getTextContent();if(vt){var Pn=vt.style,Dn=Lg(Pn.padding||0);je&&(Je.setTextConfig({layoutRect:je}),vt.disableLabelLayout=!0),vt.beforeUpdate=function(){var Vc=Math.max((je?je.width:Je.shape.width)-Dn[1]-Dn[3],0),Ca=Math.max((je?je.height:Je.shape.height)-Dn[0]-Dn[2],0);(Pn.width!==Vc||Pn.height!==Ca)&&vt.setStyle({width:Vc,height:Ca})},Pn.truncateMinChar=2,Pn.lineOverflow="truncate",Ie(Pn,je,p);var bi=vt.getState("emphasis");Ie(bi?bi.style:null,je,p)}}function Ie(Je,Pe,et){var je=Je?Je.text:null;if(!Pe&&et.isLeafRoot&&null!=je){var be=n.get("drillDownIcon",!0);Je.text=be?be+" "+je:je}}function Me(Je,Pe,et,je){var be=null!=T&&e[Je][T],We=i[Je];return be?(e[Je][T]=null,function qe(Je,Pe){var et=Je[C]={};Pe instanceof Ix?(et.oldX=Pe.x,et.oldY=Pe.y):et.oldShape=J({},Pe.shape)}(We,be)):D||((be=new Pe)instanceof ra&&(be.z2=function iG(n,t){return n*dW+t}(et,je)),function ut(Je,Pe){var et=Je[C]={},je=u.parentNode,be=Pe instanceof Ee;if(je&&(!r||"drillDown"===r.direction)){var We=0,ln=0,vt=i.background[je.getRawIndex()];!r&&vt&&vt.oldShape&&(We=vt.oldShape.width,ln=vt.oldShape.height),be?(et.oldX=0,et.oldY=ln):et.oldShape={x:We,y:ln,width:0,height:0}}et.fadein=!be}(We,be)),t[Je][C]=be}}(r,h,d,i,c,p,D,C,T,M)}!function y(D,C,T,M,I){function L(R){return R.getId()}function E(R,O){var k=null!=R?D[R]:null,V=null!=O?C[O]:null,B=g(k,V,T,I);B&&y(k&&k.viewChildren||[],V&&V.viewChildren||[],B,M,I+1)}M?(C=D,F(D,function(R,O){!R.isRemoved()&&E(O,O)})):new bs(C,D,L,L).add(E).update(E).remove(Re(E,null)).execute()}(o.root?[o.root]:[],u&&u.root?[u.root]:[],e,o===u||!u,0);var m=function S(D){var C={nodeGroup:[],background:[],content:[]};return D&&F(D,function(T,M){var I=C[M];F(T,function(L){L&&(I.push(L),Ex(L).willDelete=!0)})}),C}(d);return this._oldTree=o,this._storage=h,{lastsForAnimation:c,willDeleteEls:m,renderFinally:function b(){F(m,function(D){F(D,function(C){C.parent&&C.parent.remove(C)})}),F(p,function(D){D.invisible=!0,D.dirty()})}}},t.prototype._doAnimation=function(e,r,i,o){var u=i.get("animationDurationUpdate"),c=i.get("animationEasing"),h=(_e(u)?0:u)||0,d=(_e(c)?null:c)||"cubicOut",p=function eG(){return new tN}();F(r.willDeleteEls,function(g,m){F(g,function(y,S){if(!y.invisible){var D,b=y.parent,C=Ex(b);if(o&&"drillDown"===o.direction)D=b===o.rootNodeGroup?{shape:{x:0,y:0,width:C.nodeWidth,height:C.nodeHeight},style:{opacity:0}}:{style:{opacity:0}};else{var T=0,M=0;C.willDelete||(T=C.nodeWidth/2,M=C.nodeHeight/2),D="nodeGroup"===m?{x:T,y:M,style:{opacity:0}}:{shape:{x:T,y:M,width:0,height:0},style:{opacity:0}}}D&&p.add(y,D,h,0,d)}})}),F(this._storage,function(g,m){F(g,function(y,S){var b=r.lastsForAnimation[m][S],D={};b&&(y instanceof Ee?null!=b.oldX&&(D.x=y.x,D.y=y.y,y.x=b.oldX,y.y=b.oldY):(b.oldShape&&(D.shape=J({},y.shape),y.setShape(b.oldShape)),b.fadein?(y.setStyle("opacity",0),D.style={opacity:1}):1!==y.style.opacity&&(D.style={opacity:1})),p.add(y,D,h,0,d))})},this),this._state="animating",p.finished(de(function(){this._state="ready",r.renderFinally()},this)).start()},t.prototype._resetController=function(e){var r=this._controller;r||((r=this._controller=new k0(e.getZr())).enable(this.seriesModel.get("roam")),r.on("pan",de(this._onPan,this)),r.on("zoom",de(this._onZoom,this)));var i=new Be(0,0,e.getWidth(),e.getHeight());r.setPointerChecker(function(o,u,c){return i.contain(u,c)})},t.prototype._clearController=function(){var e=this._controller;e&&(e.dispose(),e=null)},t.prototype._onPan=function(e){if("animating"!==this._state&&(Math.abs(e.dx)>3||Math.abs(e.dy)>3)){var r=this.seriesModel.getData().tree.root;if(!r)return;var i=r.getLayout();if(!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+e.dx,y:i.y+e.dy,width:i.width,height:i.height}})}},t.prototype._onZoom=function(e){var r=e.originX,i=e.originY;if("animating"!==this._state){var o=this.seriesModel.getData().tree.root;if(!o)return;var u=o.getLayout();if(!u)return;var c=new Be(u.x,u.y,u.width,u.height),h=this.seriesModel.layoutInfo,d=[1,0,0,1,0,0];qi(d,d,[-(r-=h.x),-(i-=h.y)]),su(d,d,[e.scale,e.scale]),qi(d,d,[r,i]),c.applyTransform(d),this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:c.x,y:c.y,width:c.width,height:c.height}})}},t.prototype._initEvents=function(e){var r=this;e.on("click",function(i){if("ready"===r._state){var o=r.seriesModel.get("nodeClick",!0);if(o){var u=r.findTarget(i.offsetX,i.offsetY);if(u){var c=u.node;if(c.getLayout().isLeafRoot)r._rootToNode(u);else if("zoomToNode"===o)r._zoomToNode(u);else if("link"===o){var h=c.hostTree.data.getItemModel(c.dataIndex),d=h.get("link",!0),p=h.get("target",!0)||"blank";d&&Gm(d,p)}}}}},this)},t.prototype._renderBreadcrumb=function(e,r,i){var o=this;i||(i=null!=e.get("leafDepth",!0)?{node:e.getViewRoot()}:this.findTarget(r.getWidth()/2,r.getHeight()/2))||(i={node:e.getData().tree.root}),(this._breadcrumb||(this._breadcrumb=new eN(this.group))).render(e,r,i.node,function(u){"animating"!==o._state&&(Mx(e.getViewRoot(),u)?o._rootToNode({node:u}):o._zoomToNode({node:u}))})},t.prototype.remove=function(){this._clearController(),this._containerGroup&&this._containerGroup.removeAll(),this._storage={nodeGroup:[],background:[],content:[]},this._state="ready",this._breadcrumb&&this._breadcrumb.remove()},t.prototype.dispose=function(){this._clearController()},t.prototype._zoomToNode=function(e){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype._rootToNode=function(e){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:e.node})},t.prototype.findTarget=function(e,r){var i;return this.seriesModel.getViewRoot().eachNode({attr:"viewChildren",order:"preorder"},function(u){var c=this._storage.background[u.getRawIndex()];if(c){var h=c.transformCoordToLocal(e,r),d=c.shape;if(!(d.x<=h[0]&&h[0]<=d.x+d.width&&d.y<=h[1]&&h[1]<=d.y+d.height))return!1;i={node:u,offsetX:h[0],offsetY:h[1]}}},this),i},t.type="treemap",t}(Mt);const gW=pW;var Wl=F,aG=xe,$0=-1,Px=function(){function n(t){var e=t.mappingMethod,r=t.type,i=this.option=Te(t);this.type=r,this.mappingMethod=e,this._normalizeData=lG[e];var o=n.visualHandlers[r];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[e],"piecewise"===e?(iN(i),function oG(n){var t=n.pieceList;n.hasSpecialVisual=!1,F(t,function(e,r){e.originIndex=r,null!=e.visual&&(n.hasSpecialVisual=!0)})}(i)):"category"===e?i.categories?function sG(n){var t=n.categories,e=n.categoryMap={},r=n.visual;if(Wl(t,function(u,c){e[u]=c}),!te(r)){var i=[];xe(r)?Wl(r,function(u,c){i[e[c]??$0]=u}):i[$0]=r,r=oN(n,i)}for(var o=t.length-1;o>=0;o--)null==r[o]&&(delete e[t[o]],t.pop())}(i):iN(i,!0):(Jn("linear"!==e||i.dataExtent),iN(i))}return n.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},n.prototype.getNormalizer=function(){return de(this._normalizeData,this)},n.listVisualTypes=function(){return Xe(n.visualHandlers)},n.isValidType=function(t){return n.visualHandlers.hasOwnProperty(t)},n.eachVisual=function(t,e,r){xe(t)?F(t,e,r):e.call(r,t)},n.mapVisual=function(t,e,r){var i,o=te(t)?[]:xe(t)?{}:(i=!0,null);return n.eachVisual(t,function(u,c){var h=e.call(r,u,c);i?o=h:o[c]=h}),o},n.retrieveVisuals=function(t){var r,e={};return t&&Wl(n.visualHandlers,function(i,o){t.hasOwnProperty(o)&&(e[o]=t[o],r=!0)}),r?e:null},n.prepareVisualTypes=function(t){if(te(t))t=t.slice();else{if(!aG(t))return[];var e=[];Wl(t,function(r,i){e.push(i)}),t=e}return t.sort(function(r,i){return"color"===i&&"color"!==r&&0===r.indexOf("color")?1:-1}),t},n.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},n.findPieceIndex=function(t,e,r){for(var i,o=1/0,u=0,c=e.length;u<c;u++){var h=e[u].value;if(null!=h){if(h===t||fe(h)&&h===t+"")return u;r&&m(h,u)}}for(u=0,c=e.length;u<c;u++){var d=e[u],p=d.interval,g=d.close;if(p){if(p[0]===-1/0){if(Ov(g[1],t,p[1]))return u}else if(p[1]===1/0){if(Ov(g[0],p[0],t))return u}else if(Ov(g[0],p[0],t)&&Ov(g[1],t,p[1]))return u;r&&m(p[0],u),r&&m(p[1],u)}}if(r)return t===1/0?e.length-1:t===-1/0?0:i;function m(y,S){var b=Math.abs(y-t);b<o&&(o=b,i=S)}},n.visualHandlers={color:{applyVisual:Y0("color"),getColorMapper:function(){var t=this.option;return de("category"===t.mappingMethod?function(e,r){return!r&&(e=this._normalizeData(e)),Fh.call(this,e)}:function(e,r,i){var o=!!i;return!r&&(e=this._normalizeData(e)),i=wd(e,t.parsedVisual,i),o?i:so(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return so(wd(t,this.option.parsedVisual),"rgba")},category:Fh,piecewise:function(t,e){var r=Rx.call(this,e);return null==r&&(r=so(wd(t,this.option.parsedVisual),"rgba")),r},fixed:yc}},colorHue:Nv(function(t,e){return nf(t,e)}),colorSaturation:Nv(function(t,e){return nf(t,null,e)}),colorLightness:Nv(function(t,e){return nf(t,null,null,e)}),colorAlpha:Nv(function(t,e){return Gg(t,e)}),decal:{applyVisual:Y0("decal"),_normalizedToVisual:{linear:null,category:Fh,piecewise:null,fixed:null}},opacity:{applyVisual:Y0("opacity"),_normalizedToVisual:Lx([0,1])},liftZ:{applyVisual:Y0("liftZ"),_normalizedToVisual:{linear:yc,category:yc,piecewise:yc,fixed:yc}},symbol:{applyVisual:function(t,e,r){r("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:aN,category:Fh,piecewise:function(t,e){var r=Rx.call(this,e);return null==r&&(r=aN.call(this,t)),r},fixed:yc}},symbolSize:{applyVisual:Y0("symbolSize"),_normalizedToVisual:Lx([0,1])}},n}();function iN(n,t){var e=n.visual,r=[];xe(e)?Wl(e,function(o){r.push(o)}):null!=e&&r.push(e),!t&&1===r.length&&!{color:1,symbol:1}.hasOwnProperty(n.type)&&(r[1]=r[0]),oN(n,r)}function Nv(n){return{applyVisual:function(t,e,r){var i=this.mapValueToVisual(t);r("color",n(e("color"),i))},_normalizedToVisual:Lx([0,1])}}function aN(n){var t=this.option.visual;return t[Math.round(Ct(n,[0,1],[0,t.length-1],!0))]||{}}function Y0(n){return function(t,e,r){r(n,this.mapValueToVisual(t))}}function Fh(n){var t=this.option.visual;return t[this.option.loop&&n!==$0?n%t.length:n]}function yc(){return this.option.visual[0]}function Lx(n){return{linear:function(t){return Ct(t,n,this.option.visual,!0)},category:Fh,piecewise:function(t,e){var r=Rx.call(this,e);return null==r&&(r=Ct(t,n,this.option.visual,!0)),r},fixed:yc}}function Rx(n){var t=this.option,e=t.pieceList;if(t.hasSpecialVisual){var i=e[Px.findPieceIndex(n,e)];if(i&&i.visual)return i.visual[this.type]}}function oN(n,t){return n.visual=t,"color"===n.type&&(n.parsedVisual=re(t,function(e){return rr(e)||[0,0,0,1]})),t}var lG={linear:function(n){return Ct(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,e=Px.findPieceIndex(n,t,!0);if(null!=e)return Ct(e,[0,t.length-1],[0,1],!0)},category:function(n){return(this.option.categories?this.option.categoryMap[n]:n)??$0},fixed:ht};function Ov(n,t,e){return n?t<=e:t<e}const gr=Px;var sN=ot();const lN={seriesType:"treemap",reset:function(n){var e=n.getData().tree.root;e.isRemoved()||Nx(e,{},n.getViewRoot().getAncestors(),n)}};function Nx(n,t,e,r){var i=n.getModel(),o=n.getLayout(),u=n.hostTree.data;if(o&&!o.invisible&&o.isInView){var m,c=i.getModel("itemStyle"),h=function Ox(n,t,e){var r=J({},t),i=e.designatedVisualItemStyle;return F(["color","colorAlpha","colorSaturation"],function(o){i[o]=t[o];var u=n.get(o);i[o]=null,null!=u&&(r[o]=u)}),r}(c,t,r),d=u.ensureUniqueItemVisual(n.dataIndex,"style"),p=c.get("borderColor"),g=c.get("borderColorSaturation");null!=g&&(p=function cN(n,t){return null!=t?nf(t,null,null,n):null}(g,m=uN(h))),d.stroke=p;var y=n.viewChildren;if(y&&y.length){var S=function cG(n,t,e,r,i,o){if(o&&o.length){var u=kv(t,"color")||null!=i.color&&"none"!==i.color&&(kv(t,"colorAlpha")||kv(t,"colorSaturation"));if(u){var c=t.get("visualMin"),h=t.get("visualMax"),d=e.dataExtent.slice();null!=c&&c<d[0]&&(d[0]=c),null!=h&&h>d[1]&&(d[1]=h);var p=t.get("colorMappingBy"),g={type:u.name,dataExtent:d,visual:u.range};"color"!==g.type||"index"!==p&&"id"!==p?g.mappingMethod="linear":(g.mappingMethod="category",g.loop=!0);var m=new gr(g);return sN(m).drColorMappingBy=p,m}}}(0,i,o,0,h,y);F(y,function(b,D){if(b.depth>=e.length||b===e[b.depth]){var C=function fN(n,t,e,r,i,o){var u=J({},t);if(i){var c=i.type,h="color"===c&&sN(i).drColorMappingBy,d="index"===h?r:"id"===h?o.mapIdToIndex(e.getId()):e.getValue(n.get("visualDimension"));u[c]=i.mapValueToVisual(d)}return u}(i,h,b,D,S,r);Nx(b,C,e,r)}})}else m=uN(h),d.fill=m}}function uN(n){var t=Vh(n,"color");if(t){var e=Vh(n,"colorAlpha"),r=Vh(n,"colorSaturation");return r&&(t=nf(t,null,null,r)),e&&(t=Gg(t,e)),t}}function Vh(n,t){var e=n[t];if(null!=e&&"none"!==e)return e}function kv(n,t){var e=n.get(t);return te(e)&&e.length?{name:t,range:e}:null}var Os=Math.max,Bh=Math.min,kx=bt,$l=F,hN=["itemStyle","borderWidth"],Z0=["itemStyle","gapWidth"],dN=["upperLabel","show"],fG=["upperLabel","height"];const _c={seriesType:"treemap",reset:function(n,t,e,r){var i=e.getWidth(),o=e.getHeight(),u=n.option,c=An(n.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),h=u.size||[],d=le(kx(c.width,h[0]),i),p=le(kx(c.height,h[1]),o),g=r&&r.type,y=Nh(r,["treemapZoomToNode","treemapRootToNode"],n),S="treemapRender"===g||"treemapMove"===g?r.rootRect:null,b=n.getViewRoot(),D=ZR(b);if("treemapMove"!==g){var C="treemapZoomToNode"===g?function vG(n,t,e,r,i){var o=(t||{}).node,u=[r,i];if(!o||o===e)return u;for(var c,h=r*i,d=h*n.option.zoomToNodeRatio;c=o.parentNode;){for(var p=0,g=c.children,m=0,y=g.length;m<y;m++)p+=g[m].getValue();var S=o.getValue();if(0===S)return u;d*=p/S;var b=c.getModel(),D=b.get(hN);(d+=4*D*D+(3*D+Math.max(D,vN(b)))*Math.pow(d,.5))>ar&&(d=ar),o=c}d<h&&(d=h);var T=Math.pow(d/h,.5);return[r*T,i*T]}(n,y,b,d,p):S?[S.width,S.height]:[d,p],T=u.sort;T&&"asc"!==T&&"desc"!==T&&(T="desc");var M={squareRatio:u.squareRatio,sort:T,leafDepth:u.leafDepth};b.hostTree.clearLayouts();var I={x:0,y:0,width:C[0],height:C[1],area:C[0]*C[1]};b.setLayout(I),mr(b,M,!1,0),I=b.getLayout(),$l(D,function(E,R){var O=(D[R+1]||b).getValue();E.setLayout(J({dataExtent:[O,O],borderWidth:0,upperHeight:0},I))})}var L=n.getData().tree.root;L.setLayout(function lt(n,t,e){if(t)return{x:t.x,y:t.y};var r={x:0,y:0};if(!e)return r;var i=e.node,o=i.getLayout();if(!o)return r;for(var u=[o.width/2,o.height/2],c=i;c;){var h=c.getLayout();u[0]+=h.x,u[1]+=h.y,c=c.parentNode}return{x:n.width/2-u[0],y:n.height/2-u[1]}}(c,S,y),!0),n.setLayoutInfo(c),zh(L,new Be(-c.x,-c.y,i,o),D,b,0)}};function mr(n,t,e,r){var i,o;if(!n.isRemoved()){var u=n.getLayout();i=u.width,o=u.height;var c=n.getModel(),h=c.get(hN),d=c.get(Z0)/2,p=vN(c),g=Math.max(h,p),m=h-d,y=g-d;n.setLayout({borderWidth:h,upperHeight:g,upperLabelHeight:p},!0);var S=(i=Os(i-2*m,0))*(o=Os(o-m-y,0)),b=function Sc(n,t,e,r,i,o){var u=n.children||[],c=r.sort;"asc"!==c&&"desc"!==c&&(c=null);var h=null!=r.leafDepth&&r.leafDepth<=o;if(i&&!h)return n.viewChildren=[];u=yt(u,function(y){return!y.isRemoved()}),function dG(n,t){t&&n.sort(function(e,r){var i="asc"===t?e.getValue()-r.getValue():r.getValue()-e.getValue();return 0===i?"asc"===t?e.dataIndex-r.dataIndex:r.dataIndex-e.dataIndex:i})}(u,c);var d=function Fx(n,t,e){for(var r=0,i=0,o=t.length;i<o;i++)r+=t[i].getValue();var c,u=n.get("visualDimension");return t&&t.length?"value"===u&&e?(c=[t[t.length-1].getValue(),t[0].getValue()],"asc"===e&&c.reverse()):(c=[1/0,-1/0],$l(t,function(h){var d=h.getValue(u);d<c[0]&&(c[0]=d),d>c[1]&&(c[1]=d)})):c=[NaN,NaN],{sum:r,dataExtent:c}}(t,u,c);if(0===d.sum)return n.viewChildren=[];if(d.sum=function hG(n,t,e,r,i){if(!r)return e;for(var o=n.get("visibleMin"),u=i.length,c=u,h=u-1;h>=0;h--){var d=i["asc"===r?u-h-1:h].getValue();d/e*t<o&&(c=h,e-=d)}return i.splice("asc"===r?0:c,u-c),e}(t,e,d.sum,c,u),0===d.sum)return n.viewChildren=[];for(var p=0,g=u.length;p<g;p++){var m=u[p].getValue()/d.sum*e;u[p].setLayout({area:m})}return h&&(u.length&&n.setLayout({isLeafRoot:!0},!0),u.length=0),n.viewChildren=u,n.setLayout({dataExtent:d.dataExtent},!0),u}(n,c,S,t,e,r);if(b.length){var D={x:m,y,width:i,height:o},C=Bh(i,o),T=1/0,M=[];M.area=0;for(var I=0,L=b.length;I<L;){var E=b[I];M.push(E),M.area+=E.getLayout().area;var R=pG(M,C,t.squareRatio);R<=T?(I++,T=R):(M.area-=M.pop().getLayout().area,pN(M,C,D,d,!1),C=Bh(D.width,D.height),M.length=M.area=0,T=1/0)}if(M.length&&pN(M,C,D,d,!0),!e){var O=c.get("childrenVisibleMin");null!=O&&S<O&&(e=!0)}for(I=0,L=b.length;I<L;I++)mr(b[I],t,e,r+1)}}}function pG(n,t,e){for(var r=0,i=1/0,o=0,u=void 0,c=n.length;o<c;o++)(u=n[o].getLayout().area)&&(u<i&&(i=u),u>r&&(r=u));var h=n.area*n.area,d=t*t*e;return h?Os(d*r/h,h/(d*i)):1/0}function pN(n,t,e,r,i){var o=t===e.width?0:1,u=1-o,c=["x","y"],h=["width","height"],d=e[c[o]],p=t?n.area/t:0;(i||p>e[h[u]])&&(p=e[h[u]]);for(var g=0,m=n.length;g<m;g++){var y=n[g],S={},b=p?y.getLayout().area/p:0,D=S[h[u]]=Os(p-2*r,0),C=e[c[o]]+e[h[o]]-d,T=g===m-1||C<b?C:b,M=S[h[o]]=Os(T-2*r,0);S[c[u]]=e[c[u]]+Bh(r,D/2),S[c[o]]=d+Bh(r,M/2),d+=T,y.setLayout(S,!0)}e[c[u]]+=p,e[h[u]]-=p}function zh(n,t,e,r,i){var o=n.getLayout(),u=e[i],c=u&&u===n;if(!(u&&!c||i===e.length&&n!==r)){n.setLayout({isInView:!0,invisible:!c&&!t.intersect(o),isAboveViewRoot:c},!0);var h=new Be(t.x-o.x,t.y-o.y,t.width,t.height);$l(n.viewChildren||[],function(d){zh(d,h,e,r,i+1)})}}function vN(n){return n.get(dN)?n.get(fG):0}function gG(n){var t=n.findComponents({mainType:"legend"});!t||!t.length||n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),o=e.getGraph().data,u=r.mapArray(r.getName);o.filterSelf(function(c){var d=o.getItemModel(c).getShallow("category");if(null!=d){ft(d)&&(d=u[d]);for(var p=0;p<t.length;p++)if(!t[p].isSelected(d))return!1}return!0})})}function mG(n){var t={};n.eachSeriesByType("graph",function(e){var r=e.getCategoriesData(),i=e.getData(),o={};r.each(function(u){var c=r.getName(u);o["ec-"+c]=u;var h=r.getItemModel(u),d=h.getModel("itemStyle").getItemStyle();d.fill||(d.fill=e.getColorFromPalette(c,t)),r.setItemVisual(u,"style",d);for(var p=["symbol","symbolSize","symbolKeepAspect"],g=0;g<p.length;g++){var m=h.getShallow(p[g],!0);null!=m&&r.setItemVisual(u,p[g],m)}}),r.count()&&i.each(function(u){var h=i.getItemModel(u).getShallow("category");if(null!=h){fe(h)&&(h=o["ec-"+h]);var d=r.getItemVisual(h,"style");J(i.ensureUniqueItemVisual(u,"style"),d);for(var g=["symbol","symbolSize","symbolKeepAspect"],m=0;m<g.length;m++)i.setItemVisual(u,g[m],r.getItemVisual(h,g[m]))}})})}function Gi(n){return n instanceof Array||(n=[n,n]),n}function gN(n){n.eachSeriesByType("graph",function(t){var e=t.getGraph(),r=t.getEdgeData(),i=Gi(t.get("edgeSymbol")),o=Gi(t.get("edgeSymbolSize"));r.setVisual("fromSymbol",i&&i[0]),r.setVisual("toSymbol",i&&i[1]),r.setVisual("fromSymbolSize",o&&o[0]),r.setVisual("toSymbolSize",o&&o[1]),r.setVisual("style",t.getModel("lineStyle").getLineStyle()),r.each(function(u){var c=r.getItemModel(u),h=e.getEdgeByIndex(u),d=Gi(c.getShallow("symbol",!0)),p=Gi(c.getShallow("symbolSize",!0)),g=c.getModel("lineStyle").getLineStyle(),m=r.ensureUniqueItemVisual(u,"style");switch(J(m,g),m.stroke){case"source":var y=h.node1.getVisual("style");m.stroke=y&&y.fill;break;case"target":y=h.node2.getVisual("style"),m.stroke=y&&y.fill}d[0]&&h.setVisual("fromSymbol",d[0]),d[1]&&h.setVisual("toSymbol",d[1]),p[0]&&h.setVisual("fromSymbolSize",p[0]),p[1]&&h.setVisual("toSymbolSize",p[1])})})}var Za=function(n){return n.get("autoCurveness")||null},mN=function(n,t){var e=Za(n),r=20,i=[];if(ft(e))r=e;else if(te(e))return void(n.__curvenessList=e);t>r&&(r=t);var o=r%2?r+2:r+3;i=[];for(var u=0;u<o;u++)i.push((u%2?u+1:u)/10*(u%2?-1:1));n.__curvenessList=i},Gh=function(n,t,e){var r=[n.id,n.dataIndex].join("."),i=[t.id,t.dataIndex].join(".");return[e.uid,r,i].join("--\x3e")},Vx=function(n){var t=n.split("--\x3e");return[t[0],t[2],t[1]].join("--\x3e")},yG=function(n,t){var e=Gh(n.node1,n.node2,t);return t.__edgeMap[e]},yN=function(n,t){return Bx(Gh(n.node1,n.node2,t),t)+Bx(Gh(n.node2,n.node1,t),t)},Bx=function(n,t){var e=t.__edgeMap;return e[n]?e[n].length:0};function Uh(n,t,e,r){var i=Za(t),o=te(i);if(!i)return null;var u=yG(n,t);if(!u)return null;for(var c=-1,h=0;h<u.length;h++)if(u[h]===e){c=h;break}var d=yN(n,t);mN(t,d),n.lineStyle=n.lineStyle||{};var p=Gh(n.node1,n.node2,t),g=t.__curvenessList,m=o||d%2?0:1;if(u.isForward)return g[m+c];var y=Vx(p),S=Bx(y,t),b=g[c+S+m];return r?o?i&&0===i[0]?(S+m)%2?b:-b:((S%2?0:1)+m)%2?b:-b:(S+m)%2?b:-b:g[c+S+m]}function wc(n){var t=n.coordinateSystem;if(!t||"view"===t.type){var e=n.getGraph();e.eachNode(function(r){var i=r.getModel();r.setLayout([+i.get("x"),+i.get("y")])}),kt(e,n)}}function kt(n,t){n.eachEdge(function(e,r){var i=Ln(e.getModel().get(["lineStyle","curveness"]),-Uh(e,t,r,!0),0),o=no(e.node1.getLayout()),u=no(e.node2.getLayout()),c=[o,u];+i&&c.push([(o[0]+u[0])/2-(o[1]-u[1])*i,(o[1]+u[1])/2-(u[0]-o[0])*i]),e.setLayout(c)})}function Fv(n,t){n.eachSeriesByType("graph",function(e){var r=e.get("layout"),i=e.coordinateSystem;if(i&&"view"!==i.type){var o=e.getData(),u=[];F(i.dimensions,function(m){u=u.concat(o.mapDimensionsAll(m))});for(var c=0;c<o.count();c++){for(var h=[],d=!1,p=0;p<u.length;p++){var g=o.get(u[p],c);isNaN(g)||(d=!0),h.push(g)}o.setItemLayout(c,d?i.dataToPoint(h):[NaN,NaN])}kt(o.graph,e)}else(!r||"none"===r)&&wc(e)})}function Vv(n){var t=n.coordinateSystem;if("view"!==t.type)return 1;var e=n.option.nodeScaleRatio,r=t.scaleX;return((t.getZoom()-1)*e+1)/r}function qa(n){var t=n.getVisual("symbolSize");return t instanceof Array&&(t=(t[0]+t[1])/2),+t}var wN=Math.PI,bc=[];function Bv(n,t,e,r){var i=n.coordinateSystem;if(!i||"view"===i.type){var o=i.getBoundingRect(),u=n.getData(),c=u.graph,h=o.width/2+o.x,d=o.height/2+o.y,p=Math.min(o.width,o.height)/2,g=u.count();if(u.setLayout({cx:h,cy:d}),g){if(e){var m=i.pointToData(r),b=[m[0]-h,m[1]-d];Yc(b,b),Ue(b,b,p),e.setLayout([h+b[0],d+b[1]],!0),zv(e,n.get(["circular","rotateLabel"]),h,d)}_G[t](n,c,u,p,h,d,g),c.eachEdge(function(C,T){var E,M=Ln(C.getModel().get(["lineStyle","curveness"]),Uh(C,n,T),0),I=no(C.node1.getLayout()),L=no(C.node2.getLayout());+M&&(E=[h*(M*=3)+(I[0]+L[0])/2*(1-M),d*M+(I[1]+L[1])/2*(1-M)]),C.setLayout([I,L,E])})}}}var _G={value:function(n,t,e,r,i,o,u){var c=0,h=e.getSum("value"),d=2*Math.PI/(h||u);t.eachNode(function(p){var g=p.getValue("value"),m=d*(h?g:1)/2;c+=m,p.setLayout([r*Math.cos(c)+i,r*Math.sin(c)+o]),c+=m})},symbolSize:function(n,t,e,r,i,o,u){var c=0;bc.length=u;var h=Vv(n);t.eachNode(function(g){var m=qa(g);isNaN(m)&&(m=2),m<0&&(m=0),m*=h;var y=Math.asin(m/2/r);isNaN(y)&&(y=wN/2),bc[g.dataIndex]=y,c+=2*y});var d=(2*wN-c)/u/2,p=0;t.eachNode(function(g){var m=d+bc[g.dataIndex];p+=m,(!g.getLayout()||!g.getLayout().fixed)&&g.setLayout([r*Math.cos(p)+i,r*Math.sin(p)+o]),p+=m})}};function zv(n,t,e,r){var i=n.getGraphicEl();if(i){var u=n.getModel().get(["label","rotate"])||0,c=i.getSymbolPath();if(t){var h=n.getLayout(),d=Math.atan2(h[1]-r,h[0]-e);d<0&&(d=2*Math.PI+d);var p=h[0]<e;p&&(d-=Math.PI);var g=p?"left":"right";c.setTextConfig({rotation:-d,position:g,origin:"center"});var m=c.ensureState("emphasis");J(m.textConfig||(m.textConfig={}),{position:g})}else c.setTextConfig({rotation:u*=Math.PI/180})}}function Hv(n){n.eachSeriesByType("graph",function(t){"circular"===t.get("layout")&&Bv(t,"symbolSize")})}var Dc=hS;function SG(n){n.eachSeriesByType("graph",function(t){var e=t.coordinateSystem;if(!e||"view"===e.type)if("force"===t.get("layout")){var r=t.preservedPoints||{},i=t.getGraph(),o=i.data,u=i.edgeData,c=t.getModel("force"),h=c.get("initLayout");t.preservedPoints?o.each(function(M){var I=o.getId(M);o.setItemLayout(M,r[I]||[NaN,NaN])}):h&&"none"!==h?"circular"===h&&Bv(t,"value"):wc(t);var d=o.getDataExtent("value"),p=u.getDataExtent("value"),g=c.get("repulsion"),m=c.get("edgeLength"),y=te(g)?g:[g,g],S=te(m)?m:[m,m];S=[S[1],S[0]];var b=o.mapArray("value",function(M,I){var L=o.getItemLayout(I),E=Ct(M,d,y);return isNaN(E)&&(E=(y[0]+y[1])/2),{w:E,rep:E,fixed:o.getItemModel(I).get("fixed"),p:!L||isNaN(L[0])||isNaN(L[1])?null:L}}),D=u.mapArray("value",function(M,I){var L=i.getEdgeByIndex(I),E=Ct(M,p,S);isNaN(E)&&(E=(S[0]+S[1])/2);var R=L.getModel(),O=Ln(L.getModel().get(["lineStyle","curveness"]),-Uh(L,t,I,!0),0);return{n1:b[L.node1.dataIndex],n2:b[L.node2.dataIndex],d:E,curveness:O,ignoreForceLayout:R.get("ignoreForceLayout")}}),C=e.getBoundingRect(),T=function X0(n,t,e){for(var r=n,i=t,o=e.rect,u=o.width,c=o.height,h=[o.x+u/2,o.y+c/2],d=null==e.gravity?.1:e.gravity,p=0;p<r.length;p++){var g=r[p];g.p||(g.p=Nn(u*(Math.random()-.5)+h[0],c*(Math.random()-.5)+h[1])),g.pp=no(g.p),g.edges=null}var S,b,m=null==e.friction?.6:e.friction,y=m;return{warmUp:function(){y=.8*m},setFixed:function(D){r[D].fixed=!0},setUnfixed:function(D){r[D].fixed=!1},beforeStep:function(D){S=D},afterStep:function(D){b=D},step:function(D){S&&S(r,i);for(var C=[],T=r.length,M=0;M<i.length;M++){var I=i[M];if(!I.ignoreForceLayout){iu(C,(E=I.n2).p,(L=I.n1).p);var R=Rg(C)-I.d,O=E.w/(L.w+E.w);isNaN(O)&&(O=0),Yc(C,C),!L.fixed&&Dc(L.p,L.p,C,O*R*y),!E.fixed&&Dc(E.p,E.p,C,-(1-O)*R*y)}}for(M=0;M<T;M++)(k=r[M]).fixed||(iu(C,h,k.p),Dc(k.p,k.p,C,d*y));for(M=0;M<T;M++)for(var L=r[M],V=M+1;V<T;V++){var E;iu(C,(E=r[V]).p,L.p),0===(R=Rg(C))&&(ik(C,Math.random()-.5,Math.random()-.5),R=1);var B=(L.rep+E.rep)/R/R;!L.fixed&&Dc(L.pp,L.pp,C,B),!E.fixed&&Dc(E.pp,E.pp,C,-B)}var H=[];for(M=0;M<T;M++){var k;(k=r[M]).fixed||(iu(H,k.p,k.pp),Dc(k.p,k.p,H,y),Nr(k.pp,k.p))}var G=(y*=.992)<.01;b&&b(r,i,G),D&&D(G)}}}(b,D,{rect:C,gravity:c.get("gravity"),friction:c.get("friction")});T.beforeStep(function(M,I){for(var L=0,E=M.length;L<E;L++)M[L].fixed&&Nr(M[L].p,i.getNodeByIndex(L).getLayout())}),T.afterStep(function(M,I,L){for(var E=0,R=M.length;E<R;E++)M[E].fixed||i.getNodeByIndex(E).setLayout(M[E].p),r[o.getId(E)]=M[E].p;for(E=0,R=I.length;E<R;E++){var O=I[E],k=i.getEdgeByIndex(E),V=O.n1.p,B=O.n2.p,H=k.getLayout();(H=H?H.slice():[])[0]=H[0]||[],H[1]=H[1]||[],Nr(H[0],V),Nr(H[1],B),+O.curveness&&(H[2]=[(V[0]+B[0])/2-(V[1]-B[1])*O.curveness,(V[1]+B[1])/2-(B[0]-V[0])*O.curveness]),k.setLayout(H)}}),t.forceLayout=T,t.preservedPoints=r,T.step()}else t.forceLayout=null})}function K0(n,t){var e=[];return n.eachSeriesByType("graph",function(r){var i=r.get("coordinateSystem");if(!i||"view"===i){var o=r.getData(),c=[],h=[];Su(o.mapArray(function(D){var C=o.getItemModel(D);return[+C.get("x"),+C.get("y")]}),c,h),h[0]-c[0]==0&&(h[0]+=1,c[0]-=1),h[1]-c[1]==0&&(h[1]+=1,c[1]-=1);var d=(h[0]-c[0])/(h[1]-c[1]),p=function zx(n,t,e){return An(J(n.getBoxLayoutParams(),{aspect:e}),{width:t.getWidth(),height:t.getHeight()})}(r,t,d);isNaN(d)&&(c=[p.x,p.y],h=[p.x+p.width,p.y+p.height]);var g=h[0]-c[0],m=h[1]-c[1],y=p.width,S=p.height,b=r.coordinateSystem=new gc;b.zoomLimit=r.get("scaleLimit"),b.setBoundingRect(c[0],c[1],g,m),b.setViewRect(p.x,p.y,y,S),b.setCenter(r.get("center"),t),b.setZoom(r.get("zoom")),e.push(b)}}),e}var Hx=Vn.prototype,Q0=$r.prototype,bN=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1};function Gx(n){return isNaN(+n.cpx1)||isNaN(+n.cpy1)}!function(n){q(function t(){return null!==n&&n.apply(this,arguments)||this},n)}(bN);var Ux=function(n){function t(e){var r=n.call(this,e)||this;return r.type="ec-line",r}return q(t,n),t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new bN},t.prototype.buildPath=function(e,r){Gx(r)?Hx.buildPath.call(this,e,r):Q0.buildPath.call(this,e,r)},t.prototype.pointAt=function(e){return Gx(this.shape)?Hx.pointAt.call(this,e):Q0.pointAt.call(this,e)},t.prototype.tangentAt=function(e){var r=this.shape,i=Gx(r)?[r.x2-r.x1,r.y2-r.y1]:Q0.tangentAt.call(this,e);return Yc(i,i)},t}(Ze);const wG=Ux;var jx=["fromSymbol","toSymbol"];function DN(n){return"_"+n+"Type"}function CN(n,t,e){var r=t.getItemVisual(e,n);if(!r||"none"===r)return r;var i=t.getItemVisual(e,n+"Size"),o=t.getItemVisual(e,n+"Rotate"),u=t.getItemVisual(e,n+"Offset"),c=t.getItemVisual(e,n+"KeepAspect"),h=Ju(i);return r+h+Nl(u||0,h)+(o||"")+(c||"")}function xN(n,t,e){var r=t.getItemVisual(e,n);if(r&&"none"!==r){var i=t.getItemVisual(e,n+"Size"),o=t.getItemVisual(e,n+"Rotate"),u=t.getItemVisual(e,n+"Offset"),c=t.getItemVisual(e,n+"KeepAspect"),h=Ju(i),d=Nl(u||0,h),p=dn(r,-h[0]/2+d[0],-h[1]/2+d[1],h[0],h[1],null,c);return p.__specifiedRotation=null==o||isNaN(o)?void 0:+o*Math.PI/180||0,p.name=n,p}}function Wx(n,t){n.x1=t[0][0],n.y1=t[0][1],n.x2=t[1][0],n.y2=t[1][1],n.percent=1;var e=t[2];e?(n.cpx1=e[0],n.cpy1=e[1]):(n.cpx1=NaN,n.cpy1=NaN)}var TN=function(n){function t(e,r,i){var o=n.call(this)||this;return o._createLine(e,r,i),o}return q(t,n),t.prototype._createLine=function(e,r,i){var o=e.hostModel,c=function bG(n){var t=new wG({name:"line",subPixelOptimize:!0});return Wx(t.shape,n),t}(e.getItemLayout(r));c.shape.percent=0,$t(c,{shape:{percent:1}},o,r),this.add(c),F(jx,function(h){var d=xN(h,e,r);this.add(d),this[DN(h)]=CN(h,e,r)},this),this._updateCommonStl(e,r,i)},t.prototype.updateData=function(e,r,i){var o=e.hostModel,u=this.childOfName("line"),c=e.getItemLayout(r),h={shape:{}};Wx(h.shape,c),dt(u,h,o,r),F(jx,function(d){var p=CN(d,e,r),g=DN(d);if(this[g]!==p){this.remove(this.childOfName(d));var m=xN(d,e,r);this.add(m)}this[g]=p},this),this._updateCommonStl(e,r,i)},t.prototype.getLinePath=function(){return this.childAt(0)},t.prototype._updateCommonStl=function(e,r,i){var o=e.hostModel,u=this.childOfName("line"),c=i&&i.emphasisLineStyle,h=i&&i.blurLineStyle,d=i&&i.selectLineStyle,p=i&&i.labelStatesModels,g=i&&i.emphasisDisabled,m=i&&i.focus,y=i&&i.blurScope;if(!i||e.hasItemOption){var S=e.getItemModel(r),b=S.getModel("emphasis");c=b.getModel("lineStyle").getLineStyle(),h=S.getModel(["blur","lineStyle"]).getLineStyle(),d=S.getModel(["select","lineStyle"]).getLineStyle(),g=b.get("disabled"),m=b.get("focus"),y=b.get("blurScope"),p=qn(S)}var D=e.getItemVisual(r,"style"),C=D.stroke;u.useStyle(D),u.style.fill=null,u.style.strokeNoScale=!0,u.ensureState("emphasis").style=c,u.ensureState("blur").style=h,u.ensureState("select").style=d,F(jx,function(E){var R=this.childOfName(E);if(R){R.setColor(C),R.style.opacity=D.opacity;for(var O=0;O<Cr.length;O++){var k=Cr[O],V=u.getState(k);if(V){var B=V.style||{},H=R.ensureState(k),G=H.style||(H.style={});null!=B.stroke&&(G[R.__isEmptyBrush?"stroke":"fill"]=B.stroke),null!=B.opacity&&(G.opacity=B.opacity)}}R.markRedraw()}},this);var T=o.getRawValue(r);xr(this,p,{labelDataIndex:r,labelFetcher:{getFormattedLabel:function(E,R){return o.getFormattedLabel(E,R,e.dataType)}},inheritColor:C||"#000",defaultOpacity:D.opacity,defaultText:(null==T?e.getName(r):isFinite(T)?Kt(T):T)+""});var M=this.getTextContent();if(M){var I=p.normal;M.__align=M.style.align,M.__verticalAlign=M.style.verticalAlign,M.__position=I.get("position")||"middle";var L=I.get("distance");te(L)||(L=[L,L]),M.__labelDistance=L}this.setTextConfig({position:null,local:!0,inside:!1}),nn(this,m,y,g)},t.prototype.highlight=function(){Jo(this)},t.prototype.downplay=function(){es(this)},t.prototype.updateLayout=function(e,r){this.setLinePoints(e.getItemLayout(r))},t.prototype.setLinePoints=function(e){var r=this.childOfName("line");Wx(r.shape,e),r.dirty()},t.prototype.beforeUpdate=function(){var e=this,r=e.childOfName("fromSymbol"),i=e.childOfName("toSymbol"),o=e.getTextContent();if(r||i||o&&!o.ignore){for(var u=1,c=this.parent;c;)c.scaleX&&(u/=c.scaleX),c=c.parent;var h=e.childOfName("line");if(this.__dirty||h.__dirty){var d=h.shape.percent,p=h.pointAt(0),g=h.pointAt(d),m=iu([],g,p);if(Yc(m,m),r&&(r.setPosition(p),y(r,0),r.scaleX=r.scaleY=u*d,r.markRedraw()),i&&(i.setPosition(g),y(i,1),i.scaleX=i.scaleY=u*d,i.markRedraw()),o&&!o.ignore){o.x=o.y=0,o.originX=o.originY=0;var S=void 0,b=void 0,D=o.__labelDistance,C=D[0]*u,T=D[1]*u,M=d/2,I=h.tangentAt(M),L=[I[1],-I[0]],E=h.pointAt(M);L[1]>0&&(L[0]=-L[0],L[1]=-L[1]);var R=I[0]<0?-1:1;if("start"!==o.__position&&"end"!==o.__position){var O=-Math.atan2(I[1],I[0]);g[0]<p[0]&&(O=Math.PI+O),o.rotation=O}var k=void 0;switch(o.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":k=-T,b="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":k=T,b="top";break;default:k=0,b="middle"}switch(o.__position){case"end":o.x=m[0]*C+g[0],o.y=m[1]*T+g[1],S=m[0]>.8?"left":m[0]<-.8?"right":"center",b=m[1]>.8?"top":m[1]<-.8?"bottom":"middle";break;case"start":o.x=-m[0]*C+p[0],o.y=-m[1]*T+p[1],S=m[0]>.8?"right":m[0]<-.8?"left":"center",b=m[1]>.8?"bottom":m[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":o.x=C*R+p[0],o.y=p[1]+k,S=I[0]<0?"right":"left",o.originX=-C*R,o.originY=-k;break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":o.x=E[0],o.y=E[1]+k,S="center",o.originY=-k;break;case"insideEndTop":case"insideEnd":case"insideEndBottom":o.x=-C*R+g[0],o.y=g[1]+k,S=I[0]>=0?"right":"left",o.originX=C*R,o.originY=-k}o.scaleX=o.scaleY=u,o.setStyle({verticalAlign:o.__verticalAlign||b,align:o.__align||S})}}}function y(V,B){var H=V.__specifiedRotation;if(null==H){var G=h.tangentAt(B);V.attr("rotation",(1===B?-1:1)*Math.PI/2-Math.atan2(G[1],G[0]))}else V.attr("rotation",H)}},t}(Ee);const J0=TN;var DG=function(){function n(t){this.group=new Ee,this._LineCtor=t||J0}return n.prototype.updateData=function(t){var e=this;this._progressiveEls=null;var r=this,i=r.group,o=r._lineData;r._lineData=t,o||i.removeAll();var u=MN(t);t.diff(o).add(function(c){e._doAdd(t,c,u)}).update(function(c,h){e._doUpdate(o,t,h,c,u)}).remove(function(c){i.remove(o.getItemGraphicEl(c))}).execute()},n.prototype.updateLayout=function(){var t=this._lineData;t&&t.eachItemGraphicEl(function(e,r){e.updateLayout(t,r)},this)},n.prototype.incrementalPrepareUpdate=function(t){this._seriesScope=MN(t),this._lineData=null,this.group.removeAll()},n.prototype.incrementalUpdate=function(t,e){function r(c){!c.isGroup&&!function Cc(n){return n.animators&&n.animators.length>0}(c)&&(c.incremental=!0,c.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[];for(var i=t.start;i<t.end;i++)if(e_(e.getItemLayout(i))){var u=new this._LineCtor(e,i,this._seriesScope);u.traverse(r),this.group.add(u),e.setItemGraphicEl(i,u),this._progressiveEls.push(u)}},n.prototype.remove=function(){this.group.removeAll()},n.prototype.eachRendered=function(t){ms(this._progressiveEls||this.group,t)},n.prototype._doAdd=function(t,e,r){if(e_(t.getItemLayout(e))){var o=new this._LineCtor(t,e,r);t.setItemGraphicEl(e,o),this.group.add(o)}},n.prototype._doUpdate=function(t,e,r,i,o){var u=t.getItemGraphicEl(r);e_(e.getItemLayout(i))?(u?u.updateData(e,i,o):u=new this._LineCtor(e,i,o),e.setItemGraphicEl(i,u),this.group.add(u)):this.group.remove(u)},n}();function MN(n){var t=n.hostModel,e=t.getModel("emphasis");return{lineStyle:t.getModel("lineStyle").getLineStyle(),emphasisLineStyle:e.getModel(["lineStyle"]).getLineStyle(),blurLineStyle:t.getModel(["blur","lineStyle"]).getLineStyle(),selectLineStyle:t.getModel(["select","lineStyle"]).getLineStyle(),emphasisDisabled:e.get("disabled"),blurScope:e.get("blurScope"),focus:e.get("focus"),labelStatesModels:qn(t)}}function $x(n){return isNaN(n[0])||isNaN(n[1])}function e_(n){return n&&!$x(n[0])&&!$x(n[1])}const jh=DG;var xc=[],Gv=[],t_=[],Tc=en,Yx=au,Uv=Math.abs;function AN(n,t,e){for(var c,r=n[0],i=n[1],o=n[2],u=1/0,h=e*e,d=.1,p=.1;p<=.9;p+=.1)xc[0]=Tc(r[0],i[0],o[0],p),xc[1]=Tc(r[1],i[1],o[1],p),(g=Uv(Yx(xc,t)-h))<u&&(u=g,c=p);for(var m=0;m<32;m++){var y=c+d;Gv[0]=Tc(r[0],i[0],o[0],c),Gv[1]=Tc(r[1],i[1],o[1],c),t_[0]=Tc(r[0],i[0],o[0],y),t_[1]=Tc(r[1],i[1],o[1],y);var g=Yx(Gv,t)-h;if(Uv(g)<.01)break;var S=Yx(t_,t)-h;d/=2,g<0?S>=0?c+=d:c-=d:S>=0?c-=d:c+=d}return c}function Zx(n,t){var e=[],r=Jc,i=[[],[],[]],o=[[],[]],u=[];t/=2,n.eachEdge(function(c,h){var d=c.getLayout(),p=c.getVisual("fromSymbol"),g=c.getVisual("toSymbol");d.__original||(d.__original=[no(d[0]),no(d[1])],d[2]&&d.__original.push(no(d[2])));var m=d.__original;if(null!=d[2]){if(Nr(i[0],m[0]),Nr(i[1],m[2]),Nr(i[2],m[1]),p&&"none"!==p){var y=qa(c.node1),S=AN(i,m[0],y*t);r(i[0][0],i[1][0],i[2][0],S,e),i[0][0]=e[3],i[1][0]=e[4],r(i[0][1],i[1][1],i[2][1],S,e),i[0][1]=e[3],i[1][1]=e[4]}g&&"none"!==g&&(y=qa(c.node2),S=AN(i,m[1],y*t),r(i[0][0],i[1][0],i[2][0],S,e),i[1][0]=e[1],i[2][0]=e[2],r(i[0][1],i[1][1],i[2][1],S,e),i[1][1]=e[1],i[2][1]=e[2]),Nr(d[0],i[0]),Nr(d[1],i[2]),Nr(d[2],i[1])}else Nr(o[0],m[0]),Nr(o[1],m[1]),iu(u,o[1],o[0]),Yc(u,u),p&&"none"!==p&&(y=qa(c.node1),hS(o[0],o[0],u,y*t)),g&&"none"!==g&&(y=qa(c.node2),hS(o[1],o[1],u,-y*t)),Nr(d[0],o[0]),Nr(d[1],o[1])})}function IN(n){return"view"===n.type}var EN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e,r){var i=new gv,o=new jh,u=this.group;this._controller=new k0(r.getZr()),this._controllerHost={target:u},u.add(i.group),u.add(o.group),this._symbolDraw=i,this._lineDraw=o,this._firstRender=!0},t.prototype.render=function(e,r,i){var o=this,u=e.coordinateSystem;this._model=e;var c=this._symbolDraw,h=this._lineDraw,d=this.group;if(IN(u)){var p={x:u.x,y:u.y,scaleX:u.scaleX,scaleY:u.scaleY};this._firstRender?d.attr(p):dt(d,p,e)}Zx(e.getGraph(),Vv(e));var g=e.getData();c.updateData(g);var m=e.getEdgeData();h.updateData(m),this._updateNodeAndLinkScale(),this._updateController(e,r,i),clearTimeout(this._layoutTimeout);var y=e.forceLayout,S=e.get(["force","layoutAnimation"]);y&&this._startForceLayoutIteration(y,S);var b=e.get("layout");g.graph.eachNode(function(M){var I=M.dataIndex,L=M.getGraphicEl(),E=M.getModel();if(L){L.off("drag").off("dragend");var R=E.get("draggable");R&&L.on("drag",function(k){switch(b){case"force":y.warmUp(),!o._layouting&&o._startForceLayoutIteration(y,S),y.setFixed(I),g.setItemLayout(I,[L.x,L.y]);break;case"circular":g.setItemLayout(I,[L.x,L.y]),M.setLayout({fixed:!0},!0),Bv(e,"symbolSize",M,[k.offsetX,k.offsetY]),o.updateLayout(e);break;default:g.setItemLayout(I,[L.x,L.y]),kt(e.getGraph(),e),o.updateLayout(e)}}).on("dragend",function(){y&&y.setUnfixed(I)}),L.setDraggable(R,!!E.get("cursor")),"adjacency"===E.get(["emphasis","focus"])&&(Oe(L).focus=M.getAdjacentDataIndices())}}),g.graph.eachEdge(function(M){var I=M.getGraphicEl(),L=M.getModel().get(["emphasis","focus"]);I&&"adjacency"===L&&(Oe(I).focus={edge:[M.dataIndex],node:[M.node1.dataIndex,M.node2.dataIndex]})});var D="circular"===e.get("layout")&&e.get(["circular","rotateLabel"]),C=g.getLayout("cx"),T=g.getLayout("cy");g.graph.eachNode(function(M){zv(M,D,C,T)}),this._firstRender=!1},t.prototype.dispose=function(){this._controller&&this._controller.dispose(),this._controllerHost=null},t.prototype._startForceLayoutIteration=function(e,r){var i=this;!function o(){e.step(function(u){i.updateLayout(i._model),(i._layouting=!u)&&(r?i._layoutTimeout=setTimeout(o,16):o())})}()},t.prototype._updateController=function(e,r,i){var o=this,u=this._controller,c=this._controllerHost,h=this.group;u.setPointerChecker(function(d,p,g){var m=h.getBoundingRect();return m.applyTransform(h.transform),m.contain(p,g)&&!ix(d,i,e)}),IN(e.coordinateSystem)?(u.enable(e.get("roam")),c.zoomLimit=e.get("scaleLimit"),c.zoom=e.coordinateSystem.getZoom(),u.off("pan").off("zoom").on("pan",function(d){_R(c,d.dx,d.dy),i.dispatchAction({seriesId:e.id,type:"graphRoam",dx:d.dx,dy:d.dy})}).on("zoom",function(d){SR(c,d.scale,d.originX,d.originY),i.dispatchAction({seriesId:e.id,type:"graphRoam",zoom:d.scale,originX:d.originX,originY:d.originY}),o._updateNodeAndLinkScale(),Zx(e.getGraph(),Vv(e)),o._lineDraw.updateLayout(),i.updateLabelLayout()})):u.disable()},t.prototype._updateNodeAndLinkScale=function(){var e=this._model,r=e.getData(),i=Vv(e);r.eachItemGraphicEl(function(o,u){o&&o.setSymbolScale(i)})},t.prototype.updateLayout=function(e){Zx(e.getGraph(),Vv(e)),this._symbolDraw.updateLayout(),this._lineDraw.updateLayout()},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(),this._lineDraw&&this._lineDraw.remove()},t.type="graph",t}(Mt);const jv=EN;function Wh(n){return"_EC_"+n}var qx=function(){function n(t){this.type="graph",this.nodes=[],this.edges=[],this._nodesMap={},this._edgesMap={},this._directed=t||!1}return n.prototype.isDirected=function(){return this._directed},n.prototype.addNode=function(t,e){var r=this._nodesMap;if(!r[Wh(t=null==t?""+e:""+t)]){var i=new Mc(t,e);return i.hostGraph=this,this.nodes.push(i),r[Wh(t)]=i,i}},n.prototype.getNodeByIndex=function(t){var e=this.data.getRawIndex(t);return this.nodes[e]},n.prototype.getNodeById=function(t){return this._nodesMap[Wh(t)]},n.prototype.addEdge=function(t,e,r){var i=this._nodesMap,o=this._edgesMap;if(ft(t)&&(t=this.nodes[t]),ft(e)&&(e=this.nodes[e]),t instanceof Mc||(t=i[Wh(t)]),e instanceof Mc||(e=i[Wh(e)]),t&&e){var u=t.id+"-"+e.id,c=new Xx(t,e,r);return c.hostGraph=this,this._directed&&(t.outEdges.push(c),e.inEdges.push(c)),t.edges.push(c),t!==e&&e.edges.push(c),this.edges.push(c),o[u]=c,c}},n.prototype.getEdgeByIndex=function(t){var e=this.edgeData.getRawIndex(t);return this.edges[e]},n.prototype.getEdge=function(t,e){t instanceof Mc&&(t=t.id),e instanceof Mc&&(e=e.id);var r=this._edgesMap;return this._directed?r[t+"-"+e]:r[t+"-"+e]||r[e+"-"+t]},n.prototype.eachNode=function(t,e){for(var r=this.nodes,i=r.length,o=0;o<i;o++)r[o].dataIndex>=0&&t.call(e,r[o],o)},n.prototype.eachEdge=function(t,e){for(var r=this.edges,i=r.length,o=0;o<i;o++)r[o].dataIndex>=0&&r[o].node1.dataIndex>=0&&r[o].node2.dataIndex>=0&&t.call(e,r[o],o)},n.prototype.breadthFirstTraverse=function(t,e,r,i){if(e instanceof Mc||(e=this._nodesMap[Wh(e)]),e){for(var o="out"===r?"outEdges":"in"===r?"inEdges":"edges",u=0;u<this.nodes.length;u++)this.nodes[u].__visited=!1;if(!t.call(i,e,null))for(var c=[e];c.length;){var h=c.shift(),d=h[o];for(u=0;u<d.length;u++){var p=d[u],g=p.node1===h?p.node2:p.node1;if(!g.__visited){if(t.call(i,g,h))return;c.push(g),g.__visited=!0}}}}},n.prototype.update=function(){for(var t=this.data,e=this.edgeData,r=this.nodes,i=this.edges,o=0,u=r.length;o<u;o++)r[o].dataIndex=-1;for(o=0,u=t.count();o<u;o++)r[t.getRawIndex(o)].dataIndex=o;for(e.filterSelf(function(c){var h=i[e.getRawIndex(c)];return h.node1.dataIndex>=0&&h.node2.dataIndex>=0}),o=0,u=i.length;o<u;o++)i[o].dataIndex=-1;for(o=0,u=e.count();o<u;o++)i[e.getRawIndex(o)].dataIndex=o},n.prototype.clone=function(){for(var t=new n(this._directed),e=this.nodes,r=this.edges,i=0;i<e.length;i++)t.addNode(e[i].id,e[i].dataIndex);for(i=0;i<r.length;i++){var o=r[i];t.addEdge(o.node1.id,o.node2.id,o.dataIndex)}return t},n}(),Mc=function(){function n(t,e){this.inEdges=[],this.outEdges=[],this.edges=[],this.dataIndex=-1,this.id=t??"",this.dataIndex=e??-1}return n.prototype.degree=function(){return this.edges.length},n.prototype.inDegree=function(){return this.inEdges.length},n.prototype.outDegree=function(){return this.outEdges.length},n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.data.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){for(var t={edge:[],node:[]},e=0;e<this.edges.length;e++){var r=this.edges[e];r.dataIndex<0||(t.edge.push(r.dataIndex),t.node.push(r.node1.dataIndex,r.node2.dataIndex))}return t},n.prototype.getTrajectoryDataIndices=function(){for(var t=ve(),e=ve(),r=0;r<this.edges.length;r++){var i=this.edges[r];if(!(i.dataIndex<0)){t.set(i.dataIndex,!0);for(var o=[i.node1],u=[i.node2],c=0;c<o.length;){var h=o[c];c++,e.set(h.dataIndex,!0);for(var d=0;d<h.inEdges.length;d++)t.set(h.inEdges[d].dataIndex,!0),o.push(h.inEdges[d].node1)}for(c=0;c<u.length;){var p=u[c];for(c++,e.set(p.dataIndex,!0),d=0;d<p.outEdges.length;d++)t.set(p.outEdges[d].dataIndex,!0),u.push(p.outEdges[d].node2)}}}return{edge:t.keys(),node:e.keys()}},n}(),Xx=function(){function n(t,e,r){this.dataIndex=-1,this.node1=t,this.node2=e,this.dataIndex=r??-1}return n.prototype.getModel=function(t){if(!(this.dataIndex<0))return this.hostGraph.edgeData.getItemModel(this.dataIndex).getModel(t)},n.prototype.getAdjacentDataIndices=function(){return{edge:[this.dataIndex],node:[this.node1.dataIndex,this.node2.dataIndex]}},n.prototype.getTrajectoryDataIndices=function(){var t=ve(),e=ve();t.set(this.dataIndex,!0);for(var r=[this.node1],i=[this.node2],o=0;o<r.length;){var u=r[o];o++,e.set(u.dataIndex,!0);for(var c=0;c<u.inEdges.length;c++)t.set(u.inEdges[c].dataIndex,!0),r.push(u.inEdges[c].node1)}for(o=0;o<i.length;){var h=i[o];for(o++,e.set(h.dataIndex,!0),c=0;c<h.outEdges.length;c++)t.set(h.outEdges[c].dataIndex,!0),i.push(h.outEdges[c].node2)}return{edge:t.keys(),node:e.keys()}},n}();function Kx(n,t){return{getValue:function(e){var r=this[n][t];return r.getStore().get(r.getDimensionIndex(e||"value"),this.dataIndex)},setVisual:function(e,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,e,r)},getVisual:function(e){return this[n][t].getItemVisual(this.dataIndex,e)},setLayout:function(e,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,e,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}}un(Mc,Kx("hostGraph","data")),un(Xx,Kx("hostGraph","edgeData"));const Wv=qx;function Xa(n,t,e,r,i){for(var o=new Wv(r),u=0;u<n.length;u++)o.addNode(bt(n[u].id,n[u].name,u),u);var c=[],h=[],d=0;for(u=0;u<t.length;u++){var p=t[u],g=p.source,m=p.target;o.addEdge(g,m,d)&&(h.push(p),c.push(bt(rn(p.id,null),g+" > "+m)),d++)}var S,y=e.get("coordinateSystem");if("cartesian2d"===y||"polar"===y)S=Ua(n,e);else{var b=zf.get(y),D=b&&b.dimensions||[];Ge(D,"value")<0&&D.concat(["value"]);var C=hh(n,{coordDimensions:D,encodeDefine:e.getEncode()}).dimensions;(S=new on(C,e)).initData(n)}var T=new on(["value"],e);return T.initData(h,c),i&&i(S,T),$H({mainData:S,struct:o,structAttr:"graph",datas:{node:S,edge:T},datasAttr:{node:"data",edge:"edgeData"}}),o.update(),o}var n_=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments);var r=this;function i(){return r._categoriesData}this.legendVisualProvider=new Dv(i,i),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this.fillDataTextStyle(e.edges||e.links),this._updateCategoriesData()},t.prototype.mergeDefaultAndTheme=function(e){n.prototype.mergeDefaultAndTheme.apply(this,arguments),ta(e,"edgeLabel",["show"])},t.prototype.getInitialData=function(e,r){var i=e.edges||e.links||[],o=e.data||e.nodes||[],u=this;if(o&&i){!function _N(n){Za(n)&&(n.__curvenessList=[],n.__edgeMap={},mN(n))}(this);var c=Xa(o,i,this,!0,function h(d,p){d.wrapMethod("getItemModel",function(S){var C=u._categoriesModels[S.getShallow("category")];return C&&(C.parentModel=S.parentModel,S.parentModel=C),S});var g=Rt.prototype.getModel;function m(S,b){var D=g.call(this,S,b);return D.resolveParentPath=y,D}function y(S){if(S&&("label"===S[0]||"label"===S[1])){var b=S.slice();return"label"===S[0]?b[0]="edgeLabel":"label"===S[1]&&(b[1]="edgeLabel"),b}return S}p.wrapMethod("getItemModel",function(S){return S.resolveParentPath=y,S.getModel=m,S})});return F(c.edges,function(d){!function SN(n,t,e,r){if(Za(e)){var i=Gh(n,t,e),o=e.__edgeMap,u=o[Vx(i)];o[i]&&!u?o[i].isForward=!0:u&&o[i]&&(u.isForward=!0,o[i].isForward=!1),o[i]=o[i]||[],o[i].push(r)}}(d.node1,d.node2,this,d.dataIndex)},this),c.data}},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.getCategoriesData=function(){return this._categoriesData},t.prototype.formatTooltip=function(e,r,i){if("edge"===i){var o=this.getData(),u=this.getDataParams(e,i),c=o.graph.getEdgeByIndex(e),h=o.getName(c.node1.dataIndex),d=o.getName(c.node2.dataIndex),p=[];return null!=h&&p.push(h),null!=d&&p.push(d),hn("nameValue",{name:p.join(" > "),value:u.value,noValue:null==u.value})}return BI({series:this,dataIndex:e,multipleSeries:r})},t.prototype._updateCategoriesData=function(){var e=re(this.option.categories||[],function(i){return null!=i.value?i:J({value:0},i)}),r=new on(["value"],this);r.initData(e),this._categoriesData=r,this._categoriesModels=r.mapArray(function(i){return r.getItemModel(i)})},t.prototype.setZoom=function(e){this.option.zoom=e},t.prototype.setCenter=function(e){this.option.center=e},t.prototype.isAnimationEnabled=function(){return n.prototype.isAnimationEnabled.call(this)&&!("force"===this.get("layout")&&this.get(["force","layoutAnimation"]))},t.type="series.graph",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={z:2,coordinateSystem:"view",legendHoverLink:!0,layout:null,circular:{rotateLabel:!1},force:{initLayout:null,repulsion:[0,50],gravity:.1,friction:.6,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,edgeSymbol:["none","none"],edgeSymbolSize:10,edgeLabel:{position:"middle",distance:5},draggable:!1,roam:!1,center:null,zoom:1,nodeScaleRatio:.6,label:{show:!1,formatter:"{b}"},itemStyle:{},lineStyle:{color:"#aaa",width:1,opacity:.5},emphasis:{scale:!0,label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Nt);const Yl=n_;var $v={type:"graphRoam",event:"graphRoam",update:"none"},r_=function n(){this.angle=0,this.width=10,this.r=10,this.x=0,this.y=0},PN=function(n){function t(e){var r=n.call(this,e)||this;return r.type="pointer",r}return q(t,n),t.prototype.getDefaultShape=function(){return new r_},t.prototype.buildPath=function(e,r){var i=Math.cos,o=Math.sin,u=r.r,c=r.width,h=r.angle,d=r.x-i(h)*c*(c>=u/3?1:2),p=r.y-o(h)*c*(c>=u/3?1:2);h=r.angle-Math.PI/2,e.moveTo(d,p),e.lineTo(r.x+i(h)*c,r.y+o(h)*c),e.lineTo(r.x+i(r.angle)*u,r.y+o(r.angle)*u),e.lineTo(r.x-i(h)*c,r.y-o(h)*c),e.lineTo(d,p)},t}(Ze);const CG=PN;function i_(n,t){var e=null==n?"":n+"";return t&&(fe(t)?e=t.replace("{value}",e):_e(t)&&(e=t(n))),e}var TG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){this.group.removeAll();var o=e.get(["axisLine","lineStyle","color"]),u=function xG(n,t){var e=n.get("center"),r=t.getWidth(),i=t.getHeight(),o=Math.min(r,i);return{cx:le(e[0],t.getWidth()),cy:le(e[1],t.getHeight()),r:le(n.get("radius"),o/2)}}(e,i);this._renderMain(e,r,i,o,u),this._data=e.getData()},t.prototype.dispose=function(){},t.prototype._renderMain=function(e,r,i,o,u){var c=this.group,h=e.get("clockwise"),d=-e.get("startAngle")/180*Math.PI,p=-e.get("endAngle")/180*Math.PI,g=e.getModel("axisLine"),y=g.get("roundCap")?wi:jr,S=g.get("show"),b=g.getModel("lineStyle"),D=b.get("width"),C=[d,p];Wk(C,!h);for(var T=(p=C[1])-(d=C[0]),M=d,I=[],L=0;S&&L<o.length;L++){var R=new y({shape:{startAngle:M,endAngle:p=d+T*Math.min(Math.max(o[L][0],0),1),cx:u.cx,cy:u.cy,clockwise:h,r0:u.r-D,r:u.r},silent:!0});R.setStyle({fill:o[L][1]}),R.setStyle(b.getLineStyle(["color","width"])),I.push(R),M=p}I.reverse(),F(I,function(k){return c.add(k)});var O=function(k){if(k<=0)return o[0][1];var V;for(V=0;V<o.length;V++)if(o[V][0]>=k&&(0===V?0:o[V-1][0])<k)return o[V][1];return o[V-1][1]};this._renderTicks(e,r,i,O,u,d,p,h,D),this._renderTitleAndDetail(e,r,i,O,u),this._renderAnchor(e,u),this._renderPointer(e,r,i,O,u,d,p,h,D)},t.prototype._renderTicks=function(e,r,i,o,u,c,h,d,p){for(var j,W,g=this.group,m=u.cx,y=u.cy,S=u.r,b=+e.get("min"),D=+e.get("max"),C=e.getModel("splitLine"),T=e.getModel("axisTick"),M=e.getModel("axisLabel"),I=e.get("splitNumber"),L=T.get("splitNumber"),E=le(C.get("length"),S),R=le(T.get("length"),S),O=c,k=(h-c)/I,V=k/L,B=C.getModel("lineStyle").getLineStyle(),H=T.getModel("lineStyle").getLineStyle(),G=C.get("distance"),Y=0;Y<=I;Y++){if(j=Math.cos(O),W=Math.sin(O),C.get("show")){var X=new Vn({shape:{x1:j*(S-(K=G?G+p:p))+m,y1:W*(S-K)+y,x2:j*(S-E-K)+m,y2:W*(S-E-K)+y},style:B,silent:!0});"auto"===B.stroke&&X.setStyle({stroke:o(Y/I)}),g.add(X)}if(M.get("show")){var K=M.get("distance")+G,ee=i_(Kt(Y/I*(D-b)+b),M.get("formatter")),oe=o(Y/I),he=j*(S-E-K)+m,me=W*(S-E-K)+y,Ie=M.get("rotate"),Me=0;"radial"===Ie?(Me=-O+2*Math.PI)>Math.PI/2&&(Me+=Math.PI):"tangential"===Ie?Me=-O-Math.PI/2:ft(Ie)&&(Me=Ie*Math.PI/180),g.add(new rt(0===Me?{style:Et(M,{text:ee,x:he,y:me,verticalAlign:W<-.8?"top":W>.8?"bottom":"middle",align:j<-.4?"left":j>.4?"right":"center"},{inheritColor:oe}),silent:!0}:{style:Et(M,{text:ee,x:he,y:me,verticalAlign:"middle",align:"center"},{inheritColor:oe}),silent:!0,originX:he,originY:me,rotation:Me}))}if(T.get("show")&&Y!==I){K=(K=T.get("distance"))?K+p:p;for(var qe=0;qe<=L;qe++){j=Math.cos(O),W=Math.sin(O);var ut=new Vn({shape:{x1:j*(S-K)+m,y1:W*(S-K)+y,x2:j*(S-R-K)+m,y2:W*(S-R-K)+y},silent:!0,style:H});"auto"===H.stroke&&ut.setStyle({stroke:o((Y+qe/L)/I)}),g.add(ut),O+=V}O-=V}else O+=k}},t.prototype._renderPointer=function(e,r,i,o,u,c,h,d,p){var g=this.group,m=this._data,y=this._progressEls,S=[],b=e.get(["pointer","show"]),D=e.getModel("progress"),C=D.get("show"),T=e.getData(),M=T.mapDimension("value"),I=+e.get("min"),L=+e.get("max"),E=[I,L],R=[c,h];function O(V,B){var he,G=T.getItemModel(V).getModel("pointer"),j=le(G.get("width"),u.r),W=le(G.get("length"),u.r),Y=e.get(["pointer","icon"]),K=G.get("offsetCenter"),X=le(K[0],u.r),ee=le(K[1],u.r),oe=G.get("keepAspect");return(he=Y?dn(Y,X-j/2,ee-W,j,W,null,oe):new CG({shape:{angle:-Math.PI/2,width:j,r:W,x:X,y:ee}})).rotation=-(B+Math.PI/2),he.x=u.cx,he.y=u.cy,he}function k(V,B){var G=D.get("roundCap")?wi:jr,j=D.get("overlap"),W=j?D.get("width"):p/T.count(),X=new G({shape:{startAngle:c,endAngle:B,cx:u.cx,cy:u.cy,clockwise:d,r0:j?u.r-W:u.r-(V+1)*W,r:j?u.r:u.r-V*W}});return j&&(X.z2=L-T.get(M,V)%L),X}(C||b)&&(T.diff(m).add(function(V){var B=T.get(M,V);if(b){var H=O(V,c);$t(H,{rotation:-((isNaN(+B)?R[0]:Ct(B,E,R,!0))+Math.PI/2)},e),g.add(H),T.setItemGraphicEl(V,H)}if(C){var G=k(V,c),j=D.get("clip");$t(G,{shape:{endAngle:Ct(B,E,R,j)}},e),g.add(G),Hd(e.seriesIndex,T.dataType,V,G),S[V]=G}}).update(function(V,B){var H=T.get(M,V);if(b){var G=m.getItemGraphicEl(B),j=G?G.rotation:c,W=O(V,j);W.rotation=j,dt(W,{rotation:-((isNaN(+H)?R[0]:Ct(H,E,R,!0))+Math.PI/2)},e),g.add(W),T.setItemGraphicEl(V,W)}if(C){var Y=y[B],X=k(V,Y?Y.shape.endAngle:c),ee=D.get("clip");dt(X,{shape:{endAngle:Ct(H,E,R,ee)}},e),g.add(X),Hd(e.seriesIndex,T.dataType,V,X),S[V]=X}}).execute(),T.each(function(V){var B=T.getItemModel(V),H=B.getModel("emphasis"),G=H.get("focus"),j=H.get("blurScope"),W=H.get("disabled");if(b){var Y=T.getItemGraphicEl(V),K=T.getItemVisual(V,"style"),X=K.fill;if(Y instanceof Zn){var ee=Y.style;Y.useStyle(J({image:ee.image,x:ee.x,y:ee.y,width:ee.width,height:ee.height},K))}else Y.useStyle(K),"pointer"!==Y.type&&Y.setColor(X);Y.setStyle(B.getModel(["pointer","itemStyle"]).getItemStyle()),"auto"===Y.style.fill&&Y.setStyle("fill",o(Ct(T.get(M,V),E,[0,1],!0))),Y.z2EmphasisLift=0,lr(Y,B),nn(Y,G,j,W)}if(C){var oe=S[V];oe.useStyle(T.getItemVisual(V,"style")),oe.setStyle(B.getModel(["progress","itemStyle"]).getItemStyle()),oe.z2EmphasisLift=0,lr(oe,B),nn(oe,G,j,W)}}),this._progressEls=S)},t.prototype._renderAnchor=function(e,r){var i=e.getModel("anchor");if(i.get("show")){var u=i.get("size"),c=i.get("icon"),h=i.get("offsetCenter"),d=i.get("keepAspect"),p=dn(c,r.cx-u/2+le(h[0],r.r),r.cy-u/2+le(h[1],r.r),u,u,null,d);p.z2=i.get("showAbove")?1:0,p.setStyle(i.getModel("itemStyle").getItemStyle()),this.group.add(p)}},t.prototype._renderTitleAndDetail=function(e,r,i,o,u){var c=this,h=e.getData(),d=h.mapDimension("value"),p=+e.get("min"),g=+e.get("max"),m=new Ee,y=[],S=[],b=e.isAnimationEnabled(),D=e.get(["pointer","showAbove"]);h.diff(this._data).add(function(C){y[C]=new rt({silent:!0}),S[C]=new rt({silent:!0})}).update(function(C,T){y[C]=c._titleEls[T],S[C]=c._detailEls[T]}).execute(),h.each(function(C){var T=h.getItemModel(C),M=h.get(d,C),I=new Ee,L=o(Ct(M,[p,g],[0,1],!0)),E=T.getModel("title");if(E.get("show")){var R=E.get("offsetCenter"),O=u.cx+le(R[0],u.r),k=u.cy+le(R[1],u.r);(V=y[C]).attr({z2:D?0:2,style:Et(E,{x:O,y:k,text:h.getName(C),align:"center",verticalAlign:"middle"},{inheritColor:L})}),I.add(V)}var B=T.getModel("detail");if(B.get("show")){var H=B.get("offsetCenter"),G=u.cx+le(H[0],u.r),j=u.cy+le(H[1],u.r),W=le(B.get("width"),u.r),Y=le(B.get("height"),u.r),K=e.get(["progress","show"])?h.getItemVisual(C,"style").fill:L,V=S[C],X=B.get("formatter");V.attr({z2:D?0:2,style:Et(B,{x:G,y:j,text:i_(M,X),width:isNaN(W)?null:W,height:isNaN(Y)?null:Y,align:"center",verticalAlign:"middle"},{inheritColor:K})}),Kd(V,{normal:B},M,function(oe){return i_(oe,X)}),b&&OA(V,C,h,e,{getFormattedLabel:function(oe,he,me,Ie,Me,qe){return i_(qe?qe.interpolatedValue:M,X)}}),I.add(V)}m.add(I)}),this.group.add(m),this._titleEls=y,this._detailEls=S},t.type="gauge",t}(Mt);const MG=TG;var AG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="itemStyle",e}return q(t,n),t.prototype.getInitialData=function(e,r){return Ih(this,["value"])},t.type="series.gauge",t.defaultOption={z:2,colorBy:"data",center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,roundCap:!1,lineStyle:{color:[[1,"#E6EBF8"]],width:10}},progress:{show:!1,overlap:!0,width:10,roundCap:!1,clip:!0},splitLine:{show:!0,length:10,distance:10,lineStyle:{color:"#63677A",width:3,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:6,distance:10,lineStyle:{color:"#63677A",width:1,type:"solid"}},axisLabel:{show:!0,distance:15,color:"#464646",fontSize:12,rotate:0},pointer:{icon:null,offsetCenter:[0,0],show:!0,showAbove:!0,length:"60%",width:6,keepAspect:!1},anchor:{show:!1,showAbove:!1,size:6,icon:"circle",offsetCenter:[0,0],keepAspect:!1,itemStyle:{color:"#fff",borderWidth:0,borderColor:"#5470c6"}},title:{show:!0,offsetCenter:[0,"20%"],color:"#464646",fontSize:16,valueAnimation:!1},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:null,padding:[5,10],offsetCenter:[0,"40%"],color:"#464646",fontSize:30,fontWeight:"bold",lineHeight:30,valueAnimation:!1}},t}(Nt);const IG=AG;var PG=["itemStyle","opacity"],LG=function(n){function t(e,r){var i=n.call(this)||this,o=i,u=new Wr,c=new rt;return o.setTextContent(c),i.setTextGuideLine(u),i.updateData(e,r,!0),i}return q(t,n),t.prototype.updateData=function(e,r,i){var o=this,u=e.hostModel,c=e.getItemModel(r),h=e.getItemLayout(r),d=c.getModel("emphasis"),p=c.get(PG);p=p??1,i||zr(o),o.useStyle(e.getItemVisual(r,"style")),o.style.lineJoin="round",i?(o.setShape({points:h.points}),o.style.opacity=0,$t(o,{style:{opacity:p}},u,r)):dt(o,{style:{opacity:p},shape:{points:h.points}},u,r),lr(o,c),this._updateLabel(e,r),nn(this,d.get("focus"),d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(e,r){var i=this,o=this.getTextGuideLine(),u=i.getTextContent(),c=e.hostModel,h=e.getItemModel(r),p=e.getItemLayout(r).label,g=e.getItemVisual(r,"style"),m=g.fill;xr(u,qn(h),{labelFetcher:e.hostModel,labelDataIndex:r,defaultOpacity:g.opacity,defaultText:e.getName(r)},{normal:{align:p.textAlign,verticalAlign:p.verticalAlign}}),i.setTextConfig({local:!0,inside:!!p.inside,insideStroke:m,outsideFill:m});var y=p.linePoints;o.setShape({points:y}),i.textGuideLineConfig={anchor:y?new ze(y[0][0],y[0][1]):null},dt(u,{style:{x:p.x,y:p.y}},c,r),u.attr({rotation:p.rotation,originX:p.x,originY:p.y,z2:10}),cC(i,a0(h),{stroke:m})},t}(dr),LN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreLabelLineUpdate=!0,e}return q(t,n),t.prototype.render=function(e,r,i){var o=e.getData(),u=this._data,c=this.group;o.diff(u).add(function(h){var d=new LG(o,h);o.setItemGraphicEl(h,d),c.add(d)}).update(function(h,d){var p=u.getItemGraphicEl(d);p.updateData(o,h),c.add(p),o.setItemGraphicEl(h,p)}).remove(function(h){Pi(u.getItemGraphicEl(h),e,h)}).execute(),this._data=o},t.prototype.remove=function(){this.group.removeAll(),this._data=null},t.prototype.dispose=function(){},t.type="funnel",t}(Mt);const Qx=LN;var Jx=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Dv(de(this.getData,this),de(this.getRawData,this)),this._defaultLabelLine(e)},t.prototype.getInitialData=function(e,r){return Ih(this,{coordDimensions:["value"],encodeDefaulter:Re($m,this)})},t.prototype._defaultLabelLine=function(e){ta(e,"labelLine",["show"]);var r=e.labelLine,i=e.emphasis.labelLine;r.show=r.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.prototype.getDataParams=function(e){var r=this.getData(),i=n.prototype.getDataParams.call(this,e),o=r.mapDimension("value"),u=r.getSum(o);return i.percent=u?+(r.get(o,e)/u*100).toFixed(2):0,i.$vars.push("percent"),i},t.type="series.funnel",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",orient:"vertical",gap:0,funnelAlign:"center",label:{show:!0,position:"outer"},labelLine:{show:!0,length:20,lineStyle:{width:1}},itemStyle:{borderColor:"#fff",borderWidth:1},emphasis:{label:{show:!0}},select:{itemStyle:{borderColor:"#212121"}}},t}(Nt);const yW=Jx;function e1(n,t){n.eachSeriesByType("funnel",function(e){var r=e.getData(),i=r.mapDimension("value"),o=e.get("sort"),u=function RG(n,t){return An(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t),c=e.get("orient"),h=u.width,d=u.height,p=function Yv(n,t){for(var e=n.mapDimension("value"),r=n.mapArray(e,function(h){return h}),i=[],o="ascending"===t,u=0,c=n.count();u<c;u++)i[u]=u;return _e(t)?i.sort(t):"none"!==t&&i.sort(function(h,d){return o?r[h]-r[d]:r[d]-r[h]}),i}(r,o),g=u.x,m=u.y,y="horizontal"===c?[le(e.get("minSize"),d),le(e.get("maxSize"),d)]:[le(e.get("minSize"),h),le(e.get("maxSize"),h)],S=r.getDataExtent(i),b=e.get("min"),D=e.get("max");null==b&&(b=Math.min(S[0],0)),null==D&&(D=S[1]);var C=e.get("funnelAlign"),T=e.get("gap"),I=(("horizontal"===c?h:d)-T*(r.count()-1))/r.count(),L=function(j,W){if("horizontal"===c){var K=Ct(r.get(i,j)||0,[b,D],y,!0),X=void 0;switch(C){case"top":X=m;break;case"center":X=m+(d-K)/2;break;case"bottom":X=m+(d-K)}return[[W,X],[W,X+K]]}var he,oe=Ct(r.get(i,j)||0,[b,D],y,!0);switch(C){case"left":he=g;break;case"center":he=g+(h-oe)/2;break;case"right":he=g+h-oe}return[[he,W],[he+oe,W]]};"ascending"===o&&(I=-I,T=-T,"horizontal"===c?g+=h:m+=d,p=p.reverse());for(var E=0;E<p.length;E++){var R=p[E],O=p[E+1],k=r.getItemModel(R);if("horizontal"===c){var V=k.get(["itemStyle","width"]);null==V?V=I:(V=le(V,h),"ascending"===o&&(V=-V));var B=L(R,g),H=L(O,g+V);g+=V+T,r.setItemLayout(R,{points:B.concat(H.slice().reverse())})}else{var G=k.get(["itemStyle","height"]);null==G?G=I:(G=le(G,d),"ascending"===o&&(G=-G)),B=L(R,m),H=L(O,m+G),m+=G+T,r.setItemLayout(R,{points:B.concat(H.slice().reverse())})}}!function RN(n){var e=n.hostModel.get("orient");n.each(function(r){var g,m,y,S,i=n.getItemModel(r),u=i.getModel("label").get("position"),c=i.getModel("labelLine"),h=n.getItemLayout(r),d=h.points,p="inner"===u||"inside"===u||"center"===u||"insideLeft"===u||"insideRight"===u;if(p)"insideLeft"===u?(m=(d[0][0]+d[3][0])/2+5,y=(d[0][1]+d[3][1])/2,g="left"):"insideRight"===u?(m=(d[1][0]+d[2][0])/2-5,y=(d[1][1]+d[2][1])/2,g="right"):(m=(d[0][0]+d[1][0]+d[2][0]+d[3][0])/4,y=(d[0][1]+d[1][1]+d[2][1]+d[3][1])/4,g="center"),S=[[m,y],[m,y]];else{var b=void 0,D=void 0,C=void 0,T=void 0,M=c.get("length");"left"===u?(D=(d[3][1]+d[0][1])/2,m=(C=(b=(d[3][0]+d[0][0])/2)-M)-5,g="right"):"right"===u?(D=(d[1][1]+d[2][1])/2,m=(C=(b=(d[1][0]+d[2][0])/2)+M)+5,g="left"):"top"===u?(b=(d[3][0]+d[0][0])/2,y=(T=(D=(d[3][1]+d[0][1])/2)-M)-5,g="center"):"bottom"===u?(b=(d[1][0]+d[2][0])/2,y=(T=(D=(d[1][1]+d[2][1])/2)+M)+5,g="center"):"rightTop"===u?(b="horizontal"===e?d[3][0]:d[1][0],D="horizontal"===e?d[3][1]:d[1][1],"horizontal"===e?(y=(T=D-M)-5,g="center"):(m=(C=b+M)+5,g="top")):"rightBottom"===u?(b=d[2][0],D=d[2][1],"horizontal"===e?(y=(T=D+M)+5,g="center"):(m=(C=b+M)+5,g="bottom")):"leftTop"===u?(b=d[0][0],D="horizontal"===e?d[0][1]:d[1][1],"horizontal"===e?(y=(T=D-M)-5,g="center"):(m=(C=b-M)-5,g="right")):"leftBottom"===u?(b="horizontal"===e?d[1][0]:d[3][0],D="horizontal"===e?d[1][1]:d[2][1],"horizontal"===e?(y=(T=D+M)+5,g="center"):(m=(C=b-M)-5,g="right")):(b=(d[1][0]+d[2][0])/2,D=(d[1][1]+d[2][1])/2,"horizontal"===e?(y=(T=D+M)+5,g="center"):(m=(C=b+M)+5,g="left")),"horizontal"===e?m=C=b:y=T=D,S=[[b,D],[C,T]]}h.label={linePoints:S,x:m,y,verticalAlign:"middle",textAlign:g,inside:p}})}(r)})}var Yh=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._dataGroup=new Ee,e._initialized=!1,e}return q(t,n),t.prototype.init=function(){this.group.add(this._dataGroup)},t.prototype.render=function(e,r,i,o){this._progressiveEls=null;var u=this._dataGroup,c=e.getData(),h=this._data,d=e.coordinateSystem,p=d.dimensions,g=Ac(e);if(c.diff(h).add(function m(D){a_(ON(c,u,D,p,d),c,D,g)}).update(function y(D,C){var T=h.getItemGraphicEl(C),M=n1(c,D,p,d);c.setItemGraphicEl(D,T),dt(T,{shape:{points:M}},e,D),zr(T),a_(T,c,D,g)}).remove(function S(D){var C=h.getItemGraphicEl(D);u.remove(C)}).execute(),!this._initialized){this._initialized=!0;var b=function NN(n,t,e){var r=n.model,i=n.getRect(),o=new st({shape:{x:i.x,y:i.y,width:i.width,height:i.height}}),u="horizontal"===r.get("layout")?"width":"height";return o.setShape(u,0),$t(o,{shape:{width:i.width,height:i.height}},t,e),o}(d,e,function(){setTimeout(function(){u.removeClipPath()})});u.setClipPath(b)}this._data=c},t.prototype.incrementalPrepareRender=function(e,r,i){this._initialized=!0,this._data=null,this._dataGroup.removeAll()},t.prototype.incrementalRender=function(e,r,i){for(var o=r.getData(),u=r.coordinateSystem,c=u.dimensions,h=Ac(r),d=this._progressiveEls=[],p=e.start;p<e.end;p++){var g=ON(o,this._dataGroup,p,c,u);g.incremental=!0,a_(g,o,p,h),d.push(g)}},t.prototype.remove=function(){this._dataGroup&&this._dataGroup.removeAll(),this._data=null},t.type="parallel",t}(Mt);function n1(n,t,e,r){for(var i=[],o=0;o<e.length;o++){var u=e[o],c=n.get(n.mapDimension(u),t);NG(c,r.getAxis(u).type)||i.push(r.dataToPoint(c,u))}return i}function ON(n,t,e,r,i){var o=n1(n,e,r,i),u=new Wr({shape:{points:o},z2:10});return t.add(u),n.setItemGraphicEl(e,u),u}function Ac(n){var t=n.get("smooth",!0);return!0===t&&(t=.3),jc(t=or(t))&&(t=0),{smooth:t}}function a_(n,t,e,r){n.useStyle(t.getItemVisual(e,"style")),n.style.fill=null,n.setShape("smooth",r.smooth);var i=t.getItemModel(e),o=i.getModel("emphasis");lr(n,i,"lineStyle"),nn(n,o.get("focus"),o.get("blurScope"),o.get("disabled"))}function NG(n,t){return"category"===t?null==n:null==n||isNaN(n)}const o_=Yh;var kN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return q(t,n),t.prototype.getInitialData=function(e,r){return Ua(null,this,{useEncodeDefaulter:de(r1,null,this)})},t.prototype.getRawIndicesByActiveState=function(e){var r=this.coordinateSystem,i=this.getData(),o=[];return r.eachActiveState(i,function(u,c){e===u&&o.push(i.getRawIndex(c))}),o},t.type="series.parallel",t.dependencies=["parallel"],t.defaultOption={z:2,coordinateSystem:"parallel",parallelIndex:0,label:{show:!1},inactiveOpacity:.05,activeOpacity:1,lineStyle:{width:1,opacity:.45,type:"solid"},emphasis:{label:{show:!1}},progressive:500,smooth:!1,animationEasing:"linear"},t}(Nt);function r1(n){var t=n.ecModel.getComponent("parallel",n.get("parallelIndex"));if(t){var e={};return F(t.dimensions,function(r){var i=function FN(n){return+n.replace("dim","")}(r);e[r]=i}),e}}const i1=kN;var a1=["lineStyle","opacity"],o1={seriesType:"parallel",reset:function(n,t){var e=n.coordinateSystem,r={normal:n.get(["lineStyle","opacity"]),active:n.get("activeOpacity"),inactive:n.get("inactiveOpacity")};return{progress:function(i,o){e.eachActiveState(o,function(u,c){var h=r[u];if("normal"===u&&o.hasItemOption){var d=o.getItemModel(c).get(a1,!0);null!=d&&(h=d)}o.ensureUniqueItemVisual(c,"style").opacity=h},i.start,i.end)}}}};const OG=o1;function s_(n){(function VN(n){if(!n.parallel){var t=!1;F(n.series,function(e){e&&"parallel"===e.type&&(t=!0)}),t&&(n.parallel=[{}])}})(n),function kG(n){F(It(n.parallelAxis),function(e){if(xe(e)){var r=e.parallelIndex||0,i=It(n.parallel)[r];i&&i.parallelAxisDefault&&Ve(e,i.parallelAxisDefault,!1)}})}(n)}var FG=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){this._model=e,this._api=i,this._handlers||(this._handlers={},F(VG,function(o,u){i.getZr().on(u,this._handlers[u]=de(o,this))},this)),rh(this,"_throttledDispatchExpand",e.get("axisExpandRate"),"fixRate")},t.prototype.dispose=function(e,r){ih(this,"_throttledDispatchExpand"),F(this._handlers,function(i,o){r.getZr().off(o,i)}),this._handlers=null},t.prototype._throttledDispatchExpand=function(e){this._dispatchExpand(e)},t.prototype._dispatchExpand=function(e){e&&this._api.dispatchAction(J({type:"parallelAxisExpand"},e))},t.type="parallel",t}(wt),VG={mousedown:function(n){qv(this,"click")&&(this._mouseDownPoint=[n.offsetX,n.offsetY])},mouseup:function(n){var t=this._mouseDownPoint;if(qv(this,"click")&&t){var e=[n.offsetX,n.offsetY];if(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)>5)return;var i=this._model.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]);"none"!==i.behavior&&this._dispatchExpand({axisExpandWindow:i.axisExpandWindow})}this._mouseDownPoint=null},mousemove:function(n){if(!this._mouseDownPoint&&qv(this,"mousemove")){var t=this._model,e=t.coordinateSystem.getSlidedAxisExpandWindow([n.offsetX,n.offsetY]),r=e.behavior;"jump"===r&&this._throttledDispatchExpand.debounceNextCall(t.get("axisExpandDebounce")),this._throttledDispatchExpand("none"===r?null:{axisExpandWindow:e.axisExpandWindow,animation:"jump"===r?null:{duration:0}})}}};function qv(n,t){var e=n._model;return e.get("axisExpandable")&&e.get("axisExpandTriggerOn")===t}const BN=FG;var zN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(){n.prototype.init.apply(this,arguments),this.mergeOption({})},t.prototype.mergeOption=function(e){e&&Ve(this.option,e,!0),this._initDimensions()},t.prototype.contains=function(e,r){var i=e.get("parallelIndex");return null!=i&&r.getComponent("parallel",i)===this},t.prototype.setAxisExpand=function(e){F(["axisExpandable","axisExpandCenter","axisExpandCount","axisExpandWidth","axisExpandWindow"],function(r){e.hasOwnProperty(r)&&(this.option[r]=e[r])},this)},t.prototype._initDimensions=function(){var e=this.dimensions=[],r=this.parallelAxisIndex=[];F(yt(this.ecModel.queryComponents({mainType:"parallelAxis"}),function(o){return(o.get("parallelIndex")||0)===this.componentIndex},this),function(o){e.push("dim"+o.get("dim")),r.push(o.componentIndex)})},t.type="parallel",t.dependencies=["parallelAxis"],t.layoutMode="box",t.defaultOption={z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",axisExpandable:!1,axisExpandCenter:null,axisExpandCount:0,axisExpandWidth:50,axisExpandRate:17,axisExpandDebounce:50,axisExpandSlideTriggerArea:[-.15,.05,.4],axisExpandTriggerOn:"click",parallelAxisDefault:null},t}(at);const BG=zN;var HN=function(n){function t(e,r,i,o,u){var c=n.call(this,e,r,i)||this;return c.type=o||"value",c.axisIndex=u,c}return q(t,n),t.prototype.isHorizontal=function(){return"horizontal"!==this.coordinateSystem.getModel().get("layout")},t}(ga);const GN=HN;function Ic(n,t,e,r,i,o){n=n||0;var u=e[1]-e[0];if(null!=i&&(i=Xv(i,[0,u])),null!=o&&(o=Math.max(o,i??0)),"all"===r){var c=Math.abs(t[1]-t[0]);c=Xv(c,[0,u]),i=o=Xv(c,[i,o]),r=0}t[0]=Xv(t[0],e),t[1]=Xv(t[1],e);var h=UN(t,r);t[r]+=n;var g,d=i||0,p=e.slice();return h.sign<0?p[0]+=d:p[1]-=d,t[r]=Xv(t[r],p),g=UN(t,r),null!=i&&(g.sign!==h.sign||g.span<i)&&(t[1-r]=t[r]+h.sign*i),g=UN(t,r),null!=o&&g.span>o&&(t[1-r]=t[r]+g.sign*o),t}function UN(n,t){var e=n[t]-n[1-t];return{span:Math.abs(e),sign:e>0?-1:e<0?1:t?-1:1}}function Xv(n,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,n))}var jN=F,zG=Math.min,WN=Math.max,HG=Math.floor,GG=Math.ceil,$N=Kt,s1=Math.PI,Ka=function(){function n(t,e,r){this.type="parallel",this._axesMap=ve(),this._axesLayout={},this.dimensions=t.dimensions,this._model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var o=t.parallelAxisIndex;jN(t.dimensions,function(u,c){var h=o[c],d=e.getComponent("parallelAxis",h),p=this._axesMap.set(u,new GN(u,mh(d),[0,0],d.get("type"),h));p.onBand="category"===p.type&&d.get("boundaryGap"),p.inverse=d.get("inverse"),d.axis=p,p.model=d,p.coordinateSystem=d.coordinateSystem=this},this)},n.prototype.update=function(t,e){this._updateAxesFromSeries(this._model,t)},n.prototype.containPoint=function(t){var e=this._makeLayoutInfo(),r=e.axisBase,i=e.layoutBase,o=e.pixelDimIndex,u=t[1-o],c=t[o];return u>=r&&u<=r+e.axisLength&&c>=i&&c<=i+e.layoutLength},n.prototype.getModel=function(){return this._model},n.prototype._updateAxesFromSeries=function(t,e){e.eachSeries(function(r){if(t.contains(r,e)){var i=r.getData();jN(this.dimensions,function(o){var u=this._axesMap.get(o);u.scale.unionExtentFromData(i,i.mapDimension(o)),oc(u.scale,u.model)},this)}},this)},n.prototype.resize=function(t,e){this._rect=An(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()}),this._layoutAxes()},n.prototype.getRect=function(){return this._rect},n.prototype._makeLayoutInfo=function(){var S,t=this._model,e=this._rect,r=["x","y"],i=["width","height"],o=t.get("layout"),u="horizontal"===o?0:1,c=e[i[u]],h=[0,c],d=this.dimensions.length,p=l_(t.get("axisExpandWidth"),h),g=l_(t.get("axisExpandCount")||0,[0,d]),m=t.get("axisExpandable")&&d>3&&d>g&&g>1&&p>0&&c>0,y=t.get("axisExpandWindow");y?(S=l_(y[1]-y[0],h),y[1]=y[0]+S):(S=l_(p*(g-1),h),(y=[p*(t.get("axisExpandCenter")||HG(d/2))-S/2])[1]=y[0]+S);var D=(c-S)/(d-g);D<3&&(D=0);var C=[HG($N(y[0]/p,1))+1,GG($N(y[1]/p,1))-1];return{layout:o,pixelDimIndex:u,layoutBase:e[r[u]],layoutLength:c,axisBase:e[r[1-u]],axisLength:e[i[1-u]],axisExpandable:m,axisExpandWidth:p,axisCollapseWidth:D,axisExpandWindow:y,axisCount:d,winInnerIndices:C,axisExpandWindow0Pos:D/p*y[0]}},n.prototype._layoutAxes=function(){var t=this._rect,e=this._axesMap,r=this.dimensions,i=this._makeLayoutInfo(),o=i.layout;e.each(function(u){var c=[0,i.axisLength],h=u.inverse?1:0;u.setExtent(c[h],c[1-h])}),jN(r,function(u,c){var h=(i.axisExpandable?_W:Kv)(c,i),d={horizontal:{x:h.position,y:i.axisLength},vertical:{x:0,y:h.position}},g=[d[o].x+t.x,d[o].y+t.y],m={horizontal:s1/2,vertical:0}[o],y=[1,0,0,1,0,0];ge(y,y,m),qi(y,y,g),this._axesLayout[u]={position:g,rotation:m,transform:y,axisNameAvailableWidth:h.axisNameAvailableWidth,axisLabelShow:h.axisLabelShow,nameTruncateMaxWidth:h.nameTruncateMaxWidth,tickDirection:1,labelDirection:1}},this)},n.prototype.getAxis=function(t){return this._axesMap.get(t)},n.prototype.dataToPoint=function(t,e){return this.axisCoordToPoint(this._axesMap.get(e).dataToCoord(t),e)},n.prototype.eachActiveState=function(t,e,r,i){null==r&&(r=0),null==i&&(i=t.count());var o=this._axesMap,u=this.dimensions,c=[],h=[];F(u,function(D){c.push(t.mapDimension(D)),h.push(o.get(D).model)});for(var d=this.hasAxisBrushed(),p=r;p<i;p++){var g=void 0;if(d){g="active";for(var m=t.getValues(c,p),y=0,S=u.length;y<S;y++)if("inactive"===h[y].getActiveState(m[y])){g="inactive";break}}else g="normal";e(g,p)}},n.prototype.hasAxisBrushed=function(){for(var t=this.dimensions,e=this._axesMap,r=!1,i=0,o=t.length;i<o;i++)"normal"!==e.get(t[i]).model.getActiveState()&&(r=!0);return r},n.prototype.axisCoordToPoint=function(t,e){return da([t,0],this._axesLayout[e].transform)},n.prototype.getAxisLayout=function(t){return Te(this._axesLayout[t])},n.prototype.getSlidedAxisExpandWindow=function(t){var e=this._makeLayoutInfo(),r=e.pixelDimIndex,i=e.axisExpandWindow.slice(),o=i[1]-i[0],u=[0,e.axisExpandWidth*(e.axisCount-1)];if(!this.containPoint(t))return{behavior:"none",axisExpandWindow:i};var h,c=t[r]-e.layoutBase-e.axisExpandWindow0Pos,d="slide",p=e.axisCollapseWidth,g=this._model.get("axisExpandSlideTriggerArea"),m=null!=g[0];if(p)m&&p&&c<o*g[0]?(d="jump",h=c-o*g[2]):m&&p&&c>o*(1-g[0])?(d="jump",h=c-o*(1-g[2])):(h=c-o*g[1])>=0&&(h=c-o*(1-g[1]))<=0&&(h=0),(h*=e.axisExpandWidth/p)?Ic(h,i,u,"all"):d="none";else{var y=i[1]-i[0];(i=[WN(0,u[1]*c/y-y/2)])[1]=zG(u[1],i[0]+y),i[0]=i[1]-y}return{axisExpandWindow:i,behavior:d}},n}();function l_(n,t){return zG(WN(n,t[0]),t[1])}function Kv(n,t){var e=t.layoutLength/(t.axisCount-1);return{position:e*n,axisNameAvailableWidth:e,axisLabelShow:!0}}function _W(n,t){var c,p,r=t.axisExpandWidth,o=t.axisCollapseWidth,u=t.winInnerIndices,h=o,d=!1;return n<u[0]?(c=n*o,p=o):n<=u[1]?(c=t.axisExpandWindow0Pos+n*r-t.axisExpandWindow[0],h=r,d=!0):(c=t.layoutLength-(t.axisCount-1-n)*o,p=o),{position:c,axisNameAvailableWidth:h,axisLabelShow:d,nameTruncateMaxWidth:p}}const UG=Ka;var YN={create:function jG(n,t){var e=[];return n.eachComponent("parallel",function(r,i){var o=new UG(r,n,t);o.name="parallel_"+i,o.resize(r,t),r.coordinateSystem=o,o.model=r,e.push(o)}),n.eachSeries(function(r){if("parallel"===r.get("coordinateSystem")){var i=r.getReferringComponents("parallel",Mn).models[0];r.coordinateSystem=i.coordinateSystem}}),e}};const u_=YN;var ZN=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.activeIntervals=[],e}return q(t,n),t.prototype.getAreaSelectStyle=function(){return na([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]])(this.getModel("areaSelectStyle"))},t.prototype.setActiveIntervals=function(e){var r=this.activeIntervals=Te(e);if(r)for(var i=r.length-1;i>=0;i--)si(r[i])},t.prototype.getActiveState=function(e){var r=this.activeIntervals;if(!r.length)return"normal";if(null==e||isNaN(+e))return"inactive";if(1===r.length){var i=r[0];if(i[0]<=e&&e<=i[1])return"active"}else for(var o=0,u=r.length;o<u;o++)if(r[o][0]<=e&&e<=r[o][1])return"active";return"inactive"},t}(at);un(ZN,yh);const qN=ZN;var Sa=!0,Fs=Math.min,Zh=Math.max,WG=Math.pow,Qv=1e4,Jv=6,$G=6,XN="globalPan",YG={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},ZG={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},KN={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},qG=0,SW=function(n){function t(e){var r=n.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=e,r.group=new Ee,r._uid="brushController_"+qG++,F(JG,function(i,o){this._handlers[o]=de(i,this)},r),r}return q(t,n),t.prototype.enableBrush=function(e){return this._brushType&&this._doDisableBrush(),e.brushType&&this._doEnableBrush(e),this},t.prototype._doEnableBrush=function(e){var r=this._zr;this._enableGlobalPan||function H4(n,t,e){mR(n)[t]=e}(r,XN,this._uid),F(this._handlers,function(i,o){r.on(o,i)}),this._brushType=e.brushType,this._brushOption=Ve(Te(KN),e,!0)},t.prototype._doDisableBrush=function(){var e=this._zr;(function oH(n,t,e){var r=mR(n);r[t]===e&&(r[t]=null)})(e,XN,this._uid),F(this._handlers,function(r,i){e.off(i,r)}),this._brushType=this._brushOption=null},t.prototype.setPanels=function(e){if(e&&e.length){var r=this._panels={};F(e,function(i){r[i.panelId]=Te(i)})}else this._panels=null;return this},t.prototype.mount=function(e){this._enableGlobalPan=(e=e||{}).enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:e.x||0,y:e.y||0,rotation:e.rotation||0,scaleX:e.scaleX||1,scaleY:e.scaleY||1}),this._transform=r.getLocalTransform(),this},t.prototype.updateCovers=function(e){e=re(e,function(m){return Ve(Te(KN),m,!0)});var i=this._covers,o=this._covers=[],u=this,c=this._creatingCover;return new bs(i,e,function d(m,y){return h(m.__brushOption,y)},h).add(p).update(p).remove(function g(m){i[m]!==c&&u.group.remove(i[m])}).execute(),this;function h(m,y){return(null!=m.id?m.id:"\0-brush-index-"+y)+"-"+m.brushType}function p(m,y){var S=e[m];if(null!=y&&i[y]===c)o[m]=i[y];else{var b=o[m]=null!=y?(i[y].__brushOption=S,i[y]):l1(u,QN(u,S));u1(u,b)}}},t.prototype.unmount=function(){return this.enableBrush(!1),h1(this),this._zr.remove(this.group),this},t.prototype.dispose=function(){this.unmount(),this.off()},t}($i);function QN(n,t){var e=f_[t.brushType].createCover(n,t);return e.__brushOption=t,Ec(e,t),n.group.add(e),e}function l1(n,t){var e=c1(t);return e.endCreating&&(e.endCreating(n,t),Ec(t,t.__brushOption)),t}function eg(n,t){var e=t.__brushOption;c1(t).updateCoverShape(n,t,e.range,e)}function Ec(n,t){var e=t.z;null==e&&(e=Qv),n.traverse(function(r){r.z=e,r.z2=e})}function u1(n,t){c1(t).updateCommon(n,t),eg(n,t)}function c1(n){return f_[n.__brushOption.brushType]}function f1(n,t,e){var r=n._panels;if(!r)return Sa;var i,o=n._transform;return F(r,function(u){u.isTargetByCursor(t,e,o)&&(i=u)}),i}function JN(n,t){var e=n._panels;if(!e)return Sa;var r=t.__brushOption.panelId;return null!=r?e[r]:Sa}function h1(n){var t=n._covers,e=t.length;return F(t,function(r){n.group.remove(r)},n),t.length=0,!!e}function Pc(n,t){var e=re(n._covers,function(r){var i=r.__brushOption,o=Te(i.range);return{brushType:i.brushType,panelId:i.panelId,range:o}});n.trigger("brush",{areas:e,isEnd:!!t.isEnd,removeOnClick:!!t.removeOnClick})}function eO(n){var t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}function tO(n,t,e,r){var i=new Ee;return i.add(new st({name:"main",style:c_(e),silent:!0,draggable:!0,cursor:"move",drift:Re(rO,n,t,i,["n","s","w","e"]),ondragend:Re(Pc,t,{isEnd:!0})})),F(r,function(o){i.add(new st({name:o.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:Re(rO,n,t,i,o),ondragend:Re(Pc,t,{isEnd:!0})}))}),i}function d1(n,t,e,r){var i=r.brushStyle.lineWidth||0,o=Zh(i,$G),u=e[0][0],c=e[1][0],h=u-i/2,d=c-i/2,p=e[0][1],g=e[1][1],m=p-o+i/2,y=g-o+i/2,S=p-u,b=g-c,D=S+i,C=b+i;wa(n,t,"main",u,c,S,b),r.transformable&&(wa(n,t,"w",h,d,o,C),wa(n,t,"e",m,d,o,C),wa(n,t,"n",h,d,D,o),wa(n,t,"s",h,y,D,o),wa(n,t,"nw",h,d,o,o),wa(n,t,"ne",m,d,o,o),wa(n,t,"sw",h,y,o,o),wa(n,t,"se",m,y,o,o))}function p1(n,t){var e=t.__brushOption,r=e.transformable,i=t.childAt(0);i.useStyle(c_(e)),i.attr({silent:!r,cursor:r?"move":"default"}),F([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(o){var u=t.childOfName(o.join("")),c=1===o.length?v1(n,o[0]):function KG(n,t){var e=[v1(n,t[0]),v1(n,t[1])];return("e"===e[0]||"w"===e[0])&&e.reverse(),e.join("")}(n,o);u&&u.attr({silent:!r,invisible:!r,cursor:r?ZG[c]+"-resize":null})})}function wa(n,t,e,r,i,o,u){var c=t.childOfName(e);c&&c.setShape(function aO(n){var t=Fs(n[0][0],n[1][0]),e=Fs(n[0][1],n[1][1]);return{x:t,y:e,width:Zh(n[0][0],n[1][0])-t,height:Zh(n[0][1],n[1][1])-e}}(tg(n,t,[[r,i],[r+o,i+u]])))}function c_(n){return De({strokeNoScale:!0},n.brushStyle)}function Lc(n,t,e,r){var i=[Fs(n,e),Fs(t,r)],o=[Zh(n,e),Zh(t,r)];return[[i[0],o[0]],[i[1],o[1]]]}function v1(n,t){var i=Ku({w:"left",e:"right",n:"top",s:"bottom"}[t],function nO(n){return vs(n.group)}(n));return{left:"w",right:"e",top:"n",bottom:"s"}[i]}function rO(n,t,e,r,i,o){var u=e.__brushOption,c=n.toRectRange(u.range),h=iO(t,i,o);F(r,function(d){var p=YG[d];c[p[0]][p[1]]+=h[p[0]]}),u.range=n.fromRectRange(Lc(c[0][0],c[1][0],c[0][1],c[1][1])),u1(t,e),Pc(t,{isEnd:!1})}function g1(n,t,e,r){var i=t.__brushOption.range,o=iO(n,e,r);F(i,function(u){u[0]+=o[0],u[1]+=o[1]}),u1(n,t),Pc(n,{isEnd:!1})}function iO(n,t,e){var r=n.group,i=r.transformCoordToLocal(t,e),o=r.transformCoordToLocal(0,0);return[i[0]-o[0],i[1]-o[1]]}function tg(n,t,e){var r=JN(n,t);return r&&r!==Sa?r.clipPath(e,n._transform):Te(e)}function m1(n){var t=n.event;t.preventDefault&&t.preventDefault()}function y1(n,t,e){return n.childOfName("main").contain(t,e)}function oO(n,t,e,r){var c,i=n._creatingCover,o=n._creatingPanel,u=n._brushOption;if(n._track.push(e.slice()),function XG(n){var t=n._track;if(!t.length)return!1;var e=t[t.length-1],r=t[0],i=e[0]-r[0],o=e[1]-r[1];return WG(i*i+o*o,.5)>Jv}(n)||i){if(o&&!i){"single"===u.brushMode&&h1(n);var h=Te(u);h.brushType=ng(h.brushType,o),h.panelId=o===Sa?null:o.panelId,i=n._creatingCover=QN(n,h),n._covers.push(i)}if(i){var d=f_[ng(n._brushType,o)];i.__brushOption.range=d.getCreatingRange(tg(n,i,n._track)),r&&(l1(n,i),d.updateCommon(n,i)),eg(n,i),c={isEnd:r}}}else r&&"single"===u.brushMode&&u.removeOnClick&&f1(n,t,e)&&h1(n)&&(c={isEnd:r,removeOnClick:!0});return c}function ng(n,t){return"auto"===n?t.defaultBrushType:n}var JG={mousedown:function(n){if(this._dragging)sO(this,n);else if(!n.target||!n.target.draggable){m1(n);var t=this.group.transformCoordToLocal(n.offsetX,n.offsetY);this._creatingCover=null,(this._creatingPanel=f1(this,n,t))&&(this._dragging=!0,this._track=[t.slice()])}},mousemove:function(n){var r=this.group.transformCoordToLocal(n.offsetX,n.offsetY);if(function QG(n,t,e){if(n._brushType&&!function e5(n,t,e){var r=n._zr;return t<0||t>r.getWidth()||e<0||e>r.getHeight()}(n,t.offsetX,t.offsetY)){var r=n._zr,i=n._covers,o=f1(n,t,e);if(!n._dragging)for(var u=0;u<i.length;u++){var c=i[u].__brushOption;if(o&&(o===Sa||c.panelId===o.panelId)&&f_[c.brushType].contain(i[u],e[0],e[1]))return}o&&r.setCursorStyle("crosshair")}}(this,n,r),this._dragging){m1(n);var i=oO(this,n,r,!1);i&&Pc(this,i)}},mouseup:function(n){sO(this,n)}};function sO(n,t){if(n._dragging){m1(t);var i=n.group.transformCoordToLocal(t.offsetX,t.offsetY),o=oO(n,t,i,!0);n._dragging=!1,n._track=[],n._creatingCover=null,o&&Pc(n,o)}}var f_={lineX:lO(0),lineY:lO(1),rect:{createCover:function(n,t){function e(r){return r}return tO({toRectRange:e,fromRectRange:e},n,t,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(n){var t=eO(n);return Lc(t[1][0],t[1][1],t[0][0],t[0][1])},updateCoverShape:function(n,t,e,r){d1(n,t,e,r)},updateCommon:p1,contain:y1},polygon:{createCover:function(n,t){var e=new Ee;return e.add(new Wr({name:"main",style:c_(t),silent:!0})),e},getCreatingRange:function(n){return n},endCreating:function(n,t){t.remove(t.childAt(0)),t.add(new dr({name:"main",draggable:!0,drift:Re(g1,n,t),ondragend:Re(Pc,n,{isEnd:!0})}))},updateCoverShape:function(n,t,e,r){t.childAt(0).setShape({points:tg(n,t,e)})},updateCommon:p1,contain:y1}};function lO(n){return{createCover:function(t,e){return tO({toRectRange:function(r){var i=[r,[0,100]];return n&&i.reverse(),i},fromRectRange:function(r){return r[n]}},t,e,[[["w"],["e"]],[["n"],["s"]]][n])},getCreatingRange:function(t){var e=eO(t);return[Fs(e[0][n],e[1][n]),Zh(e[0][n],e[1][n])]},updateCoverShape:function(t,e,r,i){var o,u=JN(t,e);if(u!==Sa&&u.getLinearBrushOtherExtent)o=u.getLinearBrushOtherExtent(n);else{var c=t._zr;o=[0,[c.getWidth(),c.getHeight()][1-n]]}var h=[r,o];n&&h.reverse(),d1(t,e,h,i)},updateCommon:p1,contain:y1}}const _1=SW;function S1(n){return n=h_(n),function(t){return Ap(t,n)}}function t5(n,t){return n=h_(n),function(e){var r=t??e,o=r?n.x:n.y;return[o,o+((r?n.width:n.height)||0)]}}function w1(n,t,e){var r=h_(n);return function(i,o){return r.contain(o[0],o[1])&&!ix(i,t,e)}}function h_(n){return Be.create(n)}var n5=["axisLine","axisTickLabel","axisName"],r5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e,r){n.prototype.init.apply(this,arguments),(this._brushController=new _1(r.getZr())).on("brush",de(this._onBrush,this))},t.prototype.render=function(e,r,i,o){if(!function i5(n,t,e){return e&&"axisAreaSelect"===e.type&&t.findComponents({mainType:"parallelAxis",query:e})[0]===n}(e,r,o)){this.axisModel=e,this.api=i,this.group.removeAll();var u=this._axisGroup;if(this._axisGroup=new Ee,this.group.add(this._axisGroup),e.get("show")){var c=function o5(n,t){return t.getComponent("parallel",n.get("parallelIndex"))}(e,r),h=c.coordinateSystem,d=e.getAreaSelectStyle(),p=d.width,y=J({strokeContainThreshold:p},h.getAxisLayout(e.axis.dim)),S=new Io(e,y);F(n5,S.add,S),this._axisGroup.add(S.getGroup()),this._refreshBrushController(y,d,e,c,p,i),Mp(u,this._axisGroup,e)}}},t.prototype._refreshBrushController=function(e,r,i,o,u,c){var h=i.axis.getExtent(),d=h[1]-h[0],p=Math.min(30,.1*Math.abs(d)),g=Be.create({x:h[0],y:-u/2,width:d,height:u});g.x-=p,g.width+=2*p,this._brushController.mount({enableGlobalPan:!0,rotation:e.rotation,x:e.position[0],y:e.position[1]}).setPanels([{panelId:"pl",clipPath:S1(g),isTargetByCursor:w1(g,c,o),getLinearBrushOtherExtent:t5(g,0)}]).enableBrush({brushType:"lineX",brushStyle:r,removeOnClick:!0}).updateCovers(function a5(n){var t=n.axis;return re(n.activeIntervals,function(e){return{brushType:"lineX",panelId:"pl",range:[t.dataToCoord(e[0],!0),t.dataToCoord(e[1],!0)]}})}(i))},t.prototype._onBrush=function(e){var i=this.axisModel,o=i.axis,u=re(e.areas,function(c){return[o.coordToData(c.range[0],!0),o.coordToData(c.range[1],!0)]});(!i.option.realtime===e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:i.id,intervals:u})},t.prototype.dispose=function(){this._brushController.dispose()},t.type="parallelAxis",t}(wt);const s5=r5;var uO={type:"axisAreaSelect",event:"axisAreaSelected"},qh={type:"value",areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},realtime:!0,z:10};function d_(n){n.registerComponentView(BN),n.registerComponentModel(BG),n.registerCoordinateSystem("parallel",u_),n.registerPreprocessor(s_),n.registerComponentModel(qN),n.registerComponentView(s5),Eh(n,"parallel",qN,qh),function b1(n){n.registerAction(uO,function(t,e){e.eachComponent({mainType:"parallelAxis",query:t},function(r){r.axis.model.setActiveIntervals(t.intervals)})}),n.registerAction("parallelAxisExpand",function(t,e){e.eachComponent({mainType:"parallel",query:t},function(r){r.setAxisExpand(t)})})}(n)}var u5=function n(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.cpx2=0,this.cpy2=0,this.extent=0},cO=function(n){function t(e){return n.call(this,e)||this}return q(t,n),t.prototype.getDefaultShape=function(){return new u5},t.prototype.buildPath=function(e,r){var i=r.extent;e.moveTo(r.x1,r.y1),e.bezierCurveTo(r.cpx1,r.cpy1,r.cpx2,r.cpy2,r.x2,r.y2),"vertical"===r.orient?(e.lineTo(r.x2+i,r.y2),e.bezierCurveTo(r.cpx2+i,r.cpy2,r.cpx1+i,r.cpy1,r.x1+i,r.y1)):(e.lineTo(r.x2,r.y2+i),e.bezierCurveTo(r.cpx2,r.cpy2+i,r.cpx1,r.cpy1+i,r.x1,r.y1+i)),e.closePath()},t.prototype.highlight=function(){Jo(this)},t.prototype.downplay=function(){es(this)},t}(Ze),p_=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._focusAdjacencyDisabled=!1,e}return q(t,n),t.prototype.render=function(e,r,i){var o=this,u=e.getGraph(),c=this.group,h=e.layoutInfo,d=h.width,p=h.height,g=e.getData(),m=e.getData("edge"),y=e.get("orient");this._model=e,c.removeAll(),c.x=h.x,c.y=h.y,u.eachEdge(function(S){var b=new cO,D=Oe(b);D.dataIndex=S.dataIndex,D.seriesIndex=e.seriesIndex,D.dataType="edge";var G,j,W,Y,K,X,ee,oe,C=S.getModel(),T=C.getModel("lineStyle"),M=T.get("curveness"),I=S.node1.getLayout(),L=S.node1.getModel(),E=L.get("localX"),R=L.get("localY"),O=S.node2.getLayout(),k=S.node2.getModel(),V=k.get("localX"),B=k.get("localY"),H=S.getLayout();b.shape.extent=Math.max(1,H.dy),b.shape.orient=y,"vertical"===y?(K=G=(null!=E?E*d:I.x)+H.sy,X=(j=(null!=R?R*p:I.y)+I.dy)*(1-M)+(Y=null!=B?B*p:O.y)*M,ee=W=(null!=V?V*d:O.x)+H.ty,oe=j*M+Y*(1-M)):(K=(G=(null!=E?E*d:I.x)+I.dx)*(1-M)+(W=null!=V?V*d:O.x)*M,X=j=(null!=R?R*p:I.y)+H.sy,ee=G*M+W*(1-M),oe=Y=(null!=B?B*p:O.y)+H.ty),b.setShape({x1:G,y1:j,x2:W,y2:Y,cpx1:K,cpy1:X,cpx2:ee,cpy2:oe}),b.useStyle(T.getItemStyle()),D1(b.style,y,S);var he=""+C.get("value"),me=qn(C,"edgeLabel");xr(b,me,{labelFetcher:{getFormattedLabel:function(qe,ut,Je,Pe,et,je){return e.getFormattedLabel(qe,ut,"edge",Pe,Ln(et,me.normal&&me.normal.get("formatter"),he),je)}},labelDataIndex:S.dataIndex,defaultText:he}),b.setTextConfig({position:"inside"});var Ie=C.getModel("emphasis");lr(b,C,"lineStyle",function(qe){var ut=qe.getItemStyle();return D1(ut,y,S),ut}),c.add(b),m.setItemGraphicEl(S.dataIndex,b);var Me=Ie.get("focus");nn(b,"adjacency"===Me?S.getAdjacentDataIndices():"trajectory"===Me?S.getTrajectoryDataIndices():Me,Ie.get("blurScope"),Ie.get("disabled"))}),u.eachNode(function(S){var b=S.getLayout(),D=S.getModel(),C=D.get("localX"),T=D.get("localY"),M=D.getModel("emphasis"),I=new st({shape:{x:null!=C?C*d:b.x,y:null!=T?T*p:b.y,width:b.dx,height:b.dy},style:D.getModel("itemStyle").getItemStyle(),z2:10});xr(I,qn(D),{labelFetcher:{getFormattedLabel:function(E,R){return e.getFormattedLabel(E,R,"node")}},labelDataIndex:S.dataIndex,defaultText:S.id}),I.disableLabelAnimation=!0,I.setStyle("fill",S.getVisual("color")),I.setStyle("decal",S.getVisual("style").decal),lr(I,D),c.add(I),g.setItemGraphicEl(S.dataIndex,I),Oe(I).dataType="node";var L=M.get("focus");nn(I,"adjacency"===L?S.getAdjacentDataIndices():"trajectory"===L?S.getTrajectoryDataIndices():L,M.get("blurScope"),M.get("disabled"))}),g.eachItemGraphicEl(function(S,b){g.getItemModel(b).get("draggable")&&(S.drift=function(C,T){o._focusAdjacencyDisabled=!0,this.shape.x+=C,this.shape.y+=T,this.dirty(),i.dispatchAction({type:"dragNode",seriesId:e.id,dataIndex:g.getRawIndex(b),localX:this.shape.x/d,localY:this.shape.y/p})},S.ondragend=function(){o._focusAdjacencyDisabled=!1},S.draggable=!0,S.cursor="move")}),!this._data&&e.isAnimationEnabled()&&c.setClipPath(function fO(n,t,e){var r=new st({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return $t(r,{shape:{width:n.width+20}},t,e),r}(c.getBoundingRect(),e,function(){c.removeClipPath()})),this._data=e.getData()},t.prototype.dispose=function(){},t.type="sankey",t}(Mt);function D1(n,t,e){switch(n.fill){case"source":n.fill=e.node1.getVisual("color"),n.decal=e.node1.getVisual("style").decal;break;case"target":n.fill=e.node2.getVisual("color"),n.decal=e.node2.getVisual("style").decal;break;case"gradient":var r=e.node1.getVisual("color"),i=e.node2.getVisual("color");fe(r)&&fe(i)&&(n.fill=new eh(0,0,+("horizontal"===t),+("vertical"===t),[{color:r,offset:0},{color:i,offset:1}]))}}const c5=p_;var f5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.getInitialData=function(e,r){var i=e.edges||e.links,o=e.data||e.nodes,u=e.levels;this.levelModels=[];for(var c=this.levelModels,h=0;h<u.length;h++)null!=u[h].depth&&u[h].depth>=0&&(c[u[h].depth]=new Rt(u[h],this,r));if(o&&i)return Xa(o,i,this,!0,function p(g,m){g.wrapMethod("getItemModel",function(y,S){var b=y.parentModel,D=b.getData().getItemLayout(S);if(D){var T=b.levelModels[D.depth];T&&(y.parentModel=T)}return y}),m.wrapMethod("getItemModel",function(y,S){var b=y.parentModel,C=b.getGraph().getEdgeByIndex(S).node1.getLayout();if(C){var M=b.levelModels[C.depth];M&&(y.parentModel=M)}return y})}).data},t.prototype.setNodePosition=function(e,r){var o=(this.option.data||this.option.nodes)[e];o.localX=r[0],o.localY=r[1]},t.prototype.getGraph=function(){return this.getData().graph},t.prototype.getEdgeData=function(){return this.getGraph().edgeData},t.prototype.formatTooltip=function(e,r,i){function o(y){return isNaN(y)||null==y}if("edge"===i){var u=this.getDataParams(e,i),c=u.data,h=u.value;return hn("nameValue",{name:c.source+" -- "+c.target,value:h,noValue:o(h)})}var g=this.getGraph().getNodeByIndex(e).getLayout().value,m=this.getDataParams(e,i).data.name;return hn("nameValue",{name:null!=m?m+"":null,value:g,noValue:o(g)})},t.prototype.optionUpdated=function(){},t.prototype.getDataParams=function(e,r){var i=n.prototype.getDataParams.call(this,e,r);if(null==i.value&&"node"===r){var u=this.getGraph().getNodeByIndex(e).getLayout().value;i.value=u}return i},t.type="series.sankey",t.defaultOption={z:2,coordinateSystem:"view",left:"5%",top:"5%",right:"20%",bottom:"5%",orient:"horizontal",nodeWidth:20,nodeGap:8,draggable:!0,layoutIterations:32,label:{show:!0,position:"right",fontSize:12},edgeLabel:{show:!1,fontSize:12},levels:[],nodeAlign:"justify",lineStyle:{color:"#314656",opacity:.2,curveness:.5},emphasis:{label:{show:!0},lineStyle:{opacity:.5}},select:{itemStyle:{borderColor:"#212121"}},animationEasing:"linear",animationDuration:1e3},t}(Nt);const h5=f5;function d5(n,t){n.eachSeriesByType("sankey",function(e){var r=e.get("nodeWidth"),i=e.get("nodeGap"),o=function v_(n,t){return An(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}(e,t);e.layoutInfo=o;var u=o.width,c=o.height,h=e.getGraph(),d=h.nodes,p=h.edges;!function v5(n){F(n,function(t){var e=Po(t.outEdges,m_),r=Po(t.inEdges,m_),i=t.getValue()||0,o=Math.max(e,r,i);t.setLayout({value:o},!0)})}(d),function p5(n,t,e,r,i,o,u,c,h){(function rg(n,t,e,r,i,o,u){for(var c=[],h=[],d=[],p=[],g=0,m=0;m<t.length;m++)c[m]=1;for(m=0;m<n.length;m++)h[m]=n[m].inEdges.length,0===h[m]&&d.push(n[m]);for(var y=-1;d.length;){for(var S=0;S<d.length;S++){var b=d[S],D=b.hostGraph.data.getRawDataItem(b.dataIndex),C=null!=D.depth&&D.depth>=0;C&&D.depth>y&&(y=D.depth),b.setLayout({depth:C?D.depth:g},!0),b.setLayout("vertical"===o?{dy:e}:{dx:e},!0);for(var T=0;T<b.outEdges.length;T++){var M=b.outEdges[T];c[t.indexOf(M)]=0;var L=M.node2;0==--h[n.indexOf(L)]&&p.indexOf(L)<0&&p.push(L)}}++g,d=p,p=[]}for(m=0;m<c.length;m++)if(1===c[m])throw new Error("Sankey is a DAG, the original data has cycle!");var R=y>g-1?y:g-1;u&&"left"!==u&&function g5(n,t,e,r){if("right"===t){for(var i=[],o=n,u=0;o.length;){for(var c=0;c<o.length;c++){var h=o[c];h.setLayout({skNodeHeight:u},!0);for(var d=0;d<h.inEdges.length;d++){var p=h.inEdges[d];i.indexOf(p.node1)<0&&i.push(p.node1)}}o=i,i=[],++u}F(n,function(g){C1(g)||g.setLayout({depth:Math.max(0,r-g.getLayout().skNodeHeight)},!0)})}else"justify"===t&&function m5(n,t){F(n,function(e){!C1(e)&&!e.outEdges.length&&e.setLayout({depth:t},!0)})}(n,r)}(n,u,0,R),function y5(n,t,e){F(n,function(r){var i=r.getLayout().depth*t;r.setLayout("vertical"===e?{y:i}:{x:i},!0)})}(n,"vertical"===o?(i-e)/R:(r-e)/R,o)})(n,t,e,i,o,c,h),function _5(n,t,e,r,i,o,u){var c=function ba(n,t){var e=[],r="vertical"===t?"y":"x",i=wf(n,function(o){return o.getLayout()[r]});return i.keys.sort(function(o,u){return o-u}),F(i.keys,function(o){e.push(i.buckets.get(o))}),e}(n,u);(function S5(n,t,e,r,i,o){var u=1/0;F(n,function(c){var h=c.length,d=0;F(c,function(g){d+=g.getLayout().value});var p="vertical"===o?(r-(h-1)*i)/d:(e-(h-1)*i)/d;p<u&&(u=p)}),F(n,function(c){F(c,function(h,d){var p=h.getLayout().value*u;"vertical"===o?(h.setLayout({x:d},!0),h.setLayout({dx:p},!0)):(h.setLayout({y:d},!0),h.setLayout({dy:p},!0))})}),F(t,function(c){var h=+c.getValue()*u;c.setLayout({dy:h},!0)})})(c,t,e,r,i,u),g_(c,i,e,r,u);for(var h=1;o>0;o--)x1(c,h*=.99,u),g_(c,i,e,r,u),dO(c,h,u),g_(c,i,e,r,u)}(n,t,o,i,r,u,c),function bW(n,t){var e="vertical"===t?"x":"y";F(n,function(r){r.outEdges.sort(function(i,o){return i.node2.getLayout()[e]-o.node2.getLayout()[e]}),r.inEdges.sort(function(i,o){return i.node1.getLayout()[e]-o.node1.getLayout()[e]})}),F(n,function(r){var i=0,o=0;F(r.outEdges,function(u){u.setLayout({sy:i},!0),i+=u.getLayout().dy}),F(r.inEdges,function(u){u.setLayout({ty:o},!0),o+=u.getLayout().dy})})}(n,c)}(d,p,r,i,u,c,0!==yt(d,function(b){return 0===b.getLayout().value}).length?0:e.get("layoutIterations"),e.get("orient"),e.get("nodeAlign"))})}function C1(n){var t=n.hostGraph.data.getRawDataItem(n.dataIndex);return null!=t.depth&&t.depth>=0}function g_(n,t,e,r,i){var o="vertical"===i?"x":"y";F(n,function(u){u.sort(function(b,D){return b.getLayout()[o]-D.getLayout()[o]});for(var c,h,d,p=0,g=u.length,m="vertical"===i?"dx":"dy",y=0;y<g;y++)(d=p-(h=u[y]).getLayout()[o])>0&&(c=h.getLayout()[o]+d,h.setLayout("vertical"===i?{x:c}:{y:c},!0)),p=h.getLayout()[o]+h.getLayout()[m]+t;if((d=p-t-("vertical"===i?r:e))>0)for(c=h.getLayout()[o]-d,h.setLayout("vertical"===i?{x:c}:{y:c},!0),p=c,y=g-2;y>=0;--y)(d=(h=u[y]).getLayout()[o]+h.getLayout()[m]+t-p)>0&&(c=h.getLayout()[o]-d,h.setLayout("vertical"===i?{x:c}:{y:c},!0)),p=h.getLayout()[o]})}function x1(n,t,e){F(n.slice().reverse(),function(r){F(r,function(i){if(i.outEdges.length){var o=Po(i.outEdges,w5,e)/Po(i.outEdges,m_);if(isNaN(o)){var u=i.outEdges.length;o=u?Po(i.outEdges,b5,e)/u:0}if("vertical"===e){var c=i.getLayout().x+(o-Rc(i,e))*t;i.setLayout({x:c},!0)}else{var h=i.getLayout().y+(o-Rc(i,e))*t;i.setLayout({y:h},!0)}}})})}function w5(n,t){return Rc(n.node2,t)*n.getValue()}function b5(n,t){return Rc(n.node2,t)}function hO(n,t){return Rc(n.node1,t)*n.getValue()}function wW(n,t){return Rc(n.node1,t)}function Rc(n,t){return"vertical"===t?n.getLayout().x+n.getLayout().dx/2:n.getLayout().y+n.getLayout().dy/2}function m_(n){return n.getValue()}function Po(n,t,e){for(var r=0,i=n.length,o=-1;++o<i;){var u=+t(n[o],e);isNaN(u)||(r+=u)}return r}function dO(n,t,e){F(n,function(r){F(r,function(i){if(i.inEdges.length){var o=Po(i.inEdges,hO,e)/Po(i.inEdges,m_);if(isNaN(o)){var u=i.inEdges.length;o=u?Po(i.inEdges,wW,e)/u:0}if("vertical"===e){var c=i.getLayout().x+(o-Rc(i,e))*t;i.setLayout({x:c},!0)}else{var h=i.getLayout().y+(o-Rc(i,e))*t;i.setLayout({y:h},!0)}}})})}function pO(n){n.eachSeriesByType("sankey",function(t){var e=t.getGraph(),r=e.nodes,i=e.edges;if(r.length){var o=1/0,u=-1/0;F(r,function(c){var h=c.getLayout().value;h<o&&(o=h),h>u&&(u=h)}),F(r,function(c){var d=new gr({type:"color",mappingMethod:"linear",dataExtent:[o,u],visual:t.get("color")}).mapValueToVisual(c.getLayout().value),p=c.getModel().get(["itemStyle","color"]);null!=p?(c.setVisual("color",p),c.setVisual("style",{fill:p})):(c.setVisual("color",d),c.setVisual("style",{fill:d}))})}i.length&&F(i,function(c){var h=c.getModel().get("lineStyle");c.setVisual("style",h)})})}var vO=function(){function n(){}return n.prototype.getInitialData=function(t,e){var r,h,i=e.getComponent("xAxis",this.get("xAxisIndex")),o=e.getComponent("yAxis",this.get("yAxisIndex")),u=i.get("type"),c=o.get("type");"category"===u?(t.layout="horizontal",r=i.getOrdinalMeta(),h=!0):"category"===c?(t.layout="vertical",r=o.getOrdinalMeta(),h=!0):t.layout=t.layout||"horizontal";var d=["x","y"],p="horizontal"===t.layout?0:1,g=this._baseAxisDim=d[p],m=d[1-p],y=[i,o],S=y[p].get("type"),b=y[1-p].get("type"),D=t.data;if(D&&h){var C=[];F(D,function(I,L){var E;te(I)?(E=I.slice(),I.unshift(L)):te(I.value)?((E=J({},I)).value=E.value.slice(),I.value.unshift(L)):E=I,C.push(E)}),t.data=C}var T=this.defaultValueDimensions,M=[{name:g,type:Oy(S),ordinalMeta:r,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:m,type:Oy(b),dimsDef:T.slice()}];return Ih(this,{coordDimensions:M,dimensionsCount:T.length+1,encodeDefaulter:Re(Wm,M,this)})},n.prototype.getBaseAxis=function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis},n}(),D5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"min",defaultTooltip:!0},{name:"Q1",defaultTooltip:!0},{name:"median",defaultTooltip:!0},{name:"Q3",defaultTooltip:!0},{name:"max",defaultTooltip:!0}],e.visualDrawType="stroke",e}return q(t,n),t.type="series.boxplot",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,boxWidth:[7,50],itemStyle:{color:"#fff",borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2,shadowBlur:5,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}},animationDuration:800},t}(Nt);un(D5,vO,!0);const DW=D5;var CW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o=e.getData(),u=this.group,c=this._data;this._data||u.removeAll();var h="horizontal"===e.get("layout")?1:0;o.diff(c).add(function(d){if(o.hasValue(d)){var g=y_(o.getItemLayout(d),o,d,h,!0);o.setItemGraphicEl(d,g),u.add(g)}}).update(function(d,p){var g=c.getItemGraphicEl(p);if(o.hasValue(d)){var m=o.getItemLayout(d);g?(zr(g),yO(m,g,o,d)):g=y_(m,o,d,h),u.add(g),o.setItemGraphicEl(d,g)}else u.remove(g)}).remove(function(d){var p=c.getItemGraphicEl(d);p&&u.remove(p)}).execute(),this._data=o},t.prototype.remove=function(e){var r=this.group,i=this._data;this._data=null,i&&i.eachItemGraphicEl(function(o){o&&r.remove(o)})},t.type="boxplot",t}(Mt),gO=function n(){},mO=function(n){function t(e){var r=n.call(this,e)||this;return r.type="boxplotBoxPath",r}return q(t,n),t.prototype.getDefaultShape=function(){return new gO},t.prototype.buildPath=function(e,r){var i=r.points,o=0;for(e.moveTo(i[o][0],i[o][1]),o++;o<4;o++)e.lineTo(i[o][0],i[o][1]);for(e.closePath();o<i.length;o++)e.moveTo(i[o][0],i[o][1]),o++,e.lineTo(i[o][0],i[o][1])},t}(Ze);function y_(n,t,e,r,i){var o=n.ends,u=new mO({shape:{points:i?C5(o,r,n):o}});return yO(n,u,t,e,i),u}function yO(n,t,e,r,i){(0,Gs[i?"initProps":"updateProps"])(t,{shape:{points:n.ends}},e.hostModel,r),t.useStyle(e.getItemVisual(r,"style")),t.style.strokeNoScale=!0,t.z2=100;var c=e.getItemModel(r),h=c.getModel("emphasis");lr(t,c),nn(t,h.get("focus"),h.get("blurScope"),h.get("disabled"))}function C5(n,t,e){return re(n,function(r){return(r=r.slice())[t]=e.initBaseline,r})}const xW=CW;var Xh=F;function x5(n){var t=function TW(n){var t=[],e=[];return n.eachSeriesByType("boxplot",function(r){var i=r.getBaseAxis(),o=Ge(e,i);o<0&&(e[o=e.length]=i,t[o]={axis:i,seriesModels:[]}),t[o].seriesModels.push(r)}),t}(n);Xh(t,function(e){var r=e.seriesModels;r.length&&(function MW(n){var c,t=n.axis,e=n.seriesModels,r=e.length,i=n.boxWidthList=[],o=n.boxOffsetList=[],u=[];if("category"===t.type)c=t.getBandWidth();else{var h=0;Xh(e,function(S){h=Math.max(h,S.getData().count())});var d=t.getExtent();c=Math.abs(d[1]-d[0])/h}Xh(e,function(S){var b=S.get("boxWidth");te(b)||(b=[b,b]),u.push([le(b[0],c)||0,le(b[1],c)||0])});var p=.8*c-2,g=p/r*.3,m=(p-g*(r-1))/r,y=m/2-p/2;Xh(e,function(S,b){o.push(y),y+=g+m,i.push(Math.min(Math.max(m,u[b][0]),u[b][1]))})}(e),Xh(r,function(i,o){!function AW(n,t,e){var r=n.coordinateSystem,i=n.getData(),o=e/2,u="horizontal"===n.get("layout")?0:1,c=1-u,h=["x","y"],d=i.mapDimension(h[u]),p=i.mapDimensionsAll(h[c]);if(!(null==d||p.length<5))for(var g=0;g<i.count();g++){var m=i.get(d,g),y=M(m,p[2],g),S=M(m,p[0],g),b=M(m,p[1],g),D=M(m,p[3],g),C=M(m,p[4],g),T=[];I(T,b,!1),I(T,D,!0),T.push(S,b,C,D),L(T,S),L(T,C),L(T,y),i.setItemLayout(g,{initBaseline:y[c],ends:T})}function M(E,R,O){var B,k=i.get(R,O),V=[];return V[u]=E,V[c]=k,isNaN(E)||isNaN(k)?B=[NaN,NaN]:(B=r.dataToPoint(V))[u]+=t,B}function I(E,R,O){var k=R.slice(),V=R.slice();k[u]+=o,V[u]-=o,O?E.push(k,V):E.push(V,k)}function L(E,R){var O=R.slice(),k=R.slice();O[u]-=o,k[u]+=o,E.push(O,k)}}(i,e.boxOffsetList[o],e.boxWidthList[o])}))})}var IW={type:"echarts:boxplot",transform:function(t){var e=t.upstream;e.sourceFormat!==Ht&&St("");var i=function T5(n,t){for(var e=[],r=[],i=(t=t||{}).boundIQR,o="none"===i||0===i,u=0;u<n.length;u++){var c=si(n[u].slice()),h=Id(c,.25),d=Id(c,.5),p=Id(c,.75),g=c[0],m=c[c.length-1],y=(i??1.5)*(p-h),S=o?g:Math.max(g,h-y),b=o?m:Math.min(m,p+y),D=t.itemNameFormatter,C=_e(D)?D({value:u}):fe(D)?D.replace("{value}",u+""):u+"";e.push([C,S,h,d,p,b]);for(var T=0;T<c.length;T++){var M=c[T];(M<S||M>b)&&r.push([C,M])}}return{boxData:e,outliers:r}}(e.getRawData(),t.config);return[{dimensions:["ItemName","Low","Q1","Q2","Q3","High"],data:i.boxData},{data:i.outliers}]}},M5=["color","borderColor"],A5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){this.group.removeClipPath(),this._progressiveEls=null,this._updateDrawMode(e),this._isLargeDraw?this._renderLarge(e):this._renderNormal(e)},t.prototype.incrementalPrepareRender=function(e,r,i){this._clear(),this._updateDrawMode(e)},t.prototype.incrementalRender=function(e,r,i,o){this._progressiveEls=[],this._isLargeDraw?this._incrementalRenderLarge(e,r):this._incrementalRenderNormal(e,r)},t.prototype.eachRendered=function(e){ms(this._progressiveEls||this.group,e)},t.prototype._updateDrawMode=function(e){var r=e.pipelineContext.large;(null==this._isLargeDraw||r!==this._isLargeDraw)&&(this._isLargeDraw=r,this._clear())},t.prototype._renderNormal=function(e){var r=e.getData(),i=this._data,o=this.group,u=r.getLayout("isSimpleBox"),c=e.get("clip",!0),h=e.coordinateSystem,d=h.getArea&&h.getArea();this._data||o.removeAll(),r.diff(i).add(function(p){if(r.hasValue(p)){var g=r.getItemLayout(p);if(c&&SO(d,g))return;var m=M1(g,0,!0);$t(m,{shape:{points:g.ends}},e,p),A1(m,r,p,u),o.add(m),r.setItemGraphicEl(p,m)}}).update(function(p,g){var m=i.getItemGraphicEl(g);if(r.hasValue(p)){var y=r.getItemLayout(p);c&&SO(d,y)?o.remove(m):(m?(dt(m,{shape:{points:y.ends}},e,p),zr(m)):m=M1(y),A1(m,r,p,u),o.add(m),r.setItemGraphicEl(p,m))}else o.remove(m)}).remove(function(p){var g=i.getItemGraphicEl(p);g&&o.remove(g)}).execute(),this._data=r},t.prototype._renderLarge=function(e){this._clear(),P5(e,this.group);var r=e.get("clip",!0)?w0(e.coordinateSystem,!1,e):null;r?this.group.setClipPath(r):this.group.removeClipPath()},t.prototype._incrementalRenderNormal=function(e,r){for(var u,i=r.getData(),o=i.getLayout("isSimpleBox");null!=(u=e.next());){var h=M1(i.getItemLayout(u));A1(h,i,u,o),h.incremental=!0,this.group.add(h),this._progressiveEls.push(h)}},t.prototype._incrementalRenderLarge=function(e,r){P5(r,this.group,this._progressiveEls,!0)},t.prototype.remove=function(e){this._clear()},t.prototype._clear=function(){this.group.removeAll(),this._data=null},t.type="candlestick",t}(Mt),T1=function n(){},I5=function(n){function t(e){var r=n.call(this,e)||this;return r.type="normalCandlestickBox",r}return q(t,n),t.prototype.getDefaultShape=function(){return new T1},t.prototype.buildPath=function(e,r){var i=r.points;this.__simpleBox?(e.moveTo(i[4][0],i[4][1]),e.lineTo(i[6][0],i[6][1])):(e.moveTo(i[0][0],i[0][1]),e.lineTo(i[1][0],i[1][1]),e.lineTo(i[2][0],i[2][1]),e.lineTo(i[3][0],i[3][1]),e.closePath(),e.moveTo(i[4][0],i[4][1]),e.lineTo(i[5][0],i[5][1]),e.moveTo(i[6][0],i[6][1]),e.lineTo(i[7][0],i[7][1]))},t}(Ze);function M1(n,t,e){var r=n.ends;return new I5({shape:{points:e?E5(r,n):r},z2:100})}function SO(n,t){for(var e=!0,r=0;r<t.ends.length;r++)if(n.contain(t.ends[r][0],t.ends[r][1])){e=!1;break}return e}function A1(n,t,e,r){var i=t.getItemModel(e);n.useStyle(t.getItemVisual(e,"style")),n.style.strokeNoScale=!0,n.__simpleBox=r,lr(n,i)}function E5(n,t){return re(n,function(e){return(e=e.slice())[1]=t.initBaseline,e})}var wO=function n(){},I1=function(n){function t(e){var r=n.call(this,e)||this;return r.type="largeCandlestickBox",r}return q(t,n),t.prototype.getDefaultShape=function(){return new wO},t.prototype.buildPath=function(e,r){for(var i=r.points,o=0;o<i.length;)if(this.__sign===i[o++]){var u=i[o++];e.moveTo(u,i[o++]),e.lineTo(u,i[o++])}else o+=3},t}(Ze);function P5(n,t,e,r){var i=n.getData(),o=i.getLayout("largePoints"),u=new I1({shape:{points:o},__sign:1,ignoreCoarsePointer:!0});t.add(u);var c=new I1({shape:{points:o},__sign:-1,ignoreCoarsePointer:!0});t.add(c);var h=new I1({shape:{points:o},__sign:0,ignoreCoarsePointer:!0});t.add(h),bO(1,u,n),bO(-1,c,n),bO(0,h,n),r&&(u.incremental=!0,c.incremental=!0),e&&e.push(u,c)}function bO(n,t,e,r){var i=e.get(["itemStyle",n>0?"borderColor":"borderColor0"])||e.get(["itemStyle",n>0?"color":"color0"]);0===n&&(i=e.get(["itemStyle","borderColorDoji"]));var o=e.getModel("itemStyle").getItemStyle(M5);t.useStyle(o),t.style.fill=null,t.style.stroke=i}const EW=A5;var L5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.defaultValueDimensions=[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],e}return q(t,n),t.prototype.getShadowDim=function(){return"open"},t.prototype.brushSelector=function(e,r,i){var o=r.getItemLayout(e);return o&&i.rect(o.brushRect)},t.type="series.candlestick",t.dependencies=["xAxis","yAxis","grid"],t.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,layout:null,clip:!0,itemStyle:{color:"#eb5454",color0:"#47b262",borderColor:"#eb5454",borderColor0:"#47b262",borderColorDoji:null,borderWidth:1},emphasis:{scale:!0,itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationEasing:"linear",animationDuration:300},t}(Nt);un(L5,vO,!0);const PW=L5;function LW(n){!n||!te(n.series)||F(n.series,function(t){xe(t)&&"k"===t.type&&(t.type="candlestick")})}var R5=["itemStyle","borderColor"],N5=["itemStyle","borderColor0"],O5=["itemStyle","borderColorDoji"],k5=["itemStyle","color"],DO=["itemStyle","color0"],Nc={seriesType:"candlestick",plan:So(),performRawSeries:!0,reset:function(n,t){function e(o,u){return u.get(o>0?k5:DO)}function r(o,u){return u.get(0===o?O5:o>0?R5:N5)}if(!t.isSeriesFiltered(n))return!n.pipelineContext.large&&{progress:function(o,u){for(var c;null!=(c=o.next());){var h=u.getItemModel(c),d=u.getItemLayout(c).sign,p=h.getItemStyle();p.fill=e(d,h),p.stroke=r(d,h)||p.fill,J(u.ensureUniqueItemVisual(c,"style"),p)}}}}};const Lo=Nc;var F5={seriesType:"candlestick",plan:So(),reset:function(n){var t=n.coordinateSystem,e=n.getData(),r=function V5(n,t){var r,e=n.getBaseAxis(),i="category"===e.type?e.getBandWidth():(r=e.getExtent(),Math.abs(r[1]-r[0])/t.count()),o=le(ke(n.get("barMaxWidth"),i),i),u=le(ke(n.get("barMinWidth"),1),i),c=n.get("barWidth");return null!=c?le(c,i):Math.max(Math.min(i/2,o),u)}(n,e),u=["x","y"],c=e.getDimensionIndex(e.mapDimension(u[0])),h=re(e.mapDimensionsAll(u[1]),e.getDimensionIndex,e),d=h[0],p=h[1],g=h[2],m=h[3];if(e.setLayout({candleWidth:r,isSimpleBox:r<=1.3}),!(c<0||h.length<4))return{progress:n.pipelineContext.large?function S(b,D){for(var M,E,C=ja(4*b.count),T=0,I=[],L=[],R=D.getStore(),O=!!n.get(["itemStyle","borderColorDoji"]);null!=(E=b.next());){var k=R.get(c,E),V=R.get(d,E),B=R.get(p,E),H=R.get(g,E),G=R.get(m,E);isNaN(k)||isNaN(H)||isNaN(G)?(C[T++]=NaN,T+=3):(C[T++]=E1(R,E,V,B,p,O),I[0]=k,I[1]=H,M=t.dataToPoint(I,null,L),C[T++]=M?M[0]:NaN,C[T++]=M?M[1]:NaN,I[1]=G,M=t.dataToPoint(I,null,L),C[T++]=M?M[1]:NaN)}D.setLayout("largePoints",C)}:function y(b,D){for(var C,T=D.getStore();null!=(C=b.next());){var M=T.get(c,C),I=T.get(d,C),L=T.get(p,C),E=T.get(g,C),R=T.get(m,C),O=Math.min(I,L),k=Math.max(I,L),V=K(O,M),B=K(k,M),H=K(E,M),G=K(R,M),j=[];X(j,B,0),X(j,V,1),j.push(oe(G),oe(B),oe(H),oe(V));var Y=!!D.getItemModel(C).get(["itemStyle","borderColorDoji"]);D.setItemLayout(C,{sign:E1(T,C,I,L,p,Y),initBaseline:I>L?B[1]:V[1],ends:j,brushRect:(he=E,me=R,Ie=M,Me=void 0,qe=void 0,Me=K(he,Ie),qe=K(me,Ie),Me[0]-=r/2,qe[0]-=r/2,{x:Me[0],y:Me[1],width:r,height:qe[1]-Me[1]})})}var he,me,Ie,Me,qe;function K(he,me){var Ie=[];return Ie[0]=me,Ie[1]=he,isNaN(me)||isNaN(he)?[NaN,NaN]:t.dataToPoint(Ie)}function X(he,me,Ie){var Me=me.slice(),qe=me.slice();Me[0]=Tp(Me[0]+r/2,1,!1),qe[0]=Tp(qe[0]-r/2,1,!0),Ie?he.push(Me,qe):he.push(qe,Me)}function oe(he){return he[0]=Tp(he[0],1),he}}}}};function E1(n,t,e,r,i,o){return e>r?-1:e<r?1:o?0:t>0?n.get(i,t-1)<=r?1:-1:1}const B5=F5;function ig(n,t){var e=t.rippleEffectColor||t.color;n.eachChild(function(r){r.attr({z:t.z,zlevel:t.zlevel,style:{stroke:"stroke"===t.brushType?e:null,fill:"fill"===t.brushType?e:null}})})}var Zl=function(n){function t(e,r){var i=n.call(this)||this,o=new Wa(e,r),u=new Ee;return i.add(o),i.add(u),i.updateData(e,r),i}return q(t,n),t.prototype.stopEffectAnimation=function(){this.childAt(1).removeAll()},t.prototype.startEffectAnimation=function(e){for(var r=e.symbolType,i=e.color,o=e.rippleNumber,u=this.childAt(1),c=0;c<o;c++){var h=dn(r,-1,-1,2,2,i);h.attr({style:{strokeNoScale:!0},z2:99,silent:!0,scaleX:.5,scaleY:.5});var d=-c/o*e.period+e.effectOffset;h.animate("",!0).when(e.period,{scaleX:e.rippleScale/2,scaleY:e.rippleScale/2}).delay(d).start(),h.animateStyle(!0).when(e.period,{opacity:0}).delay(d).start(),u.add(h)}ig(u,e)},t.prototype.updateEffectAnimation=function(e){for(var r=this._effectCfg,i=this.childAt(1),o=["symbolType","period","rippleScale","rippleNumber"],u=0;u<o.length;u++){var c=o[u];if(r[c]!==e[c])return this.stopEffectAnimation(),void this.startEffectAnimation(e)}ig(i,e)},t.prototype.highlight=function(){Jo(this)},t.prototype.downplay=function(){es(this)},t.prototype.getSymbolType=function(){var e=this.childAt(0);return e&&e.getSymbolType()},t.prototype.updateData=function(e,r){var i=this,o=e.hostModel;this.childAt(0).updateData(e,r);var u=this.childAt(1),c=e.getItemModel(r),h=e.getItemVisual(r,"symbol"),d=Ju(e.getItemVisual(r,"symbolSize")),p=e.getItemVisual(r,"style"),g=p&&p.fill,m=c.getModel("emphasis");u.setScale(d),u.traverse(function(D){D.setStyle("fill",g)});var y=Nl(e.getItemVisual(r,"symbolOffset"),d);y&&(u.x=y[0],u.y=y[1]);var S=e.getItemVisual(r,"symbolRotate");u.rotation=(S||0)*Math.PI/180||0;var b={};b.showEffectOn=o.get("showEffectOn"),b.rippleScale=c.get(["rippleEffect","scale"]),b.brushType=c.get(["rippleEffect","brushType"]),b.period=1e3*c.get(["rippleEffect","period"]),b.effectOffset=r/e.count(),b.z=o.getShallow("z")||0,b.zlevel=o.getShallow("zlevel")||0,b.symbolType=h,b.color=g,b.rippleEffectColor=c.get(["rippleEffect","color"]),b.rippleNumber=c.get(["rippleEffect","number"]),"render"===b.showEffectOn?(this._effectCfg?this.updateEffectAnimation(b):this.startEffectAnimation(b),this._effectCfg=b):(this._effectCfg=null,this.stopEffectAnimation(),this.onHoverStateChange=function(D){"emphasis"===D?"render"!==b.showEffectOn&&i.startEffectAnimation(b):"normal"===D&&"render"!==b.showEffectOn&&i.stopEffectAnimation()}),this._effectCfg=b,nn(this,m.get("focus"),m.get("blurScope"),m.get("disabled"))},t.prototype.fadeOut=function(e){e&&e()},t}(Ee);const CO=Zl;var Rr=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(){this._symbolDraw=new gv(CO)},t.prototype.render=function(e,r,i){var o=e.getData(),u=this._symbolDraw;u.updateData(o,{clipShape:this._getClipShape(e)}),this.group.add(u.group)},t.prototype._getClipShape=function(e){var r=e.coordinateSystem,i=r&&r.getArea&&r.getArea();return e.get("clip",!0)?i:null},t.prototype.updateTransform=function(e,r,i){var o=e.getData();this.group.dirty();var u=Sv("").reset(e,r,i);u.progress&&u.progress({start:0,end:o.count(),count:o.count()},o),this._symbolDraw.updateLayout()},t.prototype._updateGroupTransform=function(e){var r=e.coordinateSystem;r&&r.getRoamTransform&&(this.group.transform=Zc(r.getRoamTransform()),this.group.decomposeTransform())},t.prototype.remove=function(e,r){this._symbolDraw&&this._symbolDraw.remove(!0)},t.type="effectScatter",t}(Mt);const ql=Rr;var H5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e}return q(t,n),t.prototype.getInitialData=function(e,r){return Ua(null,this,{useEncodeDefaulter:!0})},t.prototype.brushSelector=function(e,r,i){return i.point(r.getItemLayout(e))},t.type="series.effectScatter",t.dependencies=["grid","polar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,effectType:"ripple",progressive:0,showEffectOn:"render",clip:!0,rippleEffect:{period:4,scale:2.5,brushType:"fill",number:3},universalTransition:{divideShape:"clone"},symbolSize:10},t}(Nt);const RW=H5;var TO=function(n){function t(e,r,i){var o=n.call(this)||this;return o.add(o.createLine(e,r,i)),o._updateEffectSymbol(e,r),o}return q(t,n),t.prototype.createLine=function(e,r,i){return new J0(e,r,i)},t.prototype._updateEffectSymbol=function(e,r){var o=e.getItemModel(r).getModel("effect"),u=o.get("symbolSize"),c=o.get("symbol");te(u)||(u=[u,u]);var h=e.getItemVisual(r,"style"),d=o.get("color")||h&&h.stroke,p=this.childAt(1);this._symbolType!==c&&(this.remove(p),(p=dn(c,-.5,-.5,1,1,d)).z2=100,p.culling=!0,this.add(p)),p&&(p.setStyle("shadowColor",d),p.setStyle(o.getItemStyle(["color"])),p.scaleX=u[0],p.scaleY=u[1],p.setColor(d),this._symbolType=c,this._symbolScale=u,this._updateEffectAnimation(e,o,r))},t.prototype._updateEffectAnimation=function(e,r,i){var o=this.childAt(1);if(o){var u=e.getItemLayout(i),c=1e3*r.get("period"),h=r.get("loop"),d=r.get("roundTrip"),p=r.get("constantSpeed"),g=bt(r.get("delay"),function(y){return y/e.count()*c/3});if(o.ignore=!0,this._updateAnimationPoints(o,u),p>0&&(c=this._getLineLength(o)/p*1e3),c!==this._period||h!==this._loop||d!==this._roundTrip){o.stopAnimation();var m=void 0;m=_e(g)?g(i):g,o.__t>0&&(m=-c*o.__t),this._animateSymbol(o,c,m,h,d)}this._period=c,this._loop=h,this._roundTrip=d}},t.prototype._animateSymbol=function(e,r,i,o,u){if(r>0){e.__t=0;var c=this,h=e.animate("",o).when(u?2*r:r,{__t:u?2:1}).delay(i).during(function(){c._updateSymbolPosition(e)});o||h.done(function(){c.remove(e)}),h.start()}},t.prototype._getLineLength=function(e){return Ws(e.__p1,e.__cp1)+Ws(e.__cp1,e.__p2)},t.prototype._updateAnimationPoints=function(e,r){e.__p1=r[0],e.__p2=r[1],e.__cp1=r[2]||[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2]},t.prototype.updateData=function(e,r,i){this.childAt(0).updateData(e,r,i),this._updateEffectSymbol(e,r)},t.prototype._updateSymbolPosition=function(e){var r=e.__p1,i=e.__p2,o=e.__cp1,u=e.__t<1?e.__t:2-e.__t,c=[e.x,e.y],h=c.slice(),d=en,p=qs;c[0]=d(r[0],o[0],i[0],u),c[1]=d(r[1],o[1],i[1],u);var g=e.__t<1?p(r[0],o[0],i[0],u):p(i[0],o[0],r[0],1-u),m=e.__t<1?p(r[1],o[1],i[1],u):p(i[1],o[1],r[1],1-u);e.rotation=-Math.atan2(m,g)-Math.PI/2,("line"===this._symbolType||"rect"===this._symbolType||"roundRect"===this._symbolType)&&(void 0!==e.__lastT&&e.__lastT<e.__t?(e.scaleY=1.05*Ws(h,c),1===u&&(c[0]=h[0]+(c[0]-h[0])/2,c[1]=h[1]+(c[1]-h[1])/2)):e.scaleY=1===e.__lastT?2*Ws(r,c):this._symbolScale[1]),e.__lastT=e.__t,e.ignore=!1,e.x=c[0],e.y=c[1]},t.prototype.updateLayout=function(e,r){this.childAt(0).updateLayout(e,r);var i=e.getItemModel(r).getModel("effect");this._updateEffectAnimation(e,i,r)},t}(Ee);const P1=TO;var MO=function(n){function t(e,r,i){var o=n.call(this)||this;return o._createPolyline(e,r,i),o}return q(t,n),t.prototype._createPolyline=function(e,r,i){var o=e.getItemLayout(r),u=new Wr({shape:{points:o}});this.add(u),this._updateCommonStl(e,r,i)},t.prototype.updateData=function(e,r,i){var o=e.hostModel;dt(this.childAt(0),{shape:{points:e.getItemLayout(r)}},o,r),this._updateCommonStl(e,r,i)},t.prototype._updateCommonStl=function(e,r,i){var o=this.childAt(0),u=e.getItemModel(r),c=i&&i.emphasisLineStyle,h=i&&i.focus,d=i&&i.blurScope,p=i&&i.emphasisDisabled;if(!i||e.hasItemOption){var g=u.getModel("emphasis");c=g.getModel("lineStyle").getLineStyle(),p=g.get("disabled"),h=g.get("focus"),d=g.get("blurScope")}o.useStyle(e.getItemVisual(r,"style")),o.style.fill=null,o.style.strokeNoScale=!0,o.ensureState("emphasis").style=c,nn(this,h,d,p)},t.prototype.updateLayout=function(e,r){this.childAt(0).setShape("points",e.getItemLayout(r))},t}(Ee);const L1=MO;var AO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e._lastFrame=0,e._lastFramePercent=0,e}return q(t,n),t.prototype.createLine=function(e,r,i){return new L1(e,r,i)},t.prototype._updateAnimationPoints=function(e,r){this._points=r;for(var i=[0],o=0,u=1;u<r.length;u++)o+=Ws(r[u-1],r[u]),i.push(o);if(0!==o){for(u=0;u<i.length;u++)i[u]/=o;this._offsets=i,this._length=o}else this._length=0},t.prototype._getLineLength=function(){return this._length},t.prototype._updateSymbolPosition=function(e){var r=e.__t<1?e.__t:2-e.__t,i=this._points,o=this._offsets,u=i.length;if(o){var h,c=this._lastFrame;if(r<this._lastFramePercent){for(h=Math.min(c+1,u-1);h>=0&&!(o[h]<=r);h--);h=Math.min(h,u-2)}else{for(h=c;h<u&&!(o[h]>r);h++);h=Math.min(h-1,u-2)}var p=(r-o[h])/(o[h+1]-o[h]),g=i[h],m=i[h+1];e.x=g[0]*(1-p)+p*m[0],e.y=g[1]*(1-p)+p*m[1],e.rotation=-Math.atan2(e.__t<1?m[1]-g[1]:g[1]-m[1],e.__t<1?m[0]-g[0]:g[0]-m[0])-Math.PI/2,this._lastFrame=h,this._lastFramePercent=r,e.ignore=!1}},t}(P1);const IO=AO;var EO=function n(){this.polyline=!1,this.curveness=0,this.segs=[]},__=function(n){function t(e){var r=n.call(this,e)||this;return r._off=0,r.hoverDataIdx=-1,r}return q(t,n),t.prototype.reset=function(){this.notClear=!1,this._off=0},t.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},t.prototype.getDefaultShape=function(){return new EO},t.prototype.buildPath=function(e,r){var u,i=r.segs,o=r.curveness;if(r.polyline)for(u=this._off;u<i.length;){var c=i[u++];if(c>0){e.moveTo(i[u++],i[u++]);for(var h=1;h<c;h++)e.lineTo(i[u++],i[u++])}}else for(u=this._off;u<i.length;){var d=i[u++],p=i[u++],g=i[u++],m=i[u++];e.moveTo(d,p),o>0?e.quadraticCurveTo((d+g)/2-(p-m)*o,(p+m)/2-(g-d)*o,g,m):e.lineTo(g,m)}this.incremental&&(this._off=u,this.notClear=!0)},t.prototype.findDataIndex=function(e,r){var i=this.shape,o=i.segs,u=i.curveness,c=this.style.lineWidth;if(i.polyline)for(var h=0,d=0;d<o.length;){var p=o[d++];if(p>0)for(var g=o[d++],m=o[d++],y=1;y<p;y++)if(ol(g,m,S=o[d++],b=o[d++],c,e,r))return h;h++}else for(h=0,d=0;d<o.length;){g=o[d++],m=o[d++];var S=o[d++],b=o[d++];if(u>0){if(ym(g,m,(g+S)/2-(m-b)*u,(m+b)/2-(S-g)*u,S,b,c,e,r))return h}else if(ol(g,m,S,b,c,e,r))return h;h++}return-1},t.prototype.contain=function(e,r){var i=this.transformCoordToLocal(e,r);return this.getBoundingRect().contain(e=i[0],r=i[1])?(this.hoverDataIdx=this.findDataIndex(e,r))>=0:(this.hoverDataIdx=-1,!1)},t.prototype.getBoundingRect=function(){var e=this._rect;if(!e){for(var i=this.shape.segs,o=1/0,u=1/0,c=-1/0,h=-1/0,d=0;d<i.length;){var p=i[d++],g=i[d++];o=Math.min(p,o),c=Math.max(p,c),u=Math.min(g,u),h=Math.max(g,h)}e=this._rect=new Be(o,u,c,h)}return e},t}(Ze),PO=function(){function n(){this.group=new Ee}return n.prototype.updateData=function(t){this._clear();var e=this._create();e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t)},n.prototype.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clear()},n.prototype.incrementalUpdate=function(t,e){var r=this._newAdded[0],i=e.getLayout("linesPoints"),o=r&&r.shape.segs;if(o&&o.length<2e4){var u=o.length,c=new Float32Array(u+i.length);c.set(o),c.set(i,u),r.setShape({segs:c})}else{this._newAdded=[];var h=this._create();h.incremental=!0,h.setShape({segs:i}),this._setCommon(h,e),h.__startIndex=t.start}},n.prototype.remove=function(){this._clear()},n.prototype.eachRendered=function(t){this._newAdded[0]&&t(this._newAdded[0])},n.prototype._create=function(){var t=new __({cursor:"default",ignoreCoarsePointer:!0});return this._newAdded.push(t),this.group.add(t),t},n.prototype._setCommon=function(t,e,r){var i=e.hostModel;t.setShape({polyline:i.get("polyline"),curveness:i.get(["lineStyle","curveness"])}),t.useStyle(i.getModel("lineStyle").getLineStyle()),t.style.strokeNoScale=!0;var o=e.getVisual("style");o&&o.stroke&&t.setStyle("stroke",o.stroke),t.setStyle("fill",null);var u=Oe(t);u.seriesIndex=i.seriesIndex,t.on("mousemove",function(c){u.dataIndex=null;var h=t.hoverDataIdx;h>0&&(u.dataIndex=h+t.__startIndex)})},n.prototype._clear=function(){this._newAdded=[],this.group.removeAll()},n}();const LO=PO;var RO={seriesType:"lines",plan:So(),reset:function(n){var t=n.coordinateSystem;if(t){var e=n.get("polyline"),r=n.pipelineContext.large;return{progress:function(i,o){var u=[];if(r){var c=void 0,h=i.end-i.start;if(e){for(var d=0,p=i.start;p<i.end;p++)d+=n.getLineCoordsCount(p);c=new Float32Array(h+2*d)}else c=new Float32Array(4*h);var g=0,m=[];for(p=i.start;p<i.end;p++){var y=n.getLineCoords(p,u);e&&(c[g++]=y);for(var S=0;S<y;S++)m=t.dataToPoint(u[S],!1,m),c[g++]=m[0],c[g++]=m[1]}o.setLayout("linesPoints",c)}else for(p=i.start;p<i.end;p++){var b=o.getItemModel(p),D=(y=n.getLineCoords(p,u),[]);if(e)for(var C=0;C<y;C++)D.push(t.dataToPoint(u[C]));else{D[0]=t.dataToPoint(u[0]),D[1]=t.dataToPoint(u[1]);var T=b.get(["lineStyle","curveness"]);+T&&(D[2]=[(D[0][0]+D[1][0])/2-(D[0][1]-D[1][1])*T,(D[0][1]+D[1][1])/2-(D[1][0]-D[0][0])*T])}o.setItemLayout(p,D)}}}}}};const R1=RO;var G5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o=e.getData(),u=this._updateLineDraw(o,e),c=e.get("zlevel"),h=e.get(["effect","trailLength"]),d=i.getZr(),p="svg"===d.painter.getType();p||d.painter.getLayer(c).clear(!0),null!=this._lastZlevel&&!p&&d.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(e)&&h>0&&(p||d.configLayer(c,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(h/10+.9,1),0)})),u.updateData(o);var g=e.get("clip",!0)&&w0(e.coordinateSystem,!1,e);g?this.group.setClipPath(g):this.group.removeClipPath(),this._lastZlevel=c,this._finished=!0},t.prototype.incrementalPrepareRender=function(e,r,i){var o=e.getData();this._updateLineDraw(o,e).incrementalPrepareUpdate(o),this._clearLayer(i),this._finished=!1},t.prototype.incrementalRender=function(e,r,i){this._lineDraw.incrementalUpdate(e,r.getData()),this._finished=e.end===r.getData().count()},t.prototype.eachRendered=function(e){this._lineDraw&&this._lineDraw.eachRendered(e)},t.prototype.updateTransform=function(e,r,i){var o=e.getData(),u=e.pipelineContext;if(!this._finished||u.large||u.progressiveRender)return{update:!0};var c=R1.reset(e,r,i);c.progress&&c.progress({start:0,end:o.count(),count:o.count()},o),this._lineDraw.updateLayout(),this._clearLayer(i)},t.prototype._updateLineDraw=function(e,r){var i=this._lineDraw,o=this._showEffect(r),u=!!r.get("polyline"),h=r.pipelineContext.large;return(!i||o!==this._hasEffet||u!==this._isPolyline||h!==this._isLargeDraw)&&(i&&i.remove(),i=this._lineDraw=h?new LO:new jh(u?o?IO:L1:o?P1:J0),this._hasEffet=o,this._isPolyline=u,this._isLargeDraw=h),this.group.add(i.group),i},t.prototype._showEffect=function(e){return!!e.get(["effect","show"])},t.prototype._clearLayer=function(e){var r=e.getZr();"svg"!==r.painter.getType()&&null!=this._lastZlevel&&r.painter.getLayer(this._lastZlevel).clear(!0)},t.prototype.remove=function(e,r){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(r)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.type="lines",t}(Mt);const NO=G5;var OO=typeof Uint32Array>"u"?Array:Uint32Array,N1=typeof Float64Array>"u"?Array:Float64Array;function O1(n){var t=n.data;t&&t[0]&&t[0][0]&&t[0][0].coord&&(n.data=re(t,function(e){var i={coords:[e[0].coord,e[1].coord]};return e[0].name&&(i.fromName=e[0].name),e[1].name&&(i.toName=e[1].name),Pg([i,e[0],e[1]])}))}var k1=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.visualStyleAccessPath="lineStyle",e.visualDrawType="stroke",e}return q(t,n),t.prototype.init=function(e){e.data=e.data||[],O1(e);var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count)),n.prototype.init.apply(this,arguments)},t.prototype.mergeOption=function(e){if(O1(e),e.data){var r=this._processFlatCoordsArray(e.data);this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset,r.flatCoords&&(e.data=new Float32Array(r.count))}n.prototype.mergeOption.apply(this,arguments)},t.prototype.appendData=function(e){var r=this._processFlatCoordsArray(e.data);r.flatCoords&&(this._flatCoords?(this._flatCoords=hd(this._flatCoords,r.flatCoords),this._flatCoordsOffset=hd(this._flatCoordsOffset,r.flatCoordsOffset)):(this._flatCoords=r.flatCoords,this._flatCoordsOffset=r.flatCoordsOffset),e.data=new Float32Array(r.count)),this.getRawData().appendData(e.data)},t.prototype._getCoordsFromItemModel=function(e){var r=this.getData().getItemModel(e);return r.option instanceof Array?r.option:r.getShallow("coords")},t.prototype.getLineCoordsCount=function(e){return this._flatCoordsOffset?this._flatCoordsOffset[2*e+1]:this._getCoordsFromItemModel(e).length},t.prototype.getLineCoords=function(e,r){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*e],o=this._flatCoordsOffset[2*e+1],u=0;u<o;u++)r[u]=r[u]||[],r[u][0]=this._flatCoords[i+2*u],r[u][1]=this._flatCoords[i+2*u+1];return o}var c=this._getCoordsFromItemModel(e);for(u=0;u<c.length;u++)r[u]=r[u]||[],r[u][0]=c[u][0],r[u][1]=c[u][1];return c.length},t.prototype._processFlatCoordsArray=function(e){var r=0;if(this._flatCoords&&(r=this._flatCoords.length),ft(e[0])){for(var i=e.length,o=new OO(i),u=new N1(i),c=0,h=0,d=0,p=0;p<i;){d++;var g=e[p++];o[h++]=c+r,o[h++]=g;for(var m=0;m<g;m++){var y=e[p++],S=e[p++];u[c++]=y,u[c++]=S}}return{flatCoordsOffset:new Uint32Array(o.buffer,0,h),flatCoords:u,count:d}}return{flatCoordsOffset:null,flatCoords:null,count:e.length}},t.prototype.getInitialData=function(e,r){var o=new on(["value"],this);return o.hasItemOption=!1,o.initData(e.data,[],function(u,c,h,d){if(u instanceof Array)return NaN;o.hasItemOption=!0;var p=u.value;return null!=p?p instanceof Array?p[d]:p:void 0}),o},t.prototype.formatTooltip=function(e,r,i){var u=this.getData().getItemModel(e),c=u.get("name");if(c)return c;var h=u.get("fromName"),d=u.get("toName"),p=[];return null!=h&&p.push(h),null!=d&&p.push(d),hn("nameValue",{name:p.join(" > ")})},t.prototype.preventIncremental=function(){return!!this.get(["effect","show"])},t.prototype.getProgressive=function(){return this.option.progressive??(this.option.large?1e4:this.get("progressive"))},t.prototype.getProgressiveThreshold=function(){return this.option.progressiveThreshold??(this.option.large?2e4:this.get("progressiveThreshold"))},t.prototype.getZLevelKey=function(){var e=this.getModel("effect"),r=e.get("trailLength");return this.getData().count()>this.getProgressiveThreshold()?this.id:e.get("show")&&r>0?r+"":""},t.type="series.lines",t.dependencies=["grid","polar","geo","calendar"],t.defaultOption={coordinateSystem:"geo",z:2,legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}},t}(Nt);const kO=k1;function ag(n){return n instanceof Array||(n=[n,n]),n}var FO={seriesType:"lines",reset:function(n){var t=ag(n.get("symbol")),e=ag(n.get("symbolSize")),r=n.getData();return r.setVisual("fromSymbol",t&&t[0]),r.setVisual("toSymbol",t&&t[1]),r.setVisual("fromSymbolSize",e&&e[0]),r.setVisual("toSymbolSize",e&&e[1]),{dataEach:r.hasItemOption?function i(o,u){var c=o.getItemModel(u),h=ag(c.getShallow("symbol",!0)),d=ag(c.getShallow("symbolSize",!0));h[0]&&o.setItemVisual(u,"fromSymbol",h[0]),h[1]&&o.setItemVisual(u,"toSymbol",h[1]),d[0]&&o.setItemVisual(u,"fromSymbolSize",d[0]),d[1]&&o.setItemVisual(u,"toSymbolSize",d[1])}:null}}};const F1=FO;var BO=function(){function n(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=eo.createCanvas();this.canvas=t}return n.prototype.update=function(t,e,r,i,o,u){var c=this._getBrush(),h=this._getGradient(o,"inRange"),d=this._getGradient(o,"outOfRange"),p=this.pointSize+this.blurSize,g=this.canvas,m=g.getContext("2d"),y=t.length;g.width=e,g.height=r;for(var S=0;S<y;++S){var b=t[S],D=b[0],C=b[1],M=i(b[2]);m.globalAlpha=M,m.drawImage(c,D-p,C-p)}if(!g.width||!g.height)return g;for(var I=m.getImageData(0,0,g.width,g.height),L=I.data,E=0,R=L.length,O=this.minOpacity,V=this.maxOpacity-O;E<R;){M=L[E+3]/256;var B=4*Math.floor(255*M);if(M>0){var H=u(M)?h:d;M>0&&(M=M*V+O),L[E++]=H[B],L[E++]=H[B+1],L[E++]=H[B+2],L[E++]=H[B+3]*M*256}else E+=4}return m.putImageData(I,0,0),g},n.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=eo.createCanvas()),e=this.pointSize+this.blurSize,r=2*e;t.width=r,t.height=r;var i=t.getContext("2d");return i.clearRect(0,0,r,r),i.shadowOffsetX=r,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},n.prototype._getGradient=function(t,e){for(var r=this._gradientPixels,i=r[e]||(r[e]=new Uint8ClampedArray(1024)),o=[0,0,0,0],u=0,c=0;c<256;c++)t[e](c/255,!0,o),i[u++]=o[0],i[u++]=o[1],i[u++]=o[2],i[u++]=o[3];return i},n}();const zO=BO;function V1(n){var t=n.dimensions;return"lng"===t[0]&&"lat"===t[1]}var NW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o;r.eachComponent("visualMap",function(c){c.eachTargetSeries(function(h){h===e&&(o=c)})}),this._progressiveEls=null,this.group.removeAll();var u=e.coordinateSystem;"cartesian2d"===u.type||"calendar"===u.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):V1(u)&&this._renderOnGeo(u,e,o,i)},t.prototype.incrementalPrepareRender=function(e,r,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,r,i,o){var u=r.coordinateSystem;u&&(V1(u)?this.render(r,i,o):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(r,o,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){ms(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,r,i,o,u){var d,p,g,m,c=e.coordinateSystem,h=Th(c,"cartesian2d");if(h){var y=c.getAxis("x"),S=c.getAxis("y");d=y.getBandWidth()+.5,p=S.getBandWidth()+.5,g=y.scale.getExtent(),m=S.scale.getExtent()}for(var b=this.group,D=e.getData(),C=e.getModel(["emphasis","itemStyle"]).getItemStyle(),T=e.getModel(["blur","itemStyle"]).getItemStyle(),M=e.getModel(["select","itemStyle"]).getItemStyle(),I=e.get(["itemStyle","borderRadius"]),L=qn(e),E=e.getModel("emphasis"),R=E.get("focus"),O=E.get("blurScope"),k=E.get("disabled"),V=h?[D.mapDimension("x"),D.mapDimension("y"),D.mapDimension("value")]:[D.mapDimension("time"),D.mapDimension("value")],B=i;B<o;B++){var H=void 0,G=D.getItemVisual(B,"style");if(h){var j=D.get(V[0],B),W=D.get(V[1],B);if(isNaN(D.get(V[2],B))||isNaN(j)||isNaN(W)||j<g[0]||j>g[1]||W<m[0]||W>m[1])continue;var Y=c.dataToPoint([j,W]);H=new st({shape:{x:Y[0]-d/2,y:Y[1]-p/2,width:d,height:p},style:G})}else{if(isNaN(D.get(V[1],B)))continue;H=new st({z2:1,shape:c.dataToRect([D.get(V[0],B)]).contentShape,style:G})}if(D.hasItemOption){var K=D.getItemModel(B),X=K.getModel("emphasis");C=X.getModel("itemStyle").getItemStyle(),T=K.getModel(["blur","itemStyle"]).getItemStyle(),M=K.getModel(["select","itemStyle"]).getItemStyle(),I=K.get(["itemStyle","borderRadius"]),R=X.get("focus"),O=X.get("blurScope"),k=X.get("disabled"),L=qn(K)}H.shape.r=I;var ee=e.getRawValue(B),oe="-";ee&&null!=ee[2]&&(oe=ee[2]+""),xr(H,L,{labelFetcher:e,labelDataIndex:B,defaultOpacity:G.opacity,defaultText:oe}),H.ensureState("emphasis").style=C,H.ensureState("blur").style=T,H.ensureState("select").style=M,nn(H,R,O,k),H.incremental=u,u&&(H.states.emphasis.hoverLayer=!0),b.add(H),D.setItemGraphicEl(B,H),this._progressiveEls&&this._progressiveEls.push(H)}},t.prototype._renderOnGeo=function(e,r,i,o){var u=i.targetVisuals.inRange,c=i.targetVisuals.outOfRange,h=r.getData(),d=this._hmLayer||this._hmLayer||new zO;d.blurSize=r.get("blurSize"),d.pointSize=r.get("pointSize"),d.minOpacity=r.get("minOpacity"),d.maxOpacity=r.get("maxOpacity");var p=e.getViewRect().clone(),g=e.getRoamTransform();p.applyTransform(g);var m=Math.max(p.x,0),y=Math.max(p.y,0),S=Math.min(p.width+p.x,o.getWidth()),b=Math.min(p.height+p.y,o.getHeight()),D=S-m,C=b-y,T=[h.mapDimension("lng"),h.mapDimension("lat"),h.mapDimension("value")],M=h.mapArray(T,function(R,O,k){var V=e.dataToPoint([R,O]);return V[0]-=m,V[1]-=y,V.push(k),V}),I=i.getExtent(),L="visualMap.continuous"===i.type?function Xl(n,t){var e=n[1]-n[0];return t=[(t[0]-n[0])/e,(t[1]-n[0])/e],function(r){return r>=t[0]&&r<=t[1]}}(I,i.option.range):function Qr(n,t,e){var r=n[1]-n[0],i=(t=re(t,function(u){return{interval:[(u.interval[0]-n[0])/r,(u.interval[1]-n[0])/r]}})).length,o=0;return function(u){var c;for(c=o;c<i;c++)if((h=t[c].interval)[0]<=u&&u<=h[1]){o=c;break}if(c===i)for(c=o-1;c>=0;c--){var h;if((h=t[c].interval)[0]<=u&&u<=h[1]){o=c;break}}return c>=0&&c<i&&e[c]}}(I,i.getPieceList(),i.option.selected);d.update(M,D,C,u.color.getNormalizer(),{inRange:u.color.getColorMapper(),outOfRange:c.color.getColorMapper()},L);var E=new Zn({style:{width:D,height:C,x:m,y,image:d.canvas},silent:!0});this.group.add(E)},t.type="heatmap",t}(Mt);const OW=NW;var HO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.getInitialData=function(e,r){return Ua(null,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=zf.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Nt);const GO=HO;var w_=["itemStyle","borderWidth"],UO=[{xy:"x",wh:"width",index:0,posDesc:["left","right"]},{xy:"y",wh:"height",index:1,posDesc:["top","bottom"]}],og=new bo,U5=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o=this.group,u=e.getData(),c=this._data,h=e.coordinateSystem,p=h.getBaseAxis().isHorizontal(),g=h.master.getRect(),m={ecSize:{width:i.getWidth(),height:i.getHeight()},seriesModel:e,coordSys:h,coordSysExtent:[[g.x,g.x+g.width],[g.y,g.y+g.height]],isHorizontal:p,valueDim:UO[+p],categoryDim:UO[1-+p]};return u.diff(c).add(function(y){if(u.hasValue(y)){var S=Z5(u,y),b=j5(u,y,S,m),D=Oc(u,m,b);u.setItemGraphicEl(y,D),o.add(D),cg(D,m,b)}}).update(function(y,S){var b=c.getItemGraphicEl(S);if(u.hasValue(y)){var D=Z5(u,y),C=j5(u,y,D,m),T=$O(u,C);b&&T!==b.__pictorialShapeStr&&(o.remove(b),u.setItemGraphicEl(y,null),b=null),b?function lg(n,t,e){dt(n.__pictorialBundle,{x:e.bundlePosition[0],y:e.bundlePosition[1]},e.animationModel,e.dataIndex),e.symbolRepeat?WO(n,t,e,!0):z1(n,0,e,!0),$5(n,e,!0),Y5(n,t,e,!0)}(b,m,C):b=Oc(u,m,C,!0),u.setItemGraphicEl(y,b),b.__pictorialSymbolMeta=C,o.add(b),cg(b,m,C)}else o.remove(b)}).remove(function(y){var S=c.getItemGraphicEl(y);S&&D_(c,y,S.__pictorialSymbolMeta.animationModel,S)}).execute(),this._data=u,this.group},t.prototype.remove=function(e,r){var i=this.group,o=this._data;e.get("animation")?o&&o.eachItemGraphicEl(function(u){D_(o,Oe(u).dataIndex,e,u)}):i.removeAll()},t.type="pictorialBar",t}(Mt);function j5(n,t,e,r){var i=n.getItemLayout(t),o=e.get("symbolRepeat"),u=e.get("symbolClip"),c=e.get("symbolPosition")||"start",d=(e.get("symbolRotate")||0)*Math.PI/180||0,p=e.get("symbolPatternSize")||2,g=e.isAnimationEnabled(),m={dataIndex:t,layout:i,itemModel:e,symbolType:n.getItemVisual(t,"symbol")||"circle",style:n.getItemVisual(t,"style"),symbolClip:u,symbolRepeat:o,symbolRepeatDirection:e.get("symbolRepeatDirection"),symbolPatternSize:p,rotation:d,animationModel:g?e:null,hoverScale:g&&e.get(["emphasis","scale"]),z2:e.getShallow("z",!0)||0};(function kW(n,t,e,r,i){var p,o=r.valueDim,u=n.get("symbolBoundingData"),c=r.coordSys.getOtherAxis(r.coordSys.getBaseAxis()),h=c.toGlobalCoord(c.dataToCoord(0)),d=1-+(e[o.wh]<=0);if(te(u)){var g=[jO(c,u[0])-h,jO(c,u[1])-h];g[1]<g[0]&&g.reverse(),p=g[d]}else p=null!=u?jO(c,u)-h:t?r.coordSysExtent[o.index][d]-h:e[o.wh];i.boundingLength=p,t&&(i.repeatCutLength=e[o.wh]),i.pxSign=p>0?1:-1})(e,o,i,r,m),function FW(n,t,e,r,i,o,u,c,h,d){var S,p=h.valueDim,g=h.categoryDim,m=Math.abs(e[g.wh]),y=n.getItemVisual(t,"symbolSize");(S=te(y)?y.slice():null==y?["100%","100%"]:[y,y])[g.index]=le(S[g.index],m),S[p.index]=le(S[p.index],r?m:Math.abs(o)),d.symbolSize=S,(d.symbolScale=[S[0]/c,S[1]/c])[p.index]*=(h.isHorizontal?-1:1)*u}(n,t,i,o,0,m.boundingLength,m.pxSign,p,r,m),function VW(n,t,e,r,i){var o=n.get(w_)||0;o&&(og.attr({scaleX:t[0],scaleY:t[1],rotation:e}),og.updateTransform(),o/=og.getLineScale(),o*=t[r.valueDim.index]),i.valueLineWidth=o||0}(e,m.symbolScale,d,r,m);var y=m.symbolSize,S=Nl(e.get("symbolOffset"),y);return function BW(n,t,e,r,i,o,u,c,h,d,p,g){var m=p.categoryDim,y=p.valueDim,S=g.pxSign,b=Math.max(t[y.index]+c,0),D=b;if(r){var C=Math.abs(h),T=bt(n.get("symbolMargin"),"15%")+"",M=!1;T.lastIndexOf("!")===T.length-1&&(M=!0,T=T.slice(0,T.length-1));var I=le(T,t[y.index]),L=Math.max(b+2*I,0),E=M?0:2*I,R=ow(r),O=R?r:H1((C+E)/L);L=b+2*(I=(C-O*b)/2/(M?O:Math.max(O-1,1))),E=M?0:2*I,!R&&"fixed"!==r&&(O=d?H1((Math.abs(d)+E)/L):0),D=O*L-E,g.repeatTimes=O,g.symbolMargin=I}var V=S*(D/2),B=g.pathPosition=[];B[m.index]=e[m.wh]/2,B[y.index]="start"===u?V:"end"===u?h-V:h/2,o&&(B[0]+=o[0],B[1]+=o[1]);var H=g.bundlePosition=[];H[m.index]=e[m.xy],H[y.index]=e[y.xy];var G=g.barRectShape=J({},e);G[y.wh]=S*Math.max(Math.abs(e[y.wh]),Math.abs(B[y.index]+V)),G[m.wh]=e[m.wh];var j=g.clipShape={};j[m.xy]=-e[m.xy],j[m.wh]=p.ecSize[m.wh],j[y.xy]=0,j[y.wh]=e[y.wh]}(e,y,i,o,0,S,c,m.valueLineWidth,m.boundingLength,m.repeatCutLength,r,m),m}function jO(n,t){return n.toGlobalCoord(n.dataToCoord(n.scale.parse(t)))}function W5(n){var t=n.symbolPatternSize,e=dn(n.symbolType,-t/2,-t/2,t,t);return e.attr({culling:!0}),"image"!==e.type&&e.setStyle({strokeNoScale:!0}),e}function WO(n,t,e,r){var i=n.__pictorialBundle,c=e.pathPosition,h=t.valueDim,d=e.repeatTimes||0,p=0,g=e.symbolSize[t.valueDim.index]+e.valueLineWidth+2*e.symbolMargin;for(ug(n,function(b){b.__pictorialAnimationIndex=p,b.__pictorialRepeatTimes=d,p<d?Kh(b,null,S(p),e,r):Kh(b,null,{scaleX:0,scaleY:0},e,r,function(){i.remove(b)}),p++});p<d;p++){var m=W5(e);m.__pictorialAnimationIndex=p,m.__pictorialRepeatTimes=d,i.add(m);var y=S(p);Kh(m,{x:y.x,y:y.y,scaleX:0,scaleY:0},{scaleX:y.scaleX,scaleY:y.scaleY,rotation:y.rotation},e,r)}function S(b){var D=c.slice(),C=e.pxSign,T=b;return("start"===e.symbolRepeatDirection?C>0:C<0)&&(T=d-1-b),D[h.index]=g*(T-d/2+.5)+c[h.index],{x:D[0],y:D[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation}}}function z1(n,t,e,r){var i=n.__pictorialBundle,o=n.__pictorialMainPath;o?Kh(o,null,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:e.symbolScale[0],scaleY:e.symbolScale[1],rotation:e.rotation},e,r):(o=n.__pictorialMainPath=W5(e),i.add(o),Kh(o,{x:e.pathPosition[0],y:e.pathPosition[1],scaleX:0,scaleY:0,rotation:e.rotation},{scaleX:e.symbolScale[0],scaleY:e.symbolScale[1]},e,r))}function $5(n,t,e){var r=J({},t.barRectShape),i=n.__pictorialBarRect;i?Kh(i,null,{shape:r},t,e):((i=n.__pictorialBarRect=new st({z2:2,shape:r,silent:!0,style:{stroke:"transparent",fill:"transparent",lineWidth:0}})).disableMorphing=!0,n.add(i))}function Y5(n,t,e,r){if(e.symbolClip){var i=n.__pictorialClipPath,o=J({},e.clipShape),u=t.valueDim,c=e.animationModel,h=e.dataIndex;if(i)dt(i,{shape:o},c,h);else{o[u.wh]=0,i=new st({shape:o}),n.__pictorialBundle.setClipPath(i),n.__pictorialClipPath=i;var d={};d[u.wh]=e.clipShape[u.wh],Gs[r?"updateProps":"initProps"](i,{shape:d},c,h)}}}function Z5(n,t){var e=n.getItemModel(t);return e.getAnimationDelayParams=sg,e.isAnimationEnabled=b_,e}function sg(n){return{index:n.__pictorialAnimationIndex,count:n.__pictorialRepeatTimes}}function b_(){return this.parentModel.isAnimationEnabled()&&!!this.getShallow("animation")}function Oc(n,t,e,r){var i=new Ee,o=new Ee;return i.add(o),i.__pictorialBundle=o,o.x=e.bundlePosition[0],o.y=e.bundlePosition[1],e.symbolRepeat?WO(i,t,e):z1(i,0,e),$5(i,e,r),Y5(i,t,e,r),i.__pictorialShapeStr=$O(n,e),i.__pictorialSymbolMeta=e,i}function D_(n,t,e,r){var i=r.__pictorialBarRect;i&&i.removeTextContent();var o=[];ug(r,function(u){o.push(u)}),r.__pictorialMainPath&&o.push(r.__pictorialMainPath),r.__pictorialClipPath&&(e=null),F(o,function(u){pl(u,{scaleX:0,scaleY:0},e,t,function(){r.parent&&r.parent.remove(r)})}),n.setItemGraphicEl(t,null)}function $O(n,t){return[n.getItemVisual(t.dataIndex,"symbol")||"none",!!t.symbolRepeat,!!t.symbolClip].join(":")}function ug(n,t,e){F(n.__pictorialBundle.children(),function(r){r!==n.__pictorialBarRect&&t.call(e,r)})}function Kh(n,t,e,r,i,o){t&&n.attr(t),r.symbolClip&&!i?e&&n.attr(e):e&&Gs[i?"updateProps":"initProps"](n,e,r.animationModel,r.dataIndex,o)}function cg(n,t,e){var r=e.dataIndex,i=e.itemModel,o=i.getModel("emphasis"),u=o.getModel("itemStyle").getItemStyle(),c=i.getModel(["blur","itemStyle"]).getItemStyle(),h=i.getModel(["select","itemStyle"]).getItemStyle(),d=i.getShallow("cursor"),p=o.get("focus"),g=o.get("blurScope"),m=o.get("scale");ug(n,function(b){if(b instanceof Zn){var D=b.style;b.useStyle(J({image:D.image,x:D.x,y:D.y,width:D.width,height:D.height},e.style))}else b.useStyle(e.style);var C=b.ensureState("emphasis");C.style=u,m&&(C.scaleX=1.1*b.scaleX,C.scaleY=1.1*b.scaleY),b.ensureState("blur").style=c,b.ensureState("select").style=h,d&&(b.cursor=d),b.z2=e.z2});var y=t.valueDim.posDesc[+(e.boundingLength>0)];xr(n.__pictorialBarRect,qn(i),{labelFetcher:t.seriesModel,labelDataIndex:r,defaultText:xh(t.seriesModel.getData(),r),inheritColor:e.style.fill,defaultOpacity:e.style.opacity,defaultOutsidePosition:y}),nn(n,p,g,o.get("disabled"))}function H1(n){var t=Math.round(n);return Math.abs(n-t)<1e-4?t:Math.ceil(n)}const YO=U5;var C_=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.hasSymbolVisual=!0,e.defaultSymbol="roundRect",e}return q(t,n),t.prototype.getInitialData=function(e){return e.stack=null,n.prototype.getInitialData.apply(this,arguments)},t.type="series.pictorialBar",t.dependencies=["grid"],t.defaultOption=ns(xt.defaultOption,{symbol:"circle",symbolSize:null,symbolRotate:null,symbolPosition:null,symbolOffset:null,symbolMargin:null,symbolRepeat:!1,symbolRepeatDirection:"end",symbolClip:!1,symbolBoundingData:null,symbolPatternSize:400,barGap:"-100%",progressive:0,emphasis:{scale:!1},select:{itemStyle:{borderColor:"#212121"}}}),t}(xt);const fg=C_;var HW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._layers=[],e}return q(t,n),t.prototype.render=function(e,r,i){var o=e.getData(),u=this,c=this.group,h=e.getLayerSeries(),d=o.getLayout("layoutInfo"),p=d.rect,g=d.boundaryGap;function m(D){return D.name}c.x=0,c.y=p.y+g[0];var y=new bs(this._layersSeries||[],h,m,m),S=[];function b(D,C,T){var M=u._layers;if("remove"!==D){for(var E,I=[],L=[],R=h[C].indices,O=0;O<R.length;O++){var k=o.getItemLayout(R[O]),V=k.x,B=k.y0,H=k.y;I.push(V,B),L.push(V,B+H),E=o.getItemVisual(R[O],"style")}var G,j=o.getItemLayout(R[0]),Y=e.getModel("label").get("margin"),K=e.getModel("emphasis");if("add"===D){var X=S[C]=new Ee;G=new EL({shape:{points:I,stackedOnPoints:L,smooth:.4,stackedOnSmooth:.4,smoothConstraint:!1},z2:0}),X.add(G),c.add(X),e.isAnimationEnabled()&&G.setClipPath(function ZO(n,t,e){var r=new st({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return $t(r,{shape:{x:n.x-50,width:n.width+100,height:n.height+20}},t,e),r}(G.getBoundingRect(),e,function(){G.removeClipPath()}))}else G=(X=M[T]).childAt(0),c.add(X),S[C]=X,dt(G,{shape:{points:I,stackedOnPoints:L}},e),zr(G);xr(G,qn(e),{labelDataIndex:R[O-1],defaultText:o.getName(R[O-1]),inheritColor:E.fill},{normal:{verticalAlign:"middle"}}),G.setTextConfig({position:null,local:!0});var ee=G.getTextContent();ee&&(ee.x=j.x-Y,ee.y=j.y0+j.y/2),G.useStyle(E),o.setItemGraphicEl(C,G),lr(G,e),nn(G,K.get("focus"),K.get("blurScope"),K.get("disabled"))}else c.remove(M[C])}y.add(de(b,this,"add")).update(de(b,this,"update")).remove(de(b,this,"remove")).execute(),this._layersSeries=h,this._layers=S},t.type="themeRiver",t}(Mt);const GW=HW;var x_=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e){n.prototype.init.apply(this,arguments),this.legendVisualProvider=new Dv(de(this.getData,this),de(this.getRawData,this))},t.prototype.fixData=function(e){var r=e.length,i={},o=wf(e,function(m){return i.hasOwnProperty(m[0]+"")||(i[m[0]+""]=-1),m[2]}),u=[];o.buckets.each(function(m,y){u.push({name:y,dataList:m})});for(var c=u.length,h=0;h<c;++h){for(var d=u[h].name,p=0;p<u[h].dataList.length;++p)i[g=u[h].dataList[p][0]+""]=h;for(var g in i)i.hasOwnProperty(g)&&i[g]!==h&&(i[g]=h,e[r]=[g,0,d],r++)}return e},t.prototype.getInitialData=function(e,r){for(var o=this.getReferringComponents("singleAxis",Mn).models[0].get("type"),u=yt(e.data,function(S){return void 0!==S[2]}),c=this.fixData(u||[]),h=[],d=this.nameMap=ve(),p=0,g=0;g<c.length;++g)h.push(c[g][2]),d.get(c[g][2])||(d.set(c[g][2],p),p++);var m=hh(c,{coordDimensions:["single"],dimensionsDefine:[{name:"time",type:Oy(o)},{name:"value",type:"float"},{name:"name",type:"ordinal"}],encodeDefine:{single:0,value:1,itemName:2}}).dimensions,y=new on(m,this);return y.initData(c),y},t.prototype.getLayerSeries=function(){for(var e=this.getData(),r=e.count(),i=[],o=0;o<r;++o)i[o]=o;var u=e.mapDimension("single"),c=wf(i,function(d){return e.get("name",d)}),h=[];return c.buckets.each(function(d,p){d.sort(function(g,m){return e.get(u,g)-e.get(u,m)}),h.push({name:p,indices:d})}),h},t.prototype.getAxisTooltipData=function(e,r,i){te(e)||(e=e?[e]:[]);for(var d,o=this.getData(),u=this.getLayerSeries(),c=[],h=u.length,p=0;p<h;++p){for(var g=Number.MAX_VALUE,m=-1,y=u[p].indices.length,S=0;S<y;++S){var b=o.get(e[0],u[p].indices[S]),D=Math.abs(b-r);D<=g&&(d=b,g=D,m=u[p].indices[S])}c.push(m)}return{dataIndices:c,nestestValue:d}},t.prototype.formatTooltip=function(e,r,i){var o=this.getData();return hn("nameValue",{name:o.getName(e),value:o.get(o.mapDimension("value"),e)})},t.type="series.themeRiver",t.dependencies=["singleAxis"],t.defaultOption={z:2,colorBy:"data",coordinateSystem:"singleAxis",boundaryGap:["10%","10%"],singleAxisIndex:0,animationEasing:"linear",label:{margin:4,show:!0,position:"left",fontSize:11},emphasis:{label:{show:!0}}},t}(Nt);const T_=x_;function hg(n,t){n.eachSeriesByType("themeRiver",function(e){var r=e.getData(),i=e.coordinateSystem,o={},u=i.getRect();o.rect=u;var c=e.get("boundaryGap"),h=i.getAxis();o.boundaryGap=c,"horizontal"===h.orient?(c[0]=le(c[0],u.height),c[1]=le(c[1],u.height),dg(r,e,u.height-c[0]-c[1])):(c[0]=le(c[0],u.width),c[1]=le(c[1],u.width),dg(r,e,u.width-c[0]-c[1])),r.setLayout("layoutInfo",o)})}function dg(n,t,e){if(n.count())for(var y,r=t.coordinateSystem,i=t.getLayerSeries(),o=n.mapDimension("single"),u=n.mapDimension("value"),c=re(i,function(D){return re(D.indices,function(C){var T=r.dataToPoint(n.get(o,C));return T[1]=n.get(u,C),T})}),h=function M_(n){for(var t=n.length,e=n[0].length,r=[],i=[],o=0,u=0;u<e;++u){for(var c=0,h=0;h<t;++h)c+=n[h][u][1];c>o&&(o=c),r.push(c)}for(var d=0;d<e;++d)i[d]=(o-r[d])/2;o=0;for(var p=0;p<e;++p){var g=r[p]+i[p];g>o&&(o=g)}return{y0:i,max:o}}(c),d=h.y0,p=e/h.max,g=i.length,m=i[0].indices.length,S=0;S<m;++S){n.setItemLayout(i[0].indices[S],{layerIndex:0,x:c[0][S][0],y0:y=d[S]*p,y:c[0][S][1]*p});for(var b=1;b<g;++b)n.setItemLayout(i[b].indices[S],{layerIndex:b,x:c[b][S][0],y0:y+=c[b-1][S][1]*p,y:c[b][S][1]*p})}}var X5=function(n){function t(e,r,i,o){var u=n.call(this)||this;u.z2=2,u.textConfig={inside:!0},Oe(u).seriesIndex=r.seriesIndex;var c=new rt({z2:4,silent:e.getModel().get(["label","silent"])});return u.setTextContent(c),u.updateData(!0,e,r,i,o),u}return q(t,n),t.prototype.updateData=function(e,r,i,o,u){this.node=r,r.piece=this,i=i||this._seriesModel,o=o||this._ecModel;var c=this;Oe(c).dataIndex=r.dataIndex;var h=r.getModel(),d=h.getModel("emphasis"),p=r.getLayout(),g=J({},p);g.label=null;var m=r.getVisual("style");m.lineJoin="bevel";var y=r.getVisual("decal");y&&(m.decal=_s(y,u));var S=cc(h.getModel("itemStyle"),g,!0);J(g,S),F(Cr,function(T){var M=c.ensureState(T),I=h.getModel([T,"itemStyle"]);M.style=I.getItemStyle();var L=cc(I,g);L&&(M.shape=L)}),e?(c.setShape(g),c.shape.r=p.r0,$t(c,{shape:{r:p.r}},i,r.dataIndex)):(dt(c,{shape:g},i),zr(c)),c.useStyle(m),this._updateLabel(i);var b=h.getShallow("cursor");b&&c.attr("cursor",b),this._seriesModel=i||this._seriesModel,this._ecModel=o||this._ecModel;var D=d.get("focus");nn(this,"ancestor"===D?r.getAncestorsIndices():"descendant"===D?r.getDescendantIndices():D,d.get("blurScope"),d.get("disabled"))},t.prototype._updateLabel=function(e){var r=this,i=this.node.getModel(),o=i.getModel("label"),u=this.node.getLayout(),c=u.endAngle-u.startAngle,h=(u.startAngle+u.endAngle)/2,d=Math.cos(h),p=Math.sin(h),g=this,m=g.getTextContent(),y=this.node.dataIndex,S=o.get("minAngle")/180*Math.PI,b=o.get("show")&&!(null!=S&&Math.abs(c)<S);function D(C,T){return C.get(T)??o.get(T)}m.ignore=!b,F(fl,function(C){var T=i.getModel("normal"===C?"label":[C,"label"]),M="normal"===C,I=M?m:m.ensureState(C),L=e.getFormattedLabel(y,C);M&&(L=L||r.node.name),I.style=Et(T,{},null,"normal"!==C,!0),L&&(I.style.text=L);var E=T.get("show");null!=E&&!M&&(I.ignore=!E);var R=D(T,"position"),O=M?g:g.states[C],k=O.style.fill;O.textConfig={outsideFill:"inherit"===T.get("color")?k:null,inside:"outside"!==R};var V,B=D(T,"distance")||0,H=D(T,"align");"outside"===R?(V=u.r+B,H=h>Math.PI/2?"right":"left"):H&&"center"!==H?"left"===H?(V=u.r0+B,h>Math.PI/2&&(H="right")):"right"===H&&(V=u.r-B,h>Math.PI/2&&(H="left")):(V=c===2*Math.PI&&0===u.r0?0:(u.r+u.r0)/2,H="center"),I.style.align=H,I.style.verticalAlign=D(T,"verticalAlign")||"middle",I.x=V*d+u.cx,I.y=V*p+u.cy;var G=D(T,"rotate"),j=0;"radial"===G?(j=go(-h))>Math.PI/2&&j<1.5*Math.PI&&(j+=Math.PI):"tangential"===G?(j=Math.PI/2-h)>Math.PI/2?j-=Math.PI:j<-Math.PI/2&&(j+=Math.PI):ft(G)&&(j=G*Math.PI/180),I.rotation=go(j)}),m.dirtyStyle()},t}(jr);const qO=X5;var I_="sunburstRootToNode",XO="sunburstHighlight",UW=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i,o){var u=this;this.seriesModel=e,this.api=i,this.ecModel=r;var c=e.getData(),h=c.tree.root,d=e.getViewRoot(),p=this.group,g=e.get("renderLabelForZeroData"),m=[];d.eachNode(function(T){m.push(T)}),function S(T,M){function I(E){return E.getId()}function L(E,R){!function b(T,M){if(!g&&T&&!T.getValue()&&(T=null),T!==h&&M!==h)if(M&&M.piece)T?(M.piece.updateData(!1,T,e,r,i),c.setItemGraphicEl(T.dataIndex,M.piece)):function D(T){T&&T.piece&&(p.remove(T.piece),T.piece=null)}(M);else if(T){var I=new qO(T,e,r,i);p.add(I),c.setItemGraphicEl(T.dataIndex,I)}}(null==E?null:T[E],null==R?null:M[R])}0===T.length&&0===M.length||new bs(M,T,I,I).add(L).update(L).remove(Re(L,null)).execute()}(m,this._oldChildren||[]),function C(T,M){M.depth>0?(u.virtualPiece?u.virtualPiece.updateData(!1,T,e,r,i):(u.virtualPiece=new qO(T,e,r,i),p.add(u.virtualPiece)),M.piece.off("click"),u.virtualPiece.on("click",function(I){u._rootToNode(M.parentNode)})):u.virtualPiece&&(p.remove(u.virtualPiece),u.virtualPiece=null)}(h,d),this._initEvents(),this._oldChildren=m},t.prototype._initEvents=function(){var e=this;this.group.off("click"),this.group.on("click",function(r){var i=!1;e.seriesModel.getViewRoot().eachNode(function(u){if(!i&&u.piece&&u.piece===r.target){var c=u.getModel().get("nodeClick");if("rootToNode"===c)e._rootToNode(u);else if("link"===c){var h=u.getModel(),d=h.get("link");d&&Gm(d,h.get("target",!0)||"_blank")}i=!0}})})},t.prototype._rootToNode=function(e){e!==this.seriesModel.getViewRoot()&&this.api.dispatchAction({type:I_,from:this.uid,seriesId:this.seriesModel.id,targetNode:e})},t.prototype.containPoint=function(e,r){var o=r.getData().getItemLayout(0);if(o){var u=e[0]-o.cx,c=e[1]-o.cy,h=Math.sqrt(u*u+c*c);return h<=o.r&&h>=o.r0}},t.type="sunburst",t}(Mt);const Q5=UW;var U1=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.ignoreStyleOnData=!0,e}return q(t,n),t.prototype.getInitialData=function(e,r){var i={name:e.name,children:e.data};J5(i);var o=this._levelModels=re(e.levels||[],function(h){return new Rt(h,this,r)},this),u=YR.createTree(i,this,function c(h){h.wrapMethod("getItemModel",function(d,p){var g=u.getNodeByDataIndex(p),m=o[g.depth];return m&&(d.parentModel=m),d})});return u.data},t.prototype.optionUpdated=function(){this.resetViewRoot()},t.prototype.getDataParams=function(e){var r=n.prototype.getDataParams.apply(this,arguments),i=this.getData().tree.getNodeByDataIndex(e);return r.treePathInfo=j0(i,this),r},t.prototype.getLevelModel=function(e){return this._levelModels&&this._levelModels[e.depth]},t.prototype.getViewRoot=function(){return this._viewRoot},t.prototype.resetViewRoot=function(e){e?this._viewRoot=e:e=this._viewRoot;var r=this.getRawData().tree.root;(!e||e!==r&&!r.contains(e))&&(this._viewRoot=r)},t.prototype.enableAriaDecal=function(){XR(this)},t.type="series.sunburst",t.defaultOption={z:2,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,stillShowZeroSum:!0,nodeClick:"rootToNode",renderLabelForZeroData:!1,label:{rotate:"radial",show:!0,opacity:1,align:"center",position:"inside",distance:5,silent:!0},itemStyle:{borderWidth:1,borderColor:"white",borderType:"solid",shadowBlur:0,shadowColor:"rgba(0, 0, 0, 0.2)",shadowOffsetX:0,shadowOffsetY:0,opacity:1},emphasis:{focus:"descendant"},blur:{itemStyle:{opacity:.2},label:{opacity:.1}},animationType:"expansion",animationDuration:1e3,animationDurationUpdate:500,data:[],sort:"desc"},t}(Nt);function J5(n){var t=0;F(n.children,function(r){J5(r);var i=r.value;te(i)&&(i=i[0]),t+=i});var e=n.value;te(e)&&(e=e[0]),(null==e||isNaN(e))&&(e=t),e<0&&(e=0),te(n.value)?n.value[0]=e:n.value=e}const jW=U1;var E_=Math.PI/180;function e3(n,t,e){t.eachSeriesByType(n,function(r){var i=r.get("center"),o=r.get("radius");te(o)||(o=[0,o]),te(i)||(i=[i,i]);var u=e.getWidth(),c=e.getHeight(),h=Math.min(u,c),d=le(i[0],u),p=le(i[1],c),g=le(o[0],h/2),m=le(o[1],h/2),y=-r.get("startAngle")*E_,S=r.get("minAngle")*E_,b=r.getData().tree.root,D=r.getViewRoot(),C=D.depth,T=r.get("sort");null!=T&&j1(D,T);var M=0;F(D.children,function(Y){!isNaN(Y.getValue())&&M++});var I=D.getValue(),L=Math.PI/(I||M)*2,E=D.depth>0,O=(m-g)/(D.height-(E?-1:1)||1),k=r.get("clockwise"),V=r.get("stillShowZeroSum"),B=k?1:-1,H=function(Y,K){if(Y){var X=K;if(Y!==b){var ee=Y.getValue(),oe=0===I&&V?L:ee*L;oe<S&&(oe=S),X=K+B*oe;var he=Y.depth-C-(E?-1:1),me=g+O*he,Ie=g+O*(he+1),Me=r.getLevelModel(Y);if(Me){var qe=Me.get("r0",!0),ut=Me.get("r",!0),Je=Me.get("radius",!0);null!=Je&&(qe=Je[0],ut=Je[1]),null!=qe&&(me=le(qe,h/2)),null!=ut&&(Ie=le(ut,h/2))}Y.setLayout({angle:oe,startAngle:K,endAngle:X,clockwise:k,cx:d,cy:p,r0:me,r:Ie})}if(Y.children&&Y.children.length){var Pe=0;F(Y.children,function(et){Pe+=H(et,K+Pe)})}return X-K}};if(E){var W=2*Math.PI;b.setLayout({angle:W,startAngle:y,endAngle:y+W,clockwise:k,cx:d,cy:p,r0:g,r:g+O})}H(D,y)})}function j1(n,t){var e=n.children||[];n.children=function W1(n,t){if(_e(t)){var e=re(n,function(i,o){var u=i.getValue();return{params:{depth:i.depth,height:i.height,dataIndex:i.dataIndex,getValue:function(){return u}},index:o}});return e.sort(function(i,o){return t(i.params,o.params)}),re(e,function(i){return n[i.index]})}var r="asc"===t;return n.sort(function(i,o){var u=(i.getValue()-o.getValue())*(r?1:-1);return 0===u?(i.dataIndex-o.dataIndex)*(r?-1:1):u})}(e,t),e.length&&F(n.children,function(r){j1(r,t)})}function t3(n){var t={};n.eachSeriesByType("sunburst",function(r){var i=r.getData(),o=i.tree;o.eachNode(function(u){var h=u.getModel().getModel("itemStyle").getItemStyle();h.fill||(h.fill=function e(r,i,o){for(var u=r;u&&u.depth>1;)u=u.parentNode;var c=i.getColorFromPalette(u.name||u.dataIndex+"",t);return r.depth>1&&fe(c)&&(c=ii(c,(r.depth-1)/(o-1)*.5)),c}(u,r,o.root.height)),J(i.ensureUniqueItemVisual(u.dataIndex,"style"),h)})})}var QO={color:"fill",borderColor:"stroke"},pg={symbol:1,symbolSize:1,symbolKeepAspect:1,legendIcon:1,visualMeta:1,liftZ:1,decal:1},Qa=ot(),JO=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.optionUpdated=function(){this.currentZLevel=this.get("zlevel",!0),this.currentZ=this.get("z",!0)},t.prototype.getInitialData=function(e,r){return Ua(null,this)},t.prototype.getDataParams=function(e,r,i){var o=n.prototype.getDataParams.call(this,e,r);return i&&(o.info=Qa(i).info),o},t.type="series.custom",t.dependencies=["grid","polar","geo","singleAxis","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,legendHoverLink:!0,clip:!1},t}(Nt);const e2=JO;function vg(n,t){return t=t||[0,0],re(["x","y"],function(e,r){var i=this.getAxis(e),o=t[r],u=n[r]/2;return"category"===i.type?i.getBandWidth():Math.abs(i.dataToCoord(o-u)-i.dataToCoord(o+u))},this)}function n3(n,t){return t=t||[0,0],re([0,1],function(e){var r=t[e],i=n[e]/2,o=[],u=[];return o[e]=r-i,u[e]=r+i,o[1-e]=u[1-e]=t[1-e],Math.abs(this.dataToPoint(o)[e]-this.dataToPoint(u)[e])},this)}function YW(n,t){var e=this.getAxis(),r=t instanceof Array?t[0]:t,i=(n instanceof Array?n[0]:n)/2;return"category"===e.type?e.getBandWidth():Math.abs(e.dataToCoord(r-i)-e.dataToCoord(r+i))}function qW(n,t){return t=t||[0,0],re(["Radius","Angle"],function(e,r){var o=this["get"+e+"Axis"](),u=t[r],c=n[r]/2,h="category"===o.type?o.getBandWidth():Math.abs(o.dataToCoord(u-c)-o.dataToCoord(u+c));return"Angle"===e&&(h=h*Math.PI/180),h},this)}function n2(n,t,e,r){return n&&(n.legacy||!1!==n.legacy&&!e&&!r&&"tspan"!==t&&("text"===t||pe(n,"text")))}function $1(n,t,e){var i,o,u,r=n;if("text"===t)u=r;else{u={},pe(r,"text")&&(u.text=r.text),pe(r,"rich")&&(u.rich=r.rich),pe(r,"textFill")&&(u.fill=r.textFill),pe(r,"textStroke")&&(u.stroke=r.textStroke),pe(r,"fontFamily")&&(u.fontFamily=r.fontFamily),pe(r,"fontSize")&&(u.fontSize=r.fontSize),pe(r,"fontStyle")&&(u.fontStyle=r.fontStyle),pe(r,"fontWeight")&&(u.fontWeight=r.fontWeight),o={type:"text",style:u,silent:!0},i={};var c=pe(r,"textPosition");e?i.position=c?r.textPosition:"inside":c&&(i.position=r.textPosition),pe(r,"textPosition")&&(i.position=r.textPosition),pe(r,"textOffset")&&(i.offset=r.textOffset),pe(r,"textRotation")&&(i.rotation=r.textRotation),pe(r,"textDistance")&&(i.distance=r.textDistance)}return Y1(u,n),F(u.rich,function(h){Y1(h,h)}),{textConfig:i,textContent:o}}function Y1(n,t){t&&(t.font=t.textFont||t.font,pe(t,"textStrokeWidth")&&(n.lineWidth=t.textStrokeWidth),pe(t,"textAlign")&&(n.align=t.textAlign),pe(t,"textVerticalAlign")&&(n.verticalAlign=t.textVerticalAlign),pe(t,"textLineHeight")&&(n.lineHeight=t.textLineHeight),pe(t,"textWidth")&&(n.width=t.textWidth),pe(t,"textHeight")&&(n.height=t.textHeight),pe(t,"textBackgroundColor")&&(n.backgroundColor=t.textBackgroundColor),pe(t,"textPadding")&&(n.padding=t.textPadding),pe(t,"textBorderColor")&&(n.borderColor=t.textBorderColor),pe(t,"textBorderWidth")&&(n.borderWidth=t.textBorderWidth),pe(t,"textBorderRadius")&&(n.borderRadius=t.textBorderRadius),pe(t,"textBoxShadowColor")&&(n.shadowColor=t.textBoxShadowColor),pe(t,"textBoxShadowBlur")&&(n.shadowBlur=t.textBoxShadowBlur),pe(t,"textBoxShadowOffsetX")&&(n.shadowOffsetX=t.textBoxShadowOffsetX),pe(t,"textBoxShadowOffsetY")&&(n.shadowOffsetY=t.textBoxShadowOffsetY))}function Z1(n,t,e){var r=n;r.textPosition=r.textPosition||e.position||"inside",null!=e.offset&&(r.textOffset=e.offset),null!=e.rotation&&(r.textRotation=e.rotation),null!=e.distance&&(r.textDistance=e.distance);var i=r.textPosition.indexOf("inside")>=0,o=n.fill||"#000";r2(r,t);var u=null==r.textFill;return i?u&&(r.textFill=e.insideFill||"#fff",!r.textStroke&&e.insideStroke&&(r.textStroke=e.insideStroke),!r.textStroke&&(r.textStroke=o),null==r.textStrokeWidth&&(r.textStrokeWidth=2)):(u&&(r.textFill=n.fill||e.outsideFill||"#000"),!r.textStroke&&e.outsideStroke&&(r.textStroke=e.outsideStroke)),r.text=t.text,r.rich=t.rich,F(t.rich,function(c){r2(c,c)}),r}function r2(n,t){t&&(pe(t,"fill")&&(n.textFill=t.fill),pe(t,"stroke")&&(n.textStroke=t.fill),pe(t,"lineWidth")&&(n.textStrokeWidth=t.lineWidth),pe(t,"font")&&(n.font=t.font),pe(t,"fontStyle")&&(n.fontStyle=t.fontStyle),pe(t,"fontWeight")&&(n.fontWeight=t.fontWeight),pe(t,"fontSize")&&(n.fontSize=t.fontSize),pe(t,"fontFamily")&&(n.fontFamily=t.fontFamily),pe(t,"align")&&(n.textAlign=t.align),pe(t,"verticalAlign")&&(n.textVerticalAlign=t.verticalAlign),pe(t,"lineHeight")&&(n.textLineHeight=t.lineHeight),pe(t,"width")&&(n.textWidth=t.width),pe(t,"height")&&(n.textHeight=t.height),pe(t,"backgroundColor")&&(n.textBackgroundColor=t.backgroundColor),pe(t,"padding")&&(n.textPadding=t.padding),pe(t,"borderColor")&&(n.textBorderColor=t.borderColor),pe(t,"borderWidth")&&(n.textBorderWidth=t.borderWidth),pe(t,"borderRadius")&&(n.textBorderRadius=t.borderRadius),pe(t,"shadowColor")&&(n.textBoxShadowColor=t.shadowColor),pe(t,"shadowBlur")&&(n.textBoxShadowBlur=t.shadowBlur),pe(t,"shadowOffsetX")&&(n.textBoxShadowOffsetX=t.shadowOffsetX),pe(t,"shadowOffsetY")&&(n.textBoxShadowOffsetY=t.shadowOffsetY),pe(t,"textShadowColor")&&(n.textShadowColor=t.textShadowColor),pe(t,"textShadowBlur")&&(n.textShadowBlur=t.textShadowBlur),pe(t,"textShadowOffsetX")&&(n.textShadowOffsetX=t.textShadowOffsetX),pe(t,"textShadowOffsetY")&&(n.textShadowOffsetY=t.textShadowOffsetY))}var i2={position:["x","y"],scale:["scaleX","scaleY"],origin:["originX","originY"]},o3=Xe(i2),gg=(Di(Ia,function(n,t){return n[t]=1,n},{}),Ia.join(", "),["","style","shape","extra"]),Qh=ot();function P_(n,t,e,r,i){var o=n+"Animation",u=qd(n,r,i)||{},c=Qh(t).userDuring;return u.duration>0&&(u.during=c?de(c3,{el:t,userDuring:c}):null,u.setToFinal=!0,u.scope=n),J(u,e[o]),u}function Jh(n,t,e,r){var i=(r=r||{}).dataIndex,o=r.isInit,u=r.clearStyle,c=e.isAnimationEnabled(),h=Qh(n),d=t.style;h.userDuring=t.during;var p={},g={};if(function f3(n,t,e){for(var r=0;r<o3.length;r++){var i=o3[r],o=i2[i],u=t[i];u&&(e[o[0]]=u[0],e[o[1]]=u[1])}for(r=0;r<Ia.length;r++){var c=Ia[r];null!=t[c]&&(e[c]=t[c])}}(0,t,g),o2("shape",t,g),o2("extra",t,g),!o&&c&&(function s2(n,t,e){for(var r=t.transition,i=kc(r)?Ia:It(r||[]),o=0;o<i.length;o++){var u=i[o];"style"!==u&&"shape"!==u&&"extra"!==u&&(e[u]=n[u])}}(n,t,p),R_("shape",n,t,p),R_("extra",n,t,p),function K1(n,t,e,r){if(e){var o,i=n.style;if(i){var u=e.transition,c=t.transition;if(u&&!kc(u)){var h=It(u);!o&&(o=r.style={});for(var d=0;d<h.length;d++)o[p=h[d]]=i[p]}else if(n.getAnimationStyleProps&&(kc(c)||kc(u)||Ge(c,"style")>=0)){var m=n.getAnimationStyleProps(),y=m?m.style:null;if(y){!o&&(o=r.style={});var S=Xe(e);for(d=0;d<S.length;d++){var p;y[p=S[d]]&&(o[p]=i[p])}}}}}}(n,t,d,p)),g.style=d,function L_(n,t,e){var r=t.style;if(!n.isGroup&&r){if(e){n.useStyle({});for(var i=n.animators,o=0;o<i.length;o++){var u=i[o];"style"===u.targetName&&u.changeTarget(n.style)}}n.setStyle(r)}t&&(t.style=null,t&&n.attr(t),t.style=r)}(n,g,u),function q1(n,t){pe(t,"silent")&&(n.silent=t.silent),pe(t,"ignore")&&(n.ignore=t.ignore),n instanceof ra&&pe(t,"invisible")&&(n.invisible=t.invisible),n instanceof Ze&&pe(t,"autoBatch")&&(n.autoBatch=t.autoBatch)}(n,t),c)if(o){var m={};F(gg,function(S){var b=S?t[S]:t;b&&b.enterFrom&&(S&&(m[S]=m[S]||{}),J(S?m[S]:m,b.enterFrom))});var y=P_("enter",n,t,e,i);y.duration>0&&n.animateFrom(m,y)}else!function l3(n,t,e,r,i){if(i){var o=P_("update",n,t,r,e);o.duration>0&&n.animateFrom(i,o)}}(n,t,i||0,e,p);a2(n,t),d?n.dirty():n.markRedraw()}function a2(n,t){for(var e=Qh(n).leaveToProps,r=0;r<gg.length;r++){var i=gg[r],o=i?t[i]:t;o&&o.leaveTo&&(e||(e=Qh(n).leaveToProps={}),i&&(e[i]=e[i]||{}),J(i?e[i]:e,o.leaveTo))}}function mg(n,t,e,r){if(n){var i=n.parent,o=Qh(n).leaveToProps;if(o){var u=P_("update",n,t,e,0);u.done=function(){i.remove(n),r&&r()},n.animateTo(o,u)}else i.remove(n),r&&r()}}function kc(n){return"all"===n}var Ro={},X1={setTransform:function(n,t){return Ro.el[n]=t,this},getTransform:function(n){return Ro.el[n]},setShape:function(n,t){var e=Ro.el;return(e.shape||(e.shape={}))[n]=t,e.dirtyShape&&e.dirtyShape(),this},getShape:function(n){var t=Ro.el.shape;if(t)return t[n]},setStyle:function(n,t){var e=Ro.el,r=e.style;return r&&(r[n]=t,e.dirtyStyle&&e.dirtyStyle()),this},getStyle:function(n){var t=Ro.el.style;if(t)return t[n]},setExtra:function(n,t){return(Ro.el.extra||(Ro.el.extra={}))[n]=t,this},getExtra:function(n){var t=Ro.el.extra;if(t)return t[n]}};function c3(){var n=this,t=n.el;if(t){var e=Qh(t).userDuring,r=n.userDuring;if(e!==r)return void(n.el=n.userDuring=null);Ro.el=t,r(X1)}}function R_(n,t,e,r){var i=e[n];if(i){var u,o=t[n];if(o){var c=e.transition,h=i.transition;if(h)if(!u&&(u=r[n]={}),kc(h))J(u,o);else for(var d=It(h),p=0;p<d.length;p++)u[g=d[p]]=m=o[g];else if(kc(c)||Ge(c,n)>=0){!u&&(u=r[n]={});var y=Xe(o);for(p=0;p<y.length;p++){var g,m;h3(i[g=y[p]],m=o[g])&&(u[g]=m)}}}}}function o2(n,t,e){var r=t[n];if(r)for(var i=e[n]={},o=Xe(r),u=0;u<o.length;u++){var c=o[u];i[c]=el(r[c])}}function h3(n,t){return Kn(n)?n!==t:null!=n&&isFinite(n)}var Q1=ot(),d3=["percent","easing","shape","style","extra"];function p3(n){n.stopAnimation("keyframe"),n.attr(Q1(n))}function ed(n,t,e){if(e.isAnimationEnabled()&&t){if(te(t))return void F(t,function(c){ed(n,c,e)});var r=t.keyframes,i=t.duration;if(e&&null==i){var o=qd("enter",e,0);i=o&&o.duration}if(r&&i){var u=Q1(n);F(gg,function(c){var h;c&&!n[c]||(r.sort(function(p,g){return p.percent-g.percent}),F(r,function(p){var g=n.animators,m=c?p[c]:p;if(m){var y=Xe(m);if(c||(y=yt(y,function(D){return Ge(d3,D)<0})),y.length){h||((h=n.animate(c,t.loop,!0)).scope="keyframe");for(var S=0;S<g.length;S++)g[S]!==h&&g[S].targetName===h.targetName&&g[S].stopTracks(y);c&&(u[c]=u[c]||{});var b=c?u[c]:u;F(y,function(D){b[D]=((c?n[c]:n)||{})[D]}),h.whenWithKeys(i*p.percent,m,y,p.easing)}}}),h&&h.delay(t.delay||0).duration(i).start(t.easing))})}}}var Bs="emphasis",zs="normal",N_="blur",Hs="select",Ql=[zs,Bs,N_,Hs],O_={normal:["itemStyle"],emphasis:[Bs,"itemStyle"],blur:[N_,"itemStyle"],select:[Hs,"itemStyle"]},J1={normal:["label"],emphasis:[Bs,"label"],blur:[N_,"label"],select:[Hs,"label"]},l2=["x","y"],v3="e\0\0",Da={normal:{},emphasis:{},blur:{},select:{}},eT={cartesian2d:function $W(n){var t=n.master.getRect();return{coordSys:{type:"cartesian2d",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:de(vg,n)}}},geo:function t2(n){var t=n.getBoundingRect();return{coordSys:{type:"geo",x:t.x,y:t.y,width:t.width,height:t.height,zoom:n.getZoom()},api:{coord:function(e){return n.dataToPoint(e)},size:de(n3,n)}}},single:function ZW(n){var t=n.getRect();return{coordSys:{type:"singleAxis",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:function(e){return n.dataToPoint(e)},size:de(YW,n)}}},polar:function XW(n){var t=n.getRadiusAxis(),e=n.getAngleAxis(),r=t.getExtent();return r[0]>r[1]&&r.reverse(),{coordSys:{type:"polar",cx:n.cx,cy:n.cy,r:r[1],r0:r[0]},api:{coord:function(i){var o=t.dataToRadius(i[0]),u=e.dataToAngle(i[1]),c=n.coordToPoint([o,u]);return c.push(o,u*Math.PI/180),c},size:de(qW,n)}}},calendar:function r3(n){var t=n.getRect(),e=n.getRangeInfo();return{coordSys:{type:"calendar",x:t.x,y:t.y,width:t.width,height:t.height,cellWidth:n.getCellWidth(),cellHeight:n.getCellHeight(),rangeInfo:{start:e.start,end:e.end,weeks:e.weeks,dayCount:e.allDay}},api:{coord:function(r,i){return n.dataToPoint(r,i)}}}}};function k_(n){return n instanceof Ze}function tT(n){return n instanceof ra}var g3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i,o){this._progressiveEls=null;var u=this._data,c=e.getData(),h=this.group,d=m3(e,c,r,i);u||h.removeAll(),c.diff(u).add(function(g){rT(i,null,g,d(g,o),e,h,c)}).remove(function(g){var m=u.getItemGraphicEl(g);m&&mg(m,Qa(m).option,e)}).update(function(g,m){var y=u.getItemGraphicEl(m);rT(i,y,g,d(g,o),e,h,c)}).execute();var p=e.get("clip",!0)?w0(e.coordinateSystem,!1,e):null;p?h.setClipPath(p):h.removeClipPath(),this._data=c},t.prototype.incrementalPrepareRender=function(e,r,i){this.group.removeAll(),this._data=null},t.prototype.incrementalRender=function(e,r,i,o,u){var c=r.getData(),h=m3(r,c,i,o),d=this._progressiveEls=[];function p(y){y.isGroup||(y.incremental=!0,y.ensureState("emphasis").hoverLayer=!0)}for(var g=e.start;g<e.end;g++){var m=rT(null,null,g,h(g,u),r,this.group,c);m&&(m.traverse(p),d.push(m))}},t.prototype.eachRendered=function(e){ms(this._progressiveEls||this.group,e)},t.prototype.filterForExposedEvent=function(e,r,i,o){var u=r.element;if(null==u||i.name===u)return!0;for(;(i=i.__hostTarget||i.parent)&&i!==this.group;)if(i.name===u)return!0;return!1},t.type="custom",t}(Mt);const c2=g3;function nT(n){var e,t=n.type;if("path"===t){var r=n.shape,i=null!=r.width&&null!=r.height?{x:r.x||0,y:r.y||0,width:r.width,height:r.height}:null,o=sT(r);e=th(o,null,i,r.layout||"center"),Qa(e).customPathData=o}else if("image"===t)e=new Zn({}),Qa(e).customImagePath=n.style.image;else if("text"===t)e=new rt({});else if("group"===t)e=new Ee;else{if("compoundPath"===t)throw new Error('"compoundPath" is not supported yet.');var u=yy(t);u||St(""),e=new u}return Qa(e).customGraphicType=t,e.name=n.name,e.z2EmphasisLift=1,e.z2SelectLift=1,e}function F_(n,t,e,r,i,o,u){p3(t);var c=i&&i.normal.cfg;c&&t.setTextConfig(c),r&&null==r.transition&&(r.transition=l2);var h=r&&r.style;if(h){if("text"===t.type){var d=h;pe(d,"textFill")&&(d.fill=d.textFill),pe(d,"textStroke")&&(d.stroke=d.textStroke)}var p=void 0,g=k_(t)?h.decal:null;n&&g&&(g.dirty=!0,p=_s(g,n)),h.__decalPattern=p}tT(t)&&h&&(p=h.__decalPattern)&&(h.decal=p),Jh(t,r,o,{dataIndex:e,isInit:u,clearStyle:!0}),ed(t,r.keyframeAnimation,o)}function f2(n,t,e,r,i){var o=t.isGroup?null:t,u=i&&i[n].cfg;if(o){var c=o.ensureState(n);if(!1===r){var h=o.getState(n);h&&(h.style=null)}else c.style=r||null;u&&(c.textConfig=u),Pu(o)}}function JW(n,t,e){var r=e===zs,i=r?t:iT(t,e),o=i?i.z2:null;null!=o&&((r?n:n.ensureState(e)).z2=o||0)}function m3(n,t,e,r){var i=n.get("renderItem"),o=n.coordinateSystem,u={};o&&(u=o.prepareCustoms?o.prepareCustoms(o):eT[o.type](o));for(var d,p,c=De({getWidth:r.getWidth,getHeight:r.getHeight,getZr:r.getZr,getDevicePixelRatio:r.getDevicePixelRatio,value:function I(j,W){return null==W&&(W=d),t.getStore().get(t.getDimensionIndex(j||0),W)},style:function E(j,W){null==W&&(W=d);var Y=t.getItemVisual(W,"style"),K=Y&&Y.fill,X=Y&&Y.opacity,ee=T(W,zs).getItemStyle();null!=K&&(ee.fill=K),null!=X&&(ee.opacity=X);var oe={inheritColor:fe(K)?K:"#000"},he=M(W,zs),me=Et(he,null,oe,!1,!0);me.text=he.getShallow("show")?ke(n.getFormattedLabel(W,zs),xh(t,W)):null;var Ie=Rf(he,oe,!1);return k(j,ee),ee=Z1(ee,me,Ie),j&&O(ee,j),ee.legacy=!0,ee},ordinalRawValue:function L(j,W){null==W&&(W=d);var Y=t.getDimensionInfo(j=j||0);if(!Y){var K=t.getDimensionIndex(j);return K>=0?t.getStore().get(K,W):void 0}var X=t.get(Y.name,W),ee=Y&&Y.ordinalMeta;return ee?ee.categories[X]:X},styleEmphasis:function R(j,W){null==W&&(W=d);var Y=T(W,Bs).getItemStyle(),K=M(W,Bs),X=Et(K,null,null,!0,!0);X.text=K.getShallow("show")?Ln(n.getFormattedLabel(W,Bs),n.getFormattedLabel(W,zs),xh(t,W)):null;var ee=Rf(K,null,!0);return k(j,Y),Y=Z1(Y,X,ee),j&&O(Y,j),Y.legacy=!0,Y},visual:function V(j,W){if(null==W&&(W=d),pe(QO,j)){var Y=t.getItemVisual(W,"style");return Y?Y[QO[j]]:null}if(pe(pg,j))return t.getItemVisual(W,j)},barLayout:function B(j){if("cartesian2d"===o.type)return function hB(n){var t=[],e=n.axis,r="axis0";if("category"===e.type){for(var i=e.getBandWidth(),o=0;o<n.count;o++)t.push(De({bandWidth:i,axisKey:r,stackId:$y+o},n));var u=CP(t),c=[];for(o=0;o<n.count;o++){var h=u[r][$y+o];h.offsetCenter=h.offset+h.width/2,c.push(h)}return c}}(De({axis:o.getBaseAxis()},j))},currentSeriesIndices:function H(){return e.getCurrentSeriesIndices()},font:function G(j){return NA(j,e)}},u.api||{}),h={context:{},seriesId:n.id,seriesName:n.name,seriesIndex:n.seriesIndex,coordSys:u.coordSys,dataInsideLength:t.count(),encode:e8(n.getData())},g={},m={},y={},S={},b=0;b<Ql.length;b++){var D=Ql[b];y[D]=n.getModel(O_[D]),S[D]=n.getModel(J1[D])}function C(j){return j===d?p||(p=t.getItemModel(j)):t.getItemModel(j)}function T(j,W){return t.hasItemOption?j===d?g[W]||(g[W]=C(j).getModel(O_[W])):C(j).getModel(O_[W]):y[W]}function M(j,W){return t.hasItemOption?j===d?m[W]||(m[W]=C(j).getModel(J1[W])):C(j).getModel(J1[W]):S[W]}return function(j,W){return d=j,p=null,g={},m={},i&&i(De({dataIndexInside:j,dataIndex:t.getRawIndex(j),actionType:W?W.type:null},h),c)};function O(j,W){for(var Y in W)pe(W,Y)&&(j[Y]=W[Y])}function k(j,W){j&&(j.textFill&&(W.textFill=j.textFill),j.textPosition&&(W.textPosition=j.textPosition))}}function e8(n){var t={};return F(n.dimensions,function(e){var r=n.getDimensionInfo(e);if(!r.isExtraCoord){var i=r.coordDim;(t[i]=t[i]||[])[r.coordDimIndex]=n.getDimensionIndex(e)}}),t}function rT(n,t,e,r,i,o,u){if(r){var c=V_(n,t,e,r,i,o);return c&&u.setItemGraphicEl(e,c),c&&nn(c,r.focus,r.blurScope,r.emphasisDisabled),c}o.remove(t)}function V_(n,t,e,r,i,o){var u=-1,c=t;t&&y3(t,r,i)&&(u=Ge(o.childrenRef(),t),t=null);var h=!t,d=t;d?d.clearStates():(d=nT(r),c&&function u2(n,t){t.copyTransform(n),tT(t)&&tT(n)&&(t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel,t.invisible=n.invisible,t.ignore=n.ignore,k_(t)&&k_(n)&&t.setShape(n.shape))}(c,d)),!1===r.morph?d.disableMorphing=!0:d.disableMorphing&&(d.disableMorphing=!1),Da.normal.cfg=Da.normal.conOpt=Da.emphasis.cfg=Da.emphasis.conOpt=Da.blur.cfg=Da.blur.conOpt=Da.select.cfg=Da.select.conOpt=null,Da.isLegacy=!1,function d2(n,t,e,r,i,o){if(!n.isGroup){p2(e,null,o),p2(e,Bs,o);var u=o.normal.conOpt;if(null!=u||null!=o.emphasis.conOpt||null!=o.select.conOpt||null!=o.blur.conOpt){var p=n.getTextContent();if(!1===u)p&&n.removeTextContent();else{u=o.normal.conOpt=u||{type:"text"},p?p.clearStates():(p=nT(u),n.setTextContent(p)),F_(null,p,t,u,null,r,i);for(var g=u&&u.style,m=0;m<Ql.length;m++){var y=Ql[m];if(y!==zs)f2(y,p,0,v2(u,o[y].conOpt,y),null)}g?p.dirty():p.markRedraw()}}}}(d,e,r,i,h,Da),function t8(n,t,e,r,i){var o=e.clipPath;if(!1===o)n&&n.getClipPath()&&n.removeClipPath();else if(o){var u=n.getClipPath();u&&y3(u,o,r)&&(u=null),u||(u=nT(o),n.setClipPath(u)),F_(null,u,t,o,null,r,i)}}(d,e,r,i,h),F_(n,d,e,r,Da,i,h),pe(r,"info")&&(Qa(d).info=r.info);for(var p=0;p<Ql.length;p++){var g=Ql[p];if(g!==zs)f2(g,d,0,v2(r,iT(r,g),g),Da)}return function h2(n,t,e){if(!n.isGroup){var r=n,o=e.currentZLevel;r.z=e.currentZ,r.zlevel=o;var u=t.z2;null!=u&&(r.z2=u||0);for(var c=0;c<Ql.length;c++)JW(r,t,Ql[c])}}(d,r,i),"group"===r.type&&function n8(n,t,e,r,i){var o=r.children,u=o?o.length:0,c=r.$mergeChildren,h="byName"===c||r.diffChildrenByName,d=!1===c;if(u||h||d){if(h)return void function _3(n){new bs(n.oldChildren,n.newChildren,aT,aT,n).add(B_).update(B_).remove(oT).execute()}({api:n,oldChildren:t.children()||[],newChildren:o||[],dataIndex:e,seriesModel:i,group:t});d&&t.removeAll();for(var p=0;p<u;p++){var g=o[p],m=t.childAt(p);g?(null==g.ignore&&(g.ignore=!1),V_(n,m,e,g,i,t)):m.ignore=!0}for(var y=t.childCount()-1;y>=p;y--){var S=t.childAt(y);r8(t,S,i)}}}(n,d,e,r,i),u>=0?o.replaceAt(d,u):o.add(d),d}function y3(n,t,e){var r=Qa(n),i=t.type,o=t.shape,u=t.style;return e.isUniversalTransitionEnabled()||null!=i&&i!==r.customGraphicType||"path"===i&&function S3(n){return n&&(pe(n,"pathData")||pe(n,"d"))}(o)&&sT(o)!==r.customPathData||"image"===i&&pe(u,"image")&&u.image!==r.customImagePath}function p2(n,t,e){var r=t?iT(n,t):n,i=t?v2(n,r,Bs):n.style,o=n.type,u=r?r.textConfig:null,c=n.textContent,h=c?t?iT(c,t):c:null;if(i&&(e.isLegacy||n2(i,o,!!u,!!h))){e.isLegacy=!0;var d=$1(i,o,!t);!u&&d.textConfig&&(u=d.textConfig),!h&&d.textContent&&(h=d.textContent)}!t&&h&&!h.type&&(h.type="text");var g=t?e[t]:e.normal;g.cfg=u,g.conOpt=h}function iT(n,t){return t?n?n[t]:null:n}function v2(n,t,e){var r=t&&t.style;return null==r&&e===Bs&&n&&(r=n.styleEmphasis),r}function r8(n,t,e){t&&mg(t,Qa(n).option,e)}function aT(n,t){return(n&&n.name)??v3+t}function B_(n,t){var e=this.context;V_(e.api,null!=t?e.oldChildren[t]:null,e.dataIndex,null!=n?e.newChildren[n]:null,e.seriesModel,e.group)}function oT(n){var t=this.context,e=t.oldChildren[n];e&&mg(e,Qa(e).option,t.seriesModel)}function sT(n){return n&&(n.pathData||n.d)}var Fc=ot(),td=Te,lT=de,uT=function(){function n(){this._dragging=!1,this.animationThreshold=15}return n.prototype.render=function(t,e,r,i){var o=e.get("value"),u=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=r,i||this._lastValue!==o||this._lastStatus!==u){this._lastValue=o,this._lastStatus=u;var c=this._group,h=this._handle;if(!u||"hide"===u)return c&&c.hide(),void(h&&h.hide());c&&c.show(),h&&h.show();var d={};this.makeElOption(d,o,t,e,r);var p=d.graphicKey;p!==this._lastGraphicKey&&this.clear(r),this._lastGraphicKey=p;var g=this._moveAnimation=this.determineAnimation(t,e);if(c){var m=Re(g2,e,g);this.updatePointerEl(c,d,m),this.updateLabelEl(c,d,m,e)}else c=this._group=new Ee,this.createPointerEl(c,d,t,e),this.createLabelEl(c,d,t,e),r.getZr().add(c);_2(c,e,!0),this._renderHandle(o)}},n.prototype.remove=function(t){this.clear(t)},n.prototype.dispose=function(t){this.clear(t)},n.prototype.determineAnimation=function(t,e){var r=e.get("animation"),i=t.axis,o="category"===i.type,u=e.get("snap");if(!u&&!o)return!1;if("auto"===r||null==r){var c=this.animationThreshold;if(o&&i.getBandWidth()>c)return!0;if(u){var h=KC(t).seriesDataCount,d=i.getExtent();return Math.abs(d[0]-d[1])/h>c}return!1}return!0===r},n.prototype.makeElOption=function(t,e,r,i,o){},n.prototype.createPointerEl=function(t,e,r,i){var o=e.pointer;if(o){var u=Fc(t).pointerEl=new Gs[o.type](td(e.pointer));t.add(u)}},n.prototype.createLabelEl=function(t,e,r,i){if(e.label){var o=Fc(t).labelEl=new rt(td(e.label));t.add(o),y2(o,i)}},n.prototype.updatePointerEl=function(t,e,r){var i=Fc(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),r(i,{shape:e.pointer.shape}))},n.prototype.updateLabelEl=function(t,e,r,i){var o=Fc(t).labelEl;o&&(o.setStyle(e.label.style),r(o,{x:e.label.x,y:e.label.y}),y2(o,i))},n.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var c,e=this._axisPointerModel,r=this._api.getZr(),i=this._handle,o=e.getModel("handle"),u=e.get("status");if(!o.get("show")||!u||"hide"===u)return i&&r.remove(i),void(this._handle=null);this._handle||(c=!0,i=this._handle=Rl(o.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(d){Yi(d.event)},onmousedown:lT(this._onHandleDragMove,this,0,0),drift:lT(this._onHandleDragMove,this),ondragend:lT(this._onHandleDragEnd,this)}),r.add(i)),_2(i,e,!1),i.setStyle(o.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var h=o.get("size");te(h)||(h=[h,h]),i.scaleX=h[0]/2,i.scaleY=h[1]/2,rh(this,"_doDispatchAxisPointer",o.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,c)}},n.prototype._moveHandleToValue=function(t,e){g2(this._axisPointerModel,!e&&this._moveAnimation,this._handle,cT(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},n.prototype._onHandleDragMove=function(t,e){var r=this._handle;if(r){this._dragging=!0;var i=this.updateHandleTransform(cT(r),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,r.stopAnimation(),r.attr(cT(i)),Fc(r).lastProp=null,this._doDispatchAxisPointer()}},n.prototype._doDispatchAxisPointer=function(){if(this._handle){var e=this._payloadInfo,r=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:e.cursorPoint[0],y:e.cursorPoint[1],tooltipOption:e.tooltipOption,axesInfo:[{axisDim:r.axis.dim,axisIndex:r.componentIndex}]})}},n.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var e=this._axisPointerModel.get("value");this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"})}},n.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),r=this._group,i=this._handle;e&&r&&(this._lastGraphicKey=null,r&&e.remove(r),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),ih(this,"_doDispatchAxisPointer")},n.prototype.doClear=function(){},n.prototype.buildLabel=function(t,e,r){return{x:t[r=r||0],y:t[1-r],width:e[r],height:e[1-r]}},n}();function g2(n,t,e,r){m2(Fc(e).lastProp,r)||(Fc(e).lastProp=r,t?dt(e,r,n):(e.stopAnimation(),e.attr(r)))}function m2(n,t){if(xe(n)&&xe(t)){var e=!0;return F(t,function(r,i){e=e&&m2(n[i],r)}),!!e}return n===t}function y2(n,t){n[t.get(["label","show"])?"show":"hide"]()}function cT(n){return{x:n.x||0,y:n.y||0,rotation:n.rotation||0}}function _2(n,t,e){var r=t.get("z"),i=t.get("zlevel");n&&n.traverse(function(o){"group"!==o.type&&(null!=r&&(o.z=r),null!=i&&(o.zlevel=i),o.silent=e)})}const fT=uT;function yg(n){var r,t=n.get("type"),e=n.getModel(t+"Style");return"line"===t?(r=e.getLineStyle()).fill=null:"shadow"===t&&((r=e.getAreaStyle()).stroke=null),r}function S2(n,t,e,r,i){var u=w2(e.get("value"),t.axis,t.ecModel,e.get("seriesDataIndices"),{precision:e.get(["label","precision"]),formatter:e.get(["label","formatter"])}),c=e.getModel("label"),h=is(c.get("padding")||0),d=c.getFont(),p=Qg(u,d),g=i.position,m=p.width+h[1]+h[3],y=p.height+h[0]+h[2],S=i.align;"right"===S&&(g[0]-=m),"center"===S&&(g[0]-=m/2);var b=i.verticalAlign;"bottom"===b&&(g[1]-=y),"middle"===b&&(g[1]-=y/2),function i8(n,t,e,r){var i=r.getWidth(),o=r.getHeight();n[0]=Math.min(n[0]+t,i)-t,n[1]=Math.min(n[1]+e,o)-e,n[0]=Math.max(n[0],0),n[1]=Math.max(n[1],0)}(g,m,y,r);var D=c.get("backgroundColor");(!D||"auto"===D)&&(D=t.get(["axisLine","lineStyle","color"])),n.label={x:g[0],y:g[1],style:Et(c,{text:u,font:d,fill:c.getTextColor(),padding:h,backgroundColor:D}),z2:10}}function w2(n,t,e,r,i){n=t.scale.parse(n);var o=t.scale.getLabel({value:n},{precision:i.precision}),u=i.formatter;if(u){var c={value:iC(t,{value:n}),axisDimension:t.dim,axisIndex:t.index,seriesData:[]};F(r,function(h){var d=e.getSeriesByIndex(h.seriesIndex),g=d&&d.getDataParams(h.dataIndexInside);g&&c.seriesData.push(g)}),fe(u)?o=u.replace("{value}",o):_e(u)&&(o=u(c))}return o}function hT(n,t,e){var r=[1,0,0,1,0,0];return ge(r,r,e.rotation),qi(r,r,e.position),da([n.dataToCoord(t),(e.labelOffset||0)+(e.labelDirection||1)*(e.labelMargin||0)],r)}function b2(n,t,e,r,i,o){var u=Io.innerTextLayout(e.rotation,0,e.labelDirection);e.labelMargin=i.get(["label","margin"]),S2(t,r,i,o,{position:hT(r.axis,n,e),align:u.textAlign,verticalAlign:u.textVerticalAlign})}function dT(n,t,e){return{x1:n[e=e||0],y1:n[1-e],x2:t[e],y2:t[1-e]}}function D2(n,t,e){return{x:n[e=e||0],y:n[1-e],width:t[e],height:t[1-e]}}function C2(n,t,e,r,i,o){return{cx:n,cy:t,r0:e,r,startAngle:i,endAngle:o,clockwise:!0}}var w3=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.makeElOption=function(e,r,i,o,u){var c=i.axis,h=c.grid,d=o.get("type"),p=x2(h,c).getOtherAxis(c).getGlobalExtent(),g=c.toGlobalCoord(c.dataToCoord(r,!0));if(d&&"none"!==d){var m=yg(o),y=b3[d](c,g,p);y.style=m,e.graphicKey=y.type,e.pointer=y}b2(r,e,WC(h.model,i),i,o,u)},t.prototype.getHandleTransform=function(e,r,i){var o=WC(r.axis.grid.model,r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var u=hT(r.axis,e,o);return{x:u[0],y:u[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,i,o){var u=i.axis,c=u.grid,h=u.getGlobalExtent(!0),d=x2(c,u).getOtherAxis(u).getGlobalExtent(),p="x"===u.dim?0:1,g=[e.x,e.y];g[p]+=r[p],g[p]=Math.min(h[1],g[p]),g[p]=Math.max(h[0],g[p]);var m=(d[1]+d[0])/2,y=[m,m];return y[p]=g[p],{x:g[0],y:g[1],rotation:e.rotation,cursorPoint:y,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][p]}},t}(fT);function x2(n,t){var e={};return e[t.dim+"AxisIndex"]=t.index,n.getCartesian(e)}var b3={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:dT([t,e[0]],[t,e[1]],D3(n))}},shadow:function(n,t,e){var r=Math.max(1,n.getBandWidth());return{type:"Rect",shape:D2([t-r/2,e[0]],[r,e[1]-e[0]],D3(n))}}};function D3(n){return"x"===n.dim?0:1}const C3=w3;var x3=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="axisPointer",t.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},t}(at);const T3=x3;var a=ot(),l=F;function s(n,t,e){if(!ct.node){var r=t.getZr();a(r).records||(a(r).records={}),function f(n,t){function e(r,i){n.on(r,function(o){var u=function x(n){var t={showTip:[],hideTip:[]},e=function(r){var i=t[r.type];i?i.push(r):(r.dispatchAction=e,n.dispatchAction(r))};return{dispatchAction:e,pendings:t}}(t);l(a(n).records,function(c){c&&i(c,o,u.dispatchAction)}),function v(n,t){var i,e=n.showTip.length,r=n.hideTip.length;e?i=n.showTip[e-1]:r&&(i=n.hideTip[r-1]),i&&(i.dispatchAction=null,t.dispatchAction(i))}(u.pendings,t)})}a(n).initialized||(a(n).initialized=!0,e("click",Re(w,"click")),e("mousemove",Re(w,"mousemove")),e("globalout",_))}(r,t),(a(r).records[n]||(a(r).records[n]={})).handler=e}}function _(n,t,e){n.handler("leave",null,e)}function w(n,t,e,r){t.handler(n,e,r)}function A(n,t){if(!ct.node){var e=t.getZr();(a(e).records||{})[n]&&(a(e).records[n]=null)}}var P=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o=r.getComponent("tooltip"),u=e.get("triggerOn")||o&&o.get("triggerOn")||"mousemove|click";s("axisPointer",i,function(c,h,d){"none"!==u&&("leave"===c||u.indexOf(c)>=0)&&d({type:"updateAxisPointer",currTrigger:c,x:h&&h.offsetX,y:h&&h.offsetY})})},t.prototype.remove=function(e,r){A("axisPointer",r)},t.prototype.dispose=function(e,r){A("axisPointer",r)},t.type="axisPointer",t}(wt);const N=P;function z(n,t){var i,e=[],r=n.seriesIndex;if(null==r||!(i=t.getSeriesByIndex(r)))return{point:[]};var o=i.getData(),u=po(o,n);if(null==u||u<0||te(u))return{point:[]};var c=o.getItemGraphicEl(u),h=i.coordinateSystem;if(i.getTooltipPosition)e=i.getTooltipPosition(u)||[];else if(h&&h.dataToPoint)if(n.isStacked){var d=h.getBaseAxis(),g=h.getOtherAxis(d).dim,y="x"===g||"radius"===g?1:0,S=o.mapDimension(d.dim),b=[];b[y]=o.get(S,u),b[1-y]=o.get(o.getCalculationInfo("stackResultDimension"),u),e=h.dataToPoint(b)||[]}else e=h.dataToPoint(o.getValues(re(h.dimensions,function(C){return o.mapDimension(C)}),u))||[];else if(c){var D=c.getBoundingRect().clone();D.applyTransform(c.transform),e=[D.x+D.width/2,D.y+D.height/2]}return{point:e,el:c}}var U=ot();function $(n,t,e){var r=n.currTrigger,i=[n.x,n.y],o=n,u=n.dispatchAction||de(e.dispatchAction,e),c=t.getComponent("axisPointer").coordSysAxesInfo;if(c){Ui(i)&&(i=z({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},t).point);var h=Ui(i),d=o.axesInfo,p=c.axesInfo,g="leave"===r||Ui(i),m={},y={},S={list:[],map:{}},b={showPointer:Re(ie,y),showTooltip:Re(ce,S)};F(c.coordSysMap,function(C,T){var M=h||C.containPoint(i);F(c.coordSysAxesInfo[T],function(I,L){var E=I.axis,R=function pt(n,t){for(var e=0;e<(n||[]).length;e++){var r=n[e];if(t.axis.dim===r.axisDim&&t.axis.model.componentIndex===r.axisIndex)return r}}(d,I);if(!g&&M&&(!d||R)){var O=R&&R.value;null==O&&!h&&(O=E.pointToData(i)),null!=O&&Z(I,O,b,!1,m)}})});var D={};return F(p,function(C,T){var M=C.linkGroup;M&&!y[T]&&F(M.axesInfo,function(I,L){var E=y[L];if(I!==C&&E){var R=E.value;M.mapper&&(R=C.axis.scale.parse(M.mapper(R,jn(I),jn(C)))),D[C.key]=R}})}),F(D,function(C,T){Z(p[T],C,b,!0,m)}),function ne(n,t,e){var r=e.axesInfo=[];F(t,function(i,o){var u=i.axisPointerModel.option,c=n[o];c?(!i.useHandle&&(u.status="show"),u.value=c.value,u.seriesDataIndices=(c.payloadBatch||[]).slice()):!i.useHandle&&(u.status="hide"),"show"===u.status&&r.push({axisDim:i.axis.dim,axisIndex:i.axis.model.componentIndex,value:u.value})})}(y,p,m),function Ce(n,t,e,r){if(!Ui(t)&&n.list.length){var i=((n.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};r({type:"showTip",escapeConnect:!0,x:t[0],y:t[1],tooltipOption:e.tooltipOption,position:e.position,dataIndexInside:i.dataIndexInside,dataIndex:i.dataIndex,seriesIndex:i.seriesIndex,dataByCoordSys:n.list})}else r({type:"hideTip"})}(S,i,n,u),function He(n,t,e){var r=e.getZr(),i="axisPointerLastHighlights",o=U(r)[i]||{},u=U(r)[i]={};F(n,function(d,p){var g=d.axisPointerModel.option;"show"===g.status&&d.triggerEmphasis&&F(g.seriesDataIndices,function(m){u[m.seriesIndex+" | "+m.dataIndex]=m})});var c=[],h=[];F(o,function(d,p){!u[p]&&h.push(d)}),F(u,function(d,p){!o[p]&&c.push(d)}),h.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:h}),c.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:c})}(p,0,e),m}}function Z(n,t,e,r,i){var o=n.axis;if(!o.scale.isBlank()&&o.containData(t)){if(!n.involveSeries)return void e.showPointer(n,t);var u=function Q(n,t){var e=t.axis,r=e.dim,i=n,o=[],u=Number.MAX_VALUE,c=-1;return F(t.seriesModels,function(h,d){var g,m,p=h.getData().mapDimensionsAll(r);if(h.getAxisTooltipData){var y=h.getAxisTooltipData(p,n,e);m=y.dataIndices,g=y.nestestValue}else{if(!(m=h.getData().indicesOfNearest(p[0],n,"category"===e.type?.5:null)).length)return;g=h.getData().get(p[0],m[0])}if(null!=g&&isFinite(g)){var S=n-g,b=Math.abs(S);b<=u&&((b<u||S>=0&&c<0)&&(u=b,c=S,i=g,o.length=0),F(m,function(D){o.push({seriesIndex:h.seriesIndex,dataIndexInside:D,dataIndex:h.getData().getRawIndex(D)})}))}}),{payloadBatch:o,snapToValue:i}}(t,n),c=u.payloadBatch,h=u.snapToValue;c[0]&&null==i.seriesIndex&&J(i,c[0]),!r&&n.snap&&o.containData(h)&&null!=h&&(t=h),e.showPointer(n,t,c),e.showTooltip(n,u,h)}}function ie(n,t,e,r){n[t.key]={value:e,payloadBatch:r}}function ce(n,t,e,r){var i=e.payloadBatch,o=t.axis,u=o.model,c=t.axisPointerModel;if(t.triggerTooltip&&i.length){var h=t.coordSys.model,d=xv(h),p=n.map[d];p||(p=n.map[d]={coordSysId:h.id,coordSysIndex:h.componentIndex,coordSysType:h.type,coordSysMainType:h.mainType,dataByAxis:[]},n.list.push(p)),p.dataByAxis.push({axisDim:o.dim,axisIndex:u.componentIndex,axisType:u.type,axisId:u.id,value:r,valueLabelOpt:{precision:c.get(["label","precision"]),formatter:c.get(["label","formatter"])},seriesDataIndices:i.slice()})}}function jn(n){var t=n.axis.model,e={},r=e.axisDim=n.axis.dim;return e.axisIndex=e[r+"AxisIndex"]=t.componentIndex,e.axisName=e[r+"AxisName"]=t.name,e.axisId=e[r+"AxisId"]=t.id,e}function Ui(n){return!n||null==n[0]||isNaN(n[0])||null==n[1]||isNaN(n[1])}function Ja(n){hc.registerAxisPointerClass("CartesianAxisPointer",C3),n.registerComponentModel(T3),n.registerComponentView(N),n.registerPreprocessor(function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!te(e)&&(t.axisPointer.link=[e])}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=function C4(n,t){var e={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function qC(n,t,e){var r=t.getComponent("tooltip"),i=t.getComponent("axisPointer"),o=i.get("link",!0)||[],u=[];F(e.getCoordinateSystems(),function(c){if(c.axisPointerEnabled){var h=xv(c.model),d=n.coordSysAxesInfo[h]={};n.coordSysMap[h]=c;var g=c.model.getModel("tooltip",r);if(F(c.getAxes(),Re(b,!1,null)),c.getTooltipAxes&&r&&g.get("show")){var m="axis"===g.get("trigger"),y="cross"===g.get(["axisPointer","type"]),S=c.getTooltipAxes(g.get(["axisPointer","axis"]));(m||y)&&F(S.baseAxes,Re(b,!y||"cross",m)),y&&F(S.otherAxes,Re(b,"cross",!1))}}function b(D,C,T){var M=T.model.getModel("axisPointer",i),I=M.get("show");if(I&&("auto"!==I||D||QC(M))){null==C&&(C=M.get("triggerTooltip")),M=D?function x4(n,t,e,r,i,o){var u=t.getModel("axisPointer"),h={};F(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(m){h[m]=Te(u.get(m))}),h.snap="category"!==n.type&&!!o,"cross"===u.get("type")&&(h.type="line");var d=h.label||(h.label={});if(null==d.show&&(d.show=!1),"cross"===i){var p=u.get(["label","show"]);if(d.show=p??!0,!o){var g=h.lineStyle=u.get("crossStyle");g&&De(d,g.textStyle)}}return n.model.getModel("axisPointer",new Rt(h,e,r))}(T,g,i,t,D,C):M;var L=M.get("snap"),E=M.get("triggerEmphasis"),R=xv(T.model),O=C||L||"category"===T.type,k=n.axesInfo[R]={key:R,axis:T,coordSys:c,axisPointerModel:M,triggerTooltip:C,triggerEmphasis:E,involveSeries:O,snap:L,useHandle:QC(M),seriesModels:[],linkGroup:null};d[R]=k,n.seriesInvolved=n.seriesInvolved||O;var V=function Yz(n,t){for(var e=t.model,r=t.dim,i=0;i<n.length;i++){var o=n[i]||{};if(XC(o[r+"AxisId"],e.id)||XC(o[r+"AxisIndex"],e.componentIndex)||XC(o[r+"AxisName"],e.name))return i}}(o,T);if(null!=V){var B=u[V]||(u[V]={axesInfo:{}});B.axesInfo[R]=k,B.mapper=o[V].mapper,k.linkGroup=B}}}})}(e,n,t),e.seriesInvolved&&function $z(n,t){t.eachSeries(function(e){var r=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);!r||"none"===i||!1===i||"item"===i||!1===o||!1===e.get(["axisPointer","show"],!0)||F(n.coordSysAxesInfo[xv(r.model)],function(u){var c=u.axis;r.getAxis(c.dim)===c&&(u.seriesModels.push(e),null==u.seriesDataCount&&(u.seriesDataCount=0),u.seriesDataCount+=e.getData().count())})})}(e,n),e}(t,e)}),n.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},$)}var M3=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.makeElOption=function(e,r,i,o,u){var c=i.axis;"angle"===c.dim&&(this.animationThreshold=Math.PI/18);var h=c.polar,p=h.getOtherAxis(c).getExtent(),g=c.dataToCoord(r),m=o.get("type");if(m&&"none"!==m){var y=yg(o),S=A6[m](c,h,g,p);S.style=y,e.graphicKey=S.type,e.pointer=S}var D=function A3(n,t,e,r,i){var o=t.axis,u=o.dataToCoord(n),c=r.getAngleAxis().getExtent()[0];c=c/180*Math.PI;var d,p,g,h=r.getRadiusAxis().getExtent();if("radius"===o.dim){var m=[1,0,0,1,0,0];ge(m,m,c),qi(m,m,[r.cx,r.cy]),d=da([u,-i],m);var y=t.getModel("axisLabel").get("rotate")||0,S=Io.innerTextLayout(c,y*Math.PI/180,-1);p=S.textAlign,g=S.textVerticalAlign}else{var b=h[1];d=r.coordToPoint([b+i,u]);var D=r.cx,C=r.cy;p=Math.abs(d[0]-D)/b<.3?"center":d[0]>D?"left":"right",g=Math.abs(d[1]-C)/b<.3?"middle":d[1]>C?"top":"bottom"}return{position:d,align:p,verticalAlign:g}}(r,i,0,h,o.get(["label","margin"]));S2(e,i,o,u,D)},t}(fT),A6={line:function(n,t,e,r){return"angle"===n.dim?{type:"Line",shape:dT(t.coordToPoint([r[0],e]),t.coordToPoint([r[1],e]))}:{type:"Circle",shape:{cx:t.cx,cy:t.cy,r:e}}},shadow:function(n,t,e,r){var i=Math.max(1,n.getBandWidth()),o=Math.PI/180;return"angle"===n.dim?{type:"Sector",shape:C2(t.cx,t.cy,r[0],r[1],(-e-i/2)*o,(i/2-e)*o)}:{type:"Sector",shape:C2(t.cx,t.cy,e-i/2,e+i/2,0,2*Math.PI)}}};const I6=M3;var E6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.findAxisModel=function(e){var r;return this.ecModel.eachComponent(e,function(o){o.getCoordSysModel()===this&&(r=o)},this),r},t.type="polar",t.dependencies=["radiusAxis","angleAxis"],t.defaultOption={z:0,center:["50%","50%"],radius:"80%"},t}(at);const P6=E6;var I3=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("polar",Mn).models[0]},t.type="polarAxis",t}(at);un(I3,yh);var L6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="angleAxis",t}(I3),R6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="radiusAxis",t}(I3),E3=function(n){function t(e,r){return n.call(this,"radius",e,r)||this}return q(t,n),t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},t}(ga);E3.prototype.dataToRadius=ga.prototype.dataToCoord,E3.prototype.radiusToData=ga.prototype.coordToData;const N6=E3;var O6=ot(),P3=function(n){function t(e,r){return n.call(this,"angle",e,r||[0,360])||this}return q(t,n),t.prototype.pointToData=function(e,r){return this.polar.pointToData(e,r)["radius"===this.dim?0:1]},t.prototype.calculateCategoryInterval=function(){var e=this,r=e.getLabelModel(),i=e.scale,o=i.getExtent(),u=i.count();if(o[1]-o[0]<1)return 0;var c=o[0],h=e.dataToCoord(c+1)-e.dataToCoord(c),d=Math.abs(h),p=Qg(null==c?"":c+"",r.getFont(),"center","top"),m=Math.max(p.height,7)/d;isNaN(m)&&(m=1/0);var y=Math.max(0,Math.floor(m)),S=O6(e.model),b=S.lastAutoInterval,D=S.lastTickCount;return null!=b&&null!=D&&Math.abs(b-y)<=1&&Math.abs(D-u)<=1&&b>y?y=b:(S.lastTickCount=u,S.lastAutoInterval=y),y},t}(ga);P3.prototype.dataToAngle=ga.prototype.dataToCoord,P3.prototype.angleToData=ga.prototype.coordToData;const k6=P3;var a8=["radius","angle"],F6=function(){function n(t){this.dimensions=a8,this.type="polar",this.cx=0,this.cy=0,this._radiusAxis=new N6,this._angleAxis=new k6,this.axisPointerEnabled=!0,this.name=t||"",this._radiusAxis.polar=this._angleAxis.polar=this}return n.prototype.containPoint=function(t){var e=this.pointToCoord(t);return this._radiusAxis.contain(e[0])&&this._angleAxis.contain(e[1])},n.prototype.containData=function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},n.prototype.getAxis=function(t){return this["_"+t+"Axis"]},n.prototype.getAxes=function(){return[this._radiusAxis,this._angleAxis]},n.prototype.getAxesByScale=function(t){var e=[],r=this._angleAxis,i=this._radiusAxis;return r.scale.type===t&&e.push(r),i.scale.type===t&&e.push(i),e},n.prototype.getAngleAxis=function(){return this._angleAxis},n.prototype.getRadiusAxis=function(){return this._radiusAxis},n.prototype.getOtherAxis=function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},n.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},n.prototype.getTooltipAxes=function(t){var e=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[e],otherAxes:[this.getOtherAxis(e)]}},n.prototype.dataToPoint=function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},n.prototype.pointToData=function(t,e){var r=this.pointToCoord(t);return[this._radiusAxis.radiusToData(r[0],e),this._angleAxis.angleToData(r[1],e)]},n.prototype.pointToCoord=function(t){var e=t[0]-this.cx,r=t[1]-this.cy,i=this.getAngleAxis(),o=i.getExtent(),u=Math.min(o[0],o[1]),c=Math.max(o[0],o[1]);i.inverse?u=c-360:c=u+360;var h=Math.sqrt(e*e+r*r);e/=h,r/=h;for(var d=Math.atan2(-r,e)/Math.PI*180,p=d<u?1:-1;d<u||d>c;)d+=360*p;return[h,d]},n.prototype.coordToPoint=function(t){var e=t[0],r=t[1]/180*Math.PI;return[Math.cos(r)*e+this.cx,-Math.sin(r)*e+this.cy]},n.prototype.getArea=function(){var t=this.getAngleAxis(),r=this.getRadiusAxis().getExtent().slice();r[0]>r[1]&&r.reverse();var i=t.getExtent(),o=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:r[0],r:r[1],startAngle:-i[0]*o,endAngle:-i[1]*o,clockwise:t.inverse,contain:function(u,c){var h=u-this.cx,d=c-this.cy,p=h*h+d*d-1e-4,g=this.r,m=this.r0;return p<=g*g&&p>=m*m}}},n.prototype.convertToPixel=function(t,e,r){return o8(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){return o8(e)===this?this.pointToData(r):null},n}();function o8(n){var t=n.seriesModel,e=n.polarModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const V6=F6;function z6(n,t){var e=this,r=e.getAngleAxis(),i=e.getRadiusAxis();if(r.scale.setExtent(1/0,-1/0),i.scale.setExtent(1/0,-1/0),n.eachSeries(function(c){if(c.coordinateSystem===e){var h=c.getData();F(ov(h,"radius"),function(d){i.scale.unionExtentFromData(h,d)}),F(ov(h,"angle"),function(d){r.scale.unionExtentFromData(h,d)})}}),oc(r.scale,r.model),oc(i.scale,i.model),"category"===r.type&&!r.onBand){var o=r.getExtent(),u=360/r.scale.count();r.inverse?o[1]+=u:o[1]-=u,r.setExtent(o[0],o[1])}}function s8(n,t){if(n.type=t.get("type"),n.scale=mh(t),n.onBand=t.get("boundaryGap")&&"category"===n.type,n.inverse=t.get("inverse"),function H6(n){return"angleAxis"===n.mainType}(t)){n.inverse=n.inverse!==t.get("clockwise");var e=t.get("startAngle");n.setExtent(e,e+(n.inverse?-360:360))}t.axis=n,n.model=t}var G6={dimensions:a8,create:function(n,t){var e=[];return n.eachComponent("polar",function(r,i){var o=new V6(i+"");o.update=z6;var u=o.getRadiusAxis(),c=o.getAngleAxis(),h=r.findAxisModel("radiusAxis"),d=r.findAxisModel("angleAxis");s8(u,h),s8(c,d),function B6(n,t,e){var r=t.get("center"),i=e.getWidth(),o=e.getHeight();n.cx=le(r[0],i),n.cy=le(r[1],o);var u=n.getRadiusAxis(),c=Math.min(i,o)/2,h=t.get("radius");null==h?h=[0,"100%"]:te(h)||(h=[0,h]);var d=[le(h[0],c),le(h[1],c)];u.inverse?u.setExtent(d[1],d[0]):u.setExtent(d[0],d[1])}(o,r,t),e.push(o),r.coordinateSystem=o,o.model=r}),n.eachSeries(function(r){if("polar"===r.get("coordinateSystem")){var i=r.getReferringComponents("polar",Mn).models[0];r.coordinateSystem=i.coordinateSystem}}),e}};const U6=G6;var j6=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function T2(n,t,e){t[1]>t[0]&&(t=t.slice().reverse());var r=n.coordToPoint([t[0],e]),i=n.coordToPoint([t[1],e]);return{x1:r[0],y1:r[1],x2:i[0],y2:i[1]}}function M2(n){return n.getRadiusAxis().inverse?0:1}function l8(n){var t=n[0],e=n[n.length-1];t&&e&&Math.abs(Math.abs(t.coord-e.coord)-360)<1e-4&&n.pop()}var W6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return q(t,n),t.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var i=e.axis,o=i.polar,u=o.getRadiusAxis().getExtent(),c=i.getTicksCoords(),h=i.getMinorTicksCoords(),d=re(i.getViewLabels(),function(p){p=Te(p);var g=i.scale,m="ordinal"===g.type?g.getRawOrdinalNumber(p.tickValue):p.tickValue;return p.coord=i.dataToCoord(m),p});l8(d),l8(c),F(j6,function(p){e.get([p,"show"])&&(!i.scale.isBlank()||"axisLine"===p)&&$6[p](this.group,e,o,c,h,u,d)},this)}},t.type="angleAxis",t}(hc),$6={axisLine:function(n,t,e,r,i,o){var d,u=t.getModel(["axisLine","lineStyle"]),c=M2(e),h=c?0:1;(d=0===o[h]?new bo({shape:{cx:e.cx,cy:e.cy,r:o[c]},style:u.getLineStyle(),z2:1,silent:!0}):new Ml({shape:{cx:e.cx,cy:e.cy,r:o[c],r0:o[h]},style:u.getLineStyle(),z2:1,silent:!0})).style.fill=null,n.add(d)},axisTick:function(n,t,e,r,i,o){var u=t.getModel("axisTick"),c=(u.get("inside")?-1:1)*u.get("length"),h=o[M2(e)],d=re(r,function(p){return new Vn({shape:T2(e,[h,h+c],p.coord)})});n.add(vi(d,{style:De(u.getModel("lineStyle").getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])})}))},minorTick:function(n,t,e,r,i,o){if(i.length){for(var u=t.getModel("axisTick"),c=t.getModel("minorTick"),h=(u.get("inside")?-1:1)*c.get("length"),d=o[M2(e)],p=[],g=0;g<i.length;g++)for(var m=0;m<i[g].length;m++)p.push(new Vn({shape:T2(e,[d,d+h],i[g][m].coord)}));n.add(vi(p,{style:De(c.getModel("lineStyle").getLineStyle(),De(u.getLineStyle(),{stroke:t.get(["axisLine","lineStyle","color"])}))}))}},axisLabel:function(n,t,e,r,i,o,u){var c=t.getCategories(!0),h=t.getModel("axisLabel"),d=h.get("margin"),p=t.get("triggerEvent");F(u,function(g,m){var y=h,S=g.tickValue,b=o[M2(e)],D=e.coordToPoint([b+d,g.coord]),C=e.cx,T=e.cy,M=Math.abs(D[0]-C)/b<.3?"center":D[0]>C?"left":"right",I=Math.abs(D[1]-T)/b<.3?"middle":D[1]>T?"top":"bottom";if(c&&c[S]){var L=c[S];xe(L)&&L.textStyle&&(y=new Rt(L.textStyle,h,h.ecModel))}var E=new rt({silent:Io.isLabelSilent(t),style:Et(y,{x:D[0],y:D[1],fill:y.getTextColor()||t.get(["axisLine","lineStyle","color"]),text:g.formattedLabel,align:M,verticalAlign:I})});if(n.add(E),p){var R=Io.makeAxisEventDataBase(t);R.targetType="axisLabel",R.value=g.rawLabel,Oe(E).eventData=R}},this)},splitLine:function(n,t,e,r,i,o){var c=t.getModel("splitLine").getModel("lineStyle"),h=c.get("color"),d=0;h=h instanceof Array?h:[h];for(var p=[],g=0;g<r.length;g++){var m=d++%h.length;p[m]=p[m]||[],p[m].push(new Vn({shape:T2(e,o,r[g].coord)}))}for(g=0;g<p.length;g++)n.add(vi(p[g],{style:De({stroke:h[g%h.length]},c.getLineStyle()),silent:!0,z:t.get("z")}))},minorSplitLine:function(n,t,e,r,i,o){if(i.length){for(var c=t.getModel("minorSplitLine").getModel("lineStyle"),h=[],d=0;d<i.length;d++)for(var p=0;p<i[d].length;p++)h.push(new Vn({shape:T2(e,o,i[d][p].coord)}));n.add(vi(h,{style:c.getLineStyle(),silent:!0,z:t.get("z")}))}},splitArea:function(n,t,e,r,i,o){if(r.length){var c=t.getModel("splitArea").getModel("areaStyle"),h=c.get("color"),d=0;h=h instanceof Array?h:[h];for(var p=[],g=Math.PI/180,m=-r[0].coord*g,y=Math.min(o[0],o[1]),S=Math.max(o[0],o[1]),b=t.get("clockwise"),D=1,C=r.length;D<=C;D++){var T=D===C?r[0].coord:r[D].coord,M=d++%h.length;p[M]=p[M]||[],p[M].push(new jr({shape:{cx:e.cx,cy:e.cy,r0:y,r:S,startAngle:m,endAngle:-T*g,clockwise:b},silent:!0})),m=-T*g}for(D=0;D<p.length;D++)n.add(vi(p[D],{style:De({fill:h[D%h.length]},c.getAreaStyle()),silent:!0}))}}};const Y6=W6;var Z6=["axisLine","axisTickLabel","axisName"],q6=["splitLine","splitArea","minorSplitLine"],X6=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="PolarAxisPointer",e}return q(t,n),t.prototype.render=function(e,r){if(this.group.removeAll(),e.get("show")){var i=this._axisGroup,o=this._axisGroup=new Ee;this.group.add(o);var u=e.axis,c=u.polar,h=c.getAngleAxis(),d=u.getTicksCoords(),p=u.getMinorTicksCoords(),g=h.getExtent()[0],m=u.getExtent(),y=function Q6(n,t,e){return{position:[n.cx,n.cy],rotation:e/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:t.getModel("axisLabel").get("rotate"),z2:1}}(c,e,g),S=new Io(e,y);F(Z6,S.add,S),o.add(S.getGroup()),Mp(i,o,e),F(q6,function(b){e.get([b,"show"])&&!u.scale.isBlank()&&K6[b](this.group,e,c,g,m,d,p)},this)}},t.type="radiusAxis",t}(hc),K6={splitLine:function(n,t,e,r,i,o){var c=t.getModel("splitLine").getModel("lineStyle"),h=c.get("color"),d=0;h=h instanceof Array?h:[h];for(var p=[],g=0;g<o.length;g++){var m=d++%h.length;p[m]=p[m]||[],p[m].push(new bo({shape:{cx:e.cx,cy:e.cy,r:Math.max(o[g].coord,0)}}))}for(g=0;g<p.length;g++)n.add(vi(p[g],{style:De({stroke:h[g%h.length],fill:null},c.getLineStyle()),silent:!0}))},minorSplitLine:function(n,t,e,r,i,o,u){if(u.length){for(var h=t.getModel("minorSplitLine").getModel("lineStyle"),d=[],p=0;p<u.length;p++)for(var g=0;g<u[p].length;g++)d.push(new bo({shape:{cx:e.cx,cy:e.cy,r:u[p][g].coord}}));n.add(vi(d,{style:De({fill:null},h.getLineStyle()),silent:!0}))}},splitArea:function(n,t,e,r,i,o){if(o.length){var c=t.getModel("splitArea").getModel("areaStyle"),h=c.get("color"),d=0;h=h instanceof Array?h:[h];for(var p=[],g=o[0].coord,m=1;m<o.length;m++){var y=d++%h.length;p[y]=p[y]||[],p[y].push(new jr({shape:{cx:e.cx,cy:e.cy,r0:g,r:o[m].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),g=o[m].coord}for(m=0;m<p.length;m++)n.add(vi(p[m],{style:De({fill:h[m%h.length]},c.getAreaStyle()),silent:!0}))}}};const J6=X6;function u8(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function c8(n,t){return t.dim+n.model.componentIndex}const n9=function e9(n,t,e){var r={},i=function t9(n){var t={};F(n,function(r,i){var o=r.getData(),u=r.coordinateSystem,c=u.getBaseAxis(),h=c8(u,c),d=c.getExtent(),p="category"===c.type?c.getBandWidth():Math.abs(d[1]-d[0])/o.count(),g=t[h]||{bandWidth:p,remainedWidth:p,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},m=g.stacks;t[h]=g;var y=u8(r);m[y]||g.autoWidthCount++,m[y]=m[y]||{width:0,maxWidth:0};var S=le(r.get("barWidth"),p),b=le(r.get("barMaxWidth"),p),D=r.get("barGap"),C=r.get("barCategoryGap");S&&!m[y].width&&(S=Math.min(g.remainedWidth,S),m[y].width=S,g.remainedWidth-=S),b&&(m[y].maxWidth=b),null!=D&&(g.gap=D),null!=C&&(g.categoryGap=C)});var e={};return F(t,function(r,i){e[i]={};var o=r.stacks,c=le(r.categoryGap,r.bandWidth),h=le(r.gap,1),d=r.remainedWidth,p=r.autoWidthCount,g=(d-c)/(p+(p-1)*h);g=Math.max(g,0),F(o,function(b,D){var C=b.maxWidth;C&&C<g&&(C=Math.min(C,d),b.width&&(C=Math.min(C,b.width)),d-=C,b.width=C,p--)}),g=(d-c)/(p+(p-1)*h),g=Math.max(g,0);var y,m=0;F(o,function(b,D){b.width||(b.width=g),y=b,m+=b.width*(1+h)}),y&&(m-=y.width*h);var S=-m/2;F(o,function(b,D){e[i][D]=e[i][D]||{offset:S,width:b.width},S+=b.width*(1+h)})}),e}(yt(t.getSeriesByType(n),function(o){return!t.isSeriesFiltered(o)&&o.coordinateSystem&&"polar"===o.coordinateSystem.type}));t.eachSeriesByType(n,function(o){if("polar"===o.coordinateSystem.type){var u=o.getData(),c=o.coordinateSystem,h=c.getBaseAxis(),d=c8(c,h),p=u8(o),g=i[d][p],m=g.offset,y=g.width,S=c.getOtherAxis(h),b=o.coordinateSystem.cx,D=o.coordinateSystem.cy,C=o.get("barMinHeight")||0,T=o.get("barMinAngle")||0;r[p]=r[p]||[];for(var M=u.mapDimension(S.dim),I=u.mapDimension(h.dim),L=Ds(u,M),E="radius"!==h.dim||!o.get("roundCap",!0),R=S.dataToCoord(0),O=0,k=u.count();O<k;O++){var V=u.get(M,O),B=u.get(I,O),H=V>=0?"p":"n",G=R;L&&(r[p][B]||(r[p][B]={p:R,n:R}),G=r[p][B][H]);var j=void 0,W=void 0,Y=void 0,K=void 0;if("radius"===S.dim){var X=S.dataToCoord(V)-R,ee=h.dataToCoord(B);Math.abs(X)<C&&(X=(X<0?-1:1)*C),j=G,W=G+X,K=(Y=ee-m)-y,L&&(r[p][B][H]=W)}else{var oe=S.dataToCoord(V,E)-R,he=h.dataToCoord(B);Math.abs(oe)<T&&(oe=(oe<0?-1:1)*T),W=(j=he+m)+y,Y=G,K=G+oe,L&&(r[p][B][H]=K)}u.setItemLayout(O,{cx:b,cy:D,r0:j,r:W,startAngle:-Y*Math.PI/180,endAngle:-K*Math.PI/180,clockwise:Y>=K})}}})};var r9={startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:0}},i9={splitNumber:5},a9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="polar",t}(wt);function L3(n,t){t=t||{};var r=n.axis,i={},o=r.position,u=r.orient,c=n.coordinateSystem.getRect(),h=[c.x,c.x+c.width,c.y,c.y+c.height],d={horizontal:{top:h[2],bottom:h[3]},vertical:{left:h[0],right:h[1]}};i.position=["vertical"===u?d.vertical[o]:h[0],"horizontal"===u?d.horizontal[o]:h[3]],i.rotation=Math.PI/2*{horizontal:0,vertical:1}[u],i.labelDirection=i.tickDirection=i.nameDirection={top:-1,bottom:1,right:1,left:-1}[o],n.get(["axisTick","inside"])&&(i.tickDirection=-i.tickDirection),bt(t.labelInside,n.get(["axisLabel","inside"]))&&(i.labelDirection=-i.labelDirection);var m=t.rotate;return null==m&&(m=n.get(["axisLabel","rotate"])),i.labelRotation="top"===o?-m:m,i.z2=1,i}var s9=["axisLine","axisTickLabel","axisName"],l9=["splitArea","splitLine"],u9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.axisPointerClass="SingleAxisPointer",e}return q(t,n),t.prototype.render=function(e,r,i,o){var u=this.group;u.removeAll();var c=this._axisGroup;this._axisGroup=new Ee;var h=L3(e),d=new Io(e,h);F(s9,d.add,d),u.add(this._axisGroup),u.add(d.getGroup()),F(l9,function(p){e.get([p,"show"])&&c9[p](this,this.group,this._axisGroup,e)},this),Mp(c,this._axisGroup,e),n.prototype.render.call(this,e,r,i,o)},t.prototype.remove=function(){qz(this)},t.type="singleAxis",t}(hc),c9={splitLine:function(n,t,e,r){var i=r.axis;if(!i.scale.isBlank()){var o=r.getModel("splitLine"),u=o.getModel("lineStyle"),c=u.get("color");c=c instanceof Array?c:[c];for(var h=u.get("width"),d=r.coordinateSystem.getRect(),p=i.isHorizontal(),g=[],m=0,y=i.getTicksCoords({tickModel:o}),S=[],b=[],D=0;D<y.length;++D){var C=i.toGlobalCoord(y[D].coord);p?(S[0]=C,S[1]=d.y,b[0]=C,b[1]=d.y+d.height):(S[0]=d.x,S[1]=C,b[0]=d.x+d.width,b[1]=C);var T=new Vn({shape:{x1:S[0],y1:S[1],x2:b[0],y2:b[1]},silent:!0});Xu(T.shape,h);var M=m++%c.length;g[M]=g[M]||[],g[M].push(T)}var I=u.getLineStyle(["color"]);for(D=0;D<g.length;++D)t.add(vi(g[D],{style:De({stroke:c[D%c.length]},I),silent:!0}))}},splitArea:function(n,t,e,r){fR(n,e,r,r)}};const f9=u9;var f8=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.getCoordSysModel=function(){return this},t.type="singleAxis",t.layoutMode="box",t.defaultOption={left:"5%",top:"5%",right:"5%",bottom:"5%",type:"value",position:"bottom",orient:"horizontal",axisLine:{show:!0,lineStyle:{width:1,type:"solid"}},tooltip:{show:!0},axisTick:{show:!0,length:6,lineStyle:{width:1}},axisLabel:{show:!0,interval:"auto"},splitLine:{show:!0,lineStyle:{type:"dashed",opacity:.2}}},t}(at);un(f8,yh.prototype);const R3=f8;var h9=function(n){function t(e,r,i,o,u){var c=n.call(this,e,r,i)||this;return c.type=o||"value",c.position=u||"bottom",c}return q(t,n),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.pointToData=function(e,r){return this.coordinateSystem.pointToData(e)[0]},t}(ga);const d9=h9;var h8=["single"],p9=function(){function n(t,e,r){this.type="single",this.dimension="single",this.dimensions=h8,this.axisPointerEnabled=!0,this.model=t,this._init(t,e,r)}return n.prototype._init=function(t,e,r){var o=new d9(this.dimension,mh(t),[0,0],t.get("type"),t.get("position"));o.onBand="category"===o.type&&t.get("boundaryGap"),o.inverse=t.get("inverse"),o.orient=t.get("orient"),t.axis=o,o.model=t,o.coordinateSystem=this,this._axis=o},n.prototype.update=function(t,e){t.eachSeries(function(r){if(r.coordinateSystem===this){var i=r.getData();F(i.mapDimensionsAll(this.dimension),function(o){this._axis.scale.unionExtentFromData(i,o)},this),oc(this._axis.scale,this._axis.model)}},this)},n.prototype.resize=function(t,e){this._rect=An({left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")},{width:e.getWidth(),height:e.getHeight()}),this._adjustAxis()},n.prototype.getRect=function(){return this._rect},n.prototype._adjustAxis=function(){var t=this._rect,e=this._axis,r=e.isHorizontal(),i=r?[0,t.width]:[0,t.height],o=e.inverse?1:0;e.setExtent(i[o],i[1-o]),this._updateAxisTransform(e,r?t.x:t.y)},n.prototype._updateAxisTransform=function(t,e){var r=t.getExtent(),i=r[0]+r[1],o=t.isHorizontal();t.toGlobalCoord=o?function(u){return u+e}:function(u){return i-u+e},t.toLocalCoord=o?function(u){return u-e}:function(u){return i-u+e}},n.prototype.getAxis=function(){return this._axis},n.prototype.getBaseAxis=function(){return this._axis},n.prototype.getAxes=function(){return[this._axis]},n.prototype.getTooltipAxes=function(){return{baseAxes:[this.getAxis()],otherAxes:[]}},n.prototype.containPoint=function(t){var e=this.getRect(),r=this.getAxis();return"horizontal"===r.orient?r.contain(r.toLocalCoord(t[0]))&&t[1]>=e.y&&t[1]<=e.y+e.height:r.contain(r.toLocalCoord(t[1]))&&t[0]>=e.y&&t[0]<=e.y+e.height},n.prototype.pointToData=function(t){var e=this.getAxis();return[e.coordToData(e.toLocalCoord(t["horizontal"===e.orient?0:1]))]},n.prototype.dataToPoint=function(t){var e=this.getAxis(),r=this.getRect(),i=[],o="horizontal"===e.orient?0:1;return t instanceof Array&&(t=t[0]),i[o]=e.toGlobalCoord(e.dataToCoord(+t)),i[1-o]=0===o?r.y+r.height/2:r.x+r.width/2,i},n.prototype.convertToPixel=function(t,e,r){return d8(e)===this?this.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){return d8(e)===this?this.pointToData(r):null},n}();function d8(n){var t=n.seriesModel,e=n.singleAxisModel;return e&&e.coordinateSystem||t&&t.coordinateSystem}const v9=p9;var m9={create:function g9(n,t){var e=[];return n.eachComponent("singleAxis",function(r,i){var o=new v9(r,n,t);o.name="single_"+i,o.resize(r,t),r.coordinateSystem=o,e.push(o)}),n.eachSeries(function(r){if("singleAxis"===r.get("coordinateSystem")){var i=r.getReferringComponents("singleAxis",Mn).models[0];r.coordinateSystem=i&&i.coordinateSystem}}),e},dimensions:h8};const y9=m9;var p8=["x","y"],_9=["width","height"],S9=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.makeElOption=function(e,r,i,o,u){var c=i.axis,h=c.coordinateSystem,d=N3(h,1-A2(c)),p=h.dataToPoint(r)[0],g=o.get("type");if(g&&"none"!==g){var m=yg(o),y=w9[g](c,p,d);y.style=m,e.graphicKey=y.type,e.pointer=y}b2(r,e,L3(i),i,o,u)},t.prototype.getHandleTransform=function(e,r,i){var o=L3(r,{labelInside:!1});o.labelMargin=i.get(["handle","margin"]);var u=hT(r.axis,e,o);return{x:u[0],y:u[1],rotation:o.rotation+(o.labelDirection<0?Math.PI:0)}},t.prototype.updateHandleTransform=function(e,r,i,o){var u=i.axis,c=u.coordinateSystem,h=A2(u),d=N3(c,h),p=[e.x,e.y];p[h]+=r[h],p[h]=Math.min(d[1],p[h]),p[h]=Math.max(d[0],p[h]);var g=N3(c,1-h),m=(g[1]+g[0])/2,y=[m,m];return y[h]=p[h],{x:p[0],y:p[1],rotation:e.rotation,cursorPoint:y,tooltipOption:{verticalAlign:"middle"}}},t}(fT),w9={line:function(n,t,e){return{type:"Line",subPixelOptimize:!0,shape:dT([t,e[0]],[t,e[1]],A2(n))}},shadow:function(n,t,e){var r=n.getBandWidth();return{type:"Rect",shape:D2([t-r/2,e[0]],[r,e[1]-e[0]],A2(n))}}};function A2(n){return n.isHorizontal()?0:1}function N3(n,t){var e=n.getRect();return[e[p8[t]],e[p8[t]]+e[_9[t]]]}const b9=S9;var D9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="single",t}(wt),x9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e,r,i){var o=wl(e);n.prototype.init.apply(this,arguments),v8(e,o)},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),v8(this.option,e)},t.prototype.getCellSize=function(){return this.option.cellSize},t.type="calendar",t.defaultOption={z:2,left:80,top:60,cellSize:20,orient:"horizontal",splitLine:{show:!0,lineStyle:{color:"#000",width:1,type:"solid"}},itemStyle:{color:"#fff",borderWidth:1,borderColor:"#ccc"},dayLabel:{show:!0,firstDay:0,position:"start",margin:"50%",color:"#000"},monthLabel:{show:!0,position:"start",margin:5,align:"center",formatter:null,color:"#000"},yearLabel:{show:!0,position:null,margin:30,formatter:null,color:"#ccc",fontFamily:"sans-serif",fontWeight:"bolder",fontSize:20}},t}(at);function v8(n,t){var r,e=n.cellSize;1===(r=te(e)?e:n.cellSize=[e,e]).length&&(r[1]=r[0]);var i=re([0,1],function(o){return function ab(n,t){return null!=n[zu[t][0]]||null!=n[zu[t][1]]&&null!=n[zu[t][2]]}(t,o)&&(r[o]="auto"),null!=r[o]&&"auto"!==r[o]});as(n,t,{type:"box",ignoreSize:i})}const T9=x9;var M9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){var o=this.group;o.removeAll();var u=e.coordinateSystem,c=u.getRangeInfo(),h=u.getOrient(),d=r.getLocaleModel();this._renderDayRect(e,c,o),this._renderLines(e,c,h,o),this._renderYearText(e,c,h,o),this._renderMonthText(e,d,h,o),this._renderWeekText(e,d,c,h,o)},t.prototype._renderDayRect=function(e,r,i){for(var o=e.coordinateSystem,u=e.getModel("itemStyle").getItemStyle(),c=o.getCellWidth(),h=o.getCellHeight(),d=r.start.time;d<=r.end.time;d=o.getNextNDay(d,1).time){var p=o.dataToRect([d],!1).tl,g=new st({shape:{x:p[0],y:p[1],width:c,height:h},cursor:"default",style:u});i.add(g)}},t.prototype._renderLines=function(e,r,i,o){var u=this,c=e.coordinateSystem,h=e.getModel(["splitLine","lineStyle"]).getLineStyle(),d=e.get(["splitLine","show"]),p=h.lineWidth;this._tlpoints=[],this._blpoints=[],this._firstDayOfMonth=[],this._firstDayPoints=[];for(var g=r.start,m=0;g.time<=r.end.time;m++){S(g.formatedDate),0===m&&(g=c.getDateInfo(r.start.y+"-"+r.start.m));var y=g.date;y.setMonth(y.getMonth()+1),g=c.getDateInfo(y)}function S(b){u._firstDayOfMonth.push(c.getDateInfo(b)),u._firstDayPoints.push(c.dataToRect([b],!1).tl);var D=u._getLinePointsOfOneWeek(e,b,i);u._tlpoints.push(D[0]),u._blpoints.push(D[D.length-1]),d&&u._drawSplitline(D,h,o)}S(c.getNextNDay(r.end.time,1).formatedDate),d&&this._drawSplitline(u._getEdgesPoints(u._tlpoints,p,i),h,o),d&&this._drawSplitline(u._getEdgesPoints(u._blpoints,p,i),h,o)},t.prototype._getEdgesPoints=function(e,r,i){var o=[e[0].slice(),e[e.length-1].slice()],u="horizontal"===i?0:1;return o[0][u]=o[0][u]-r/2,o[1][u]=o[1][u]+r/2,o},t.prototype._drawSplitline=function(e,r,i){var o=new Wr({z2:20,shape:{points:e},style:r});i.add(o)},t.prototype._getLinePointsOfOneWeek=function(e,r,i){for(var o=e.coordinateSystem,u=o.getDateInfo(r),c=[],h=0;h<7;h++){var d=o.getNextNDay(u.time,h),p=o.dataToRect([d.time],!1);c[2*d.day]=p.tl,c[2*d.day+1]=p["horizontal"===i?"bl":"tr"]}return c},t.prototype._formatterLabel=function(e,r){return fe(e)&&e?function rb(n,t,e){return F(t,function(r,i){n=n.replace("{"+i+"}",e?yr(r):r)}),n}(e,r):_e(e)?e(r):r.nameMap},t.prototype._yearTextPositionControl=function(e,r,i,o,u){var c=r[0],h=r[1],d=["center","bottom"];"bottom"===o?(h+=u,d=["center","top"]):"left"===o?c-=u:"right"===o?(c+=u,d=["center","top"]):h-=u;var p=0;return("left"===o||"right"===o)&&(p=Math.PI/2),{rotation:p,x:c,y:h,style:{align:d[0],verticalAlign:d[1]}}},t.prototype._renderYearText=function(e,r,i,o){var u=e.getModel("yearLabel");if(u.get("show")){var c=u.get("margin"),h=u.get("position");h||(h="horizontal"!==i?"top":"left");var d=[this._tlpoints[this._tlpoints.length-1],this._blpoints[0]],p=(d[0][0]+d[1][0])/2,g=(d[0][1]+d[1][1])/2,m="horizontal"===i?0:1,y={top:[p,d[m][1]],bottom:[p,d[1-m][1]],left:[d[1-m][0],g],right:[d[m][0],g]},S=r.start.y;+r.end.y>+r.start.y&&(S=S+"-"+r.end.y);var b=u.get("formatter"),C=this._formatterLabel(b,{start:r.start.y,end:r.end.y,nameMap:S}),T=new rt({z2:30,style:Et(u,{text:C})});T.attr(this._yearTextPositionControl(T,y[h],i,h,c)),o.add(T)}},t.prototype._monthTextPositionControl=function(e,r,i,o,u){var c="left",h="top",d=e[0],p=e[1];return"horizontal"===i?(p+=u,r&&(c="center"),"start"===o&&(h="bottom")):(d+=u,r&&(h="middle"),"start"===o&&(c="right")),{x:d,y:p,align:c,verticalAlign:h}},t.prototype._renderMonthText=function(e,r,i,o){var u=e.getModel("monthLabel");if(u.get("show")){var c=u.get("nameMap"),h=u.get("margin"),d=u.get("position"),p=u.get("align"),g=[this._tlpoints,this._blpoints];(!c||fe(c))&&(c&&(r=Fm(c)||r),c=r.get(["time","monthAbbr"])||[]);var m="start"===d?0:1,y="horizontal"===i?0:1;h="start"===d?-h:h;for(var S="center"===p,b=0;b<g[m].length-1;b++){var D=g[m][b].slice(),C=this._firstDayOfMonth[b];S&&(D[y]=(this._firstDayPoints[b][y]+g[0][b+1][y])/2);var M=u.get("formatter"),I=c[+C.m-1],L={yyyy:C.y,yy:(C.y+"").slice(2),MM:C.m,M:+C.m,nameMap:I},E=this._formatterLabel(M,L),R=new rt({z2:30,style:J(Et(u,{text:E}),this._monthTextPositionControl(D,S,i,d,h))});o.add(R)}}},t.prototype._weekTextPositionControl=function(e,r,i,o,u){var c="center",h="middle",d=e[0],p=e[1],g="start"===i;return"horizontal"===r?(d=d+o+(g?1:-1)*u[0]/2,c=g?"right":"left"):(p=p+o+(g?1:-1)*u[1]/2,h=g?"bottom":"top"),{x:d,y:p,align:c,verticalAlign:h}},t.prototype._renderWeekText=function(e,r,i,o,u){var c=e.getModel("dayLabel");if(c.get("show")){var h=e.coordinateSystem,d=c.get("position"),p=c.get("nameMap"),g=c.get("margin"),m=h.getFirstDayOfWeek();p&&!fe(p)||(p&&(r=Fm(p)||r),p=r.get(["time","dayOfWeekShort"])||re(r.get(["time","dayOfWeekAbbr"]),function(L){return L[0]}));var S=h.getNextNDay(i.end.time,7-i.lweek).time,b=[h.getCellWidth(),h.getCellHeight()];g=le(g,Math.min(b[1],b[0])),"start"===d&&(S=h.getNextNDay(i.start.time,-(7+i.fweek)).time,g=-g);for(var D=0;D<7;D++){var M,C=h.getNextNDay(S,D),T=h.dataToRect([C.time],!1).center;M=Math.abs((D+m)%7);var I=new rt({z2:30,style:J(Et(c,{text:p[M]}),this._weekTextPositionControl(T,o,d,g,b))});u.add(I)}}},t.type="calendar",t}(wt);const A9=M9;var O3=864e5,I9=function(){function n(t,e,r){this.type="calendar",this.dimensions=n.dimensions,this.getDimensionsInfo=n.getDimensionsInfo,this._model=t}return n.getDimensionsInfo=function(){return[{name:"time",type:"time"},"value"]},n.prototype.getRangeInfo=function(){return this._rangeInfo},n.prototype.getModel=function(){return this._model},n.prototype.getRect=function(){return this._rect},n.prototype.getCellWidth=function(){return this._sw},n.prototype.getCellHeight=function(){return this._sh},n.prototype.getOrient=function(){return this._orient},n.prototype.getFirstDayOfWeek=function(){return this._firstDayOfWeek},n.prototype.getDateInfo=function(t){var e=(t=Ii(t)).getFullYear(),r=t.getMonth()+1,i=r<10?"0"+r:""+r,o=t.getDate(),u=o<10?"0"+o:""+o,c=t.getDay();return{y:e+"",m:i,d:u,day:c=Math.abs((c+7-this.getFirstDayOfWeek())%7),time:t.getTime(),formatedDate:e+"-"+i+"-"+u,date:t}},n.prototype.getNextNDay=function(t,e){return 0===(e=e||0)||(t=new Date(this.getDateInfo(t).time)).setDate(t.getDate()+e),this.getDateInfo(t)},n.prototype.update=function(t,e){this._firstDayOfWeek=+this._model.getModel("dayLabel").get("firstDay"),this._orient=this._model.get("orient"),this._lineWidth=this._model.getModel("itemStyle").getItemStyle().lineWidth||0,this._rangeInfo=this._getRangeInfo(this._initRangeOption());var r=this._rangeInfo.weeks||1,i=["width","height"],o=this._model.getCellSize().slice(),u=this._model.getBoxLayoutParams(),c="horizontal"===this._orient?[r,7]:[7,r];F([0,1],function(g){p(o,g)&&(u[i[g]]=o[g]*c[g])});var h={width:e.getWidth(),height:e.getHeight()},d=this._rect=An(u,h);function p(g,m){return null!=g[m]&&"auto"!==g[m]}F([0,1],function(g){p(o,g)||(o[g]=d[i[g]]/c[g])}),this._sw=o[0],this._sh=o[1]},n.prototype.dataToPoint=function(t,e){te(t)&&(t=t[0]),null==e&&(e=!0);var r=this.getDateInfo(t),i=this._rangeInfo;if(e&&!(r.time>=i.start.time&&r.time<i.end.time+O3))return[NaN,NaN];var u=r.day,c=this._getRangeInfo([i.start.time,r.formatedDate]).nthWeek;return"vertical"===this._orient?[this._rect.x+u*this._sw+this._sw/2,this._rect.y+c*this._sh+this._sh/2]:[this._rect.x+c*this._sw+this._sw/2,this._rect.y+u*this._sh+this._sh/2]},n.prototype.pointToData=function(t){var e=this.pointToDate(t);return e&&e.time},n.prototype.dataToRect=function(t,e){var r=this.dataToPoint(t,e);return{contentShape:{x:r[0]-(this._sw-this._lineWidth)/2,y:r[1]-(this._sh-this._lineWidth)/2,width:this._sw-this._lineWidth,height:this._sh-this._lineWidth},center:r,tl:[r[0]-this._sw/2,r[1]-this._sh/2],tr:[r[0]+this._sw/2,r[1]-this._sh/2],br:[r[0]+this._sw/2,r[1]+this._sh/2],bl:[r[0]-this._sw/2,r[1]+this._sh/2]}},n.prototype.pointToDate=function(t){var e=Math.floor((t[0]-this._rect.x)/this._sw)+1,r=Math.floor((t[1]-this._rect.y)/this._sh)+1,i=this._rangeInfo.range;return"vertical"===this._orient?this._getDateByWeeksAndDay(r,e-1,i):this._getDateByWeeksAndDay(e,r-1,i)},n.prototype.convertToPixel=function(t,e,r){var i=g8(e);return i===this?i.dataToPoint(r):null},n.prototype.convertFromPixel=function(t,e,r){var i=g8(e);return i===this?i.pointToData(r):null},n.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},n.prototype._initRangeOption=function(){var e,t=this._model.get("range");if(te(t)&&1===t.length&&(t=t[0]),te(t))e=t;else{var r=t.toString();if(/^\d{4}$/.test(r)&&(e=[r+"-01-01",r+"-12-31"]),/^\d{4}[\/|-]\d{1,2}$/.test(r)){var i=this.getDateInfo(r),o=i.date;o.setMonth(o.getMonth()+1);var u=this.getNextNDay(o,-1);e=[i.formatedDate,u.formatedDate]}/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(r)&&(e=[r,r])}if(!e)return t;var c=this._getRangeInfo(e);return c.start.time>c.end.time&&e.reverse(),e},n.prototype._getRangeInfo=function(t){var r,e=[this.getDateInfo(t[0]),this.getDateInfo(t[1])];e[0].time>e[1].time&&(r=!0,e.reverse());var i=Math.floor(e[1].time/O3)-Math.floor(e[0].time/O3)+1,o=new Date(e[0].time),u=o.getDate(),c=e[1].date.getDate();o.setDate(u+i-1);var h=o.getDate();if(h!==c)for(var d=o.getTime()-e[1].time>0?1:-1;(h=o.getDate())!==c&&(o.getTime()-e[1].time)*d>0;)i-=d,o.setDate(h-d);var p=Math.floor((i+e[0].day+6)/7),g=r?1-p:p-1;return r&&e.reverse(),{range:[e[0].formatedDate,e[1].formatedDate],start:e[0],end:e[1],allDay:i,weeks:p,nthWeek:g,fweek:e[0].day,lweek:e[1].day}},n.prototype._getDateByWeeksAndDay=function(t,e,r){var i=this._getRangeInfo(r);if(t>i.weeks||0===t&&e<i.fweek||t===i.weeks&&e>i.lweek)return null;var o=7*(t-1)-i.fweek+e,u=new Date(i.start.time);return u.setDate(+i.start.d+o),this.getDateInfo(u)},n.create=function(t,e){var r=[];return t.eachComponent("calendar",function(i){var o=new n(i,t,e);r.push(o),i.coordinateSystem=o}),t.eachSeries(function(i){"calendar"===i.get("coordinateSystem")&&(i.coordinateSystem=r[i.get("calendarIndex")||0])}),r},n.dimensions=["time","value"],n}();function g8(n){var t=n.calendarModel,e=n.seriesModel;return t?t.coordinateSystem:e?e.coordinateSystem:null}const E9=I9;function m8(n,t){var e;return F(t,function(r){null!=n[r]&&"auto"!==n[r]&&(e=!0)}),e}var y8=["transition","enterFrom","leaveTo"],N9=y8.concat(["enterAnimation","updateAnimation","leaveAnimation"]);function I2(n,t,e){if(e&&(!n[e]&&t[e]&&(n[e]={}),n=n[e],t=t[e]),n&&t)for(var r=e?y8:N9,i=0;i<r.length;i++){var o=r[i];null==n[o]&&null!=t[o]&&(n[o]=t[o])}}var k9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.preventAutoZ=!0,e}return q(t,n),t.prototype.mergeOption=function(e,r){var i=this.option.elements;this.option.elements=null,n.prototype.mergeOption.call(this,e,r),this.option.elements=i},t.prototype.optionUpdated=function(e,r){var i=this.option,o=(r?i:e).elements,u=i.elements=r?[]:i.elements,c=[];this._flatten(o,c,null);var h=lm(u,c,"normalMerge"),d=this._elOptionsToUpdate=[];F(h,function(p,g){var m=p.newOption;m&&(d.push(m),function L9(n,t){var e=n.existing;if(t.id=n.keyInfo.id,!t.type&&e&&(t.type=e.type),null==t.parentId){var r=t.parentOption;r?t.parentId=r.id:e&&(t.parentId=e.parentId)}t.parentOption=null}(p,m),function R9(n,t,e){var r=J({},e),i=n[t],o=e.$action||"merge";"merge"===o?i?(Ve(i,r,!0),as(i,r,{ignoreSize:!0}),cp(e,i),I2(e,i),I2(e,i,"shape"),I2(e,i,"style"),I2(e,i,"extra"),e.clipPath=i.clipPath):n[t]=r:"replace"===o?n[t]=r:"remove"===o&&i&&(n[t]=null)}(u,g,m),function O9(n,t){if(n&&(n.hv=t.hv=[m8(t,["left","right"]),m8(t,["top","bottom"])],"group"===n.type)){var e=n,r=t;null==e.width&&(e.width=r.width=0),null==e.height&&(e.height=r.height=0)}}(u[g],m))},this),i.elements=yt(u,function(p){return p&&delete p.$action,null!=p})},t.prototype._flatten=function(e,r,i){F(e,function(o){if(o){i&&(o.parentOption=i),r.push(o);var u=o.children;u&&u.length&&this._flatten(u,r,o),delete o.children}},this)},t.prototype.useElOptionsToUpdate=function(){var e=this._elOptionsToUpdate;return this._elOptionsToUpdate=null,e},t.type="graphic",t.defaultOption={elements:[]},t}(at),_8={path:null,compoundPath:null,group:Ee,image:Zn,text:rt},No=ot(),F9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(){this._elMap=ve()},t.prototype.render=function(e,r,i){e!==this._lastGraphicModel&&this._clear(),this._lastGraphicModel=e,this._updateElements(e),this._relocate(e,i)},t.prototype._updateElements=function(e){var r=e.useElOptionsToUpdate();if(r){var i=this._elMap,o=this.group,u=e.get("z"),c=e.get("zlevel");F(r,function(h){var d=rn(h.id,null),p=null!=d?i.get(d):null,g=rn(h.parentId,null),m=null!=g?i.get(g):o,y=h.type,S=h.style;"text"===y&&S&&h.hv&&h.hv[1]&&(S.textVerticalAlign=S.textBaseline=S.verticalAlign=S.align=null);var b=h.textContent,D=h.textConfig;if(S&&n2(S,y,!!D,!!b)){var C=$1(S,y,!0);!D&&C.textConfig&&(D=h.textConfig=C.textConfig),!b&&C.textContent&&(b=C.textContent)}var T=function V9(n){return n=J({},n),F(["id","parentId","$action","hv","bounding","textContent","clipPath"].concat(WA),function(t){delete n[t]}),n}(h),M=h.$action||"merge",I="merge"===M,L="replace"===M;if(I){var R=p;(E=!p)?R=S8(d,m,h.type,i):(R&&(No(R).isNew=!1),p3(R)),R&&(Jh(R,T,e,{isInit:E}),w8(R,h,u,c))}else if(L){E2(p,h,i,e);var O=S8(d,m,h.type,i);O&&(Jh(O,T,e,{isInit:!0}),w8(O,h,u,c))}else"remove"===M&&(a2(p,h),E2(p,h,i,e));var k=i.get(d);if(k&&b)if(I){var V=k.getTextContent();V?V.attr(b):k.setTextContent(new rt(b))}else L&&k.setTextContent(new rt(b));if(k){var B=h.clipPath;if(B){var H=B.type,G=void 0,E=!1;if(I){var j=k.getClipPath();G=(E=!j||No(j).type!==H)?k3(H):j}else L&&(E=!0,G=k3(H));k.setClipPath(G),Jh(G,B,e,{isInit:E}),ed(G,B.keyframeAnimation,e)}var W=No(k);k.setTextConfig(D),W.option=h,function B9(n,t,e){var r=Oe(n).eventData;!n.silent&&!n.ignore&&!r&&(r=Oe(n).eventData={componentType:"graphic",componentIndex:t.componentIndex,name:n.name}),r&&(r.info=e.info)}(k,e,h),nh({el:k,componentModel:e,itemName:k.name,itemTooltipOption:h.tooltip}),ed(k,h.keyframeAnimation,e)}})}},t.prototype._relocate=function(e,r){for(var i=e.option.elements,o=this.group,u=this._elMap,c=r.getWidth(),h=r.getHeight(),d=["x","y"],p=0;p<i.length;p++)if((y=null!=(m=rn((g=i[p]).id,null))?u.get(m):null)&&y.isGroup){var b=(S=y.parent)===o,D=No(y),C=No(S);D.width=le(D.option.width,b?c:C.width)||0,D.height=le(D.option.height,b?h:C.height)||0}for(p=i.length-1;p>=0;p--){var g,m,y;if(y=null!=(m=rn((g=i[p]).id,null))?u.get(m):null){C=No(S=y.parent);var S,M={},I=Hu(y,g,S===o?{width:c,height:h}:{width:C.width,height:C.height},null,{hv:g.hv,boundingMode:g.bounding},M);if(!No(y).isNew&&I){for(var L=g.transition,E={},R=0;R<d.length;R++){var O=d[R],k=M[O];L&&(kc(L)||Ge(L,O)>=0)?E[O]=k:y[O]=k}dt(y,E,e,0)}else y.attr(M)}}},t.prototype._clear=function(){var e=this,r=this._elMap;r.each(function(i){E2(i,No(i).option,r,e._lastGraphicModel)}),this._elMap=ve()},t.prototype.dispose=function(){this._clear()},t.type="graphic",t}(wt);function k3(n){var e=new(pe(_8,n)?_8[n]:yy(n))({});return No(e).type=n,e}function S8(n,t,e,r){var i=k3(e);return t.add(i),r.set(n,i),No(i).id=n,No(i).isNew=!0,i}function E2(n,t,e,r){n&&n.parent&&("group"===n.type&&n.traverse(function(o){E2(o,t,e,r)}),mg(n,t,r),e.removeKey(No(n).id))}function w8(n,t,e,r){n.isGroup||F([["cursor",ra.prototype.cursor],["zlevel",r||0],["z",e||0],["z2",0]],function(i){var o=i[0];pe(t,o)?n[o]=ke(t[o],i[1]):null==n[o]&&(n[o]=i[1])}),F(Xe(t),function(i){if(0===i.indexOf("on")){var o=t[i];n[i]=_e(o)?o:null}}),pe(t,"draggable")&&(n.draggable=t.draggable),null!=t.name&&(n.name=t.name),null!=t.id&&(n.id=t.id)}var b8=["x","y","radius","angle","single"],H9=["cartesian2d","polar","singleAxis"];function nd(n){return n+"Axis"}function D8(n){var t=n.ecModel,e={infoList:[],infoMap:ve()};return n.eachTargetAxis(function(r,i){var o=t.getComponent(nd(r),i);if(o){var u=o.getCoordSysModel();if(u){var c=u.uid,h=e.infoMap.get(c);h||(e.infoList.push(h={model:u,axisModels:[]}),e.infoMap.set(c,h)),h.axisModels.push(o)}}}),e}var F3=function(){function n(){this.indexList=[],this.indexMap=[]}return n.prototype.add=function(t){this.indexMap[t]||(this.indexList.push(t),this.indexMap[t]=!0)},n}(),j9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._autoThrottle=!0,e._noTarget=!0,e._rangePropMode=["percent","percent"],e}return q(t,n),t.prototype.init=function(e,r,i){var o=C8(e);this.settledOption=o,this.mergeDefaultAndTheme(e,i),this._doInit(o)},t.prototype.mergeOption=function(e){var r=C8(e);Ve(this.option,e,!0),Ve(this.settledOption,r,!0),this._doInit(r)},t.prototype._doInit=function(e){var r=this.option;this._setDefaultThrottle(e),this._updateRangeUse(e);var i=this.settledOption;F([["start","startValue"],["end","endValue"]],function(o,u){"value"===this._rangePropMode[u]&&(r[o[0]]=i[o[0]]=null)},this),this._resetTarget()},t.prototype._resetTarget=function(){var e=this.get("orient",!0),r=this._targetAxisInfoMap=ve();this._fillSpecifiedTargetAxis(r)?this._orient=e||this._makeAutoOrientByTargetAxis():(this._orient=e||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(o){o.indexList.length&&(this._noTarget=!1)},this)},t.prototype._fillSpecifiedTargetAxis=function(e){var r=!1;return F(b8,function(i){var o=this.getReferringComponents(nd(i),BM);if(o.specified){r=!0;var u=new F3;F(o.models,function(c){u.add(c.componentIndex)}),e.set(i,u)}},this),r},t.prototype._fillAutoTargetAxisByOrient=function(e,r){var i=this.ecModel,o=!0;if(o){var u="vertical"===r?"y":"x";h(i.findComponents({mainType:u+"Axis"}),u)}function h(d,p){var g=d[0];if(g){var m=new F3;if(m.add(g.componentIndex),e.set(p,m),o=!1,"x"===p||"y"===p){var y=g.getReferringComponents("grid",Mn).models[0];y&&F(d,function(S){g.componentIndex!==S.componentIndex&&y===S.getReferringComponents("grid",Mn).models[0]&&m.add(S.componentIndex)})}}}o&&h(i.findComponents({mainType:"singleAxis",filter:function(p){return p.get("orient",!0)===r}}),"single"),o&&F(b8,function(d){if(o){var p=i.findComponents({mainType:nd(d),filter:function(m){return"category"===m.get("type",!0)}});if(p[0]){var g=new F3;g.add(p[0].componentIndex),e.set(d,g),o=!1}}},this)},t.prototype._makeAutoOrientByTargetAxis=function(){var e;return this.eachTargetAxis(function(r){!e&&(e=r)},this),"y"===e?"vertical":"horizontal"},t.prototype._setDefaultThrottle=function(e){if(e.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},t.prototype._updateRangeUse=function(e){var r=this._rangePropMode,i=this.get("rangeMode");F([["start","startValue"],["end","endValue"]],function(o,u){var c=null!=e[o[0]],h=null!=e[o[1]];c&&!h?r[u]="percent":!c&&h?r[u]="value":i?r[u]=i[u]:c&&(r[u]="percent")})},t.prototype.noTarget=function(){return this._noTarget},t.prototype.getFirstTargetAxisModel=function(){var e;return this.eachTargetAxis(function(r,i){null==e&&(e=this.ecModel.getComponent(nd(r),i))},this),e},t.prototype.eachTargetAxis=function(e,r){this._targetAxisInfoMap.each(function(i,o){F(i.indexList,function(u){e.call(r,o,u)})})},t.prototype.getAxisProxy=function(e,r){var i=this.getAxisModel(e,r);if(i)return i.__dzAxisProxy},t.prototype.getAxisModel=function(e,r){var i=this._targetAxisInfoMap.get(e);if(i&&i.indexMap[r])return this.ecModel.getComponent(nd(e),r)},t.prototype.setRawRange=function(e){var r=this.option,i=this.settledOption;F([["start","startValue"],["end","endValue"]],function(o){(null!=e[o[0]]||null!=e[o[1]])&&(r[o[0]]=i[o[0]]=e[o[0]],r[o[1]]=i[o[1]]=e[o[1]])},this),this._updateRangeUse(e)},t.prototype.setCalculatedRange=function(e){var r=this.option;F(["start","startValue","end","endValue"],function(i){r[i]=e[i]})},t.prototype.getPercentRange=function(){var e=this.findRepresentativeAxisProxy();if(e)return e.getDataPercentWindow()},t.prototype.getValueRange=function(e,r){if(null!=e||null!=r)return this.getAxisProxy(e,r).getDataValueWindow();var i=this.findRepresentativeAxisProxy();return i?i.getDataValueWindow():void 0},t.prototype.findRepresentativeAxisProxy=function(e){if(e)return e.__dzAxisProxy;for(var r,i=this._targetAxisInfoMap.keys(),o=0;o<i.length;o++)for(var u=i[o],c=this._targetAxisInfoMap.get(u),h=0;h<c.indexList.length;h++){var d=this.getAxisProxy(u,c.indexList[h]);if(d.hostedBy(this))return d;r||(r=d)}return r},t.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},t.prototype.getOrient=function(){return this._orient},t.type="dataZoom",t.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],t.defaultOption={z:4,filterMode:"filter",start:0,end:100},t}(at);function C8(n){var t={};return F(["start","end","startValue","endValue","throttle"],function(e){n.hasOwnProperty(e)&&(t[e]=n[e])}),t}const vT=j9;var W9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="dataZoom.select",t}(vT);const $9=W9;var Y9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i,o){this.dataZoomModel=e,this.ecModel=r,this.api=i},t.type="dataZoom",t}(wt);const V3=Y9;var Z9=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="dataZoom.select",t}(V3);const q9=Z9;var H_=F,x8=si,X9=function(){function n(t,e,r,i){this._dimName=t,this._axisIndex=e,this.ecModel=i,this._dataZoomModel=r}return n.prototype.hostedBy=function(t){return this._dataZoomModel===t},n.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},n.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},n.prototype.getTargetSeriesModels=function(){var t=[];return this.ecModel.eachSeries(function(e){if(function G9(n){var t=n.get("coordinateSystem");return Ge(H9,t)>=0}(e)){var r=nd(this._dimName),i=e.getReferringComponents(r,Mn).models[0];i&&this._axisIndex===i.componentIndex&&t.push(e)}},this),t},n.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},n.prototype.getMinMaxSpan=function(){return Te(this._minMaxSpan)},n.prototype.calculateDataWindow=function(t){var d,e=this._dataExtent,i=this.getAxisModel().axis.scale,o=this._dataZoomModel.getRangePropMode(),u=[0,100],c=[],h=[];H_(["start","end"],function(m,y){var S=t[m],b=t[m+"Value"];"percent"===o[y]?(null==S&&(S=u[y]),b=i.parse(Ct(S,u,e))):(d=!0,S=Ct(b=null==b?e[y]:i.parse(b),e,u)),h[y]=null==b||isNaN(b)?e[y]:b,c[y]=null==S||isNaN(S)?u[y]:S}),x8(h),x8(c);var p=this._minMaxSpan;function g(m,y,S,b,D){var C=D?"Span":"ValueSpan";Ic(0,m,S,"all",p["min"+C],p["max"+C]);for(var T=0;T<2;T++)y[T]=Ct(m[T],S,b,!0),D&&(y[T]=i.parse(y[T]))}return d?g(h,c,e,u,!1):g(c,h,u,e,!0),{valueWindow:h,percentWindow:c}},n.prototype.reset=function(t){if(t===this._dataZoomModel){var e=this.getTargetSeriesModels();this._dataExtent=function K9(n,t,e){var r=[1/0,-1/0];H_(e,function(u){!function NP(n,t,e){t&&F(ov(t,e),function(r){var i=t.getApproximateExtent(r);i[0]<n[0]&&(n[0]=i[0]),i[1]>n[1]&&(n[1]=i[1])})}(r,u.getData(),t)});var i=n.getAxisModel(),o=EP(i.axis.scale,i,r).calculate();return[o.min,o.max]}(this,this._dimName,e),this._updateMinMaxSpan();var r=this.calculateDataWindow(t.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},n.prototype.filterData=function(t,e){if(t===this._dataZoomModel){var r=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),u=this._valueWindow;"none"!==o&&H_(i,function(h){var d=h.getData(),p=d.mapDimensionsAll(r);if(p.length){if("weakFilter"===o){var g=d.getStore(),m=re(p,function(y){return d.getDimensionIndex(y)},d);d.filterSelf(function(y){for(var S,b,D,C=0;C<p.length;C++){var T=g.get(m[C],y),M=!isNaN(T),I=T<u[0],L=T>u[1];if(M&&!I&&!L)return!0;M&&(D=!0),I&&(S=!0),L&&(b=!0)}return D&&S&&b})}else H_(p,function(y){if("empty"===o)h.setData(d=d.map(y,function(b){return function c(h){return h>=u[0]&&h<=u[1]}(b)?b:NaN}));else{var S={};S[y]=u,d.selectRange(S)}});H_(p,function(y){d.setApproximateExtent(u,y)})}})}},n.prototype._updateMinMaxSpan=function(){var t=this._minMaxSpan={},e=this._dataZoomModel,r=this._dataExtent;H_(["min","max"],function(i){var o=e.get(i+"Span"),u=e.get(i+"ValueSpan");null!=u&&(u=this.getAxisModel().axis.scale.parse(u)),null!=u?o=Ct(r[0]+u,r,[0,100],!0):null!=o&&(u=Ct(o,[0,100],r,!0)-r[0]),t[i+"Span"]=o,t[i+"ValueSpan"]=u},this)},n.prototype._setAxisModel=function(){var t=this.getAxisModel(),e=this._percentWindow,r=this._valueWindow;if(e){var i=im(r,[0,500]);i=Math.min(i,20);var o=t.axis.scale.rawExtentInfo;0!==e[0]&&o.setDeterminedMinMax("min",+r[0].toFixed(i)),100!==e[1]&&o.setDeterminedMinMax("max",+r[1].toFixed(i)),o.freeze()}},n}();const Q9=X9;var J9={getTargetSeries:function(n){function t(i){n.eachComponent("dataZoom",function(o){o.eachTargetAxis(function(u,c){var h=n.getComponent(nd(u),c);i(u,c,h,o)})})}t(function(i,o,u,c){u.__dzAxisProxy=null});var e=[];t(function(i,o,u,c){u.__dzAxisProxy||(u.__dzAxisProxy=new Q9(i,o,c,n),e.push(u.__dzAxisProxy))});var r=ve();return F(e,function(i){F(i.getTargetSeriesModels(),function(o){r.set(o.uid,o)})}),r},overallReset:function(n,t){n.eachComponent("dataZoom",function(e){e.eachTargetAxis(function(r,i){e.getAxisProxy(r,i).reset(e)}),e.eachTargetAxis(function(r,i){e.getAxisProxy(r,i).filterData(e,t)})}),n.eachComponent("dataZoom",function(e){var r=e.findRepresentativeAxisProxy();if(r){var i=r.getDataPercentWindow(),o=r.getDataValueWindow();e.setCalculatedRange({start:i[0],end:i[1],startValue:o[0],endValue:o[1]})}})}};const e7=J9;var T8=!1;function B3(n){T8||(T8=!0,n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,e7),function t7(n){n.registerAction("dataZoom",function(t,e){F(function U9(n,t){var o,e=ve(),r=[],i=ve();n.eachComponent({mainType:"dataZoom",query:t},function(p){i.get(p.uid)||c(p)});do{o=!1,n.eachComponent("dataZoom",u)}while(o);function u(p){!i.get(p.uid)&&function h(p){var g=!1;return p.eachTargetAxis(function(m,y){var S=e.get(m);S&&S[y]&&(g=!0)}),g}(p)&&(c(p),o=!0)}function c(p){i.set(p.uid,!0),r.push(p),function d(p){p.eachTargetAxis(function(g,m){(e.get(g)||e.set(g,[]))[m]=!0})}(p)}return r}(e,t),function(i){i.setRawRange({start:t.start,end:t.end,startValue:t.startValue,endValue:t.endValue})})})}(n),n.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function n7(n){n.registerComponentModel($9),n.registerComponentView(q9),B3(n)}var Oo=function n(){},M8={};function G_(n,t){M8[n]=t}function A8(n){return M8[n]}var r7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.optionUpdated=function(){n.prototype.optionUpdated.apply(this,arguments);var e=this.ecModel;F(this.option.feature,function(r,i){var o=A8(i);o&&(o.getDefaultOption&&(o.defaultOption=o.getDefaultOption(e)),Ve(r,o.defaultOption))})},t.type="toolbox",t.layoutMode={type:"box",ignoreSize:!0},t.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},t}(at);const i7=r7;function I8(n,t){var e=is(t.get("padding")),r=t.getItemStyle(["color","opacity"]);return r.fill=t.get("backgroundColor"),new st({shape:{x:n.x-e[3],y:n.y-e[0],width:n.width+e[1]+e[3],height:n.height+e[0]+e[2],r:t.get("borderRadius")},style:r,silent:!0,z2:-1})}var o7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.render=function(e,r,i,o){var u=this.group;if(u.removeAll(),e.get("show")){var c=+e.get("itemSize"),h="vertical"===e.get("orient"),d=e.get("feature")||{},p=this._features||(this._features={}),g=[];F(d,function(S,b){g.push(b)}),new bs(this._featureNames||[],g).add(m).update(m).remove(Re(m,null)).execute(),this._featureNames=g,function a7(n,t,e){var r=t.getBoxLayoutParams(),i=t.get("padding"),o={width:e.getWidth(),height:e.getHeight()},u=An(r,o,i);Sl(t.get("orient"),n,t.get("itemGap"),u.width,u.height),Hu(n,r,o,i)}(u,e,i),u.add(I8(u.getBoundingRect(),e)),h||u.eachChild(function(S){var b=S.__title,D=S.ensureState("emphasis"),C=D.textConfig||(D.textConfig={}),T=S.getTextContent(),M=T&&T.ensureState("emphasis");if(M&&!_e(M)&&b){var I=M.style||(M.style={}),L=Qg(b,rt.makeFont(I)),E=S.x+u.x,O=!1;S.y+u.y+c+L.height>i.getHeight()&&(C.position="top",O=!0);var k=O?-5-L.height:c+10;E+L.width/2>i.getWidth()?(C.position=["100%",k],I.align="right"):E-L.width/2<0&&(C.position=[0,k],I.align="left")}})}function m(S,b){var I,D=g[S],C=g[b],T=d[D],M=new Rt(T,e,e.ecModel);if(o&&null!=o.newTitle&&o.featureName===D&&(T.title=o.newTitle),D&&!C){if(function s7(n){return 0===n.indexOf("my")}(D))I={onclick:M.option.onclick,featureName:D};else{var L=A8(D);if(!L)return;I=new L}p[D]=I}else if(!(I=p[C]))return;I.uid=mo("toolbox-feature"),I.model=M,I.ecModel=r,I.api=i;var E=I instanceof Oo;D||!C?!M.get("show")||E&&I.unusable?E&&I.remove&&I.remove(r,i):(function y(S,b,D){var L,E,C=S.getModel("iconStyle"),T=S.getModel(["emphasis","iconStyle"]),M=b instanceof Oo&&b.getIcons?b.getIcons():S.get("icon"),I=S.get("title")||{};fe(M)?(L={})[D]=M:L=M,fe(I)?(E={})[D]=I:E=I;var R=S.iconPaths={};F(L,function(O,k){var V=Rl(O,{},{x:-c/2,y:-c/2,width:c,height:c});V.setStyle(C.getItemStyle()),V.ensureState("emphasis").style=T.getItemStyle();var H=new rt({style:{text:E[k],align:T.get("textAlign"),borderRadius:T.get("textBorderRadius"),padding:T.get("textPadding"),fill:null},ignore:!0});V.setTextContent(H),nh({el:V,componentModel:e,itemName:k,formatterParamsExtra:{title:E[k]}}),V.__title=E[k],V.on("mouseover",function(){var G=T.getItemStyle(),j=h?null==e.get("right")&&"right"!==e.get("left")?"right":"left":null==e.get("bottom")&&"bottom"!==e.get("top")?"bottom":"top";H.setStyle({fill:T.get("textFill")||G.fill||G.stroke||"#000",backgroundColor:T.get("textBackgroundColor")}),V.setTextConfig({position:T.get("textPosition")||j}),H.ignore=!e.get("showTitle"),i.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==S.get(["iconStatus",k])&&i.leaveEmphasis(this),H.hide()}),("emphasis"===S.get(["iconStatus",k])?Jo:es)(V),u.add(V),V.on("click",de(b.onclick,b,r,i,k)),R[k]=V})}(M,I,D),M.setIconStatus=function(R,O){var k=this.option,V=this.iconPaths;k.iconStatus=k.iconStatus||{},k.iconStatus[R]=O,V[R]&&("emphasis"===O?Jo:es)(V[R])},I instanceof Oo&&I.render&&I.render(M,r,i,o)):E&&I.dispose&&I.dispose(r,i)}},t.prototype.updateView=function(e,r,i,o){F(this._features,function(u){u instanceof Oo&&u.updateView&&u.updateView(u.model,r,i,o)})},t.prototype.remove=function(e,r){F(this._features,function(i){i instanceof Oo&&i.remove&&i.remove(e,r)}),this.group.removeAll()},t.prototype.dispose=function(e,r){F(this._features,function(i){i instanceof Oo&&i.dispose&&i.dispose(e,r)})},t.type="toolbox",t}(wt);const l7=o7;var u7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.onclick=function(e,r){var i=this.model,o=i.get("name")||e.get("title.0.text")||"echarts",u="svg"===r.getZr().painter.getType(),c=u?"svg":i.get("type",!0)||"png",h=r.getConnectedDataURL({type:c,backgroundColor:i.get("backgroundColor",!0)||e.get("backgroundColor")||"#fff",connectedBackgroundColor:i.get("connectedBackgroundColor"),excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),d=ct.browser;if(_e(MouseEvent)&&(d.newEdge||!d.ie&&!d.edge)){var p=document.createElement("a");p.download=o+"."+c,p.target="_blank",p.href=h;var g=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});p.dispatchEvent(g)}else if(window.navigator.msSaveOrOpenBlob||u){var m=h.split(","),y=m[0].indexOf("base64")>-1,S=u?decodeURIComponent(m[1]):m[1];y&&(S=window.atob(S));var b=o+"."+c;if(window.navigator.msSaveOrOpenBlob){for(var D=S.length,C=new Uint8Array(D);D--;)C[D]=S.charCodeAt(D);var T=new Blob([C]);window.navigator.msSaveOrOpenBlob(T,b)}else{var M=document.createElement("iframe");document.body.appendChild(M);var I=M.contentWindow,L=I.document;L.open("image/svg+xml","replace"),L.write(S),L.close(),I.focus(),L.execCommand("SaveAs",!0,b),document.body.removeChild(M)}}else{var E=i.get("lang"),R='<body style="margin:0;"><img src="'+h+'" style="max-width:100%;" title="'+(E&&E[0]||"")+'" /></body>',O=window.open();O.document.write(R),O.document.title=o}},t.getDefaultOption=function(e){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:e.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:e.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},t}(Oo);const c7=u7;var E8="__ec_magicType_stack__",f7=[["line","bar"],["stack"]],h7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.getIcons=function(){var e=this.model,r=e.get("icon"),i={};return F(e.get("type"),function(o){r[o]&&(i[o]=r[o])}),i},t.getDefaultOption=function(e){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:e.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},t.prototype.onclick=function(e,r,i){var o=this.model,u=o.get(["seriesIndex",i]);if(P8[i]){var c={series:[]};F(f7,function(g){Ge(g,i)>=0&&F(g,function(m){o.setIconStatus(m,"normal")})}),o.setIconStatus(i,"emphasis"),e.eachComponent({mainType:"series",query:null==u?null:{seriesIndex:u}},function(g){var S=P8[i](g.subType,g.id,g,o);S&&(De(S,g.option),c.series.push(S));var b=g.coordinateSystem;if(b&&"cartesian2d"===b.type&&("line"===i||"bar"===i)){var D=b.getAxesByScale("ordinal")[0];if(D){var T=D.dim+"Axis",I=g.getReferringComponents(T,Mn).models[0].componentIndex;c[T]=c[T]||[];for(var L=0;L<=I;L++)c[T][I]=c[T][I]||{};c[T][I].boundaryGap="bar"===i}}});var d,p=i;"stack"===i&&(d=Ve({stack:o.option.title.tiled,tiled:o.option.title.stack},o.option.title),"emphasis"!==o.get(["iconStatus",i])&&(p="tiled")),r.dispatchAction({type:"changeMagicType",currentType:p,newOption:c,newTitle:d,featureName:"magicType"})}},t}(Oo),P8={line:function(n,t,e,r){if("bar"===n)return Ve({id:t,type:"line",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(n,t,e,r){if("line"===n)return Ve({id:t,type:"bar",data:e.get("data"),stack:e.get("stack"),markPoint:e.get("markPoint"),markLine:e.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(n,t,e,r){var i=e.get("stack")===E8;if("line"===n||"bar"===n)return r.setIconStatus("stack",i?"normal":"emphasis"),Ve({id:t,stack:i?"":E8},r.get(["option","stack"])||{},!0)}};Fi({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});const d7=h7;var P2=new Array(60).join("-");function v7(n){var t=[];return F(n,function(e,r){var i=e.categoryAxis,u=e.valueAxis.dim,c=[" "].concat(re(e.series,function(y){return y.name})),h=[i.model.getCategories()];F(e.series,function(y){var S=y.getRawData();h.push(y.getRawData().mapArray(S.mapDimension(u),function(b){return b}))});for(var d=[c.join("\t")],p=0;p<h[0].length;p++){for(var g=[],m=0;m<h.length;m++)g.push(h[m][p]);d.push(g.join("\t"))}t.push(d.join("\n"))}),t.join("\n\n"+P2+"\n\n")}function g7(n){return re(n,function(t){var e=t.getRawData(),r=[t.name],i=[];return e.each(e.dimensions,function(){for(var o=arguments.length,c=e.getName(arguments[o-1]),h=0;h<o-1;h++)i[h]=arguments[h];r.push((c?c+"\t":"")+i.join("\t"))}),r.join("\n")}).join("\n\n"+P2+"\n\n")}function L2(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var z3=new RegExp("[\t]+","g");var b7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.onclick=function(e,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var i=r.getDom(),o=this.model;this._dom&&i.removeChild(this._dom);var u=document.createElement("div");u.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",u.style.backgroundColor=o.get("backgroundColor")||"#fff";var c=document.createElement("h4"),h=o.get("lang")||[];c.innerHTML=h[0]||o.get("title"),c.style.cssText="margin:10px 20px",c.style.color=o.get("textColor");var d=document.createElement("div"),p=document.createElement("textarea");d.style.cssText="overflow:auto";var g=o.get("optionToContent"),m=o.get("contentToOption"),y=function m7(n){var t=function p7(n){var t={},e=[],r=[];return n.eachRawSeries(function(i){var o=i.coordinateSystem;if(!o||"cartesian2d"!==o.type&&"polar"!==o.type)e.push(i);else{var u=o.getBaseAxis();if("category"===u.type){var c=u.dim+"_"+u.index;t[c]||(t[c]={categoryAxis:u,valueAxis:o.getOtherAxis(u),series:[]},r.push({axisDim:u.dim,axisIndex:u.index})),t[c].series.push(i)}else e.push(i)}}),{seriesGroupByCategoryAxis:t,other:e,meta:r}}(n);return{value:yt([v7(t.seriesGroupByCategoryAxis),g7(t.other)],function(e){return!!e.replace(/[\n\t\s]/g,"")}).join("\n\n"+P2+"\n\n"),meta:t.meta}}(e);if(_e(g)){var S=g(r.getOption());fe(S)?d.innerHTML=S:ru(S)&&d.appendChild(S)}else{p.readOnly=o.get("readOnly");var b=p.style;b.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",b.color=o.get("textColor"),b.borderColor=o.get("textareaBorderColor"),b.backgroundColor=o.get("textareaColor"),p.value=y.value,d.appendChild(p)}var D=y.meta,C=document.createElement("div");C.style.cssText="position:absolute;bottom:5px;left:0;right:0";var T="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",M=document.createElement("div"),I=document.createElement("div");T+=";background-color:"+o.get("buttonColor"),T+=";color:"+o.get("buttonTextColor");var L=this;function E(){i.removeChild(u),L._dom=null}ou(M,"click",E),ou(I,"click",function(){if(null==m&&null!=g||null!=m&&null==g)E();else{var R;try{R=_e(m)?m(d,r.getOption()):function w7(n,t){var e=n.split(new RegExp("\n*"+P2+"\n*","g")),r={series:[]};return F(e,function(i,o){if(function y7(n){if(n.slice(0,n.indexOf("\n")).indexOf("\t")>=0)return!0}(i)){var u=function _7(n){for(var t=n.split(/\n+/g),r=[],i=re(L2(t.shift()).split(z3),function(h){return{name:h,data:[]}}),o=0;o<t.length;o++){var u=L2(t[o]).split(z3);r.push(u.shift());for(var c=0;c<u.length;c++)i[c]&&(i[c].data[o]=u[c])}return{series:i,categories:r}}(i),c=t[o],h=c.axisDim+"Axis";c&&(r[h]=r[h]||[],r[h][c.axisIndex]={data:u.categories},r.series=r.series.concat(u.series))}else u=function S7(n){for(var t=n.split(/\n+/g),e=L2(t.shift()),r=[],i=0;i<t.length;i++){var o=L2(t[i]);if(o){var u=o.split(z3),c="",h=void 0,d=!1;isNaN(u[0])?(d=!0,c=u[0],u=u.slice(1),r[i]={name:c,value:[]},h=r[i].value):h=r[i]=[];for(var p=0;p<u.length;p++)h.push(+u[p]);1===h.length&&(d?r[i].value=h[0]:r[i]=h[0])}}return{name:e,data:r}}(i),r.series.push(u)}),r}(p.value,D)}catch(O){throw E(),new Error("Data view format error "+O)}R&&r.dispatchAction({type:"changeDataView",newOption:R}),E()}}),M.innerHTML=h[1],I.innerHTML=h[2],I.style.cssText=M.style.cssText=T,!o.get("readOnly")&&C.appendChild(I),C.appendChild(M),u.appendChild(c),u.appendChild(d),u.appendChild(C),d.style.height=i.clientHeight-80+"px",i.appendChild(u),this._dom=u},t.prototype.remove=function(e,r){this._dom&&r.getDom().removeChild(this._dom)},t.prototype.dispose=function(e,r){this.remove(e,r)},t.getDefaultOption=function(e){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:e.getLocaleModel().get(["toolbox","dataView","title"]),lang:e.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},t}(Oo);function D7(n,t){return re(n,function(e,r){var i=t&&t[r];if(xe(i)&&!te(i)){xe(e)&&!te(e)||(e={value:e});var u=null!=i.name&&null==e.name;return e=De(e,i),u&&delete e.name,e}return e})}Fi({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var e=[];F(n.newOption.series,function(r){var i=t.getSeriesByName(r.name)[0];if(i){var o=i.get("data");e.push({name:r.name,data:D7(r.data,o)})}else e.push(J({type:"scatter"},r))}),t.mergeOption(De({series:e},n.newOption))});const C7=b7;var L8=F,R8=ot();function H3(n){var t=R8(n);return t.snapshots||(t.snapshots=[{}]),t.snapshots}var I7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.onclick=function(e,r){(function M7(n){R8(n).snapshots=null})(e),r.dispatchAction({type:"restore",from:this.uid})},t.getDefaultOption=function(e){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:e.getLocaleModel().get(["toolbox","restore","title"])}},t}(Oo);Fi({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});const E7=I7;var P7=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],L7=function(){function n(t,e,r){var i=this;this._targetInfoList=[];var o=N8(e,t);F(R7,function(u,c){(!r||!r.include||Ge(r.include,c)>=0)&&u(o,i._targetInfoList)})}return n.prototype.setOutputRanges=function(t,e){return this.matchOutputRanges(t,e,function(r,i,o){if((r.coordRanges||(r.coordRanges=[])).push(i),!r.coordRange){r.coordRange=i;var u=U3[r.brushType](0,o,i);r.__rangeOffset={offset:V8[r.brushType](u.values,r.range,[1,1]),xyMinMax:u.xyMinMax}}}),t},n.prototype.matchOutputRanges=function(t,e,r){F(t,function(i){var o=this.findTargetInfo(i,e);o&&!0!==o&&F(o.coordSyses,function(u){var c=U3[i.brushType](1,u,i.range,!0);r(i,c.values,u,e)})},this)},n.prototype.setInputRanges=function(t,e){F(t,function(r){var i=this.findTargetInfo(r,e);if(r.range=r.range||[],i&&!0!==i){r.panelId=i.panelId;var o=U3[r.brushType](0,i.coordSys,r.coordRange),u=r.__rangeOffset;r.range=u?V8[r.brushType](o.values,u.offset,function N7(n,t){var e=z8(n),r=z8(t),i=[e[0]/r[0],e[1]/r[1]];return isNaN(i[0])&&(i[0]=1),isNaN(i[1])&&(i[1]=1),i}(o.xyMinMax,u.xyMinMax)):o.values}},this)},n.prototype.makePanelOpts=function(t,e){return re(this._targetInfoList,function(r){var i=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:e?e(r):null,clipPath:S1(i),isTargetByCursor:w1(i,t,r.coordSysModel),getLinearBrushOtherExtent:t5(i)}})},n.prototype.controlSeries=function(t,e,r){var i=this.findTargetInfo(t,r);return!0===i||i&&Ge(i.coordSyses,e.coordinateSystem)>=0},n.prototype.findTargetInfo=function(t,e){for(var r=this._targetInfoList,i=N8(e,t),o=0;o<r.length;o++){var u=r[o],c=t.panelId;if(c){if(u.panelId===c)return u}else for(var h=0;h<O8.length;h++)if(O8[h](i,u))return u}return!0},n}();function G3(n){return n[0]>n[1]&&n.reverse(),n}function N8(n,t){return nl(n,t,{includeMainTypes:P7})}var R7={grid:function(n,t){var e=n.xAxisModels,r=n.yAxisModels,i=n.gridModels,o=ve(),u={},c={};!e&&!r&&!i||(F(e,function(h){var d=h.axis.grid.model;o.set(d.id,d),u[d.id]=!0}),F(r,function(h){var d=h.axis.grid.model;o.set(d.id,d),c[d.id]=!0}),F(i,function(h){o.set(h.id,h),u[h.id]=!0,c[h.id]=!0}),o.each(function(h){var p=[];F(h.coordinateSystem.getCartesians(),function(g,m){(Ge(e,g.getAxis("x").model)>=0||Ge(r,g.getAxis("y").model)>=0)&&p.push(g)}),t.push({panelId:"grid--"+h.id,gridModel:h,coordSysModel:h,coordSys:p[0],coordSyses:p,getPanelRect:k8.grid,xAxisDeclared:u[h.id],yAxisDeclared:c[h.id]})}))},geo:function(n,t){F(n.geoModels,function(e){var r=e.coordinateSystem;t.push({panelId:"geo--"+e.id,geoModel:e,coordSysModel:e,coordSys:r,coordSyses:[r],getPanelRect:k8.geo})})}},O8=[function(n,t){var e=n.xAxisModel,r=n.yAxisModel,i=n.gridModel;return!i&&e&&(i=e.axis.grid.model),!i&&r&&(i=r.axis.grid.model),i&&i===t.gridModel},function(n,t){var e=n.geoModel;return e&&e===t.geoModel}],k8={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var n=this.coordSys,t=n.getBoundingRect().clone();return t.applyTransform(vs(n)),t}},U3={lineX:Re(F8,0),lineY:Re(F8,1),rect:function(n,t,e,r){var i=n?t.pointToData([e[0][0],e[1][0]],r):t.dataToPoint([e[0][0],e[1][0]],r),o=n?t.pointToData([e[0][1],e[1][1]],r):t.dataToPoint([e[0][1],e[1][1]],r),u=[G3([i[0],o[0]]),G3([i[1],o[1]])];return{values:u,xyMinMax:u}},polygon:function(n,t,e,r){var i=[[1/0,-1/0],[1/0,-1/0]];return{values:re(e,function(u){var c=n?t.pointToData(u,r):t.dataToPoint(u,r);return i[0][0]=Math.min(i[0][0],c[0]),i[1][0]=Math.min(i[1][0],c[1]),i[0][1]=Math.max(i[0][1],c[0]),i[1][1]=Math.max(i[1][1],c[1]),c}),xyMinMax:i}}};function F8(n,t,e,r){var i=e.getAxis(["x","y"][n]),o=G3(re([0,1],function(c){return t?i.coordToData(i.toLocalCoord(r[c]),!0):i.toGlobalCoord(i.dataToCoord(r[c]))})),u=[];return u[n]=o,u[1-n]=[NaN,NaN],{values:o,xyMinMax:u}}var V8={lineX:Re(B8,0),lineY:Re(B8,1),rect:function(n,t,e){return[[n[0][0]-e[0]*t[0][0],n[0][1]-e[0]*t[0][1]],[n[1][0]-e[1]*t[1][0],n[1][1]-e[1]*t[1][1]]]},polygon:function(n,t,e){return re(n,function(r,i){return[r[0]-e[0]*t[i][0],r[1]-e[1]*t[i][1]]})}};function B8(n,t,e,r){return[t[0]-r[n]*e[0],t[1]-r[n]*e[1]]}function z8(n){return n?[n[0][1]-n[0][0],n[1][1]-n[1][0]]:[NaN,NaN]}const j3=L7;var W3=F,O7=function FM(n){return lw+n}("toolbox-dataZoom_"),k7=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.render=function(e,r,i,o){this._brushController||(this._brushController=new _1(i.getZr()),this._brushController.on("brush",de(this._onBrush,this)).mount()),function B7(n,t,e,r,i){var o=e._isZoomActive;r&&"takeGlobalCursor"===r.type&&(o="dataZoomSelect"===r.key&&r.dataZoomSelectActive),e._isZoomActive=o,n.setIconStatus("zoom",o?"emphasis":"normal");var c=new j3($3(n),t,{include:["grid"]}).makePanelOpts(i,function(h){return h.xAxisDeclared&&!h.yAxisDeclared?"lineX":!h.xAxisDeclared&&h.yAxisDeclared?"lineY":"rect"});e._brushController.setPanels(c).enableBrush(!(!o||!c.length)&&{brushType:"auto",brushStyle:n.getModel("brushStyle").getItemStyle()})}(e,r,this,o,i),function V7(n,t){n.setIconStatus("back",function A7(n){return H3(n).length}(t)>1?"emphasis":"normal")}(e,r)},t.prototype.onclick=function(e,r,i){F7[i].call(this)},t.prototype.remove=function(e,r){this._brushController&&this._brushController.unmount()},t.prototype.dispose=function(e,r){this._brushController&&this._brushController.dispose()},t.prototype._onBrush=function(e){var r=e.areas;if(e.isEnd&&r.length){var i={},o=this.ecModel;this._brushController.updateCovers([]),new j3($3(this.model),o,{include:["grid"]}).matchOutputRanges(r,o,function(d,p,g){if("cartesian2d"===g.type){var m=d.brushType;"rect"===m?(c("x",g,p[0]),c("y",g,p[1])):c({lineX:"x",lineY:"y"}[m],g,p)}}),function x7(n,t){var e=H3(n);L8(t,function(r,i){for(var o=e.length-1;o>=0&&!e[o][i];o--);if(o<0){var c=n.queryComponents({mainType:"dataZoom",subType:"select",id:i})[0];if(c){var h=c.getPercentRange();e[0][i]={dataZoomId:i,start:h[0],end:h[1]}}}}),e.push(t)}(o,i),this._dispatchZoomAction(i)}function c(d,p,g){var m=p.getAxis(d),y=m.model,S=function h(d,p,g){var m;return g.eachComponent({mainType:"dataZoom",subType:"select"},function(y){y.getAxisModel(d,p.componentIndex)&&(m=y)}),m}(d,y,o),b=S.findRepresentativeAxisProxy(y).getMinMaxSpan();(null!=b.minValueSpan||null!=b.maxValueSpan)&&(g=Ic(0,g.slice(),m.scale.getExtent(),0,b.minValueSpan,b.maxValueSpan)),S&&(i[S.id]={dataZoomId:S.id,startValue:g[0],endValue:g[1]})}},t.prototype._dispatchZoomAction=function(e){var r=[];W3(e,function(i,o){r.push(Te(i))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},t.getDefaultOption=function(e){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:e.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},t}(Oo),F7={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function T7(n){var t=H3(n),e=t[t.length-1];t.length>1&&t.pop();var r={};return L8(e,function(i,o){for(var u=t.length-1;u>=0;u--)if(i=t[u][o]){r[o]=i;break}}),r}(this.ecModel))}};function $3(n){var t={xAxisIndex:n.get("xAxisIndex",!0),yAxisIndex:n.get("yAxisIndex",!0),xAxisId:n.get("xAxisId",!0),yAxisId:n.get("yAxisId",!0)};return null==t.xAxisIndex&&null==t.xAxisId&&(t.xAxisIndex="all"),null==t.yAxisIndex&&null==t.yAxisId&&(t.yAxisIndex="all"),t}!function _F(n,t){Jn(null==Ym.get(n)&&t),Ym.set(n,t)}("dataZoom",function(n){var t=n.getComponent("toolbox",0),e=["feature","dataZoom"];if(t&&null!=t.get(e)){var r=t.getModel(e),i=[],u=nl(n,$3(r));return W3(u.xAxisModels,function(h){return c(h,"xAxis","xAxisIndex")}),W3(u.yAxisModels,function(h){return c(h,"yAxis","yAxisIndex")}),i}function c(h,d,p){var g=h.componentIndex,m={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:O7+d+g};m[p]=g,i.push(m)}});const z7=k7;var G7=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="tooltip",t.dependencies=["axisPointer"],t.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},t}(at);const U7=G7;function H8(n){var t=n.get("confine");return null!=t?!!t:"richText"===n.get("renderMode")}function G8(n){if(ct.domSupported)for(var t=document.documentElement.style,e=0,r=n.length;e<r;e++)if(n[e]in t)return n[e]}var U8=G8(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);function j8(n,t){if(!n)return t;t=rp(t,!0);var e=n.indexOf(t);return(n=-1===e?t:"-"+n.slice(0,e)+"-"+t).toLowerCase()}var $7=j8(G8(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),"transition"),Y3=j8(U8,"transform"),Y7="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(ct.transform3dSupported?"will-change:transform;":"");function W8(n,t,e){var r=n.toFixed(0)+"px",i=t.toFixed(0)+"px";if(!ct.transformSupported)return e?"top:"+i+";left:"+r+";":[["top",i],["left",r]];var o=ct.transform3dSupported,u="translate"+(o?"3d":"")+"("+r+","+i+(o?",0":"")+")";return e?"top:0;left:0;"+Y3+":"+u+";":[["top",0],["left",0],[U8,u]]}function $8(n,t,e,r,i){var o=t&&t.painter;if(e){var u=o&&o.getViewportRoot();u&&function GU(n,t,e,r,i){Wt(Og,t,r,i,!0)&&Wt(n,e,Og[0],Og[1])}(n,u,document.body,r,i)}else{n[0]=r,n[1]=i;var c=o&&o.getViewportRootOffset();c&&(n[0]+=c.offsetLeft,n[1]+=c.offsetTop)}n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}var J7=function(){function n(t,e,r){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,ct.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var o=this._zr=e.getZr(),u=this._appendToBody=r&&r.appendToBody;$8(this._styleCoord,o,u,e.getWidth()/2,e.getHeight()/2),u?document.body.appendChild(i):t.appendChild(i),this._container=t;var c=this;i.onmouseenter=function(){c._enterable&&(clearTimeout(c._hideTimeout),c._show=!0),c._inContent=!0},i.onmousemove=function(h){if(h=h||window.event,!c._enterable){var d=o.handler;Ta(o.painter.getViewportRoot(),h,!0),d.dispatch("mousemove",h)}},i.onmouseleave=function(){c._inContent=!1,c._enterable&&c._show&&c.hideLater(c._hideDelay)}}return n.prototype.update=function(t){var e=this._container,r=function W7(n,t){var e=n.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(n);return e?t?e[t]:e:null}(e,"position"),i=e.style;"absolute"!==i.position&&"absolute"!==r&&(i.position="relative");var o=t.get("alwaysShowContent");o&&this._moveIfResized(),this._alwaysShowContent=o,this.el.className=t.get("className")||""},n.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el,i=r.style,o=this._styleCoord;r.innerHTML?i.cssText=Y7+function Q7(n,t,e){var r=[],i=n.get("transitionDuration"),o=n.get("backgroundColor"),u=n.get("shadowBlur"),c=n.get("shadowColor"),h=n.get("shadowOffsetX"),d=n.get("shadowOffsetY"),p=n.getModel("textStyle"),g=VI(n,"html");return r.push("box-shadow:"+h+"px "+d+"px "+u+"px "+c),t&&i&&r.push(function X7(n,t){var e="cubic-bezier(0.23,1,0.32,1)",r=" "+n/2+"s "+e,i="opacity"+r+",visibility"+r;return t||(r=" "+n+"s "+e,i+=ct.transformSupported?","+Y3+r:",left"+r+",top"+r),$7+":"+i}(i,e)),o&&r.push("background-color:"+o),F(["width","color","radius"],function(y){var S="border-"+y,b=rp(S),D=n.get(b);null!=D&&r.push(S+":"+D+("color"===y?"":"px"))}),r.push(function K7(n){var t=[],e=n.get("fontSize"),r=n.getTextColor();r&&t.push("color:"+r),t.push("font:"+n.getFont()),e&&t.push("line-height:"+Math.round(3*e/2)+"px");var i=n.get("textShadowColor"),o=n.get("textShadowBlur")||0,u=n.get("textShadowOffsetX")||0,c=n.get("textShadowOffsetY")||0;return i&&o&&t.push("text-shadow:"+u+"px "+c+"px "+o+"px "+i),F(["decoration","align"],function(h){var d=n.get(h);d&&t.push("text-"+h+":"+d)}),t.join(";")}(p)),null!=g&&r.push("padding:"+is(g).join("px ")+"px"),r.join(";")+";"}(t,!this._firstShow,this._longHide)+W8(o[0],o[1],!0)+"border-color:"+Na(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},n.prototype.setContent=function(t,e,r,i,o){var u=this.el;if(null!=t){var c="";if(fe(o)&&"item"===r.get("trigger")&&!H8(r)&&(c=function q7(n,t,e){if(!fe(e)||"inside"===e)return"";var r=n.get("backgroundColor"),i=n.get("borderWidth");t=Na(t);var d,o=function Z7(n){return"left"===n?"right":"right"===n?"left":"top"===n?"bottom":"top"}(e),u=Math.max(1.5*Math.round(i),6),c="",h=Y3+":";Ge(["left","right"],o)>-1?(c+="top:50%",h+="translateY(-50%) rotate("+(d="left"===o?-225:-45)+"deg)"):(c+="left:50%",h+="translateX(-50%) rotate("+(d="top"===o?225:45)+"deg)");var p=d*Math.PI/180,g=u+i,m=g*Math.abs(Math.cos(p))+g*Math.abs(Math.sin(p)),S=t+" solid "+i+"px;";return'<div style="'+["position:absolute;width:"+u+"px;height:"+u+"px;z-index:-1;",(c+=";"+o+":-"+Math.round(100*((m-Math.SQRT2*i)/2+Math.SQRT2*i-(m-g)/2))/100+"px")+";"+h+";","border-bottom:"+S,"border-right:"+S,"background-color:"+r+";"].join("")+'"></div>'}(r,i,o)),fe(t))u.innerHTML=t+c;else if(t){u.innerHTML="",te(t)||(t=[t]);for(var h=0;h<t.length;h++)ru(t[h])&&t[h].parentNode!==u&&u.appendChild(t[h]);if(c&&u.childNodes.length){var d=document.createElement("div");d.innerHTML=c,u.appendChild(d)}}}else u.innerHTML=""},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},n.prototype.moveTo=function(t,e){var r=this._styleCoord;if($8(r,this._zr,this._appendToBody,t,e),null!=r[0]&&null!=r[1]){var i=this.el.style;F(W8(r[0],r[1]),function(u){i[u[0]]=u[1]})}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",ct.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return t._longHide=!0},500)},n.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(de(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},n}();const eY=J7;var tY=function(){function n(t){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=t.getZr(),Z8(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return n.prototype.update=function(t){var e=t.get("alwaysShowContent");e&&this._moveIfResized(),this._alwaysShowContent=e},n.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},n.prototype.setContent=function(t,e,r,i,o){var u=this;xe(t)&&St(""),this.el&&this._zr.remove(this.el);var c=r.getModel("textStyle");this.el=new rt({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:c.get("textShadowColor"),fill:r.get(["textStyle","color"]),padding:VI(r,"richText"),verticalAlign:"top",align:"left"},z:r.get("z")}),F(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(d){u.el.style[d]=r.get(d)}),F(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(d){u.el.style[d]=c.get(d)||0}),this._zr.add(this.el);var h=this;this.el.on("mouseover",function(){h._enterable&&(clearTimeout(h._hideTimeout),h._show=!0),h._inContent=!0}),this.el.on("mouseout",function(){h._enterable&&h._show&&h.hideLater(h._hideDelay),h._inContent=!1})},n.prototype.setEnterable=function(t){this._enterable=t},n.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),r=Y8(t.style);return[e.width+r.left+r.right,e.height+r.top+r.bottom]},n.prototype.moveTo=function(t,e){var r=this.el;if(r){var i=this._styleCoord;Z8(i,this._zr,t,e),t=i[0],e=i[1];var o=r.style,u=rd(o.borderWidth||0),c=Y8(o);r.x=t+u+c.left,r.y=e+u+c.top,r.markRedraw()}},n.prototype._moveIfResized=function(){var e=this._styleCoord[3];this.moveTo(this._styleCoord[2]*this._zr.getWidth(),e*this._zr.getHeight())},n.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},n.prototype.hideLater=function(t){this._show&&(!this._inContent||!this._enterable)&&!this._alwaysShowContent&&(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(de(this.hide,this),t)):this.hide())},n.prototype.isShow=function(){return this._show},n.prototype.dispose=function(){this._zr.remove(this.el)},n}();function rd(n){return Math.max(0,n)}function Y8(n){var t=rd(n.shadowBlur||0),e=rd(n.shadowOffsetX||0),r=rd(n.shadowOffsetY||0);return{left:rd(t-e),right:rd(t+e),top:rd(t-r),bottom:rd(t+r)}}function Z8(n,t,e,r){n[0]=e,n[1]=r,n[2]=n[0]/t.getWidth(),n[3]=n[1]/t.getHeight()}const nY=tY;var rY=new st({shape:{x:-1,y:-1,width:2,height:2}}),iY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e,r){if(!ct.node&&r.getDom()){var i=e.getComponent("tooltip"),o=this._renderMode=function Rk(n){return"auto"===n?ct.domSupported?"html":"richText":n||"html"}(i.get("renderMode"));this._tooltipContent="richText"===o?new nY(r):new eY(r.getDom(),r,{appendToBody:i.get("appendToBody",!0)})}},t.prototype.render=function(e,r,i){if(!ct.node&&i.getDom()){this.group.removeAll(),this._tooltipModel=e,this._ecModel=r,this._api=i;var o=this._tooltipContent;o.update(e),o.setEnterable(e.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&e.get("transitionDuration")?rh(this,"_updatePosition",50,"fixRate"):ih(this,"_updatePosition")}},t.prototype._initGlobalListener=function(){var r=this._tooltipModel.get("triggerOn");s("itemTooltip",this._api,de(function(i,o,u){"none"!==r&&(r.indexOf(i)>=0?this._tryShow(o,u):"leave"===i&&this._hide(u))},this))},t.prototype._keepShow=function(){var e=this._tooltipModel,r=this._ecModel,i=this._api,o=e.get("triggerOn");if(null!=this._lastX&&null!=this._lastY&&"none"!==o&&"click"!==o){var u=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!i.isDisposed()&&u.manuallyShowTip(e,r,i,{x:u._lastX,y:u._lastY,dataByCoordSys:u._lastDataByCoordSys})})}},t.prototype.manuallyShowTip=function(e,r,i,o){if(o.from!==this.uid&&!ct.node&&i.getDom()){var u=q8(o,i);this._ticket="";var c=o.dataByCoordSys,h=function lY(n,t,e){var r=Nd(n).queryOptionMap,i=r.keys()[0];if(i&&"series"!==i){var h,u=Sf(t,i,r.get(i),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(u&&(e.getViewOfComponentModel(u).group.traverse(function(d){var p=Oe(d).tooltipConfig;if(p&&p.name===n.name)return h=d,!0}),h))return{componentMainType:i,componentIndex:u.componentIndex,el:h}}}(o,r,i);if(h){var d=h.el.getBoundingRect().clone();d.applyTransform(h.el.transform),this._tryShow({offsetX:d.x+d.width/2,offsetY:d.y+d.height/2,target:h.el,position:o.position,positionDefault:"bottom"},u)}else if(o.tooltip&&null!=o.x&&null!=o.y){var p=rY;p.x=o.x,p.y=o.y,p.update(),Oe(p).tooltipConfig={name:null,option:o.tooltip},this._tryShow({offsetX:o.x,offsetY:o.y,target:p},u)}else if(c)this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,dataByCoordSys:c,tooltipOption:o.tooltipOption},u);else if(null!=o.seriesIndex){if(this._manuallyAxisShowTip(e,r,i,o))return;var g=z(o,r),m=g.point[0],y=g.point[1];null!=m&&null!=y&&this._tryShow({offsetX:m,offsetY:y,target:g.el,position:o.position,positionDefault:"bottom"},u)}else null!=o.x&&null!=o.y&&(i.dispatchAction({type:"updateAxisPointer",x:o.x,y:o.y}),this._tryShow({offsetX:o.x,offsetY:o.y,position:o.position,target:i.getZr().findHover(o.x,o.y).target},u))}},t.prototype.manuallyHideTip=function(e,r,i,o){this._tooltipModel&&this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,o.from!==this.uid&&this._hide(q8(o,i))},t.prototype._manuallyAxisShowTip=function(e,r,i,o){var u=o.seriesIndex,c=o.dataIndex,h=r.getComponent("axisPointer").coordSysAxesInfo;if(null!=u&&null!=c&&null!=h){var d=r.getSeriesByIndex(u);if(d&&"axis"===gT([d.getData().getItemModel(c),d,(d.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:u,dataIndex:c,position:o.position}),!0}},t.prototype._tryShow=function(e,r){var i=e.target;if(this._tooltipModel){this._lastX=e.offsetX,this._lastY=e.offsetY;var u=e.dataByCoordSys;if(u&&u.length)this._showAxisTooltip(u,e);else if(i){var c,h;this._lastDataByCoordSys=null,Qu(i,function(d){return null!=Oe(d).dataIndex?(c=d,!0):null!=Oe(d).tooltipConfig?(h=d,!0):void 0},!0),c?this._showSeriesItemTooltip(e,c,r):h?this._showComponentItemTooltip(e,h,r):this._hide(r)}else this._lastDataByCoordSys=null,this._hide(r)}},t.prototype._showOrMove=function(e,r){var i=e.get("showDelay");r=de(r,this),clearTimeout(this._showTimout),i>0?this._showTimout=setTimeout(r,i):r()},t.prototype._showAxisTooltip=function(e,r){var i=this._ecModel,o=this._tooltipModel,u=[r.offsetX,r.offsetY],c=gT([r.tooltipOption],o),h=this._renderMode,d=[],p=hn("section",{blocks:[],noHeader:!0}),g=[],m=new Ob;F(e,function(T){F(T.dataByAxis,function(M){var I=i.getComponent(M.axisDim+"Axis",M.axisIndex),L=M.value;if(I&&null!=L){var E=w2(L,I.axis,i,M.seriesDataIndices,M.valueLabelOpt),R=hn("section",{header:E,noHeader:!ei(E),sortBlocks:!0,blocks:[]});p.blocks.push(R),F(M.seriesDataIndices,function(O){var k=i.getSeriesByIndex(O.seriesIndex),V=O.dataIndexInside,B=k.getDataParams(V);if(!(B.dataIndex<0)){B.axisDim=M.axisDim,B.axisIndex=M.axisIndex,B.axisType=M.axisType,B.axisId=M.axisId,B.axisValue=iC(I.axis,{value:L}),B.axisValueLabel=E,B.marker=m.makeTooltipMarker("item",Na(B.color),h);var H=kF(k.formatTooltip(V,!0,null)),G=H.frag;if(G){var j=gT([k],o).get("valueFormatter");R.blocks.push(j?J({valueFormatter:j},G):G)}H.text&&g.push(H.text),d.push(B)}})}})}),p.blocks.reverse(),g.reverse();var y=r.position,S=c.get("order"),b=NI(p,m,h,S,i.get("useUTC"),c.get("textStyle"));b&&g.unshift(b);var C=g.join("richText"===h?"\n\n":"<br/>");this._showOrMove(c,function(){this._updateContentNotChangedOnAxis(e,d)?this._updatePosition(c,y,u[0],u[1],this._tooltipContent,d):this._showTooltipContent(c,C,d,Math.random()+"",u[0],u[1],y,null,m)})},t.prototype._showSeriesItemTooltip=function(e,r,i){var o=this._ecModel,u=Oe(r),c=u.seriesIndex,h=o.getSeriesByIndex(c),d=u.dataModel||h,p=u.dataIndex,g=u.dataType,m=d.getData(g),y=this._renderMode,S=e.positionDefault,b=gT([m.getItemModel(p),d,h&&(h.coordinateSystem||{}).model],this._tooltipModel,S?{position:S}:null),D=b.get("trigger");if(null==D||"item"===D){var C=d.getDataParams(p,g),T=new Ob;C.marker=T.makeTooltipMarker("item",Na(C.color),y);var M=kF(d.formatTooltip(p,!1,g)),I=b.get("order"),L=b.get("valueFormatter"),E=M.frag,R=E?NI(L?J({valueFormatter:L},E):E,T,y,I,o.get("useUTC"),b.get("textStyle")):M.text,O="item_"+d.name+"_"+p;this._showOrMove(b,function(){this._showTooltipContent(b,R,C,O,e.offsetX,e.offsetY,e.position,e.target,T)}),i({type:"showTip",dataIndexInside:p,dataIndex:m.getRawIndex(p),seriesIndex:c,from:this.uid})}},t.prototype._showComponentItemTooltip=function(e,r,i){var o=Oe(r),c=o.tooltipConfig.option||{};fe(c)&&(c={content:c,formatter:c});var d=[c],p=this._ecModel.getComponent(o.componentMainType,o.componentIndex);p&&d.push(p),d.push({formatter:c.content});var g=e.positionDefault,m=gT(d,this._tooltipModel,g?{position:g}:null),y=m.get("content"),S=Math.random()+"",b=new Ob;this._showOrMove(m,function(){var D=Te(m.get("formatterParams")||{});this._showTooltipContent(m,y,D,S,e.offsetX,e.offsetY,e.position,r,b)}),i({type:"showTip",from:this.uid})},t.prototype._showTooltipContent=function(e,r,i,o,u,c,h,d,p){if(this._ticket="",e.get("showContent")&&e.get("show")){var g=this._tooltipContent;g.setEnterable(e.get("enterable"));var m=e.get("formatter");h=h||e.get("position");var y=r,b=this._getNearestPoint([u,c],i,e.get("trigger"),e.get("borderColor")).color;if(m)if(fe(m)){var D=e.ecModel.get("useUTC"),C=te(i)?i[0]:i;y=m,C&&C.axisType&&C.axisType.indexOf("time")>=0&&(y=Jd(C.axisValue,y,D)),y=ap(y,i,!0)}else if(_e(m)){var M=de(function(I,L){I===this._ticket&&(g.setContent(L,p,e,b,h),this._updatePosition(e,h,u,c,g,i,d))},this);this._ticket=o,y=m(i,o,M)}else y=m;g.setContent(y,p,e,b,h),g.show(e,b),this._updatePosition(e,h,u,c,g,i,d)}},t.prototype._getNearestPoint=function(e,r,i,o){return"axis"===i||te(r)?{color:o||("html"===this._renderMode?"#fff":"none")}:te(r)?void 0:{color:o||r.color||r.borderColor}},t.prototype._updatePosition=function(e,r,i,o,u,c,h){var d=this._api.getWidth(),p=this._api.getHeight();r=r||e.get("position");var g=u.getSize(),m=e.get("align"),y=e.get("verticalAlign"),S=h&&h.getBoundingRect().clone();if(h&&S.applyTransform(h.transform),_e(r)&&(r=r([i,o],c,u.el,S,{viewSize:[d,p],contentSize:g.slice()})),te(r))i=le(r[0],d),o=le(r[1],p);else if(xe(r)){var b=r;b.width=g[0],b.height=g[1];var D=An(b,{width:d,height:p});i=D.x,o=D.y,m=null,y=null}else if(fe(r)&&h){var C=function sY(n,t,e,r){var i=e[0],o=e[1],u=Math.ceil(Math.SQRT2*r)+8,c=0,h=0,d=t.width,p=t.height;switch(n){case"inside":c=t.x+d/2-i/2,h=t.y+p/2-o/2;break;case"top":c=t.x+d/2-i/2,h=t.y-o-u;break;case"bottom":c=t.x+d/2-i/2,h=t.y+p+u;break;case"left":c=t.x-i-u,h=t.y+p/2-o/2;break;case"right":c=t.x+d+u,h=t.y+p/2-o/2}return[c,h]}(r,S,g,e.get("borderWidth"));i=C[0],o=C[1]}else C=function aY(n,t,e,r,i,o,u){var c=e.getSize(),h=c[0],d=c[1];return null!=o&&(n+h+o+2>r?n-=h+o:n+=o),null!=u&&(t+d+u>i?t-=d+u:t+=u),[n,t]}(i,o,u,d,p,m?null:20,y?null:20),i=C[0],o=C[1];m&&(i-=X8(m)?g[0]/2:"right"===m?g[0]:0),y&&(o-=X8(y)?g[1]/2:"bottom"===y?g[1]:0),H8(e)&&(C=function oY(n,t,e,r,i){var o=e.getSize(),u=o[0],c=o[1];return n=Math.min(n+u,r)-u,t=Math.min(t+c,i)-c,[n=Math.max(n,0),t=Math.max(t,0)]}(i,o,u,d,p),i=C[0],o=C[1]),u.moveTo(i,o)},t.prototype._updateContentNotChangedOnAxis=function(e,r){var i=this._lastDataByCoordSys,o=this._cbParamsList,u=!!i&&i.length===e.length;return u&&F(i,function(c,h){var d=c.dataByAxis||[],g=(e[h]||{}).dataByAxis||[];(u=u&&d.length===g.length)&&F(d,function(m,y){var S=g[y]||{},b=m.seriesDataIndices||[],D=S.seriesDataIndices||[];(u=u&&m.value===S.value&&m.axisType===S.axisType&&m.axisId===S.axisId&&b.length===D.length)&&F(b,function(C,T){var M=D[T];u=u&&C.seriesIndex===M.seriesIndex&&C.dataIndex===M.dataIndex}),o&&F(m.seriesDataIndices,function(C){var T=C.seriesIndex,M=r[T],I=o[T];M&&I&&I.data!==M.data&&(u=!1)})})}),this._lastDataByCoordSys=e,this._cbParamsList=r,!!u},t.prototype._hide=function(e){this._lastDataByCoordSys=null,e({type:"hideTip",from:this.uid})},t.prototype.dispose=function(e,r){ct.node||!r.getDom()||(ih(this,"_updatePosition"),this._tooltipContent.dispose(),A("itemTooltip",r))},t.type="tooltip",t}(wt);function gT(n,t,e){var i,r=t.ecModel;e?(i=new Rt(e,r,r),i=new Rt(t.option,i,r)):i=t;for(var o=n.length-1;o>=0;o--){var u=n[o];u&&(u instanceof Rt&&(u=u.get("tooltip",!0)),fe(u)&&(u={formatter:u}),u&&(i=new Rt(u,i,r)))}return i}function q8(n,t){return n.dispatchAction||de(t.dispatchAction,t)}function X8(n){return"center"===n||"middle"===n}const uY=iY;var fY=["rect","polygon","keep","clear"];function hY(n,t){var e=It(n?n.brush:[]);if(e.length){var r=[];F(e,function(h){var d=h.hasOwnProperty("toolbox")?h.toolbox:[];d instanceof Array&&(r=r.concat(d))});var i=n&&n.toolbox;te(i)&&(i=i[0]),i||(n.toolbox=[i={feature:{}}]);var o=i.feature||(i.feature={}),u=o.brush||(o.brush={}),c=u.type||(u.type=[]);c.push.apply(c,r),function dY(n){var t={};F(n,function(e){t[e]=1}),n.length=0,F(t,function(e,r){n.push(r)})}(c),t&&!c.length&&c.push.apply(c,fY)}}var K8=F;function Q8(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return!0}function Z3(n,t,e){var r={};return K8(t,function(o){var u=r[o]=function i(){var o=function(){};return o.prototype.__hidden=o.prototype,new o}();K8(n[o],function(c,h){if(gr.isValidType(h)){var d={type:h,visual:c};e&&e(d,o),u[h]=new gr(d),"opacity"===h&&((d=Te(d)).type="colorAlpha",u.__hidden.__alphaForOpacity=new gr(d))}})}),r}function J8(n,t,e){var r;F(e,function(i){t.hasOwnProperty(i)&&Q8(t[i])&&(r=!0)}),r&&F(e,function(i){t.hasOwnProperty(i)&&Q8(t[i])?n[i]=Te(t[i]):delete n[i]})}var e$={lineX:t$(0),lineY:t$(1),rect:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])},rect:function(n,t,e){return n&&e.boundingRect.intersect(n)}},polygon:{point:function(n,t,e){return n&&e.boundingRect.contain(n[0],n[1])&&_h(e.range,n[0],n[1])},rect:function(n,t,e){var r=e.range;if(!n||r.length<=1)return!1;var i=n.x,o=n.y,u=n.width,c=n.height,h=r[0];return!!(_h(r,i,o)||_h(r,i+u,o)||_h(r,i,o+c)||_h(r,i+u,o+c)||Be.create(n).contain(h[0],h[1])||Ip(i,o,i+u,o,r)||Ip(i,o,i,o+c,r)||Ip(i+u,o,i+u,o+c,r)||Ip(i,o+c,i+u,o+c,r))||void 0}}};function t$(n){var t=["x","y"],e=["width","height"];return{point:function(r,i,o){if(r)return mT(r[n],o.range)},rect:function(r,i,o){if(r){var u=o.range,c=[r[t[n]],r[t[n]]+r[e[n]]];return c[1]<c[0]&&c.reverse(),mT(c[0],u)||mT(c[1],u)||mT(u[0],c)||mT(u[1],c)}}}}function mT(n,t){return t[0]<=n&&n<=t[1]}var n$=["inBrush","outOfBrush"],q3="__ecBrushSelect",X3="__ecInBrushSelectEvent";function r$(n){n.eachComponent({mainType:"brush"},function(t){(t.brushTargetManager=new j3(t.option,n)).setInputRanges(t.areas,n)})}function mY(n,t,e){var i,o,r=[];n.eachComponent({mainType:"brush"},function(u){e&&"takeGlobalCursor"===e.type&&u.setBrushOption("brush"===e.key?e.brushOption:{brushType:!1})}),r$(n),n.eachComponent({mainType:"brush"},function(u,c){var h={brushId:u.id,brushIndex:c,brushName:u.name,areas:Te(u.areas),selected:[]};r.push(h);var d=u.option,p=d.brushLink,g=[],m=[],y=[],S=!1;c||(i=d.throttleType,o=d.throttleDelay);var b=re(u.areas,function(L){var E=wY[L.brushType],R=De({boundingRect:E?E(L):void 0},L);return R.selectors=function gY(n){var t=n.brushType,e={point:function(r){return e$[t].point(r,e,n)},rect:function(r){return e$[t].rect(r,e,n)}};return e}(R),R}),D=Z3(u.option,n$,function(L){L.mappingMethod="fixed"});function C(L){return"all"===p||!!g[L]}function T(L){return!!L.length}te(p)&&F(p,function(L){g[L]=1}),n.eachSeries(function(L,E){var R=y[E]=[];"parallel"===L.subType?function M(L,E){var R=L.coordinateSystem;S=S||R.hasAxisBrushed(),C(E)&&R.eachActiveState(L.getData(),function(O,k){"active"===O&&(m[k]=1)})}(L,E):function I(L,E,R){if(L.brushSelector&&!function SY(n,t){var e=n.option.seriesIndex;return null!=e&&"all"!==e&&(te(e)?Ge(e,t)<0:t!==e)}(u,E)&&(F(b,function(k){u.brushTargetManager.controlSeries(k,L,n)&&R.push(k),S=S||T(R)}),C(E)&&T(R))){var O=L.getData();O.each(function(k){i$(L,R,O,k)&&(m[k]=1)})}}(L,E,R)}),n.eachSeries(function(L,E){var R={seriesId:L.id,seriesIndex:E,seriesName:L.name,dataIndex:[]};h.selected.push(R);var O=y[E],k=L.getData(),V=C(E)?function(B){return m[B]?(R.dataIndex.push(k.getRawIndex(B)),"inBrush"):"outOfBrush"}:function(B){return i$(L,O,k,B)?(R.dataIndex.push(k.getRawIndex(B)),"inBrush"):"outOfBrush"};(C(E)?S:T(O))&&function pY(n,t,e,r,i,o){var c,u={};function h(g){return aD(e,c,g)}function d(g,m){DE(e,c,g,m)}function p(g,m){var y=e.getRawDataItem(c=null==o?g:m);if(!y||!1!==y.visualMap)for(var S=r.call(i,g),b=t[S],D=u[S],C=0,T=D.length;C<T;C++){var M=D[C];b[M]&&b[M].applyVisual(g,h,d)}}F(n,function(g){var m=gr.prepareVisualTypes(t[g]);u[g]=m}),null==o?e.each(p):e.each([o],p)}(n$,D,k,V)})}),function yY(n,t,e,r,i){if(i){var o=n.getZr();o[X3]||(o[q3]||(o[q3]=_Y),rh(o,q3,e,t)(n,r))}}(t,i,o,r,e)}function _Y(n,t){if(!n.isDisposed()){var e=n.getZr();e[X3]=!0,n.dispatchAction({type:"brushSelect",batch:t}),e[X3]=!1}}function i$(n,t,e,r){for(var i=0,o=t.length;i<o;i++){var u=t[i];if(n.brushSelector(r,e,u.selectors,u))return!0}}var wY={rect:function(n){return a$(n.range)},polygon:function(n){for(var t,e=n.range,r=0,i=e.length;r<i;r++){var o=e[r];o[0]<(t=t||[[1/0,-1/0],[1/0,-1/0]])[0][0]&&(t[0][0]=o[0]),o[0]>t[0][1]&&(t[0][1]=o[0]),o[1]<t[1][0]&&(t[1][0]=o[1]),o[1]>t[1][1]&&(t[1][1]=o[1])}return t&&a$(t)}};function a$(n){return new Be(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0])}var bY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e,r){this.ecModel=e,this.api=r,(this._brushController=new _1(r.getZr())).on("brush",de(this._onBrush,this)).mount()},t.prototype.render=function(e,r,i,o){this.model=e,this._updateController(e,r,i,o)},t.prototype.updateTransform=function(e,r,i,o){r$(r),this._updateController(e,r,i,o)},t.prototype.updateVisual=function(e,r,i,o){this.updateTransform(e,r,i,o)},t.prototype.updateView=function(e,r,i,o){this._updateController(e,r,i,o)},t.prototype._updateController=function(e,r,i,o){(!o||o.$from!==e.id)&&this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice())},t.prototype.dispose=function(){this._brushController.dispose()},t.prototype._onBrush=function(e){var r=this.model.id,i=this.model.brushTargetManager.setOutputRanges(e.areas,this.ecModel);(!e.isEnd||e.removeOnClick)&&this.api.dispatchAction({type:"brush",brushId:r,areas:Te(i),$from:r}),e.isEnd&&this.api.dispatchAction({type:"brushEnd",brushId:r,areas:Te(i),$from:r})},t.type="brush",t}(wt);const DY=bY;var xY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.areas=[],e.brushOption={},e}return q(t,n),t.prototype.optionUpdated=function(e,r){var i=this.option;!r&&J8(i,e,["inBrush","outOfBrush"]);var o=i.inBrush=i.inBrush||{};i.outOfBrush=i.outOfBrush||{color:"#ddd"},o.hasOwnProperty("liftZ")||(o.liftZ=5)},t.prototype.setAreas=function(e){e&&(this.areas=re(e,function(r){return o$(this.option,r)},this))},t.prototype.setBrushOption=function(e){this.brushOption=o$(this.option,e),this.brushType=this.brushOption.brushType},t.type="brush",t.dependencies=["geo","grid","xAxis","yAxis","parallel","series"],t.defaultOption={seriesIndex:"all",brushType:"rect",brushMode:"single",transformable:!0,brushStyle:{borderWidth:1,color:"rgba(210,219,238,0.3)",borderColor:"#D2DBEE"},throttleType:"fixRate",throttleDelay:0,removeOnClick:!0,z:1e4},t}(at);function o$(n,t){return Ve({brushType:n.brushType,brushMode:n.brushMode,transformable:n.transformable,brushStyle:new Rt(n.brushStyle).getItemStyle(),removeOnClick:n.removeOnClick,z:n.z},t,!0)}const TY=xY;var MY=["rect","polygon","lineX","lineY","keep","clear"],AY=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return q(t,n),t.prototype.render=function(e,r,i){var o,u,c;r.eachComponent({mainType:"brush"},function(h){o=h.brushType,u=h.brushOption.brushMode||"single",c=c||!!h.areas.length}),this._brushType=o,this._brushMode=u,F(e.get("type",!0),function(h){e.setIconStatus(h,("keep"===h?"multiple"===u:"clear"===h?c:h===o)?"emphasis":"normal")})},t.prototype.updateView=function(e,r,i){this.render(e,r,i)},t.prototype.getIcons=function(){var e=this.model,r=e.get("icon",!0),i={};return F(e.get("type",!0),function(o){r[o]&&(i[o]=r[o])}),i},t.prototype.onclick=function(e,r,i){var o=this._brushType,u=this._brushMode;"clear"===i?(r.dispatchAction({type:"axisAreaSelect",intervals:[]}),r.dispatchAction({type:"brush",command:"clear",areas:[]})):r.dispatchAction({type:"takeGlobalCursor",key:"brush",brushOption:{brushType:"keep"===i?o:o!==i&&i,brushMode:"keep"===i?"multiple"===u?"single":"multiple":u}})},t.getDefaultOption=function(e){return{show:!0,type:MY.slice(),icon:{rect:"M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13",polygon:"M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2",lineX:"M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4",lineY:"M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4",keep:"M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z",clear:"M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2"},title:e.getLocaleModel().get(["toolbox","brush","title"])}},t}(Oo);const IY=AY;var PY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return q(t,n),t.type="title",t.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},t}(at),LY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.render=function(e,r,i){if(this.group.removeAll(),e.get("show")){var o=this.group,u=e.getModel("textStyle"),c=e.getModel("subtextStyle"),h=e.get("textAlign"),d=ke(e.get("textBaseline"),e.get("textVerticalAlign")),p=new rt({style:Et(u,{text:e.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),g=p.getBoundingRect(),m=e.get("subtext"),y=new rt({style:Et(c,{text:m,fill:c.getTextColor(),y:g.height+e.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),S=e.get("link"),b=e.get("sublink"),D=e.get("triggerEvent",!0);p.silent=!S&&!D,y.silent=!b&&!D,S&&p.on("click",function(){Gm(S,"_"+e.get("target"))}),b&&y.on("click",function(){Gm(b,"_"+e.get("subtarget"))}),Oe(p).eventData=Oe(y).eventData=D?{componentType:"title",componentIndex:e.componentIndex}:null,o.add(p),m&&o.add(y);var C=o.getBoundingRect(),T=e.getBoxLayoutParams();T.width=C.width,T.height=C.height;var M=An(T,{width:i.getWidth(),height:i.getHeight()},e.get("padding"));h||("middle"===(h=e.get("left")||e.get("right"))&&(h="center"),"right"===h?M.x+=M.width:"center"===h&&(M.x+=M.width/2)),d||("center"===(d=e.get("top")||e.get("bottom"))&&(d="middle"),"bottom"===d?M.y+=M.height:"middle"===d&&(M.y+=M.height/2),d=d||"top"),o.x=M.x,o.y=M.y,o.markRedraw();var I={align:h,verticalAlign:d};p.setStyle(I),y.setStyle(I),C=o.getBoundingRect();var L=M.margin,E=e.getItemStyle(["color","opacity"]);E.fill=e.get("backgroundColor");var R=new st({shape:{x:C.x-L[3],y:C.y-L[0],width:C.width+L[1]+L[3],height:C.height+L[0]+L[2],r:e.get("borderRadius")},style:E,subPixelOptimize:!0,silent:!0});o.add(R)}},t.type="title",t}(wt),NY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode="box",e}return q(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),this._initData()},t.prototype.mergeOption=function(e){n.prototype.mergeOption.apply(this,arguments),this._initData()},t.prototype.setCurrentIndex=function(e){null==e&&(e=this.option.currentIndex);var r=this._data.count();this.option.loop?e=(e%r+r)%r:(e>=r&&(e=r-1),e<0&&(e=0)),this.option.currentIndex=e},t.prototype.getCurrentIndex=function(){return this.option.currentIndex},t.prototype.isIndexMax=function(){return this.getCurrentIndex()>=this._data.count()-1},t.prototype.setPlayState=function(e){this.option.autoPlay=!!e},t.prototype.getPlayState=function(){return!!this.option.autoPlay},t.prototype._initData=function(){var u,e=this.option,r=e.data||[],i=e.axisType,o=this._names=[];"category"===i?(u=[],F(r,function(d,p){var m,g=rn(mf(d),"");xe(d)?(m=Te(d)).value=p:m=p,u.push(m),o.push(g)})):u=r,(this._data=new on([{name:"value",type:{category:"ordinal",time:"time",value:"number"}[i]||"number"}],this)).initData(u,o)},t.prototype.getData=function(){return this._data},t.prototype.getCategories=function(){if("category"===this.get("axisType"))return this._names.slice()},t.type="timeline",t.defaultOption={z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{},label:{color:"#000"},data:[]},t}(at);const s$=NY;var l$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="timeline.slider",t.defaultOption=ns(s$.defaultOption,{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"circle",symbolSize:12,lineStyle:{show:!0,width:2,color:"#DAE1F5"},label:{position:"auto",show:!0,interval:"auto",rotate:0,color:"#A4B1D7"},itemStyle:{color:"#A4B1D7",borderWidth:1},checkpointStyle:{symbol:"circle",symbolSize:15,color:"#316bf3",borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0, 0, 0, 0.3)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:24,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"M2,18.5A1.52,1.52,0,0,1,.92,18a1.49,1.49,0,0,1,0-2.12L7.81,9.36,1,3.11A1.5,1.5,0,1,1,3,.89l8,7.34a1.48,1.48,0,0,1,.49,1.09,1.51,1.51,0,0,1-.46,1.1L3,18.08A1.5,1.5,0,0,1,2,18.5Z",prevIcon:"M10,.5A1.52,1.52,0,0,1,11.08,1a1.49,1.49,0,0,1,0,2.12L4.19,9.64,11,15.89a1.5,1.5,0,1,1-2,2.22L1,10.77A1.48,1.48,0,0,1,.5,9.68,1.51,1.51,0,0,1,1,8.58L9,.92A1.5,1.5,0,0,1,10,.5Z",prevBtnSize:18,nextBtnSize:18,color:"#A4B1D7",borderColor:"#A4B1D7",borderWidth:1},emphasis:{label:{show:!0,color:"#6f778d"},itemStyle:{color:"#316BF3"},controlStyle:{color:"#316BF3",borderColor:"#316BF3",borderWidth:2}},progress:{lineStyle:{color:"#316BF3"},itemStyle:{color:"#316BF3"},label:{color:"#6f778d"}},data:[]}),t}(s$);un(l$,_b.prototype);const OY=l$;var kY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="timeline",t}(wt);const FY=kY;var VY=function(n){function t(e,r,i,o){var u=n.call(this,e,r,i)||this;return u.type=o||"value",u}return q(t,n),t.prototype.getLabelModel=function(){return this.model.getModel("label")},t.prototype.isHorizontal=function(){return"horizontal"===this.model.get("orient")},t}(ga);const BY=VY;var K3=Math.PI,u$=ot(),zY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(e,r){this.api=r},t.prototype.render=function(e,r,i){if(this.model=e,this.api=i,this.ecModel=r,this.group.removeAll(),e.get("show",!0)){var o=this._layout(e,i),u=this._createGroup("_mainGroup"),c=this._createGroup("_labelGroup"),h=this._axis=this._createAxis(o,e);e.formatTooltip=function(d){return hn("nameValue",{noName:!0,value:h.scale.getLabel({value:d})})},F(["AxisLine","AxisTick","Control","CurrentPointer"],function(d){this["_render"+d](o,u,h,e)},this),this._renderAxisLabel(o,c,h,e),this._position(o,e)}this._doPlayStop(),this._updateTicksStatus()},t.prototype.remove=function(){this._clearTimer(),this.group.removeAll()},t.prototype.dispose=function(){this._clearTimer()},t.prototype._layout=function(e,r){var c,i=e.get(["label","position"]),o=e.get("orient"),u=function GY(n,t){return An(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},n.get("padding"))}(e,r),h={horizontal:"center",vertical:(c=null==i||"auto"===i?"horizontal"===o?u.y+u.height/2<r.getHeight()/2?"-":"+":u.x+u.width/2<r.getWidth()/2?"+":"-":fe(i)?{horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[o][i]:i)>=0||"+"===c?"left":"right"},d={horizontal:c>=0||"+"===c?"top":"bottom",vertical:"middle"},p={horizontal:0,vertical:K3/2},g="vertical"===o?u.height:u.width,m=e.getModel("controlStyle"),y=m.get("show",!0),S=y?m.get("itemSize"):0,b=y?m.get("itemGap"):0,D=S+b,C=e.get(["label","rotate"])||0;C=C*K3/180;var T,M,I,L=m.get("position",!0),E=y&&m.get("showPlayBtn",!0),R=y&&m.get("showPrevBtn",!0),O=y&&m.get("showNextBtn",!0),k=0,V=g;"left"===L||"bottom"===L?(E&&(T=[0,0],k+=D),R&&(M=[k,0],k+=D),O&&(I=[V-S,0],V-=D)):(E&&(T=[V-S,0],V-=D),R&&(M=[0,0],k+=D),O&&(I=[V-S,0],V-=D));var B=[k,V];return e.get("inverse")&&B.reverse(),{viewRect:u,mainLength:g,orient:o,rotation:p[o],labelRotation:C,labelPosOpt:c,labelAlign:e.get(["label","align"])||h[o],labelBaseline:e.get(["label","verticalAlign"])||e.get(["label","baseline"])||d[o],playPosition:T,prevBtnPosition:M,nextBtnPosition:I,axisExtent:B,controlSize:S,controlGap:b}},t.prototype._position=function(e,r){var i=this._mainGroup,o=this._labelGroup,u=e.viewRect;if("vertical"===e.orient){var c=[1,0,0,1,0,0],h=u.x,d=u.y+u.height;qi(c,c,[-h,-d]),ge(c,c,-K3/2),qi(c,c,[h,d]),(u=u.clone()).applyTransform(c)}var p=T(u),g=T(i.getBoundingRect()),m=T(o.getBoundingRect()),y=[i.x,i.y],S=[o.x,o.y];S[0]=y[0]=p[0][0];var D,b=e.labelPosOpt;function C(I){I.originX=p[0][0]-I.x,I.originY=p[1][0]-I.y}function T(I){return[[I.x,I.x+I.width],[I.y,I.y+I.height]]}function M(I,L,E,R,O){I[R]+=E[R][O]-L[R][O]}null==b||fe(b)?(M(y,g,p,1,D="+"===b?0:1),M(S,m,p,1,1-D)):(M(y,g,p,1,D=b>=0?0:1),S[1]=y[1]+b),i.setPosition(y),o.setPosition(S),i.rotation=o.rotation=e.rotation,C(i),C(o)},t.prototype._createAxis=function(e,r){var i=r.getData(),o=r.get("axisType"),u=function HY(n,t){if(t=t||n.get("type"))switch(t){case"category":return new nv({ordinalMeta:n.getCategories(),extent:[1/0,-1/0]});case"time":return new AP({locale:n.ecModel.getLocaleModel(),useUTC:n.ecModel.get("useUTC")});default:return new Cs}}(r,o);u.getTicks=function(){return i.mapArray(["value"],function(d){return{value:d}})};var c=i.getDataExtent("value");u.setExtent(c[0],c[1]),u.calcNiceTicks();var h=new BY("value",u,e.axisExtent,o);return h.model=r,h},t.prototype._createGroup=function(e){var r=this[e]=new Ee;return this.group.add(r),r},t.prototype._renderAxisLine=function(e,r,i,o){var u=i.getExtent();if(o.get(["lineStyle","show"])){var c=new Vn({shape:{x1:u[0],y1:0,x2:u[1],y2:0},style:J({lineCap:"round"},o.getModel("lineStyle").getLineStyle()),silent:!0,z2:1});r.add(c);var h=this._progressLine=new Vn({shape:{x1:u[0],x2:this._currentPointer?this._currentPointer.x:u[0],y1:0,y2:0},style:De({lineCap:"round",lineWidth:c.style.lineWidth},o.getModel(["progress","lineStyle"]).getLineStyle()),silent:!0,z2:1});r.add(h)}},t.prototype._renderAxisTick=function(e,r,i,o){var u=this,c=o.getData(),h=i.scale.getTicks();this._tickSymbols=[],F(h,function(d){var p=i.dataToCoord(d.value),g=c.getItemModel(d.value),m=g.getModel("itemStyle"),y=g.getModel(["emphasis","itemStyle"]),S=g.getModel(["progress","itemStyle"]),b={x:p,y:0,onclick:de(u._changeTimeline,u,d.value)},D=c$(g,m,r,b);D.ensureState("emphasis").style=y.getItemStyle(),D.ensureState("progress").style=S.getItemStyle(),ts(D);var C=Oe(D);g.get("tooltip")?(C.dataIndex=d.value,C.dataModel=o):C.dataIndex=C.dataModel=null,u._tickSymbols.push(D)})},t.prototype._renderAxisLabel=function(e,r,i,o){var u=this;if(i.getLabelModel().get("show")){var h=o.getData(),d=i.getViewLabels();this._tickLabels=[],F(d,function(p){var g=p.tickValue,m=h.getItemModel(g),y=m.getModel("label"),S=m.getModel(["emphasis","label"]),b=m.getModel(["progress","label"]),D=i.dataToCoord(p.tickValue),C=new rt({x:D,y:0,rotation:e.labelRotation-e.rotation,onclick:de(u._changeTimeline,u,g),silent:!1,style:Et(y,{text:p.formattedLabel,align:e.labelAlign,verticalAlign:e.labelBaseline})});C.ensureState("emphasis").style=Et(S),C.ensureState("progress").style=Et(b),r.add(C),ts(C),u$(C).dataIndex=g,u._tickLabels.push(C)})}},t.prototype._renderControl=function(e,r,i,o){var u=e.controlSize,c=e.rotation,h=o.getModel("controlStyle").getItemStyle(),d=o.getModel(["emphasis","controlStyle"]).getItemStyle(),p=o.getPlayState(),g=o.get("inverse",!0);function m(y,S,b,D){if(y){var C=Dr(ke(o.get(["controlStyle",S+"BtnSize"]),u),u),M=function UY(n,t,e,r){var i=r.style,o=Rl(n.get(["controlStyle",t]),r||{},new Be(e[0],e[1],e[2],e[3]));return i&&o.setStyle(i),o}(o,S+"Icon",[0,-C/2,C,C],{x:y[0],y:y[1],originX:u/2,originY:0,rotation:D?-c:0,rectHover:!0,style:h,onclick:b});M.ensureState("emphasis").style=d,r.add(M),ts(M)}}m(e.nextBtnPosition,"next",de(this._changeTimeline,this,g?"-":"+")),m(e.prevBtnPosition,"prev",de(this._changeTimeline,this,g?"+":"-")),m(e.playPosition,p?"stop":"play",de(this._handlePlayClick,this,!p),!0)},t.prototype._renderCurrentPointer=function(e,r,i,o){var u=o.getData(),c=o.getCurrentIndex(),h=u.getItemModel(c).getModel("checkpointStyle"),d=this;this._currentPointer=c$(h,h,this._mainGroup,{},this._currentPointer,{onCreate:function(g){g.draggable=!0,g.drift=de(d._handlePointerDrag,d),g.ondragend=de(d._handlePointerDragend,d),f$(g,d._progressLine,c,i,o,!0)},onUpdate:function(g){f$(g,d._progressLine,c,i,o)}})},t.prototype._handlePlayClick=function(e){this._clearTimer(),this.api.dispatchAction({type:"timelinePlayChange",playState:e,from:this.uid})},t.prototype._handlePointerDrag=function(e,r,i){this._clearTimer(),this._pointerChangeTimeline([i.offsetX,i.offsetY])},t.prototype._handlePointerDragend=function(e){this._pointerChangeTimeline([e.offsetX,e.offsetY],!0)},t.prototype._pointerChangeTimeline=function(e,r){var i=this._toAxisCoord(e)[0],u=si(this._axis.getExtent().slice());i>u[1]&&(i=u[1]),i<u[0]&&(i=u[0]),this._currentPointer.x=i,this._currentPointer.markRedraw();var c=this._progressLine;c&&(c.shape.x2=i,c.dirty());var h=this._findNearestTick(i),d=this.model;(r||h!==d.getCurrentIndex()&&d.get("realtime"))&&this._changeTimeline(h)},t.prototype._doPlayStop=function(){var e=this;this._clearTimer(),this.model.getPlayState()&&(this._timer=setTimeout(function(){var r=e.model;e._changeTimeline(r.getCurrentIndex()+(r.get("rewind",!0)?-1:1))},this.model.get("playInterval")))},t.prototype._toAxisCoord=function(e){return da(e,this._mainGroup.getLocalTransform(),!0)},t.prototype._findNearestTick=function(e){var o,r=this.model.getData(),i=1/0,u=this._axis;return r.each(["value"],function(c,h){var d=u.dataToCoord(c),p=Math.abs(d-e);p<i&&(i=p,o=h)}),o},t.prototype._clearTimer=function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},t.prototype._changeTimeline=function(e){var r=this.model.getCurrentIndex();"+"===e?e=r+1:"-"===e&&(e=r-1),this.api.dispatchAction({type:"timelineChange",currentIndex:e,from:this.uid})},t.prototype._updateTicksStatus=function(){var e=this.model.getCurrentIndex(),r=this._tickSymbols,i=this._tickLabels;if(r)for(var o=0;o<r.length;o++)r&&r[o]&&r[o].toggleState("progress",o<e);if(i)for(o=0;o<i.length;o++)i&&i[o]&&i[o].toggleState("progress",u$(i[o]).dataIndex<=e)},t.type="timeline.slider",t}(FY);function c$(n,t,e,r,i,o){var u=t.get("color");i?(i.setColor(u),e.add(i),o&&o.onUpdate(i)):((i=dn(n.get("symbol"),-1,-1,2,2,u)).setStyle("strokeNoScale",!0),e.add(i),o&&o.onCreate(i));var h=t.getItemStyle(["color"]);i.setStyle(h),r=Ve({rectHover:!0,z2:100},r,!0);var d=Ju(n.get("symbolSize"));r.scaleX=d[0]/2,r.scaleY=d[1]/2;var p=Nl(n.get("symbolOffset"),d);p&&(r.x=(r.x||0)+p[0],r.y=(r.y||0)+p[1]);var g=n.get("symbolRotate");return r.rotation=(g||0)*Math.PI/180||0,i.attr(r),i.updateTransform(),i}function f$(n,t,e,r,i,o){if(!n.dragging){var u=i.getModel("checkpointStyle"),c=r.dataToCoord(i.getData().get("value",e));if(o||!u.get("animation",!0))n.attr({x:c,y:0}),t&&t.attr({shape:{x2:c}});else{var h={duration:u.get("animationDuration",!0),easing:u.get("animationEasing",!0)};n.stopAnimation(null,!0),n.animateTo({x:c,y:0},h),t&&t.animateTo({shape:{x2:c}},h)}}}const jY=zY;function $Y(n){var t=n&&n.timeline;te(t)||(t=t?[t]:[]),F(t,function(e){e&&function YY(n){var t=n.type,e={number:"value",time:"time"};if(e[t]&&(n.axisType=e[t],delete n.type),h$(n),_g(n,"controlPosition")){var r=n.controlStyle||(n.controlStyle={});_g(r,"position")||(r.position=n.controlPosition),"none"===r.position&&!_g(r,"show")&&(r.show=!1,delete r.position),delete n.controlPosition}F(n.data||[],function(i){xe(i)&&!te(i)&&(!_g(i,"value")&&_g(i,"name")&&(i.value=i.name),h$(i))})}(e)})}function h$(n){var t=n.itemStyle||(n.itemStyle={}),e=t.emphasis||(t.emphasis={}),r=n.label||n.label||{},i=r.normal||(r.normal={}),o={normal:1,emphasis:1};F(r,function(u,c){!o[c]&&!_g(i,c)&&(i[c]=u)}),e.label&&!_g(r,"emphasis")&&(r.emphasis=e.label,delete e.label)}function _g(n,t){return n.hasOwnProperty(t)}function Q3(n,t){if(!n)return!1;for(var e=te(n)?n:[n],r=0;r<e.length;r++)if(e[r]&&e[r][t])return!0;return!1}function R2(n){ta(n,"label",["show"])}var N2=ot(),d$=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.createdBySelf=!1,e}return q(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),this._mergeOption(e,i,!1,!0)},t.prototype.isAnimationEnabled=function(){if(ct.node)return!1;var e=this.__hostSeries;return this.getShallow("animation")&&e&&e.isAnimationEnabled()},t.prototype.mergeOption=function(e,r){this._mergeOption(e,r,!1,!1)},t.prototype._mergeOption=function(e,r,i,o){var u=this.mainType;i||r.eachSeries(function(c){var h=c.get(this.mainType,!0),d=N2(c)[u];h&&h.data?(d?d._mergeOption(h,r,!0):(o&&R2(h),F(h.data,function(p){p instanceof Array?(R2(p[0]),R2(p[1])):R2(p)}),J(d=this.createMarkerModelFromSeries(h,this,r),{mainType:this.mainType,seriesIndex:c.seriesIndex,name:c.name,createdBySelf:!0}),d.__hostSeries=c),N2(c)[u]=d):N2(c)[u]=null},this)},t.prototype.formatTooltip=function(e,r,i){var o=this.getData(),u=this.getRawValue(e),c=o.getName(e);return hn("section",{header:this.name,blocks:[hn("nameValue",{name:c,value:u,noName:!c,noValue:null==u})]})},t.prototype.getData=function(){return this._data},t.prototype.setData=function(e){this._data=e},t.getMarkerModelFromSeries=function(e,r){return N2(e)[r]},t.type="marker",t.dependencies=["series","grid","polar","geo"],t}(at);un(d$,_b.prototype);const id=d$;var qY=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markPoint",t.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},t}(id);const XY=qY;function J3(n){return!(isNaN(parseFloat(n.x))&&isNaN(parseFloat(n.y)))}function O2(n,t,e,r,i,o){var u=[],h=Ds(t,r)?t.getCalculationInfo("stackResultDimension"):r,d=tU(t,h,n),p=t.indicesOfNearest(h,d)[0];u[i]=t.get(e,p),u[o]=t.get(h,p);var g=t.get(r,p),m=ea(t.get(r,p));return(m=Math.min(m,20))>=0&&(u[o]=+u[o].toFixed(m)),[u,g]}var eU={min:Re(O2,"min"),max:Re(O2,"max"),average:Re(O2,"average"),median:Re(O2,"median")};function yT(n,t){if(t){var e=n.getData(),r=n.coordinateSystem,i=r&&r.dimensions;if(!function KY(n){return!isNaN(parseFloat(n.x))&&!isNaN(parseFloat(n.y))}(t)&&!te(t.coord)&&te(i)){var o=p$(t,e,r,n);if((t=Te(t)).type&&eU[t.type]&&o.baseAxis&&o.valueAxis){var u=Ge(i,o.baseAxis.dim),c=Ge(i,o.valueAxis.dim),h=eU[t.type](e,o.baseDataDim,o.valueDataDim,u,c);t.coord=h[0],t.value=h[1]}else t.coord=[null!=t.xAxis?t.xAxis:t.radiusAxis,null!=t.yAxis?t.yAxis:t.angleAxis]}if(null!=t.coord&&te(i))for(var d=t.coord,p=0;p<2;p++)eU[d[p]]&&(d[p]=tU(e,e.mapDimension(i[p]),d[p]));else t.coord=[];return t}}function p$(n,t,e,r){var i={};return null!=n.valueIndex||null!=n.valueDim?(i.valueDataDim=null!=n.valueIndex?t.getDimension(n.valueIndex):n.valueDim,i.valueAxis=e.getAxis(function QY(n,t){var e=n.getData().getDimensionInfo(t);return e&&e.coordDim}(r,i.valueDataDim)),i.baseAxis=e.getOtherAxis(i.valueAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim)):(i.baseAxis=r.getBaseAxis(),i.valueAxis=e.getOtherAxis(i.baseAxis),i.baseDataDim=t.mapDimension(i.baseAxis.dim),i.valueDataDim=t.mapDimension(i.valueAxis.dim)),i}function _T(n,t){return!(n&&n.containData&&t.coord&&!J3(t))||n.containData(t.coord)}function v$(n,t){return n?function(e,r,i,o){return hr(o<2?e.coord&&e.coord[o]:e.value,t[o])}:function(e,r,i,o){return hr(e.value,t[o])}}function tU(n,t,e){if("average"===e){var r=0,i=0;return n.each(t,function(o,u){isNaN(o)||(r+=o,i++)}),r/i}return"median"===e?n.getMedian(t):n.getDataExtent(t)["max"===e?1:0]}var nU=ot(),eZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.init=function(){this.markerGroupMap=ve()},t.prototype.render=function(e,r,i){var o=this,u=this.markerGroupMap;u.each(function(c){nU(c).keep=!1}),r.eachSeries(function(c){var h=id.getMarkerModelFromSeries(c,o.type);h&&o.renderSeries(c,h,r,i)}),u.each(function(c){!nU(c).keep&&o.group.remove(c.group)})},t.prototype.markKeep=function(e){nU(e).keep=!0},t.prototype.toggleBlurSeries=function(e,r){var i=this;F(e,function(o){var u=id.getMarkerModelFromSeries(o,i.type);u&&u.getData().eachItemGraphicEl(function(h){h&&(r?Gw(h):Am(h))})})},t.type="marker",t}(wt);const rU=eZ;function g$(n,t,e){var r=t.coordinateSystem;n.each(function(i){var u,o=n.getItemModel(i),c=le(o.get("x"),e.getWidth()),h=le(o.get("y"),e.getHeight());if(isNaN(c)||isNaN(h)){if(t.getMarkerPosition)u=t.getMarkerPosition(n.getValues(n.dimensions,i));else if(r){var d=n.get(r.dimensions[0],i),p=n.get(r.dimensions[1],i);u=r.dataToPoint([d,p])}}else u=[c,h];isNaN(c)||(u[0]=c),isNaN(h)||(u[1]=h),n.setItemLayout(i,u)})}var tZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(o){var u=id.getMarkerModelFromSeries(o,"markPoint");u&&(g$(u.getData(),o,i),this.markerGroupMap.get(o.id).updateLayout())},this)},t.prototype.renderSeries=function(e,r,i,o){var u=e.coordinateSystem,c=e.id,h=e.getData(),d=this.markerGroupMap,p=d.get(c)||d.set(c,new gv),g=function nZ(n,t,e){var r;r=n?re(n&&n.dimensions,function(c){return J(J({},t.getData().getDimensionInfo(t.getData().mapDimension(c))||{}),{name:c,ordinalMeta:null})}):[{name:"value",type:"float"}];var i=new on(r,e),o=re(e.get("data"),Re(yT,t));n&&(o=yt(o,Re(_T,n)));var u=v$(!!n,r);return i.initData(o,null,u),i}(u,e,r);r.setData(g),g$(r.getData(),e,o),g.each(function(m){var y=g.getItemModel(m),S=y.getShallow("symbol"),b=y.getShallow("symbolSize"),D=y.getShallow("symbolRotate"),C=y.getShallow("symbolOffset"),T=y.getShallow("symbolKeepAspect");if(_e(S)||_e(b)||_e(D)||_e(C)){var M=r.getRawValue(m),I=r.getDataParams(m);_e(S)&&(S=S(M,I)),_e(b)&&(b=b(M,I)),_e(D)&&(D=D(M,I)),_e(C)&&(C=C(M,I))}var L=y.getModel("itemStyle").getItemStyle(),E=Np(h,"color");L.fill||(L.fill=E),g.setItemVisual(m,{symbol:S,symbolSize:b,symbolRotate:D,symbolOffset:C,symbolKeepAspect:T,style:L})}),p.updateData(g),this.group.add(p.group),g.eachItemGraphicEl(function(m){m.traverse(function(y){Oe(y).dataModel=r})}),this.markKeep(p),p.group.silent=r.get("silent")||e.get("silent")},t.type="markPoint",t}(rU);const rZ=tZ;var aZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markLine",t.defaultOption={z:5,symbol:["circle","arrow"],symbolSize:[8,16],symbolOffset:0,precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"},t}(id);const oZ=aZ;var k2=ot(),sZ=function(n,t,e,r){var o,i=n.getData();if(te(r))o=r;else{var u=r.type;if("min"===u||"max"===u||"average"===u||"median"===u||null!=r.xAxis||null!=r.yAxis){var c=void 0,h=void 0;if(null!=r.yAxis||null!=r.xAxis)c=t.getAxis(null!=r.yAxis?"y":"x"),h=bt(r.yAxis,r.xAxis);else{var d=p$(r,i,t,n);c=d.valueAxis,h=tU(i,$D(i,d.valueDataDim),u)}var g="x"===c.dim?0:1,m=1-g,y=Te(r),S={coord:[]};y.type=null,y.coord=[],y.coord[m]=-1/0,S.coord[m]=1/0;var b=e.get("precision");b>=0&&ft(h)&&(h=+h.toFixed(Math.min(b,20))),y.coord[g]=S.coord[g]=h,o=[y,S,{type:u,valueIndex:r.valueIndex,value:h}]}else o=[]}var D=[yT(n,o[0]),yT(n,o[1]),J({},o[2])];return D[2].type=D[2].type||null,Ve(D[2],D[0]),Ve(D[2],D[1]),D};function F2(n){return!isNaN(n)&&!isFinite(n)}function m$(n,t,e,r){var i=1-n,o=r.dimensions[n];return F2(t[i])&&F2(e[i])&&t[n]===e[n]&&r.getAxis(o).containData(t[n])}function lZ(n,t){if("cartesian2d"===n.type){var e=t[0].coord,r=t[1].coord;if(e&&r&&(m$(1,e,r,n)||m$(0,e,r,n)))return!0}return _T(n,t[0])&&_T(n,t[1])}function iU(n,t,e,r,i){var c,o=r.coordinateSystem,u=n.getItemModel(t),h=le(u.get("x"),i.getWidth()),d=le(u.get("y"),i.getHeight());if(isNaN(h)||isNaN(d)){if(r.getMarkerPosition)c=r.getMarkerPosition(n.getValues(n.dimensions,t));else{var g=n.get((p=o.dimensions)[0],t),m=n.get(p[1],t);c=o.dataToPoint([g,m])}if(Th(o,"cartesian2d")){var p,y=o.getAxis("x"),S=o.getAxis("y");F2(n.get((p=o.dimensions)[0],t))?c[0]=y.toGlobalCoord(y.getExtent()[e?0:1]):F2(n.get(p[1],t))&&(c[1]=S.toGlobalCoord(S.getExtent()[e?0:1]))}isNaN(h)||(c[0]=h),isNaN(d)||(c[1]=d)}else c=[h,d];n.setItemLayout(t,c)}var uZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(o){var u=id.getMarkerModelFromSeries(o,"markLine");if(u){var c=u.getData(),h=k2(u).from,d=k2(u).to;h.each(function(p){iU(h,p,!0,o,i),iU(d,p,!1,o,i)}),c.each(function(p){c.setItemLayout(p,[h.getItemLayout(p),d.getItemLayout(p)])}),this.markerGroupMap.get(o.id).updateLayout()}},this)},t.prototype.renderSeries=function(e,r,i,o){var u=e.coordinateSystem,c=e.id,h=e.getData(),d=this.markerGroupMap,p=d.get(c)||d.set(c,new jh);this.group.add(p.group);var g=function cZ(n,t,e){var r;r=n?re(n&&n.dimensions,function(d){return J(J({},t.getData().getDimensionInfo(t.getData().mapDimension(d))||{}),{name:d,ordinalMeta:null})}):[{name:"value",type:"float"}];var i=new on(r,e),o=new on(r,e),u=new on([],e),c=re(e.get("data"),Re(sZ,t,n,e));n&&(c=yt(c,Re(lZ,n)));var h=v$(!!n,r);return i.initData(re(c,function(d){return d[0]}),null,h),o.initData(re(c,function(d){return d[1]}),null,h),u.initData(re(c,function(d){return d[2]})),u.hasItemOption=!0,{from:i,to:o,line:u}}(u,e,r),m=g.from,y=g.to,S=g.line;k2(r).from=m,k2(r).to=y,r.setData(S);var b=r.get("symbol"),D=r.get("symbolSize"),C=r.get("symbolRotate"),T=r.get("symbolOffset");function M(I,L,E){var R=I.getItemModel(L);iU(I,L,E,e,o);var O=R.getModel("itemStyle").getItemStyle();null==O.fill&&(O.fill=Np(h,"color")),I.setItemVisual(L,{symbolKeepAspect:R.get("symbolKeepAspect"),symbolOffset:ke(R.get("symbolOffset",!0),T[E?0:1]),symbolRotate:ke(R.get("symbolRotate",!0),C[E?0:1]),symbolSize:ke(R.get("symbolSize"),D[E?0:1]),symbol:ke(R.get("symbol",!0),b[E?0:1]),style:O})}te(b)||(b=[b,b]),te(D)||(D=[D,D]),te(C)||(C=[C,C]),te(T)||(T=[T,T]),g.from.each(function(I){M(m,I,!0),M(y,I,!1)}),S.each(function(I){var L=S.getItemModel(I).getModel("lineStyle").getLineStyle();S.setItemLayout(I,[m.getItemLayout(I),y.getItemLayout(I)]),null==L.stroke&&(L.stroke=m.getItemVisual(I,"style").fill),S.setItemVisual(I,{fromSymbolKeepAspect:m.getItemVisual(I,"symbolKeepAspect"),fromSymbolOffset:m.getItemVisual(I,"symbolOffset"),fromSymbolRotate:m.getItemVisual(I,"symbolRotate"),fromSymbolSize:m.getItemVisual(I,"symbolSize"),fromSymbol:m.getItemVisual(I,"symbol"),toSymbolKeepAspect:y.getItemVisual(I,"symbolKeepAspect"),toSymbolOffset:y.getItemVisual(I,"symbolOffset"),toSymbolRotate:y.getItemVisual(I,"symbolRotate"),toSymbolSize:y.getItemVisual(I,"symbolSize"),toSymbol:y.getItemVisual(I,"symbol"),style:L})}),p.updateData(S),g.line.eachItemGraphicEl(function(I){Oe(I).dataModel=r,I.traverse(function(L){Oe(L).dataModel=r})}),this.markKeep(p),p.group.silent=r.get("silent")||e.get("silent")},t.type="markLine",t}(rU);const fZ=uZ;var dZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.createMarkerModelFromSeries=function(e,r,i){return new t(e,r,i)},t.type="markArea",t.defaultOption={z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}},t}(id);const pZ=dZ;var V2=ot(),vZ=function(n,t,e,r){var i=r[0],o=r[1];if(i&&o){var u=yT(n,i),c=yT(n,o),h=u.coord,d=c.coord;h[0]=bt(h[0],-1/0),h[1]=bt(h[1],-1/0),d[0]=bt(d[0],1/0),d[1]=bt(d[1],1/0);var p=Pg([{},u,c]);return p.coord=[u.coord,c.coord],p.x0=u.x,p.y0=u.y,p.x1=c.x,p.y1=c.y,p}};function B2(n){return!isNaN(n)&&!isFinite(n)}function y$(n,t,e,r){var i=1-n;return B2(t[i])&&B2(e[i])}function gZ(n,t){var e=t.coord[0],r=t.coord[1],i={coord:e,x:t.x0,y:t.y0},o={coord:r,x:t.x1,y:t.y1};return Th(n,"cartesian2d")?!(!e||!r||!y$(1,e,r)&&!y$(0,e,r))||function JY(n,t,e){return!(n&&n.containZone&&t.coord&&e.coord&&!J3(t)&&!J3(e))||n.containZone(t.coord,e.coord)}(n,i,o):_T(n,i)||_T(n,o)}function _$(n,t,e,r,i){var c,o=r.coordinateSystem,u=n.getItemModel(t),h=le(u.get(e[0]),i.getWidth()),d=le(u.get(e[1]),i.getHeight());if(isNaN(h)||isNaN(d)){if(r.getMarkerPosition){var p=n.getValues(["x0","y0"],t),g=n.getValues(["x1","y1"],t),m=o.clampData(p),y=o.clampData(g),S=[];S[0]="x0"===e[0]?m[0]>y[0]?g[0]:p[0]:m[0]>y[0]?p[0]:g[0],S[1]="y0"===e[1]?m[1]>y[1]?g[1]:p[1]:m[1]>y[1]?p[1]:g[1],c=r.getMarkerPosition(S,e,!0)}else{var C=[b=n.get(e[0],t),D=n.get(e[1],t)];o.clampData&&o.clampData(C,C),c=o.dataToPoint(C,!0)}if(Th(o,"cartesian2d")){var T=o.getAxis("x"),M=o.getAxis("y"),b=n.get(e[0],t),D=n.get(e[1],t);B2(b)?c[0]=T.toGlobalCoord(T.getExtent()["x0"===e[0]?0:1]):B2(D)&&(c[1]=M.toGlobalCoord(M.getExtent()["y0"===e[1]?0:1]))}isNaN(h)||(c[0]=h),isNaN(d)||(c[1]=d)}else c=[h,d];return c}var S$=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]],mZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.updateTransform=function(e,r,i){r.eachSeries(function(o){var u=id.getMarkerModelFromSeries(o,"markArea");if(u){var c=u.getData();c.each(function(h){var d=re(S$,function(g){return _$(c,h,g,o,i)});c.setItemLayout(h,d),c.getItemGraphicEl(h).setShape("points",d)})}},this)},t.prototype.renderSeries=function(e,r,i,o){var u=e.coordinateSystem,c=e.id,h=e.getData(),d=this.markerGroupMap,p=d.get(c)||d.set(c,{group:new Ee});this.group.add(p.group),this.markKeep(p);var g=function yZ(n,t,e){var r,i;if(n){var u=re(n&&n.dimensions,function(d){var p=t.getData();return J(J({},p.getDimensionInfo(p.mapDimension(d))||{}),{name:d,ordinalMeta:null})});i=re(["x0","y0","x1","y1"],function(d,p){return{name:d,type:u[p%2].type}}),r=new on(i,e)}else r=new on(i=[{name:"value",type:"float"}],e);var c=re(e.get("data"),Re(vZ,t,n,e));n&&(c=yt(c,Re(gZ,n)));var h=n?function(d,p,g,m){return hr(d.coord[Math.floor(m/2)][m%2],i[m])}:function(d,p,g,m){return hr(d.value,i[m])};return r.initData(c,null,h),r.hasItemOption=!0,r}(u,e,r);r.setData(g),g.each(function(m){var y=re(S$,function(O){return _$(g,m,O,e,o)}),S=u.getAxis("x").scale,b=u.getAxis("y").scale,D=S.getExtent(),C=b.getExtent(),T=[S.parse(g.get("x0",m)),S.parse(g.get("x1",m))],M=[b.parse(g.get("y0",m)),b.parse(g.get("y1",m))];si(T),si(M),g.setItemLayout(m,{points:y,allClipped:!!(D[0]>T[1]||D[1]<T[0]||C[0]>M[1]||C[1]<M[0])});var E=g.getItemModel(m).getModel("itemStyle").getItemStyle(),R=Np(h,"color");E.fill||(E.fill=R,fe(E.fill)&&(E.fill=Gg(E.fill,.4))),E.stroke||(E.stroke=R),g.setItemVisual(m,"style",E)}),g.diff(V2(p).data).add(function(m){var y=g.getItemLayout(m);if(!y.allClipped){var S=new dr({shape:{points:y.points}});g.setItemGraphicEl(m,S),p.group.add(S)}}).update(function(m,y){var S=V2(p).data.getItemGraphicEl(y),b=g.getItemLayout(m);b.allClipped?S&&p.group.remove(S):(S?dt(S,{shape:{points:b.points}},r,m):S=new dr({shape:{points:b.points}}),g.setItemGraphicEl(m,S),p.group.add(S))}).remove(function(m){var y=V2(p).data.getItemGraphicEl(m);p.group.remove(y)}).execute(),g.eachItemGraphicEl(function(m,y){var S=g.getItemModel(y),b=g.getItemVisual(y,"style");m.useStyle(g.getItemVisual(y,"style")),xr(m,qn(S),{labelFetcher:r,labelDataIndex:y,defaultText:g.getName(y)||"",inheritColor:fe(b.fill)?Gg(b.fill,1):"#000"}),lr(m,S),nn(m,null,null,S.get(["emphasis","disabled"])),Oe(m).dataModel=r}),V2(p).data=g,p.group.silent=r.get("silent")||e.get("silent")},t.type="markArea",t}(rU);const _Z=mZ;var bZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.layoutMode={type:"box",ignoreSize:!0},e}return q(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),this._updateSelector(e)},t.prototype._updateSelector=function(e){var r=e.selector,i=this.ecModel;!0===r&&(r=e.selector=["all","inverse"]),te(r)&&F(r,function(o,u){fe(o)&&(o={type:o}),r[u]=Ve(o,function(n,t){return"all"===t?{type:"all",title:n.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:n.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,o.type))})},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var r=!1,i=0;i<e.length;i++){var o=e[i].get("name");if(this.isSelected(o)){this.select(o),r=!0;break}}!r&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var r=[],i=[];e.eachRawSeries(function(h){var p;if(i.push(h.name),h.legendVisualProvider){var m=h.legendVisualProvider.getAllNames();e.isSeriesFiltered(h)||(i=i.concat(m)),m.length?r=r.concat(m):p=!0}else p=!0;p&&kM(h)&&r.push(h.name)}),this._availableNames=i;var o=this.get("data")||r,u=ve(),c=re(o,function(h){return(fe(h)||ft(h))&&(h={name:h}),u.get(h.name)?null:(u.set(h.name,!0),new Rt(h,this,this.ecModel))},this);this._data=yt(c,function(h){return!!h})},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var r=this.option.selected;"single"===this.get("selectedMode")&&F(this._data,function(u){r[u.get("name")]=!1}),r[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var r=this.option.selected;r.hasOwnProperty(e)||(r[e]=!0),this[r[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var r=this.option.selected;F(this._data,function(i){r[i.get("name",!0)]=!0})},t.prototype.inverseSelect=function(){var r=this.option.selected;F(this._data,function(i){var o=i.get("name",!0);r.hasOwnProperty(o)||(r[o]=!0),r[o]=!r[o]})},t.prototype.isSelected=function(e){var r=this.option.selected;return!(r.hasOwnProperty(e)&&!r[e])&&Ge(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(at);const aU=bZ;var j_=Re,oU=F,z2=Ee,DZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!1,e}return q(t,n),t.prototype.init=function(){this.group.add(this._contentGroup=new z2),this.group.add(this._selectorGroup=new z2),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,r,i){var o=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var u=e.get("align"),c=e.get("orient");(!u||"auto"===u)&&(u="right"===e.get("left")&&"vertical"===c?"right":"left");var h=e.get("selector",!0),d=e.get("selectorPosition",!0);h&&(!d||"auto"===d)&&(d="horizontal"===c?"end":"start"),this.renderInner(u,e,r,i,h,c,d);var p=e.getBoxLayoutParams(),g={width:i.getWidth(),height:i.getHeight()},m=e.get("padding"),y=An(p,g,m),S=this.layoutInner(e,u,y,o,h,d),b=An(De({width:S.width,height:S.height},p),g,m);this.group.x=b.x-S.x,this.group.y=b.y-S.y,this.group.markRedraw(),this.group.add(this._backgroundEl=I8(S,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,r,i,o,u,c,h){var d=this.getContentGroup(),p=ve(),g=r.get("selectedMode"),m=[];i.eachRawSeries(function(y){!y.get("legendHoverLink")&&m.push(y.id)}),oU(r.getData(),function(y,S){var b=y.get("name");if(!this.newlineDisabled&&(""===b||"\n"===b)){var D=new z2;return D.newline=!0,void d.add(D)}var C=i.getSeriesByName(b)[0];if(!p.get(b))if(C){var T=C.getData(),M=T.getVisual("legendLineStyle")||{},I=T.getVisual("legendIcon"),L=T.getVisual("style");this._createItem(C,b,S,y,r,e,M,L,I,g,o).on("click",j_(w$,b,null,o,m)).on("mouseover",j_(sU,C.name,null,o,m)).on("mouseout",j_(lU,C.name,null,o,m)),p.set(b,!0)}else i.eachRawSeries(function(R){if(!p.get(b)&&R.legendVisualProvider){var O=R.legendVisualProvider;if(!O.containName(b))return;var k=O.indexOfName(b),V=O.getItemVisual(k,"style"),B=O.getItemVisual(k,"legendIcon"),H=rr(V.fill);H&&0===H[3]&&(H[3]=.2,V=J(J({},V),{fill:so(H,"rgba")})),this._createItem(R,b,S,y,r,e,{},V,B,g,o).on("click",j_(w$,null,b,o,m)).on("mouseover",j_(sU,null,b,o,m)).on("mouseout",j_(lU,null,b,o,m)),p.set(b,!0)}},this)},this),u&&this._createSelector(u,r,o,c,h)},t.prototype._createSelector=function(e,r,i,o,u){var c=this.getSelectorGroup();oU(e,function(d){var p=d.type,g=new rt({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===p?"legendAllSelect":"legendInverseSelect"})}});c.add(g),xr(g,{normal:r.getModel("selectorLabel"),emphasis:r.getModel(["emphasis","selectorLabel"])},{defaultText:d.title}),ts(g)})},t.prototype._createItem=function(e,r,i,o,u,c,h,d,p,g,m){var y=e.visualDrawType,S=u.get("itemWidth"),b=u.get("itemHeight"),D=u.isSelected(r),C=o.get("symbolRotate"),T=o.get("symbolKeepAspect"),M=o.get("icon"),I=function CZ(n,t,e,r,i,o,u){function c(D,C){"auto"===D.lineWidth&&(D.lineWidth=C.lineWidth>0?2:0),oU(D,function(T,M){"inherit"===D[M]&&(D[M]=C[M])})}var h=t.getModel("itemStyle"),d=h.getItemStyle(),p=0===n.lastIndexOf("empty",0)?"fill":"stroke",g=h.getShallow("decal");d.decal=g&&"inherit"!==g?_s(g,u):r.decal,"inherit"===d.fill&&(d.fill=r[i]),"inherit"===d.stroke&&(d.stroke=r[p]),"inherit"===d.opacity&&(d.opacity=("fill"===i?r:e).opacity),c(d,r);var m=t.getModel("lineStyle"),y=m.getLineStyle();if(c(y,e),"auto"===d.fill&&(d.fill=r.fill),"auto"===d.stroke&&(d.stroke=r.fill),"auto"===y.stroke&&(y.stroke=r.fill),!o){var S=t.get("inactiveBorderWidth");d.lineWidth="auto"===S?r.lineWidth>0&&d[p]?2:0:d.lineWidth,d.fill=t.get("inactiveColor"),d.stroke=t.get("inactiveBorderColor"),y.stroke=m.get("inactiveColor"),y.lineWidth=m.get("inactiveWidth")}return{itemStyle:d,lineStyle:y}}(p=M||p||"roundRect",o,h,d,y,D,m),L=new z2,E=o.getModel("textStyle");if(!_e(e.getLegendIcon)||M&&"inherit"!==M){var R="inherit"===M&&e.getData().getVisual("symbol")?"inherit"===C?e.getData().getVisual("symbolRotate"):C:0;L.add(function xZ(n){var t=n.icon||"roundRect",e=dn(t,0,0,n.itemWidth,n.itemHeight,n.itemStyle.fill,n.symbolKeepAspect);return e.setStyle(n.itemStyle),e.rotation=(n.iconRotate||0)*Math.PI/180,e.setOrigin([n.itemWidth/2,n.itemHeight/2]),t.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}({itemWidth:S,itemHeight:b,icon:p,iconRotate:R,itemStyle:I.itemStyle,lineStyle:I.lineStyle,symbolKeepAspect:T}))}else L.add(e.getLegendIcon({itemWidth:S,itemHeight:b,icon:p,iconRotate:C,itemStyle:I.itemStyle,lineStyle:I.lineStyle,symbolKeepAspect:T}));var O="left"===c?S+5:-5,k=c,V=u.get("formatter"),B=r;fe(V)&&V?B=V.replace("{name}",r??""):_e(V)&&(B=V(r));var H=D?E.getTextColor():o.get("inactiveColor");L.add(new rt({style:Et(E,{text:B,x:O,y:b/2,fill:H,align:k,verticalAlign:"middle"},{inheritColor:H})}));var G=new st({shape:L.getBoundingRect(),invisible:!0}),j=o.getModel("tooltip");return j.get("show")&&nh({el:G,componentModel:u,itemName:r,itemTooltipOption:j.option}),L.add(G),L.eachChild(function(W){W.silent=!0}),G.silent=!g,this.getContentGroup().add(L),ts(L),L.__legendDataIndex=i,L},t.prototype.layoutInner=function(e,r,i,o,u,c){var h=this.getContentGroup(),d=this.getSelectorGroup();Sl(e.get("orient"),h,e.get("itemGap"),i.width,i.height);var p=h.getBoundingRect(),g=[-p.x,-p.y];if(d.markRedraw(),h.markRedraw(),u){Sl("horizontal",d,e.get("selectorItemGap",!0));var m=d.getBoundingRect(),y=[-m.x,-m.y],S=e.get("selectorButtonGap",!0),b=e.getOrient().index,D=0===b?"width":"height",C=0===b?"height":"width",T=0===b?"y":"x";"end"===c?y[b]+=p[D]+S:g[b]+=m[D]+S,y[1-b]+=p[C]/2-m[C]/2,d.x=y[0],d.y=y[1],h.x=g[0],h.y=g[1];var M={x:0,y:0};return M[D]=p[D]+S+m[D],M[C]=Math.max(p[C],m[C]),M[T]=Math.min(0,m[T]+y[1-b]),M}return h.x=g[0],h.y=g[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(wt);function w$(n,t,e,r){lU(n,t,e,r),e.dispatchAction({type:"legendToggleSelect",name:n??t}),sU(n,t,e,r)}function b$(n){for(var e,t=n.getZr().storage.getDisplayList(),r=0,i=t.length;r<i&&!(e=t[r].states.emphasis);)r++;return e&&e.hoverLayer}function sU(n,t,e,r){b$(e)||e.dispatchAction({type:"highlight",seriesName:n,name:t,excludeSeriesId:r})}function lU(n,t,e,r){b$(e)||e.dispatchAction({type:"downplay",seriesName:n,name:t,excludeSeriesId:r})}const D$=DZ;function TZ(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(e){for(var r=0;r<t.length;r++)if(!t[r].isSelected(e.name))return!1;return!0})}function ST(n,t,e){var o,r={},i="toggleSelected"===n;return e.eachComponent("legend",function(u){i&&null!=o?u[o?"select":"unSelect"](t.name):"allSelect"===n||"inverseSelect"===n?u[n]():(u[n](t.name),o=u.isSelected(t.name)),F(u.getData(),function(h){var d=h.get("name");if("\n"!==d&&""!==d){var p=u.isSelected(d);r[d]=r.hasOwnProperty(d)?r[d]&&p:p}})}),"allSelect"===n||"inverseSelect"===n?{selected:r}:{name:t.name,selected:r}}function C$(n){n.registerComponentModel(aU),n.registerComponentView(D$),n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER,TZ),n.registerSubTypeDefaulter("legend",function(){return"plain"}),function MZ(n){n.registerAction("legendToggleSelect","legendselectchanged",Re(ST,"toggleSelected")),n.registerAction("legendAllSelect","legendselectall",Re(ST,"allSelect")),n.registerAction("legendInverseSelect","legendinverseselect",Re(ST,"inverseSelect")),n.registerAction("legendSelect","legendselected",Re(ST,"select")),n.registerAction("legendUnSelect","legendunselected",Re(ST,"unSelect"))}(n)}var AZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(e,r,i){var o=wl(e);n.prototype.init.call(this,e,r,i),x$(this,e,o)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),x$(this,this.option,e)},t.type="legend.scroll",t.defaultOption=ns(aU.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(aU);function x$(n,t,e){var i=[1,1];i[n.getOrient().index]=0,as(t,e,{type:"box",ignoreSize:!!i})}const IZ=AZ;var T$=Ee,uU=["width","height"],cU=["x","y"],EZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.newlineDisabled=!0,e._currentIndex=0,e}return q(t,n),t.prototype.init=function(){n.prototype.init.call(this),this.group.add(this._containerGroup=new T$),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new T$)},t.prototype.resetInner=function(){n.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(e,r,i,o,u,c,h){var d=this;n.prototype.renderInner.call(this,e,r,i,o,u,c,h);var p=this._controllerGroup,g=r.get("pageIconSize",!0),m=te(g)?g:[g,g];S("pagePrev",0);var y=r.getModel("pageTextStyle");function S(b,D){var C=b+"DataIndex",T=Rl(r.get("pageIcons",!0)[r.getOrient().name][D],{onclick:de(d._pageGo,d,C,r,o)},{x:-m[0]/2,y:-m[1]/2,width:m[0],height:m[1]});T.name=b,p.add(T)}p.add(new rt({name:"pageText",style:{text:"xx/xx",fill:y.getTextColor(),font:y.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),S("pageNext",1)},t.prototype.layoutInner=function(e,r,i,o,u,c){var h=this.getSelectorGroup(),d=e.getOrient().index,p=uU[d],g=cU[d],m=uU[1-d],y=cU[1-d];u&&Sl("horizontal",h,e.get("selectorItemGap",!0));var S=e.get("selectorButtonGap",!0),b=h.getBoundingRect(),D=[-b.x,-b.y],C=Te(i);u&&(C[p]=i[p]-b[p]-S);var T=this._layoutContentAndController(e,o,C,d,p,m,y,g);if(u){if("end"===c)D[d]+=T[p]+S;else{var M=b[p]+S;D[d]-=M,T[g]-=M}T[p]+=b[p]+S,D[1-d]+=T[y]+T[m]/2-b[m]/2,T[m]=Math.max(T[m],b[m]),T[y]=Math.min(T[y],b[y]+D[1-d]),h.x=D[0],h.y=D[1],h.markRedraw()}return T},t.prototype._layoutContentAndController=function(e,r,i,o,u,c,h,d){var p=this.getContentGroup(),g=this._containerGroup,m=this._controllerGroup;Sl(e.get("orient"),p,e.get("itemGap"),o?i.width:null,o?null:i.height),Sl("horizontal",m,e.get("pageButtonItemGap",!0));var y=p.getBoundingRect(),S=m.getBoundingRect(),b=this._showController=y[u]>i[u],D=[-y.x,-y.y];r||(D[o]=p[d]);var C=[0,0],T=[-S.x,-S.y],M=ke(e.get("pageButtonGap",!0),e.get("itemGap",!0));b&&("end"===e.get("pageButtonPosition",!0)?T[o]+=i[u]-S[u]:C[o]+=S[u]+M),T[1-o]+=y[c]/2-S[c]/2,p.setPosition(D),g.setPosition(C),m.setPosition(T);var L={x:0,y:0};if(L[u]=b?i[u]:y[u],L[c]=Math.max(y[c],S[c]),L[h]=Math.min(0,S[h]+T[1-o]),g.__rectSize=i[u],b){var E={x:0,y:0};E[u]=Math.max(i[u]-S[u]-M,0),E[c]=L[c],g.setClipPath(new st({shape:E})),g.__rectSize=E[u]}else m.eachChild(function(O){O.attr({invisible:!0,silent:!0})});var R=this._getPageInfo(e);return null!=R.pageIndex&&dt(p,{x:R.contentPosition[0],y:R.contentPosition[1]},b?e:null),this._updatePageInfoView(e,R),L},t.prototype._pageGo=function(e,r,i){var o=this._getPageInfo(r)[e];null!=o&&i.dispatchAction({type:"legendScroll",scrollDataIndex:o,legendId:r.id})},t.prototype._updatePageInfoView=function(e,r){var i=this._controllerGroup;F(["pagePrev","pageNext"],function(p){var m=null!=r[p+"DataIndex"],y=i.childOfName(p);y&&(y.setStyle("fill",e.get(m?"pageIconColor":"pageIconInactiveColor",!0)),y.cursor=m?"pointer":"default")});var o=i.childOfName("pageText"),u=e.get("pageFormatter"),c=r.pageIndex,h=null!=c?c+1:0,d=r.pageCount;o&&u&&o.setStyle("text",fe(u)?u.replace("{current}",null==h?"":h+"").replace("{total}",null==d?"":d+""):u({current:h,total:d}))},t.prototype._getPageInfo=function(e){var r=e.get("scrollDataIndex",!0),i=this.getContentGroup(),o=this._containerGroup.__rectSize,u=e.getOrient().index,c=uU[u],h=cU[u],d=this._findTargetItemIndex(r),p=i.children(),g=p[d],m=p.length,y=m?1:0,S={contentPosition:[i.x,i.y],pageCount:y,pageIndex:y-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return S;var b=I(g);S.contentPosition[u]=-b.s;for(var D=d+1,C=b,T=b,M=null;D<=m;++D)(!(M=I(p[D]))&&T.e>C.s+o||M&&!L(M,C.s))&&(C=T.i>C.i?T:M)&&(null==S.pageNextDataIndex&&(S.pageNextDataIndex=C.i),++S.pageCount),T=M;for(D=d-1,C=b,T=b,M=null;D>=-1;--D)(!(M=I(p[D]))||!L(T,M.s))&&C.i<T.i&&(T=C,null==S.pagePrevDataIndex&&(S.pagePrevDataIndex=C.i),++S.pageCount,++S.pageIndex),C=M;return S;function I(E){if(E){var R=E.getBoundingRect(),O=R[h]+E[h];return{s:O,e:O+R[c],i:E.__legendDataIndex}}}function L(E,R){return E.e>=R&&E.s<=R+o}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild(function(u,c){var h=u.__legendDataIndex;null==o&&null!=h&&(o=c),h===e&&(r=c)}),r??o):0;var r,o},t.type="legend.scroll",t}(D$);const PZ=EZ;function RZ(n){$e(C$),n.registerComponentModel(IZ),n.registerComponentView(PZ),function LZ(n){n.registerAction("legendScroll","legendscroll",function(t,e){var r=t.scrollDataIndex;null!=r&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(i){i.setScrollDataIndex(r)})})}(n)}var OZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="dataZoom.inside",t.defaultOption=ns(vT.defaultOption,{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),t}(vT);const kZ=OZ;var fU=ot();function M$(n,t){if(t){n.removeKey(t.model.uid);var e=t.controller;e&&e.dispose()}}function zZ(n,t){n.isDisposed()||n.dispatchAction({type:"dataZoom",animation:{easing:"cubicOut",duration:100},batch:t})}function HZ(n,t,e,r){return n.coordinateSystem.containPoint([e,r])}var jZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataZoom.inside",e}return q(t,n),t.prototype.render=function(e,r,i){n.prototype.render.apply(this,arguments),e.noTarget()?this._clear():(this.range=e.getPercentRange(),function FZ(n,t,e){fU(n).coordSysRecordMap.each(function(r){var i=r.dataZoomInfoMap.get(t.uid);i&&(i.getRange=e)})}(i,e,{pan:de(hU.pan,this),zoom:de(hU.zoom,this),scrollMove:de(hU.scrollMove,this)}))},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){(function VZ(n,t){for(var e=fU(n).coordSysRecordMap,r=e.keys(),i=0;i<r.length;i++){var u=e.get(r[i]),c=u.dataZoomInfoMap;if(c){var h=t.uid;c.get(h)&&(c.removeKey(h),c.keys().length||M$(e,u))}}})(this.api,this.dataZoomModel),this.range=null},t.type="dataZoom.inside",t}(V3),hU={zoom:function(n,t,e,r){var i=this.range,o=i.slice(),u=n.axisModels[0];if(u){var c=dU[t](null,[r.originX,r.originY],u,e,n),h=(c.signal>0?c.pixelStart+c.pixelLength-c.pixel:c.pixel-c.pixelStart)/c.pixelLength*(o[1]-o[0])+o[0],d=Math.max(1/r.scale,0);o[0]=(o[0]-h)*d+h,o[1]=(o[1]-h)*d+h;var p=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();if(Ic(0,o,[0,100],0,p.minSpan,p.maxSpan),this.range=o,i[0]!==o[0]||i[1]!==o[1])return o}},pan:A$(function(n,t,e,r,i,o){var u=dU[r]([o.oldX,o.oldY],[o.newX,o.newY],t,i,e);return u.signal*(n[1]-n[0])*u.pixel/u.pixelLength}),scrollMove:A$(function(n,t,e,r,i,o){return dU[r]([0,0],[o.scrollDelta,o.scrollDelta],t,i,e).signal*(n[1]-n[0])*o.scrollDelta})};function A$(n){return function(t,e,r,i){var o=this.range,u=o.slice(),c=t.axisModels[0];if(c&&(Ic(n(u,c,t,e,r,i),u,[0,100],"all"),this.range=u,o[0]!==u[0]||o[1]!==u[1]))return u}}var dU={grid:function(n,t,e,r,i){var o=e.axis,u={},c=i.model.coordinateSystem.getRect();return n=n||[0,0],"x"===o.dim?(u.pixel=t[0]-n[0],u.pixelLength=c.width,u.pixelStart=c.x,u.signal=o.inverse?1:-1):(u.pixel=t[1]-n[1],u.pixelLength=c.height,u.pixelStart=c.y,u.signal=o.inverse?-1:1),u},polar:function(n,t,e,r,i){var o=e.axis,u={},c=i.model.coordinateSystem,h=c.getRadiusAxis().getExtent(),d=c.getAngleAxis().getExtent();return n=n?c.pointToCoord(n):[0,0],t=c.pointToCoord(t),"radiusAxis"===e.mainType?(u.pixel=t[0]-n[0],u.pixelLength=h[1]-h[0],u.pixelStart=h[0],u.signal=o.inverse?1:-1):(u.pixel=t[1]-n[1],u.pixelLength=d[1]-d[0],u.pixelStart=d[0],u.signal=o.inverse?-1:1),u},singleAxis:function(n,t,e,r,i){var o=e.axis,u=i.model.coordinateSystem.getRect(),c={};return n=n||[0,0],"horizontal"===o.orient?(c.pixel=t[0]-n[0],c.pixelLength=u.width,c.pixelStart=u.x,c.signal=o.inverse?1:-1):(c.pixel=t[1]-n[1],c.pixelLength=u.height,c.pixelStart=u.y,c.signal=o.inverse?-1:1),c}};const WZ=jZ;function I$(n){B3(n),n.registerComponentModel(kZ),n.registerComponentView(WZ),function UZ(n){n.registerProcessor(n.PRIORITY.PROCESSOR.FILTER,function(t,e){var r=fU(e),i=r.coordSysRecordMap||(r.coordSysRecordMap=ve());i.each(function(o){o.dataZoomInfoMap=null}),t.eachComponent({mainType:"dataZoom",subType:"inside"},function(o){F(D8(o).infoList,function(c){var h=c.model.uid,d=i.get(h)||i.set(h,function BZ(n,t){var e={model:t,containsPoint:Re(HZ,t),dispatchAction:Re(zZ,n),dataZoomInfoMap:null,controller:null},r=e.controller=new k0(n.getZr());return F(["pan","zoom","scrollMove"],function(i){r.on(i,function(o){var u=[];e.dataZoomInfoMap.each(function(c){if(o.isAvailableBehavior(c.model.option)){var h=(c.getRange||{})[i],d=h&&h(c.dzReferCoordSysInfo,e.model.mainType,e.controller,o);!c.model.get("disabled",!0)&&d&&u.push({dataZoomId:c.model.id,start:d[0],end:d[1]})}}),u.length&&e.dispatchAction(u)})}),e}(e,c.model));(d.dataZoomInfoMap||(d.dataZoomInfoMap=ve())).set(o.uid,{dzReferCoordSysInfo:c,model:o,getRange:null})})}),i.each(function(o){var c,u=o.controller,h=o.dataZoomInfoMap;if(h){var d=h.keys()[0];null!=d&&(c=h.get(d))}if(c){var p=function GZ(n){var t,e="type_",r={type_true:2,type_move:1,type_false:0,type_undefined:-1},i=!0;return n.each(function(o){var u=o.model,c=!u.get("disabled",!0)&&(!u.get("zoomLock",!0)||"move");r[e+c]>r[e+t]&&(t=c),i=i&&u.get("preventDefaultMouseMove",!0)}),{controlType:t,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!i}}}(h);u.enable(p.controlType,p.opt),u.setPointerChecker(o.containsPoint),rh(o,"dispatchAction",c.model.get("throttle",!0),"fixRate")}else M$(i,o)})})}(n)}var $Z=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.type="dataZoom.slider",t.layoutMode="box",t.defaultOption=ns(vT.defaultOption,{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,borderColor:"#d2dbee",borderRadius:3,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#d2dbee",width:.5},areaStyle:{color:"#d2dbee",opacity:.2}},selectedDataBackground:{lineStyle:{color:"#8fb0f7",width:.5},areaStyle:{color:"#8fb0f7",opacity:.2}},fillerColor:"rgba(135,175,274,0.2)",handleIcon:"path://M-9.35,34.56V42m0-40V9.5m-2,0h4a2,2,0,0,1,2,2v21a2,2,0,0,1-2,2h-4a2,2,0,0,1-2-2v-21A2,2,0,0,1-11.35,9.5Z",handleSize:"100%",handleStyle:{color:"#fff",borderColor:"#ACB8D1"},moveHandleSize:7,moveHandleIcon:"path://M-320.9-50L-320.9-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-348-41-339-50-320.9-50z M-212.3-50L-212.3-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-239.4-41-230.4-50-212.3-50z M-103.7-50L-103.7-50c18.1,0,27.1,9,27.1,27.1V85.7c0,18.1-9,27.1-27.1,27.1l0,0c-18.1,0-27.1-9-27.1-27.1V-22.9C-130.9-41-121.8-50-103.7-50z",moveHandleStyle:{color:"#D2DBEE",opacity:.7},showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#6E7079"},brushSelect:!0,brushStyle:{color:"rgba(135,175,274,0.15)"},emphasis:{handleStyle:{borderColor:"#8FB0F7"},moveHandleStyle:{color:"#8FB0F7"}}}),t}(vT);const YZ=$Z;var wT=st,bT="horizontal",P$="vertical",KZ=["line","bar","candlestick","scatter"],QZ={easing:"cubicOut",duration:100,delay:0},JZ=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._displayables={},e}return q(t,n),t.prototype.init=function(e,r){this.api=r,this._onBrush=de(this._onBrush,this),this._onBrushEnd=de(this._onBrushEnd,this)},t.prototype.render=function(e,r,i,o){if(n.prototype.render.apply(this,arguments),rh(this,"_dispatchZoomAction",e.get("throttle"),"fixRate"),this._orient=e.getOrient(),!1!==e.get("show"))return e.noTarget()?(this._clear(),void this.group.removeAll()):((!o||"dataZoom"!==o.type||o.from!==this.uid)&&this._buildView(),void this._updateView());this.group.removeAll()},t.prototype.dispose=function(){this._clear(),n.prototype.dispose.apply(this,arguments)},t.prototype._clear=function(){ih(this,"_dispatchZoomAction");var e=this.api.getZr();e.off("mousemove",this._onBrush),e.off("mouseup",this._onBrushEnd)},t.prototype._buildView=function(){var e=this.group;e.removeAll(),this._brushing=!1,this._displayables.brushRect=null,this._resetLocation(),this._resetInterval();var r=this._displayables.sliderGroup=new Ee;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),e.add(r),this._positionGroup()},t.prototype._resetLocation=function(){var e=this.dataZoomModel,r=this.api,o=e.get("brushSelect")?7:0,u=this._findCoordRect(),c={width:r.getWidth(),height:r.getHeight()},h=this._orient===bT?{right:c.width-u.x-u.width,top:c.height-30-7-o,width:u.width,height:30}:{right:7,top:u.y,width:30,height:u.height},d=wl(e.option);F(["right","top","width","height"],function(g){"ph"===d[g]&&(d[g]=h[g])});var p=An(d,c);this._location={x:p.x,y:p.y},this._size=[p.width,p.height],this._orient===P$&&this._size.reverse()},t.prototype._positionGroup=function(){var e=this.group,r=this._location,i=this._orient,o=this.dataZoomModel.getFirstTargetAxisModel(),u=o&&o.get("inverse"),c=this._displayables.sliderGroup,h=(this._dataShadowInfo||{}).otherAxisInverse;c.attr(i!==bT||u?i===bT&&u?{scaleY:h?1:-1,scaleX:-1}:i!==P$||u?{scaleY:h?-1:1,scaleX:-1,rotation:Math.PI/2}:{scaleY:h?-1:1,scaleX:1,rotation:Math.PI/2}:{scaleY:h?1:-1,scaleX:1});var d=e.getBoundingRect([c]);e.x=r.x-d.x,e.y=r.y-d.y,e.markRedraw()},t.prototype._getViewExtent=function(){return[0,this._size[0]]},t.prototype._renderBackground=function(){var e=this.dataZoomModel,r=this._size,i=this._displayables.sliderGroup,o=e.get("brushSelect");i.add(new wT({silent:!0,shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:e.get("backgroundColor")},z2:-40}));var u=new wT({shape:{x:0,y:0,width:r[0],height:r[1]},style:{fill:"transparent"},z2:0,onclick:de(this._onClickPanel,this)}),c=this.api.getZr();o?(u.on("mousedown",this._onBrushStart,this),u.cursor="crosshair",c.on("mousemove",this._onBrush),c.on("mouseup",this._onBrushEnd)):(c.off("mousemove",this._onBrush),c.off("mouseup",this._onBrushEnd)),i.add(u)},t.prototype._renderDataShadow=function(){var e=this._dataShadowInfo=this._prepareDataShadowInfo();if(this._displayables.dataShadowSegs=[],e){var r=this._size,i=this._shadowSize||[],o=e.series,u=o.getRawData(),c=o.getShadowDim&&o.getShadowDim(),h=c&&u.getDimensionInfo(c)?o.getShadowDim():e.otherDim;if(null!=h){var d=this._shadowPolygonPts,p=this._shadowPolylinePts;if(u!==this._shadowData||h!==this._shadowDim||r[0]!==i[0]||r[1]!==i[1]){var g=u.getDataExtent(h),m=.3*(g[1]-g[0]);g=[g[0]-m,g[1]+m];var I,y=[0,r[1]],b=[[r[0],0],[0,0]],D=[],C=r[0]/(u.count()-1),T=0,M=Math.round(u.count()/r[0]);u.each([h],function(k,V){if(M>0&&V%M)T+=C;else{var B=null==k||isNaN(k)||""===k,H=B?0:Ct(k,g,y,!0);B&&!I&&V?(b.push([b[b.length-1][0],0]),D.push([D[D.length-1][0],0])):!B&&I&&(b.push([T,0]),D.push([T,0])),b.push([T,H]),D.push([T,H]),T+=C,I=B}}),d=this._shadowPolygonPts=b,p=this._shadowPolylinePts=D}this._shadowData=u,this._shadowDim=h,this._shadowSize=[r[0],r[1]];for(var V,B,H,G,L=this.dataZoomModel,R=0;R<3;R++){var O=(V=void 0,B=void 0,void 0,void 0,V=L.getModel(1===R?"selectedDataBackground":"dataBackground"),B=new Ee,H=new dr({shape:{points:d},segmentIgnoreThreshold:1,style:V.getModel("areaStyle").getAreaStyle(),silent:!0,z2:-20}),G=new Wr({shape:{points:p},segmentIgnoreThreshold:1,style:V.getModel("lineStyle").getLineStyle(),silent:!0,z2:-19}),B.add(H),B.add(G),B);this._displayables.sliderGroup.add(O),this._displayables.dataShadowSegs.push(O)}}}},t.prototype._prepareDataShadowInfo=function(){var e=this.dataZoomModel,r=e.get("showDataShadow");if(!1!==r){var i,o=this.ecModel;return e.eachTargetAxis(function(u,c){F(e.getAxisProxy(u,c).getTargetSeriesModels(),function(d){if(!(i||!0!==r&&Ge(KZ,d.get("type"))<0)){var m,p=o.getComponent(nd(u),c).axis,g=function eq(n){return{x:"y",y:"x",radius:"angle",angle:"radius"}[n]}(u),y=d.coordinateSystem;null!=g&&y.getOtherAxis&&(m=y.getOtherAxis(p).inverse),g=d.getData().mapDimension(g),i={thisAxis:p,series:d,thisDim:u,otherDim:g,otherAxisInverse:m}}},this)},this),i}},t.prototype._renderHandle=function(){var e=this.group,r=this._displayables,i=r.handles=[null,null],o=r.handleLabels=[null,null],u=this._displayables.sliderGroup,c=this._size,h=this.dataZoomModel,d=this.api,p=h.get("borderRadius")||0,g=h.get("brushSelect"),m=r.filler=new wT({silent:g,style:{fill:h.get("fillerColor")},textConfig:{position:"inside"}});u.add(m),u.add(new wT({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:c[0],height:c[1],r:p},style:{stroke:h.get("dataBackgroundColor")||h.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),F([0,1],function(M){var I=h.get("handleIcon");!xy[I]&&I.indexOf("path://")<0&&I.indexOf("image://")<0&&(I="path://"+I);var L=dn(I,-1,0,2,2,null,!0);L.attr({cursor:L$(this._orient),draggable:!0,drift:de(this._onDragMove,this,M),ondragend:de(this._onDragEnd,this),onmouseover:de(this._showDataInfo,this,!0),onmouseout:de(this._showDataInfo,this,!1),z2:5});var E=L.getBoundingRect(),R=h.get("handleSize");this._handleHeight=le(R,this._size[1]),this._handleWidth=E.width/E.height*this._handleHeight,L.setStyle(h.getModel("handleStyle").getItemStyle()),L.style.strokeNoScale=!0,L.rectHover=!0,L.ensureState("emphasis").style=h.getModel(["emphasis","handleStyle"]).getItemStyle(),ts(L);var O=h.get("handleColor");null!=O&&(L.style.fill=O),u.add(i[M]=L);var k=h.getModel("textStyle");e.add(o[M]=new rt({silent:!0,invisible:!0,style:Et(k,{x:0,y:0,text:"",verticalAlign:"middle",align:"center",fill:k.getTextColor(),font:k.getFont()}),z2:10}))},this);var y=m;if(g){var S=le(h.get("moveHandleSize"),c[1]),b=r.moveHandle=new st({style:h.getModel("moveHandleStyle").getItemStyle(),silent:!0,shape:{r:[0,0,2,2],y:c[1]-.5,height:S}}),D=.8*S,C=r.moveHandleIcon=dn(h.get("moveHandleIcon"),-D/2,-D/2,D,D,"#fff",!0);C.silent=!0,C.y=c[1]+S/2-.5,b.ensureState("emphasis").style=h.getModel(["emphasis","moveHandleStyle"]).getItemStyle();var T=Math.min(c[1]/2,Math.max(S,10));(y=r.moveZone=new st({invisible:!0,shape:{y:c[1]-T,height:S+T}})).on("mouseover",function(){d.enterEmphasis(b)}).on("mouseout",function(){d.leaveEmphasis(b)}),u.add(b),u.add(C),u.add(y)}y.attr({draggable:!0,cursor:L$(this._orient),drift:de(this._onDragMove,this,"all"),ondragstart:de(this._showDataInfo,this,!0),ondragend:de(this._onDragEnd,this),onmouseover:de(this._showDataInfo,this,!0),onmouseout:de(this._showDataInfo,this,!1)})},t.prototype._resetInterval=function(){var e=this._range=this.dataZoomModel.getPercentRange(),r=this._getViewExtent();this._handleEnds=[Ct(e[0],[0,100],r,!0),Ct(e[1],[0,100],r,!0)]},t.prototype._updateInterval=function(e,r){var i=this.dataZoomModel,o=this._handleEnds,u=this._getViewExtent(),c=i.findRepresentativeAxisProxy().getMinMaxSpan(),h=[0,100];Ic(r,o,u,i.get("zoomLock")?"all":e,null!=c.minSpan?Ct(c.minSpan,h,u,!0):null,null!=c.maxSpan?Ct(c.maxSpan,h,u,!0):null);var d=this._range,p=this._range=si([Ct(o[0],u,h,!0),Ct(o[1],u,h,!0)]);return!d||d[0]!==p[0]||d[1]!==p[1]},t.prototype._updateView=function(e){var r=this._displayables,i=this._handleEnds,o=si(i.slice()),u=this._size;F([0,1],function(y){var b=this._handleHeight;r.handles[y].attr({scaleX:b/2,scaleY:b/2,x:i[y]+(y?-1:1),y:u[1]/2-b/2})},this),r.filler.setShape({x:o[0],y:0,width:o[1]-o[0],height:u[1]});var c={x:o[0],width:o[1]-o[0]};r.moveHandle&&(r.moveHandle.setShape(c),r.moveZone.setShape(c),r.moveZone.getBoundingRect(),r.moveHandleIcon&&r.moveHandleIcon.attr("x",c.x+c.width/2));for(var h=r.dataShadowSegs,d=[0,o[0],o[1],u[0]],p=0;p<h.length;p++){var g=h[p],m=g.getClipPath();m||(m=new st,g.setClipPath(m)),m.setShape({x:d[p],y:0,width:d[p+1]-d[p],height:u[1]})}this._updateDataInfo(e)},t.prototype._updateDataInfo=function(e){var r=this.dataZoomModel,i=this._displayables,o=i.handleLabels,u=this._orient,c=["",""];if(r.get("showDetail")){var h=r.findRepresentativeAxisProxy();if(h){var d=h.getAxisModel().axis,p=this._range,g=e?h.calculateDataWindow({start:p[0],end:p[1]}).valueWindow:h.getDataValueWindow();c=[this._formatLabel(g[0],d),this._formatLabel(g[1],d)]}}var m=si(this._handleEnds.slice());function y(S){var b=vs(i.handles[S].parent,this.group),D=Ku(0===S?"right":"left",b),C=this._handleWidth/2+5,T=da([m[S]+(0===S?-C:C),this._size[1]/2],b);o[S].setStyle({x:T[0],y:T[1],verticalAlign:u===bT?"middle":D,align:u===bT?D:"center",text:c[S]})}y.call(this,0),y.call(this,1)},t.prototype._formatLabel=function(e,r){var i=this.dataZoomModel,o=i.get("labelFormatter"),u=i.get("labelPrecision");(null==u||"auto"===u)&&(u=r.getPixelPrecision());var c=null==e||isNaN(e)?"":"category"===r.type||"time"===r.type?r.scale.getLabel({value:Math.round(e)}):e.toFixed(Math.min(u,20));return _e(o)?o(e,c):fe(o)?o.replace("{value}",c):c},t.prototype._showDataInfo=function(e){var r=this._displayables,i=r.handleLabels;i[0].attr("invisible",!(e=this._dragging||e)),i[1].attr("invisible",!e),r.moveHandle&&this.api[e?"enterEmphasis":"leaveEmphasis"](r.moveHandle,1)},t.prototype._onDragMove=function(e,r,i,o){this._dragging=!0,Yi(o.event);var c=da([r,i],this._displayables.sliderGroup.getLocalTransform(),!0),h=this._updateInterval(e,c[0]),d=this.dataZoomModel.get("realtime");this._updateView(!d),h&&d&&this._dispatchZoomAction(!0)},t.prototype._onDragEnd=function(){this._dragging=!1,this._showDataInfo(!1),!this.dataZoomModel.get("realtime")&&this._dispatchZoomAction(!1)},t.prototype._onClickPanel=function(e){var r=this._size,i=this._displayables.sliderGroup.transformCoordToLocal(e.offsetX,e.offsetY);if(!(i[0]<0||i[0]>r[0]||i[1]<0||i[1]>r[1])){var o=this._handleEnds,c=this._updateInterval("all",i[0]-(o[0]+o[1])/2);this._updateView(),c&&this._dispatchZoomAction(!1)}},t.prototype._onBrushStart=function(e){this._brushStart=new ze(e.offsetX,e.offsetY),this._brushing=!0,this._brushStartTime=+new Date},t.prototype._onBrushEnd=function(e){if(this._brushing){var r=this._displayables.brushRect;if(this._brushing=!1,r){r.attr("ignore",!0);var i=r.shape;if(!(+new Date-this._brushStartTime<200&&Math.abs(i.width)<5)){var u=this._getViewExtent(),c=[0,100];this._range=si([Ct(i.x,u,c,!0),Ct(i.x+i.width,u,c,!0)]),this._handleEnds=[i.x,i.x+i.width],this._updateView(),this._dispatchZoomAction(!1)}}}},t.prototype._onBrush=function(e){this._brushing&&(Yi(e.event),this._updateBrushRect(e.offsetX,e.offsetY))},t.prototype._updateBrushRect=function(e,r){var i=this._displayables,u=i.brushRect;u||(u=i.brushRect=new wT({silent:!0,style:this.dataZoomModel.getModel("brushStyle").getItemStyle()}),i.sliderGroup.add(u)),u.attr("ignore",!1);var c=this._brushStart,h=this._displayables.sliderGroup,d=h.transformCoordToLocal(e,r),p=h.transformCoordToLocal(c.x,c.y),g=this._size;d[0]=Math.max(Math.min(g[0],d[0]),0),u.setShape({x:p[0],y:0,width:d[0]-p[0],height:g[1]})},t.prototype._dispatchZoomAction=function(e){var r=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,animation:e?QZ:null,start:r[0],end:r[1]})},t.prototype._findCoordRect=function(){var e,r=D8(this.dataZoomModel).infoList;if(!e&&r.length){var i=r[0].model.coordinateSystem;e=i.getRect&&i.getRect()}if(!e){var o=this.api.getWidth(),u=this.api.getHeight();e={x:.2*o,y:.2*u,width:.6*o,height:.6*u}}return e},t.type="dataZoom.slider",t}(V3);function L$(n){return"vertical"===n?"ns-resize":"ew-resize"}const tq=JZ;function R$(n){n.registerComponentModel(YZ),n.registerComponentView(tq),B3(n)}var rq={get:function(n,t,e){var r=Te((iq[n]||{})[t]);return e&&te(r)?r[r.length-1]:r}},iq={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const N$=rq;var O$=gr.mapVisual,aq=gr.eachVisual,oq=te,k$=F,sq=si,lq=Ct,uq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return q(t,n),t.prototype.init=function(e,r,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,r){!r&&J8(this.option,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var r=this.stateList;e=de(e,this),this.controllerVisuals=Z3(this.option.controller,r,e),this.targetVisuals=Z3(this.option.target,r,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,r=[];return null==e||"all"===e?this.ecModel.eachSeries(function(i,o){r.push(o)}):r=It(e),r},t.prototype.eachTargetSeries=function(e,r){F(this.getTargetSeriesIndices(),function(i){var o=this.ecModel.getSeriesByIndex(i);o&&e.call(r,o)},this)},t.prototype.isTargetSeries=function(e){var r=!1;return this.eachTargetSeries(function(i){i===e&&(r=!0)}),r},t.prototype.formatValueText=function(e,r,i){var d,o=this.option,u=o.precision,c=this.dataBound,h=o.formatter;i=i||["<",">"],te(e)&&(e=e.slice(),d=!0);var p=r?e:d?[g(e[0]),g(e[1])]:g(e);return fe(h)?h.replace("{value}",d?p[0]:p).replace("{value2}",d?p[1]:p):_e(h)?d?h(e[0],e[1]):h(e):d?e[0]===c[0]?i[0]+" "+p[1]:e[1]===c[1]?i[1]+" "+p[0]:p[0]+" - "+p[1]:p;function g(m){return m===c[0]?"min":m===c[1]?"max":(+m).toFixed(Math.min(u,20))}},t.prototype.resetExtent=function(){var e=this.option,r=sq([e.min,e.max]);this._dataExtent=r},t.prototype.getDataDimensionIndex=function(e){var r=this.option.dimension;if(null!=r)return e.getDimensionIndex(r);for(var i=e.dimensions,o=i.length-1;o>=0;o--){var c=e.getDimensionInfo(i[o]);if(!c.isCalculationCoord)return c.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,r=this.option,i={inRange:r.inRange,outOfRange:r.outOfRange},o=r.target||(r.target={}),u=r.controller||(r.controller={});Ve(o,i),Ve(u,i);var c=this.isCategory();function h(g){oq(r.color)&&!g.inRange&&(g.inRange={color:r.color.slice().reverse()}),g.inRange=g.inRange||{color:e.get("gradientColor")}}h.call(this,o),h.call(this,u),function d(g,m,y){var S=g[m],b=g[y];S&&!b&&(b=g[y]={},k$(S,function(D,C){if(gr.isValidType(C)){var T=N$.get(C,"inactive",c);null!=T&&(b[C]=T,"color"===C&&!b.hasOwnProperty("opacity")&&!b.hasOwnProperty("colorAlpha")&&(b.opacity=[0,0]))}}))}.call(this,o,"inRange","outOfRange"),function p(g){var m=(g.inRange||{}).symbol||(g.outOfRange||{}).symbol,y=(g.inRange||{}).symbolSize||(g.outOfRange||{}).symbolSize,S=this.get("inactiveColor"),D=this.getItemSymbol()||"roundRect";k$(this.stateList,function(C){var T=this.itemSize,M=g[C];M||(M=g[C]={color:c?S:[S]}),null==M.symbol&&(M.symbol=m&&Te(m)||(c?D:[D])),null==M.symbolSize&&(M.symbolSize=y&&Te(y)||(c?T[0]:[T[0],T[0]])),M.symbol=O$(M.symbol,function(E){return"none"===E?D:E});var I=M.symbolSize;if(null!=I){var L=-1/0;aq(I,function(E){E>L&&(L=E)}),M.symbolSize=O$(I,function(E){return lq(E,[0,L],[0,T[0]],!0)})}},this)}.call(this,u)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(at);const H2=uq;var F$=[20,140],cq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(i){i.mappingMethod="linear",i.dataExtent=this.getExtent()}),this._resetRange()},t.prototype.resetItemSize=function(){n.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=F$[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=F$[1])},t.prototype._resetRange=function(){var e=this.getExtent(),r=this.option.range;!r||r.auto?(e.auto=1,this.option.range=e):te(r)&&(r[0]>r[1]&&r.reverse(),r[0]=Math.max(r[0],e[0]),r[1]=Math.min(r[1],e[1]))},t.prototype.completeVisualOption=function(){n.prototype.completeVisualOption.apply(this,arguments),F(this.stateList,function(e){var r=this.option.controller[e].symbolSize;r&&r[0]!==r[1]&&(r[0]=r[1]/3)},this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),r=si((this.get("range")||[]).slice());return r[0]>e[1]&&(r[0]=e[1]),r[1]>e[1]&&(r[1]=e[1]),r[0]<e[0]&&(r[0]=e[0]),r[1]<e[0]&&(r[1]=e[0]),r},t.prototype.getValueState=function(e){var r=this.option.range,i=this.getExtent();return(r[0]<=i[0]||r[0]<=e)&&(r[1]>=i[1]||e<=r[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[];return this.eachTargetSeries(function(i){var o=[],u=i.getData();u.each(this.getDataDimensionIndex(u),function(c,h){e[0]<=c&&c<=e[1]&&o.push(h)},this),r.push({seriesId:i.id,dataIndex:o})},this),r},t.prototype.getVisualMeta=function(e){var r=V$(0,0,this.getExtent()),i=V$(0,0,this.option.range.slice()),o=[];function u(y,S){o.push({value:y,color:e(y,S)})}for(var c=0,h=0,d=i.length,p=r.length;h<p&&(!i.length||r[h]<=i[0]);h++)r[h]<i[c]&&u(r[h],"outOfRange");for(var g=1;c<d;c++,g=0)g&&o.length&&u(i[c],"outOfRange"),u(i[c],"inRange");for(g=1;h<p;h++)(!i.length||i[i.length-1]<r[h])&&(g&&(o.length&&u(o[o.length-1].value,"outOfRange"),g=0),u(r[h],"outOfRange"));var m=o.length;return{stops:o,outerColors:[m?o[0].color:"transparent",m?o[m-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=ns(H2.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(H2);function V$(n,t,e){if(e[0]===e[1])return e.slice();for(var i=(e[1]-e[0])/200,o=e[0],u=[],c=0;c<=200&&o<e[1];c++)u.push(o),o+=i;return u.push(e[1]),u}const fq=cq;var hq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return q(t,n),t.prototype.init=function(e,r){this.ecModel=e,this.api=r},t.prototype.render=function(e,r,i,o){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,r,i,o):this.group.removeAll()},t.prototype.renderBackground=function(e){var r=this.visualMapModel,i=is(r.get("padding")||0),o=e.getBoundingRect();e.add(new st({z2:-1,silent:!0,shape:{x:o.x-i[3],y:o.y-i[0],width:o.width+i[3]+i[1],height:o.height+i[0]+i[2]},style:{fill:r.get("backgroundColor"),stroke:r.get("borderColor"),lineWidth:r.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,r,i){var o=(i=i||{}).forceState,u=this.visualMapModel,c={};if("color"===r){var h=u.get("contentColor");c.color=h}function d(y){return c[y]}function p(y,S){c[y]=S}var g=u.controllerVisuals[o||u.getValueState(e)];return F(gr.prepareVisualTypes(g),function(y){var S=g[y];i.convertOpacityToAlpha&&"opacity"===y&&(y="colorAlpha",S=g.__alphaForOpacity),gr.dependsOn(y,r)&&S&&S.applyVisual(e,d,p)}),c[r]},t.prototype.positionGroup=function(e){var i=this.api;Hu(e,this.visualMapModel.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,r,i,o){},t.type="visualMap",t}(wt);const B$=hq;var z$=[["left","right","width"],["top","bottom","height"]];function H$(n,t,e){var r=n.option,i=r.align;if(null!=i&&"auto"!==i)return i;for(var o={width:t.getWidth(),height:t.getHeight()},u="horizontal"===r.orient?1:0,c=z$[u],h=[0,null,10],d={},p=0;p<3;p++)d[z$[1-u][p]]=h[p],d[c[p]]=2===p?e[0]:r[c[p]];var g=[["x","width",3],["y","height",0]][u],m=An(d,o,r.padding);return c[(m.margin[g[2]]||0)+m[g[0]]+.5*m[g[1]]<.5*o[g[1]]?0:1]}function G2(n,t){return F(n||[],function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")}),n}var Jl=Ct,dq=F,G$=Math.min,vU=Math.max,gq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return q(t,n),t.prototype.doRender=function(e,r,i,o){this._api=i,(!o||"selectDataRange"!==o.type||o.from!==this.uid)&&this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,r=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(r);var i=e.get("text");this._renderEndsText(r,i,0),this._renderEndsText(r,i,1),this._updateView(!0),this.renderBackground(r),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(r)},t.prototype._renderEndsText=function(e,r,i){if(r){var o=r[1-i];o=null!=o?o+"":"";var u=this.visualMapModel,c=u.get("textGap"),h=u.itemSize,d=this._shapes.mainGroup,p=this._applyTransform([h[0]/2,0===i?-c:h[1]+c],d),g=this._applyTransform(0===i?"bottom":"top",d),m=this._orient;this.group.add(new rt({style:Et(this.visualMapModel.textStyleModel,{x:p[0],y:p[1],verticalAlign:"horizontal"===m?"middle":g,align:"horizontal"===m?g:"center",text:o})}))}},t.prototype._renderBar=function(e){var r=this.visualMapModel,i=this._shapes,o=r.itemSize,u=this._orient,c=this._useHandle,h=H$(r,this.api,o),d=i.mainGroup=this._createBarGroup(h),p=new Ee;d.add(p),p.add(i.outOfRange=U$()),p.add(i.inRange=U$(null,c?W$(this._orient):null,de(this._dragHandle,this,"all",!1),de(this._dragHandle,this,"all",!0))),p.setClipPath(new st({shape:{x:0,y:0,width:o[0],height:o[1],r:3}}));var g=r.textStyleModel.getTextRect("\u56fd"),m=vU(g.width,g.height);c&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(r,d,0,o,m,u),this._createHandle(r,d,1,o,m,u)),this._createIndicator(r,d,o,m,u),e.add(d)},t.prototype._createHandle=function(e,r,i,o,u,c){var h=de(this._dragHandle,this,i,!1),d=de(this._dragHandle,this,i,!0),p=Dr(e.get("handleSize"),o[0]),g=dn(e.get("handleIcon"),-p/2,-p/2,p,p,null,!0),m=W$(this._orient);g.attr({cursor:m,draggable:!0,drift:h,ondragend:d,onmousemove:function(C){Yi(C.event)}}),g.x=o[0]/2,g.useStyle(e.getModel("handleStyle").getItemStyle()),g.setStyle({strokeNoScale:!0,strokeFirst:!0}),g.style.lineWidth*=2,g.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Ru(g,!0),r.add(g);var S=new rt({cursor:m,draggable:!0,drift:h,onmousemove:function(C){Yi(C.event)},ondragend:d,style:Et(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});S.ensureState("blur").style={opacity:.1},S.stateTransition={duration:200},this.group.add(S);var b=[p,0],D=this._shapes;D.handleThumbs[i]=g,D.handleLabelPoints[i]=b,D.handleLabels[i]=S},t.prototype._createIndicator=function(e,r,i,o,u){var c=Dr(e.get("indicatorSize"),i[0]),h=dn(e.get("indicatorIcon"),-c/2,-c/2,c,c,null,!0);h.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var d=e.getModel("indicatorStyle").getItemStyle();if(h instanceof Zn){var p=h.style;h.useStyle(J({image:p.image,x:p.x,y:p.y,width:p.width,height:p.height},d))}else h.useStyle(d);r.add(h);var m=new rt({silent:!0,invisible:!0,style:Et(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(m);var y=[("horizontal"===u?o/2:6)+i[0]/2,0],S=this._shapes;S.indicator=h,S.indicatorLabel=m,S.indicatorLabelPoint=y,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,r,i,o){if(this._useHandle){if(this._dragging=!r,!r){var u=this._applyTransform([i,o],this._shapes.mainGroup,!0);this._updateInterval(e,u[1]),this._hideIndicator(),this._updateView()}r===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),r?!this._hovering&&this._clearHoverLinkToSeries():j$(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,r=this._dataInterval=e.getSelected(),i=e.getExtent(),o=[0,e.itemSize[1]];this._handleEnds=[Jl(r[0],i,o,!0),Jl(r[1],i,o,!0)]},t.prototype._updateInterval=function(e,r){var i=this.visualMapModel,o=this._handleEnds,u=[0,i.itemSize[1]];Ic(r=r||0,o,u,e,0);var c=i.getExtent();this._dataInterval=[Jl(o[0],u,c,!0),Jl(o[1],u,c,!0)]},t.prototype._updateView=function(e){var r=this.visualMapModel,i=r.getExtent(),o=this._shapes,u=[0,r.itemSize[1]],c=e?u:this._handleEnds,h=this._createBarVisual(this._dataInterval,i,c,"inRange"),d=this._createBarVisual(i,i,u,"outOfRange");o.inRange.setStyle({fill:h.barColor}).setShape("points",h.barPoints),o.outOfRange.setStyle({fill:d.barColor}).setShape("points",d.barPoints),this._updateHandle(c,h)},t.prototype._createBarVisual=function(e,r,i,o){var u={forceState:o,convertOpacityToAlpha:!0},c=this._makeColorGradient(e,u),h=[this.getControllerVisual(e[0],"symbolSize",u),this.getControllerVisual(e[1],"symbolSize",u)],d=this._createBarPoints(i,h);return{barColor:new eh(0,0,0,1,c),barPoints:d,handlesColor:[c[0].color,c[c.length-1].color]}},t.prototype._makeColorGradient=function(e,r){var o=[],u=(e[1]-e[0])/100;o.push({color:this.getControllerVisual(e[0],"color",r),offset:0});for(var c=1;c<100;c++){var h=e[0]+u*c;if(h>e[1])break;o.push({color:this.getControllerVisual(h,"color",r),offset:c/100})}return o.push({color:this.getControllerVisual(e[1],"color",r),offset:1}),o},t.prototype._createBarPoints=function(e,r){var i=this.visualMapModel.itemSize;return[[i[0]-r[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-r[1],e[1]]]},t.prototype._createBarGroup=function(e){var r=this._orient,i=this.visualMapModel.get("inverse");return new Ee("horizontal"!==r||i?"horizontal"===r&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==r||i?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,r){if(this._useHandle){var i=this._shapes,o=this.visualMapModel,u=i.handleThumbs,c=i.handleLabels,h=o.itemSize,d=o.getExtent();dq([0,1],function(p){var g=u[p];g.setStyle("fill",r.handlesColor[p]),g.y=e[p];var m=Jl(e[p],[0,h[1]],d,!0),y=this.getControllerVisual(m,"symbolSize");g.scaleX=g.scaleY=y/h[0],g.x=h[0]-y/2;var S=da(i.handleLabelPoints[p],vs(g,this.group));c[p].setStyle({x:S[0],y:S[1],text:o.formatValueText(this._dataInterval[p]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})},this)}},t.prototype._showIndicator=function(e,r,i,o){var u=this.visualMapModel,c=u.getExtent(),h=u.itemSize,d=[0,h[1]],p=this._shapes,g=p.indicator;if(g){g.attr("invisible",!1);var y=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),S=this.getControllerVisual(e,"symbolSize"),b=Jl(e,c,d,!0),D=h[0]-S/2,C={x:g.x,y:g.y};g.y=b,g.x=D;var T=da(p.indicatorLabelPoint,vs(g,this.group)),M=p.indicatorLabel;M.attr("invisible",!1);var I=this._applyTransform("left",p.mainGroup),E="horizontal"===this._orient;M.setStyle({text:(i||"")+u.formatValueText(r),verticalAlign:E?I:"middle",align:E?"center":I});var R={x:D,y:b,style:{fill:y}},O={style:{x:T[0],y:T[1]}};if(u.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var k={duration:100,easing:"cubicInOut",additive:!0};g.x=C.x,g.y=C.y,g.animateTo(R,k),M.animateTo(O,k)}else g.attr(R),M.attr(O);this._firstShowIndicator=!1;var V=this._shapes.handleLabels;if(V)for(var B=0;B<V.length;B++)this._api.enterBlur(V[B])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(r){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,o=e._applyTransform([r.offsetX,r.offsetY],e._shapes.mainGroup,!0,!0);o[1]=G$(vU(0,o[1]),i[1]),e._doHoverLinkToSeries(o[1],0<=o[0]&&o[0]<=i[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,r){var i=this.visualMapModel;if(i.option.hoverLink){var u=[0,i.itemSize[1]],c=i.getExtent();e=G$(vU(u[0],e),u[1]);var h=function mq(n,t,e){var r=6,i=n.get("hoverLinkDataSize");return i&&(r=Jl(i,t,e,!0)/2),r}(i,c,u),d=[e-h,e+h],p=Jl(e,u,c,!0),g=[Jl(d[0],u,c,!0),Jl(d[1],u,c,!0)];d[0]<u[0]&&(g[0]=-1/0),d[1]>u[1]&&(g[1]=1/0),r&&(g[0]===-1/0?this._showIndicator(p,g[1],"< ",h):g[1]===1/0?this._showIndicator(p,g[0],"> ",h):this._showIndicator(p,p,"\u2248 ",h));var m=this._hoverLinkDataIndices,y=[];(r||j$(i))&&(y=this._hoverLinkDataIndices=i.findTargetDataIndices(g));var S=function Lk(n,t){var e={},r={};return i(n||[],e),i(t||[],r,e),[o(e),o(r)];function i(u,c,h){for(var d=0,p=u.length;d<p;d++){var g=rn(u[d].seriesId,null);if(null==g)return;for(var m=It(u[d].dataIndex),y=h&&h[g],S=0,b=m.length;S<b;S++){var D=m[S];y&&y[D]?y[D]=null:(c[g]||(c[g]={}))[D]=1}}}function o(u,c){var h=[];for(var d in u)if(u.hasOwnProperty(d)&&null!=u[d])if(c)h.push(+d);else{var p=o(u[d],!0);p.length&&h.push({seriesId:d,dataIndex:p})}return h}}(m,y);this._dispatchHighDown("downplay",G2(S[0],i)),this._dispatchHighDown("highlight",G2(S[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var r;if(Qu(e.target,function(h){var d=Oe(h);if(null!=d.dataIndex)return r=d,!0},!0),r){var i=this.ecModel.getSeriesByIndex(r.seriesIndex),o=this.visualMapModel;if(o.isTargetSeries(i)){var u=i.getData(r.dataType),c=u.getStore().get(o.getDataDimensionIndex(u),r.dataIndex);isNaN(c)||this._showIndicator(c,c)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var r=this._shapes.handleLabels;if(r)for(var i=0;i<r.length;i++)this._api.leaveBlur(r[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",G2(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,r,i,o){var u=vs(r,o?null:this.group);return te(e)?da(e,u,i):Ku(e,u,i)},t.prototype._dispatchHighDown=function(e,r){r&&r.length&&this.api.dispatchAction({type:e,batch:r})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(B$);function U$(n,t,e,r){return new dr({shape:{points:n},draggable:!!e,cursor:t,drift:e,onmousemove:function(i){Yi(i.event)},ondragend:r})}function j$(n){return!!(n.get("hoverLinkOnHandle")??n.get("realtime"))}function W$(n){return"vertical"===n?"ns-resize":"ew-resize"}const yq=gq;var _q={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Sq=function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(e){e.setSelected(n.selected)})},wq=[{createOnAllSeries:!0,reset:function(n,t){var e=[];return t.eachComponent("visualMap",function(r){var i=n.pipelineContext;!r.isTargetSeries(n)||i&&i.large||e.push(function vY(n,t,e,r){var i={};return F(n,function(o){var u=gr.prepareVisualTypes(t[o]);i[o]=u}),{progress:function(u,c){var h;function d(L){return aD(c,g,L)}function p(L,E){DE(c,g,L,E)}null!=r&&(h=c.getDimensionIndex(r));for(var g,m=c.getStore();null!=(g=u.next());){var y=c.getRawDataItem(g);if(!y||!1!==y.visualMap)for(var S=null!=r?m.get(h,g):g,b=e(S),D=t[b],C=i[b],T=0,M=C.length;T<M;T++){var I=C[T];D[I]&&D[I].applyVisual(S,d,p)}}}}}(r.stateList,r.targetVisuals,de(r.getValueState,r),r.getDataDimensionIndex(n.getData())))}),e}},{createOnAllSeries:!0,reset:function(n,t){var e=n.getData(),r=[];t.eachComponent("visualMap",function(i){if(i.isTargetSeries(n)){var o=i.getVisualMeta(de(bq,null,n,i))||{stops:[],outerColors:[]},u=i.getDataDimensionIndex(e);u>=0&&(o.dimension=u,r.push(o))}}),n.getData().setVisual("visualMeta",r)}}];function bq(n,t,e,r){for(var i=t.targetVisuals[r],o=gr.prepareVisualTypes(i),u={color:Np(n.getData(),"color")},c=0,h=o.length;c<h;c++){var d=o[c],p=i["opacity"===d?"__alphaForOpacity":d];p&&p.applyVisual(e,g,m)}return u.color;function g(y){return u[y]}function m(y,S){u[y]=S}}var $$=F;function Dq(n){var t=n&&n.visualMap;te(t)||(t=t?[t]:[]),$$(t,function(e){if(e){W_(e,"splitList")&&!W_(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var r=e.pieces;r&&te(r)&&$$(r,function(i){xe(i)&&(W_(i,"start")&&!W_(i,"min")&&(i.min=i.start),W_(i,"end")&&!W_(i,"max")&&(i.max=i.end))})}})}function W_(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var Y$=!1;function Z$(n){Y$||(Y$=!0,n.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"}),n.registerAction(_q,Sq),F(wq,function(t){n.registerVisual(n.PRIORITY.VISUAL.COMPONENT,t)}),n.registerPreprocessor(Dq))}function q$(n){n.registerComponentModel(fq),n.registerComponentView(yq),Z$(n)}var Cq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e._pieceList=[],e}return q(t,n),t.prototype.optionUpdated=function(e,r){n.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],xq[this._mode].call(this,this._pieceList),this._resetSelected(e,r);var o=this.option.categories;this.resetVisual(function(u,c){"categories"===i?(u.mappingMethod="category",u.categories=Te(o)):(u.dataExtent=this.getExtent(),u.mappingMethod="piecewise",u.pieceList=re(this._pieceList,function(h){return h=Te(h),"inRange"!==c&&(h.visual=null),h}))})},t.prototype.completeVisualOption=function(){var e=this.option,r={},i=gr.listVisualTypes(),o=this.isCategory();function u(c,h,d){return c&&c[h]&&c[h].hasOwnProperty(d)}F(e.pieces,function(c){F(i,function(h){c.hasOwnProperty(h)&&(r[h]=1)})}),F(r,function(c,h){var d=!1;F(this.stateList,function(p){d=d||u(e,p,h)||u(e.target,p,h)},this),!d&&F(this.stateList,function(p){(e[p]||(e[p]={}))[h]=N$.get(h,"inRange"===p?"active":"inactive",o)})},this),n.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,r){var i=this.option,o=this._pieceList,u=(r?i:e).selected||{};if(i.selected=u,F(o,function(h,d){var p=this.getSelectedMapKey(h);u.hasOwnProperty(p)||(u[p]=!0)},this),"single"===i.selectedMode){var c=!1;F(o,function(h,d){var p=this.getSelectedMapKey(h);u[p]&&(c?u[p]=!1:c=!0)},this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=Te(e)},t.prototype.getValueState=function(e){var r=gr.findPieceIndex(e,this._pieceList);return null!=r&&this.option.selected[this.getSelectedMapKey(this._pieceList[r])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var r=[],i=this._pieceList;return this.eachTargetSeries(function(o){var u=[],c=o.getData();c.each(this.getDataDimensionIndex(c),function(h,d){gr.findPieceIndex(h,i)===e&&u.push(d)},this),r.push({seriesId:o.id,dataIndex:u})},this),r},t.prototype.getRepresentValue=function(e){var r;if(this.isCategory())r=e.value;else if(null!=e.value)r=e.value;else{var i=e.interval||[];r=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return r},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var r=[],i=["",""],o=this,c=this._pieceList.slice();if(c.length){var h=c[0].interval[0];h!==-1/0&&c.unshift({interval:[-1/0,h]}),(h=c[c.length-1].interval[1])!==1/0&&c.push({interval:[h,1/0]})}else c.push({interval:[-1/0,1/0]});var d=-1/0;return F(c,function(p){var g=p.interval;g&&(g[0]>d&&u([d,g[0]],"outOfRange"),u(g.slice()),d=g[1])},this),{stops:r,outerColors:i}}function u(p,g){var m=o.getRepresentValue({interval:p});g||(g=o.getValueState(m));var y=e(m,g);p[0]===-1/0?i[0]=y:p[1]===1/0?i[1]=y:r.push({value:p[0],color:y},{value:p[1],color:y})}},t.type="visualMap.piecewise",t.defaultOption=ns(H2.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(H2),xq={splitNumber:function(n){var t=this.option,e=Math.min(t.precision,20),r=this.getExtent(),i=t.splitNumber;i=Math.max(parseInt(i,10),1),t.splitNumber=i;for(var o=(r[1]-r[0])/i;+o.toFixed(e)!==o&&e<5;)e++;t.precision=e,o=+o.toFixed(e),t.minOpen&&n.push({interval:[-1/0,r[0]],close:[0,0]});for(var u=0,c=r[0];u<i;c+=o,u++)n.push({interval:[c,u===i-1?r[1]:c+o],close:[1,1]});t.maxOpen&&n.push({interval:[r[1],1/0],close:[0,0]}),vf(n),F(n,function(d,p){d.index=p,d.text=this.formatValueText(d.interval)},this)},categories:function(n){var t=this.option;F(t.categories,function(e){n.push({text:this.formatValueText(e,!0),value:e})},this),X$(t,n)},pieces:function(n){var t=this.option;F(t.pieces,function(e,r){xe(e)||(e={value:e});var i={text:"",index:r};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var o=i.value=e.value;i.interval=[o,o],i.close=[1,1]}else{for(var u=i.interval=[],c=i.close=[0,0],h=[1,0,1],d=[-1/0,1/0],p=[],g=0;g<2;g++){for(var m=[["gte","gt","min"],["lte","lt","max"]][g],y=0;y<3&&null==u[g];y++)u[g]=e[m[y]],c[g]=h[y],p[g]=2===y;null==u[g]&&(u[g]=d[g])}p[0]&&u[1]===1/0&&(c[0]=0),p[1]&&u[0]===-1/0&&(c[1]=0),u[0]===u[1]&&c[0]&&c[1]&&(i.value=u[0])}i.visual=gr.retrieveVisuals(e),n.push(i)},this),X$(t,n),vf(n),F(n,function(e){var r=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][r[1]],[">","\u2265"][r[0]]])},this)}};function X$(n,t){var e=n.inverse;("vertical"===n.orient?!e:e)&&t.reverse()}const Tq=Cq;var Mq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type=t.type,e}return q(t,n),t.prototype.doRender=function(){var e=this.group;e.removeAll();var r=this.visualMapModel,i=r.get("textGap"),o=r.textStyleModel,u=o.getFont(),c=o.getTextColor(),h=this._getItemAlign(),d=r.itemSize,p=this._getViewData(),g=p.endsText,m=bt(r.get("showLabel",!0),!g);g&&this._renderEndsText(e,g[0],d,m,h),F(p.viewPieceList,function(y){var S=y.piece,b=new Ee;b.onclick=de(this._onItemClick,this,S),this._enableHoverLink(b,y.indexInModelPieceList);var D=r.getRepresentValue(S);if(this._createItemSymbol(b,D,[0,0,d[0],d[1]]),m){var C=this.visualMapModel.getValueState(D);b.add(new rt({style:{x:"right"===h?-i:d[0]+i,y:d[1]/2,text:S.text,verticalAlign:"middle",align:h,font:u,fill:c,opacity:"outOfRange"===C?.5:1}}))}e.add(b)},this),g&&this._renderEndsText(e,g[1],d,m,h),Sl(r.get("orient"),e,r.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,r){var i=this;e.on("mouseover",function(){return o("highlight")}).on("mouseout",function(){return o("downplay")});var o=function(u){var c=i.visualMapModel;c.option.hoverLink&&i.api.dispatchAction({type:u,batch:G2(c.findTargetDataIndices(r),c)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,r=e.option;if("vertical"===r.orient)return H$(e,this.api,e.itemSize);var i=r.align;return(!i||"auto"===i)&&(i="left"),i},t.prototype._renderEndsText=function(e,r,i,o,u){if(r){var c=new Ee;c.add(new rt({style:Et(this.visualMapModel.textStyleModel,{x:o?"right"===u?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:o?u:"center",text:r})})),e.add(c)}},t.prototype._getViewData=function(){var e=this.visualMapModel,r=re(e.getPieceList(),function(c,h){return{piece:c,indexInModelPieceList:h}}),i=e.get("text"),o=e.get("orient"),u=e.get("inverse");return("horizontal"===o?u:!u)?r.reverse():i&&(i=i.slice().reverse()),{viewPieceList:r,endsText:i}},t.prototype._createItemSymbol=function(e,r,i){e.add(dn(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},t.prototype._onItemClick=function(e){var r=this.visualMapModel,i=r.option,o=i.selectedMode;if(o){var u=Te(i.selected),c=r.getSelectedMapKey(e);"single"===o||!0===o?(u[c]=!0,F(u,function(h,d){u[d]=d===c})):u[c]=!u[c],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:u})}},t.type="visualMap.piecewise",t}(B$);const Aq=Mq;function K$(n){n.registerComponentModel(Tq),n.registerComponentView(Aq),Z$(n)}var Eq={label:{enabled:!0},decal:{show:!1}},Q$=ot(),Pq={};function Lq(n,t){var e=n.getModel("aria");if(e.get("enabled")){var r=Te(Eq);Ve(r.label,n.getLocaleModel().get("aria"),!1),Ve(e.option,r,!1),function i(){if(e.getModel("decal").get("show")){var g=ve();n.eachSeries(function(m){if(!m.isColorBySeries()){var y=g.get(m.type);y||g.set(m.type,y={}),Q$(m).scope=y}}),n.eachRawSeries(function(m){if(!n.isSeriesFiltered(m))if(_e(m.enableAriaDecal))m.enableAriaDecal();else{var y=m.getData();if(m.isColorBySeries()){var T=Ur(m.ecModel,m.name,Pq,n.getSeriesCount()),M=y.getVisual("decal");y.setVisual("decal",I(M,T))}else{var S=m.getRawData(),b={},D=Q$(m).scope;y.each(function(L){var E=y.getRawIndex(L);b[E]=L});var C=S.count();S.each(function(L){var E=b[L],R=S.getName(L)||L+"",O=Ur(m.ecModel,R,D,C),k=y.getItemVisual(E,"decal");y.setItemVisual(E,"decal",I(k,O))})}}function I(L,E){var R=L?J(J({},E),L):E;return R.dirty=!0,R}})}}(),function o(){var d=n.getLocaleModel().get("aria"),p=e.getModel("label");if(p.option=De(p.option,d),p.get("enabled")){var g=t.getZr().dom;if(p.get("description"))return void g.setAttribute("aria-label",p.get("description"));var D,m=n.getSeriesCount(),y=p.get(["data","maxCount"])||10,S=p.get(["series","maxCount"])||10,b=Math.min(m,S);if(!(m<1)){var C=function c(){var d=n.get("title");return d&&d.length&&(d=d[0]),d&&d.text}();D=C?u(p.get(["general","withTitle"]),{title:C}):p.get(["general","withoutTitle"]);var M=[];D+=u(p.get(m>1?["series","multiple","prefix"]:["series","single","prefix"]),{seriesCount:m}),n.eachSeries(function(O,k){if(k<b){var V=void 0,H=O.get("name")?"withName":"withoutName";V=u(V=p.get(m>1?["series","multiple",H]:["series","single",H]),{seriesId:O.seriesIndex,seriesName:O.get("name"),seriesType:h(O.subType)});var G=O.getData();G.count()>y?V+=u(p.get(["data","partialData"]),{displayCnt:y}):V+=p.get(["data","allData"]);for(var W=p.get(["data","separator","middle"]),Y=p.get(["data","separator","end"]),K=[],X=0;X<G.count();X++)if(X<y){var ee=G.getName(X),oe=G.getValues(X),he=p.get(["data",ee?"withName":"withoutName"]);K.push(u(he,{name:ee,value:oe.join(W)}))}V+=K.join(W)+Y,M.push(V)}});var L=p.getModel(["series","multiple","separator"]),E=L.get("middle"),R=L.get("end");D+=M.join(E)+R,g.setAttribute("aria-label",D)}}}()}function u(d,p){if(!fe(d))return d;var g=d;return F(p,function(m,y){g=g.replace(new RegExp("\\{\\s*"+y+"\\s*\\}","g"),m)}),g}function h(d){return n.getLocaleModel().get(["series","typeNames"])[d]||"\u81ea\u5b9a\u4e49\u56fe"}}function Rq(n){if(n&&n.aria){var t=n.aria;null!=t.show&&(t.enabled=t.show),t.label=t.label||{},F(["description","general","series","data"],function(e){null!=t[e]&&(t.label[e]=t[e])})}}var J$={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},Oq=function(){function n(t){null==(this._condVal=fe(t)?new RegExp(t):to(t)?t:null)&&St("")}return n.prototype.evaluate=function(t){var e=typeof t;return fe(e)?this._condVal.test(t):!!ft(e)&&this._condVal.test(t+"")},n}(),kq=function(){function n(){}return n.prototype.evaluate=function(){return this.value},n}(),Fq=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},n}(),Vq=function(){function n(){}return n.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},n}(),Bq=function(){function n(){}return n.prototype.evaluate=function(){return!this.child.evaluate()},n}(),zq=function(){function n(){}return n.prototype.evaluate=function(){for(var t=!!this.valueParser,r=(0,this.getValue)(this.valueGetterParam),i=t?this.valueParser(r):null,o=0;o<this.subCondList.length;o++)if(!this.subCondList[o].evaluate(t?i:r))return!1;return!0},n}();function gU(n,t){if(!0===n||!1===n){var e=new kq;return e.value=n,e}return t6(n)||St(""),n.and?e6("and",n,t):n.or?e6("or",n,t):n.not?function Hq(n,t){var e=n.not;t6(e)||St("");var i=new Bq;return i.child=gU(e,t),i.child||St(""),i}(n,t):function Gq(n,t){for(var r=t.prepareGetValue(n),i=[],o=Xe(n),u=n.parser,c=u?DI(u):null,h=0;h<o.length;h++){var d=o[h];if("parser"!==d&&!t.valueGetterAttrMap.get(d)){var p=pe(J$,d)?J$[d]:d,g=n[d],m=c?c(g):g,y=ry(p,m)||"reg"===p&&new Oq(m);y||St(""),i.push(y)}}i.length||St("");var S=new zq;return S.valueGetterParam=r,S.valueParser=c,S.getValue=t.getValue,S.subCondList=i,S}(n,t)}function e6(n,t,e){var r=t[n];te(r)||St(""),r.length||St("");var o="and"===n?new Fq:new Vq;return o.children=re(r,function(u){return gU(u,e)}),o.children.length||St(""),o}function t6(n){return xe(n)&&!Kn(n)}var Uq=function(){function n(t,e){this._cond=gU(t,e)}return n.prototype.evaluate=function(){return this._cond.evaluate()},n}(),Wq={type:"echarts:filter",transform:function(n){for(var e,t=n.upstream,r=function jq(n,t){return new Uq(n,t)}(n.config,{valueGetterAttrMap:ve({dimension:!0}),prepareGetValue:function(c){var d=c.dimension;pe(c,"dimension")||St("");var p=t.getDimensionInfo(d);return p||St(""),{dimIdx:p.index}},getValue:function(c){return t.retrieveValueFromItem(e,c.dimIdx)}}),i=[],o=0,u=t.count();o<u;o++)e=t.getRawDataItem(o),r.evaluate()&&i.push(e);return{data:i}}},$q={type:"echarts:sort",transform:function(n){var t=n.upstream,r="",i=It(n.config);i.length||St(r);var o=[];F(i,function(p){var g=p.dimension,m=p.order,y=p.parser,S=p.incomparable;null==g&&St(r),"asc"!==m&&"desc"!==m&&St(r),S&&"min"!==S&&"max"!==S&&St(""),"asc"!==m&&"desc"!==m&&St("");var C=t.getDimensionInfo(g);C||St(r);var T=y?DI(y):null;y&&!T&&St(r),o.push({dimIdx:C.index,parser:T,comparator:new Cb(m,S)})});var u=t.sourceFormat;u!==Ht&&u!==sa&&St(r);for(var c=[],h=0,d=t.count();h<d;h++)c.push(t.getRawDataItem(h));return c.sort(function(p,g){for(var m=0;m<o.length;m++){var y=o[m],S=t.retrieveValueFromItem(p,y.dimIdx),b=t.retrieveValueFromItem(g,y.dimIdx);y.parser&&(S=y.parser(S),b=y.parser(b));var D=y.comparator.evaluate(S,b);if(0!==D)return D}return 0}),{data:c}}},Zq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return q(t,n),t.prototype.init=function(e,r,i){n.prototype.init.call(this,e,r,i),this._sourceManager=new Ib(this),Eb(this)},t.prototype.mergeOption=function(e,r){n.prototype.mergeOption.call(this,e,r),Eb(this)},t.prototype.optionUpdated=function(){this._sourceManager.dirty()},t.prototype.getSourceManager=function(){return this._sourceManager},t.type="dataset",t.defaultOption={seriesLayoutBy:yo},t}(at),qq=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.type="dataset",e}return q(t,n),t.type="dataset",t}(wt),eu=Qo.CMD;function $_(n,t){return Math.abs(n-t)<1e-5}function mU(n){var i,G,j,W,Y,K,X,ee,oe,he,me,Ie,Me,qe,Pe,et,je,be,t=n.data,e=n.len(),r=[],o=0,u=0,c=0,h=0;function d(G,j){i&&i.length>2&&r.push(i),i=[G,j]}function p(G,j,W,Y){$_(G,W)&&$_(j,Y)||i.push(G,j,W,Y,W,Y)}for(var m,y,S,b,D=0;D<e;){var C=t[D++],T=1===D;switch(T&&(c=o=t[D],h=u=t[D+1],(C===eu.L||C===eu.C||C===eu.Q)&&(i=[c,h])),C){case eu.M:o=c=t[D++],u=h=t[D++],d(c,h);break;case eu.L:p(o,u,m=t[D++],y=t[D++]),o=m,u=y;break;case eu.C:i.push(t[D++],t[D++],t[D++],t[D++],o=t[D++],u=t[D++]);break;case eu.Q:m=t[D++],y=t[D++],S=t[D++],b=t[D++],i.push(o+2/3*(m-o),u+2/3*(y-u),S+2/3*(m-S),b+2/3*(y-b),S,b),o=S,u=b;break;case eu.A:var M=t[D++],I=t[D++],L=t[D++],E=t[D++],R=t[D++],O=t[D++]+R;D+=1;var k=!t[D++];m=Math.cos(R)*L+M,y=Math.sin(R)*E+I,T?d(c=m,h=y):p(o,u,m,y),o=Math.cos(O)*L+M,u=Math.sin(O)*E+I;for(var V=(k?-1:1)*Math.PI/2,B=R;k?B>O:B<O;B+=V){G=B,j=k?Math.max(B+V,O):Math.min(B+V,O),W=M,Y=I,K=L,X=E,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,ee=Math.abs(j-G),oe=4*Math.tan(ee/4)/3,he=j<G?-1:1,me=Math.cos(G),Ie=Math.sin(G),Me=Math.cos(j),qe=Math.sin(j),i.push(me*K+W-(je=K*oe*he)*Ie,Ie*X+Y+(be=X*oe*he)*me,(Pe=Me*K+W)+je*qe,(et=qe*X+Y)-be*Me,Pe,et)}break;case eu.R:c=o=t[D++],h=u=t[D++],m=c+t[D++],y=h+t[D++],d(m,h),p(m,h,m,y),p(m,y,c,y),p(c,y,c,h),p(c,h,m,h);break;case eu.Z:i&&p(o,u,c,h),o=c,u=h}}return i&&i.length>2&&r.push(i),r}function yU(n,t,e,r,i,o,u,c,h,d){if($_(n,e)&&$_(t,r)&&$_(i,u)&&$_(o,c))h.push(u,c);else{var p=2/d,g=p*p,m=u-n,y=c-t,S=Math.sqrt(m*m+y*y);m/=S,y/=S;var b=e-n,D=r-t,C=i-u,T=o-c,M=b*b+D*D,I=C*C+T*T;if(M<g&&I<g)h.push(u,c);else{var L=m*b+y*D,E=-m*C-y*T;if(M-L*L<g&&L>=0&&I-E*E<g&&E>=0)h.push(u,c);else{var k=[],V=[];cn(n,e,i,u,.5,k),cn(t,r,o,c,.5,V),yU(k[0],V[0],k[1],V[1],k[2],V[2],k[3],V[3],h,d),yU(k[4],V[4],k[5],V[5],k[6],V[6],k[7],V[7],h,d)}}}}function n6(n,t,e){var o=Math.abs(n[t]/n[1-t]),u=Math.ceil(Math.sqrt(o*e)),c=Math.floor(e/u);0===c&&(c=1,u=e);for(var h=[],d=0;d<u;d++)h.push(c);var g=e-u*c;if(g>0)for(d=0;d<g;d++)h[d%u]+=1;return h}function r6(n,t,e){for(var r=n.r0,i=n.r,o=n.startAngle,c=Math.abs(n.endAngle-o),h=c*i,d=i-r,p=h>Math.abs(d),g=n6([h,d],p?0:1,t),m=(p?c:d)/g.length,y=0;y<g.length;y++)for(var S=(p?d:c)/g[y],b=0;b<g[y];b++){var D={};p?(D.startAngle=o+m*y,D.endAngle=o+m*(y+1),D.r0=r+S*b,D.r=r+S*(b+1)):(D.startAngle=o+S*b,D.endAngle=o+S*(b+1),D.r0=r+m*y,D.r=r+m*(y+1)),D.clockwise=n.clockwise,D.cx=n.cx,D.cy=n.cy,e.push(D)}}function i6(n,t,e,r){return n*r-e*t}function Jq(n,t,e,r,i,o,u,c){var h=e-n,d=r-t,p=u-i,g=c-o,m=i6(p,g,h,d);if(Math.abs(m)<1e-6)return null;var b=i6(n-i,t-o,p,g)/m;return b<0||b>1?null:new ze(b*h+n,b*d+t)}function eX(n,t,e){var r=new ze;ze.sub(r,e,t),r.normalize();var i=new ze;return ze.sub(i,n,t),i.dot(r)}function Y_(n,t){var e=n[n.length-1];e&&e[0]===t[0]&&e[1]===t[1]||n.push(t)}function a6(n){var t=n.points,e=[],r=[];Su(t,e,r);var i=new Be(e[0],e[1],r[0]-e[0],r[1]-e[1]),o=i.width,u=i.height,c=i.x,h=i.y,d=new ze,p=new ze;return o>u?(d.x=p.x=c+o/2,d.y=h,p.y=h+u):(d.y=p.y=h+u/2,d.x=c,p.x=c+o),function tX(n,t,e){for(var r=n.length,i=[],o=0;o<r;o++){var u=n[o],c=n[(o+1)%r],h=Jq(u[0],u[1],c[0],c[1],t.x,t.y,e.x,e.y);h&&i.push({projPt:eX(h,t,e),pt:h,idx:o})}if(i.length<2)return[{points:n},{points:n}];i.sort(function(D,C){return D.projPt-C.projPt});var d=i[0],p=i[i.length-1];if(p.idx<d.idx){var g=d;d=p,p=g}var m=[d.pt.x,d.pt.y],y=[p.pt.x,p.pt.y],S=[m],b=[y];for(o=d.idx+1;o<=p.idx;o++)Y_(S,n[o].slice());for(Y_(S,y),Y_(S,m),o=p.idx+1;o<=d.idx+r;o++)Y_(b,n[o%r].slice());return Y_(b,m),Y_(b,y),[{points:S},{points:b}]}(t,d,p)}function U2(n,t,e,r){if(1===e)r.push(t);else{var i=Math.floor(e/2),o=n(t);U2(n,o[0],i,r),U2(n,o[1],e-i,r)}return r}function rX(n,t){t.setStyle(n.style),t.z=n.z,t.z2=n.z2,t.zlevel=n.zlevel}function oX(n,t){var e=n.length,r=t.length;if(e===r)return[n,t];for(var i=[],o=[],u=e<r?n:t,c=Math.min(e,r),h=Math.abs(r-e)/6,p=Math.ceil(h/((c-2)/6))+1,g=[u[0],u[1]],m=h,y=2;y<c;){var S=u[y-2],b=u[y-1],D=u[y++],C=u[y++],T=u[y++],M=u[y++],I=u[y++],L=u[y++];if(m<=0)g.push(D,C,T,M,I,L);else{for(var E=Math.min(m,p-1)+1,R=1;R<=E;R++){var O=R/E;cn(S,D,T,I,O,i),cn(b,C,M,L,O,o),g.push(i[1],o[1],i[2],o[2],S=i[3],b=o[3]),D=i[5],C=o[5],T=i[6],M=o[6]}m-=E-1}}return u===n?[g,t]:[n,g]}function o6(n,t){for(var e=n.length,r=n[e-2],i=n[e-1],o=[],u=0;u<t.length;)o[u++]=r,o[u++]=i;return o}function s6(n){for(var t=0,e=0,r=0,i=n.length,o=0,u=i-2;o<i;u=o,o+=2){var c=n[u],h=n[u+1],d=n[o],p=n[o+1],g=c*p-d*h;t+=g,e+=(c+d)*g,r+=(h+p)*g}return 0===t?[n[0]||0,n[1]||0]:[e/t/3,r/t/3,t]}function lX(n,t,e,r){for(var i=(n.length-2)/6,o=1/0,u=0,c=n.length,h=c-2,d=0;d<i;d++){for(var p=6*d,g=0,m=0;m<c;m+=2){var y=0===m?p:(p+m-2)%h+2,T=t[m]-r[0]-(n[y]-e[0]),M=t[m+1]-r[1]-(n[y+1]-e[1]);g+=T*T+M*M}g<o&&(o=g,u=d)}return u}function uX(n){for(var t=[],e=n.length,r=0;r<e;r+=2)t[r]=n[e-r-2],t[r+1]=n[e-r-1];return t}function j2(n){return n.__isCombineMorphing}var l6="__mOriginal_";function W2(n,t,e){var r=l6+t,i=n[r]||n[t];n[r]||(n[r]=n[t]);var o=e.replace,u=e.after,c=e.before;n[t]=function(){var d,h=arguments;return c&&c.apply(this,h),d=o?o.apply(this,h):i.apply(this,h),u&&u.apply(this,h),d}}function DT(n,t){var e=l6+t;n[e]&&(n[t]=n[e],n[e]=null)}function u6(n,t){for(var e=0;e<n.length;e++)for(var r=n[e],i=0;i<r.length;){var o=r[i],u=r[i+1];r[i++]=t[0]*o+t[2]*u+t[4],r[i++]=t[1]*o+t[3]*u+t[5]}}function c6(n,t){var e=n.getUpdatedPathProxy(),r=t.getUpdatedPathProxy(),i=function sX(n,t){for(var e,r,i,o=[],u=[],c=0;c<Math.max(n.length,t.length);c++){var h=n[c],d=t[c],p=void 0,g=void 0;h?d?(r=p=(e=oX(h,d))[0],i=g=e[1]):(g=o6(i||h,h),p=h):(p=o6(r||d,d),g=d),o.push(p),u.push(g)}return[o,u]}(mU(e),mU(r)),o=i[0],u=i[1],c=n.getComputedTransform(),h=t.getComputedTransform();c&&u6(o,c),h&&u6(u,h),W2(t,"updateTransform",{replace:function d(){this.transform=null}}),t.transform=null;var p=function cX(n,t,e,r){for(var o,i=[],u=0;u<n.length;u++){var c=n[u],h=t[u],d=s6(c),p=s6(h);null==o&&(o=d[2]<0!=p[2]<0);var g=[],m=[],y=0,S=1/0,b=[],D=c.length;o&&(c=uX(c));for(var C=6*lX(c,h,d,p),T=D-2,M=0;M<T;M+=2){var I=(C+M)%T+2;g[M+2]=c[I]-d[0],g[M+3]=c[I+1]-d[1]}if(g[0]=c[C]-d[0],g[1]=c[C+1]-d[1],e>0)for(var L=r/e,E=-r/2;E<=r/2;E+=L){var R=Math.sin(E),O=Math.cos(E),k=0;for(M=0;M<c.length;M+=2){var V=g[M],B=g[M+1],H=h[M]-p[0],G=h[M+1]-p[1],j=H*O-G*R,W=H*R+G*O;b[M]=j,b[M+1]=W;var Y=j-V,K=W-B;k+=Y*Y+K*K}if(k<S){S=k,y=E;for(var X=0;X<b.length;X++)m[X]=b[X]}}else for(var ee=0;ee<D;ee+=2)m[ee]=h[ee]-p[0],m[ee+1]=h[ee+1]-p[1];i.push({from:g,to:m,fromCp:d,toCp:p,rotation:-y})}return i}(o,u,10,Math.PI),g=[];W2(t,"buildPath",{replace:function(m){for(var y=t.__morphT,S=1-y,b=[],D=0;D<p.length;D++){var C=p[D],T=C.from,M=C.to,I=C.rotation*y,L=C.fromCp,E=C.toCp,R=Math.sin(I),O=Math.cos(I);$s(b,L,E,y);for(var k=0;k<T.length;k+=2){var j=T[k]*S+(H=M[k])*y,W=T[k+1]*S+(G=M[k+1])*y;g[k]=j*O-W*R+b[0],g[k+1]=j*R+W*O+b[1]}var Y=g[0],K=g[1];for(m.moveTo(Y,K),k=2;k<T.length;){var H=g[k++],G=g[k++],X=g[k++],ee=g[k++],oe=g[k++],he=g[k++];Y===H&&K===G&&X===oe&&ee===he?m.lineTo(oe,he):m.bezierCurveTo(H,G,X,ee,oe,he),Y=oe,K=he}}}})}function _U(n,t,e){if(!n||!t)return t;var r=e.done,i=e.during;return c6(n,t),t.__morphT=0,t.animateTo({__morphT:1},De({during:function(u){t.dirtyShape(),i&&i(u)},done:function(){(function o(){DT(t,"buildPath"),DT(t,"updateTransform"),t.__morphT=-1,t.createPathProxy(),t.dirtyShape()})(),r&&r()}},e)),t}function fX(n,t,e,r,i,o){n=i===e?0:Math.round(32767*(n-e)/(i-e)),t=o===r?0:Math.round(32767*(t-r)/(o-r));for(var h,c=0,d=32768;d>0;d/=2){var p=0,g=0;(n&d)>0&&(p=1),(t&d)>0&&(g=1),c+=d*d*(3*p^g),0===g&&(1===p&&(n=d-1-n,t=d-1-t),h=n,n=t,t=h)}return c}function $2(n){var t=1/0,e=1/0,r=-1/0,i=-1/0,o=re(n,function(c){var h=c.getBoundingRect(),d=c.getComputedTransform(),p=h.x+h.width/2+(d?d[4]:0),g=h.y+h.height/2+(d?d[5]:0);return t=Math.min(p,t),e=Math.min(g,e),r=Math.max(p,r),i=Math.max(g,i),[p,g]});return re(o,function(c,h){return{cp:c,z:fX(c[0],c[1],t,e,r,i),path:n[h]}}).sort(function(c,h){return c.z-h.z}).map(function(c){return c.path})}function f6(n){return function aX(n,t){var i,e=[],r=n.shape;switch(n.type){case"rect":(function Qq(n,t,e){for(var r=n.width,i=n.height,o=r>i,u=n6([r,i],o?0:1,t),c=o?"width":"height",h=o?"height":"width",d=o?"x":"y",p=o?"y":"x",g=n[c]/u.length,m=0;m<u.length;m++)for(var y=n[h]/u[m],S=0;S<u[m];S++){var b={};b[d]=m*g,b[p]=S*y,b[c]=g,b[h]=y,b.x+=n.x,b.y+=n.y,e.push(b)}})(r,t,e),i=st;break;case"sector":r6(r,t,e),i=jr;break;case"circle":r6({r0:0,r:r.r,startAngle:0,endAngle:2*Math.PI,cx:r.cx,cy:r.cy},t,e),i=jr;break;default:var o=n.getComputedTransform(),u=o?Math.sqrt(Math.max(o[0]*o[0]+o[1]*o[1],o[2]*o[2]+o[3]*o[3])):1,c=re(function Kq(n,t){var e=mU(n),r=[];t=t||1;for(var i=0;i<e.length;i++){var o=e[i],u=[],c=o[0],h=o[1];u.push(c,h);for(var d=2;d<o.length;){var p=o[d++],g=o[d++],m=o[d++],y=o[d++],S=o[d++],b=o[d++];yU(c,h,p,g,m,y,S,b,u,t),c=S,h=b}r.push(u)}return r}(n.getUpdatedPathProxy(),u),function(C){return function iX(n){for(var t=[],e=0;e<n.length;)t.push([n[e++],n[e++]]);return t}(C)}),h=c.length;if(0===h)U2(a6,{points:c[0]},t,e);else if(h===t)for(var d=0;d<h;d++)e.push({points:c[d]});else{var p=0,g=re(c,function(C){var T=[],M=[];Su(C,T,M);var I=(M[1]-T[1])*(M[0]-T[0]);return p+=I,{poly:C,area:I}});g.sort(function(C,T){return T.area-C.area});var m=t;for(d=0;d<h;d++){var y=g[d];if(m<=0)break;var S=d===h-1?m:Math.ceil(y.area/p*t);S<0||(U2(a6,{points:y.poly},S,e),m-=S)}}i=dr}if(!i)return function nX(n,t){for(var e=[],r=0;r<t;r++)e.push(uy(n));return e}(n,t);var b=[];for(d=0;d<e.length;d++){var D=new i;D.setShape(e[d]),rX(n,D),b.push(D)}return b}(n.path,n.count)}function h6(n){return te(n[0])}function d6(n,t){for(var e=[],r=n.length,i=0;i<r;i++)e.push({one:n[i],many:[]});for(i=0;i<t.length;i++){var o=t[i].length,u=void 0;for(u=0;u<o;u++)e[u%r].many.push(t[i][u])}var c=0;for(i=r-1;i>=0;i--)if(!e[i].many.length){var h=e[c].many;if(h.length<=1){if(!c)return e;c=0}o=h.length;var d=Math.ceil(o/2);e[i].many=h.slice(d,o),e[c].many=h.slice(0,d),c++}return e}var pX={clone:function(n){for(var t=[],e=1-Math.pow(1-n.path.style.opacity,1/n.count),r=0;r<n.count;r++){var i=uy(n.path);i.setStyle("opacity",e),t.push(i)}return t},split:null};function wU(n,t,e,r,i,o){if(n.length&&t.length){var u=qd("update",r,i);if(u&&u.duration>0){var d,p,c=r.getModel("universalTransition").get("delay"),h=Object.assign({setToFinal:!0},u);h6(n)&&(d=n,p=t),h6(t)&&(d=t,p=n);for(var m=d?d===n:n.length>t.length,y=d?d6(p,d):d6(m?t:n,[m?n:t]),S=0,b=0;b<y.length;b++)S+=y[b].many.length;var D=0;for(b=0;b<y.length;b++)g(y[b],m,D,S),D+=y[b].many.length}}function g(C,T,M,I,L){var E=C.many,R=C.one;if(1!==E.length||L)for(var B=De({dividePath:pX[e],individualDelay:c&&function(K,X,ee,oe){return c(K+M,I)}},h),H=T?function hX(n,t,e){var r=[];!function i(L){for(var E=0;E<L.length;E++){var R=L[E];j2(R)?i(R.childrenRef()):R instanceof Ze&&r.push(R)}}(n);var o=r.length;if(!o)return{fromIndividuals:[],toIndividuals:[],count:0};var c=(e.dividePath||f6)({path:t,count:o});if(c.length!==o)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};r=$2(r),c=$2(c);for(var h=e.done,d=e.during,p=e.individualDelay,g=new co,m=0;m<o;m++){var y=r[m],S=c[m];S.parent=t,S.copyTransform(g),p||c6(y,S)}function b(L){for(var E=0;E<c.length;E++)c[E].addSelfToZr(L)}function D(){t.__isCombineMorphing=!1,t.__morphT=-1,t.childrenRef=null,DT(t,"addSelfToZr"),DT(t,"removeSelfFromZr")}t.__isCombineMorphing=!0,t.childrenRef=function(){return c},W2(t,"addSelfToZr",{after:function(L){b(L)}}),W2(t,"removeSelfFromZr",{after:function(L){for(var E=0;E<c.length;E++)c[E].removeSelfFromZr(L)}});var C=c.length;if(p){var T=C,M=function(){0==--T&&(D(),h&&h())};for(m=0;m<C;m++){var I=p?De({delay:(e.delay||0)+p(m,C,r[m],c[m]),done:M},e):e;_U(r[m],c[m],I)}}else t.__morphT=0,t.animateTo({__morphT:1},De({during:function(L){for(var E=0;E<C;E++){var R=c[E];R.__morphT=t.__morphT,R.dirtyShape()}d&&d(L)},done:function(){D();for(var L=0;L<n.length;L++)DT(n[L],"updateTransform");h&&h()}},e));return t.__zr&&b(t.__zr),{fromIndividuals:r,toIndividuals:c,count:C}}(E,R,B):function dX(n,t,e){var r=t.length,i=[],o=e.dividePath||f6;if(j2(n)){!function u(y){for(var S=0;S<y.length;S++){var b=y[S];j2(b)?u(b.childrenRef()):b instanceof Ze&&i.push(b)}}(n.childrenRef());var c=i.length;if(c<r)for(var h=0,d=c;d<r;d++)i.push(uy(i[h++%c]));i.length=r}else{i=o({path:n,count:r});var p=n.getComputedTransform();for(d=0;d<i.length;d++)i[d].setLocalTransform(p);if(i.length!==r)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}i=$2(i),t=$2(t);var g=e.individualDelay;for(d=0;d<r;d++){var m=g?De({delay:(e.delay||0)+g(d,r,i[d],t[d])},e):e;_U(i[d],t[d],m)}return{fromIndividuals:i,toIndividuals:t,count:t.length}}(R,E,B),G=H.fromIndividuals,j=H.toIndividuals,W=G.length,Y=0;Y<W;Y++)V=c?De({delay:c(Y,W)},h):h,o(G[Y],j[Y],T?E[Y]:C.one,T?C.one:E[Y],V);else{var V,O=T?E[0]:R,k=T?R:E[0];j2(O)?g({many:[O],one:k},!0,M,I,!0):(_U(O,k,V=c?De({delay:c(M,I)},h):h),o(O,k,O,k,V))}}}function Sg(n){if(!n)return[];if(te(n)){for(var t=[],e=0;e<n.length;e++)t.push(Sg(n[e]));return t}var r=[];return n.traverse(function(i){i instanceof Ze&&!i.disableMorphing&&!i.invisible&&!i.ignore&&r.push(i)}),r}var p6=1e4,vX=ot();function v6(n){var t=[];return F(n,function(e){var r=e.data;if(!(r.count()>p6))for(var i=r.getIndices(),o=function gX(n){for(var t=n.dimensions,e=0;e<t.length;e++){var r=n.getDimensionInfo(t[e]);if(r&&0===r.otherDims.itemGroupId)return t[e]}}(r),u=0;u<i.length;u++)t.push({dataGroupId:e.dataGroupId,data:r,dim:e.dim||o,divide:e.divide,dataIndex:u})}),t}function bU(n,t,e){n.traverse(function(r){r instanceof Ze&&$t(r,{style:{opacity:0}},t,{dataIndex:e,isFrom:!0})})}function DU(n){if(n.parent){var t=n.getComputedTransform();n.setLocalTransform(t),n.parent.remove(n)}}function Z_(n){n.stopAnimation(),n.isGroup&&n.traverse(function(t){t.stopAnimation()})}function g6(n,t,e){var r=v6(n),i=v6(t);function o(C,T,M,I,L){(M||C)&&T.animateFrom({style:M&&M!==C?J(J({},M.style),C.style):C.style},L)}function u(C){for(var T=0;T<C.length;T++)if(C[T].dim)return C[T].dim}var c=u(r),h=u(i),d=!1;function p(C,T){return function(M){var I=M.data,L=M.dataIndex;if(T)return I.getId(L);var E=M.dataGroupId,R=C?c||h:h||c,O=R&&I.getDimensionInfo(R),k=O&&O.ordinalMeta;if(O){var V=I.get(O.name,L);return k&&k.categories[V]||V+""}var B=I.getRawDataItem(L);return B&&B.groupId?B.groupId+"":E||I.getId(L)}}var g=function yX(n,t){var e=n.length;if(e!==t.length)return!1;for(var r=0;r<e;r++){var i=n[r],o=t[r];if(i.data.getId(i.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(r,i),m={};if(!g)for(var y=0;y<i.length;y++){var S=i[y],b=S.data.getItemGraphicEl(S.dataIndex);b&&(m[b.id]=!0)}function D(C,T){var M=r[T],I=i[C],L=I.data.hostModel,E=M.data.getItemGraphicEl(M.dataIndex),R=I.data.getItemGraphicEl(I.dataIndex);E!==R?E&&m[E.id]||R&&(Z_(R),E?(Z_(E),DU(E),d=!0,wU(Sg(E),Sg(R),I.divide,L,C,o)):bU(R,L,C)):R&&function mX(n,t,e){var r=qd("update",e,t);r&&n.traverse(function(i){if(i instanceof ra){var o=function IA(n){return aF(n).oldStyle}(i);o&&i.animateFrom({style:o},r)}})}(R,I.dataIndex,L)}new bs(r,i,p(!0,g),p(!1,g),null,"multiple").update(D).updateManyToOne(function(C,T){var M=i[C],I=M.data,L=I.hostModel,E=I.getItemGraphicEl(M.dataIndex),R=yt(re(T,function(O){return r[O].data.getItemGraphicEl(r[O].dataIndex)}),function(O){return O&&O!==E&&!m[O.id]});E&&(Z_(E),R.length?(F(R,function(O){Z_(O),DU(O)}),d=!0,wU(Sg(R),Sg(E),M.divide,L,C,o)):bU(E,L,M.dataIndex))}).updateOneToMany(function(C,T){var M=r[T],I=M.data.getItemGraphicEl(M.dataIndex);if(!I||!m[I.id]){var L=yt(re(C,function(R){return i[R].data.getItemGraphicEl(i[R].dataIndex)}),function(R){return R&&R!==I}),E=i[C[0]].data.hostModel;L.length&&(F(L,function(R){return Z_(R)}),I?(Z_(I),DU(I),d=!0,wU(Sg(I),Sg(L),M.divide,E,C[0],o)):F(L,function(R){return bU(R,E,C[0])}))}}).updateManyToMany(function(C,T){new bs(T,C,function(M){return r[M].data.getId(r[M].dataIndex)},function(M){return i[M].data.getId(i[M].dataIndex)}).update(function(M,I){D(C[M],T[I])}).execute()}).execute(),d&&F(t,function(C){var M=C.data.hostModel,I=M&&e.getViewOfSeriesModel(M),L=qd("update",M,0);I&&M.isAnimationEnabled()&&L&&L.duration>0&&I.group.traverse(function(E){E instanceof Ze&&!E.animators.length&&E.animateFrom({style:{opacity:0}},L)})})}function m6(n){return n.getModel("universalTransition").get("seriesKey")||n.id}function y6(n){return te(n)?n.sort().join(","):n}function ad(n){if(n.hostModel)return n.hostModel.getModel("universalTransition").get("divideShape")}function _6(n,t){for(var e=0;e<n.length;e++)if(null!=t.seriesIndex&&t.seriesIndex===n[e].seriesIndex||null!=t.seriesId&&t.seriesId===n[e].id)return e}$e([function u0(n){n.registerPainter("canvas",tL)}]),$e([function Vi(n){n.registerPainter("svg",iz)}]),$e([function Es(n){n.registerChartView(pz),n.registerSeriesModel(az),n.registerLayout(Sv("line",!0)),n.registerVisual({seriesType:"line",reset:function(t){var e=t.getData(),r=t.getModel("lineStyle").getLineStyle();r&&!r.stroke&&(r.stroke=e.getVisual("style").fill),e.setVisual("legendLineStyle",r)}}),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,OL("line"))},function bz(n){n.registerChartView(BC),n.registerSeriesModel(b0),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Re(dB,"bar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,QD("bar")),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,OL("bar")),n.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},function(t,e){e.eachComponent({mainType:t.componentType||"series",query:t},function(i){t.sortInfo&&i.axis.setCategorySortInfo(t.sortInfo)})})},function Tz(n){n.registerChartView(Cz),n.registerSeriesModel(v4),CE("pie",n.registerAction),n.registerLayout(Re(Dz,"pie")),n.registerProcessor(bv("pie")),n.registerProcessor(function QL(n){return{seriesType:n,reset:function(t,e){var r=t.getData();r.filterSelf(function(i){var o=r.mapDimension("value"),u=r.get(o,i);return!(ft(u)&&!isNaN(u)&&u<0)})}}}("pie"))},function P4(n){$e(eH),n.registerSeriesModel(GC),n.registerChartView(y4),n.registerLayout(Sv("scatter"))},function gR(n){$e(vR),n.registerChartView(N4),n.registerSeriesModel(k4),n.registerLayout(bn),n.registerProcessor(bv("radar")),n.registerPreprocessor(L4)},function nW(n){$e(FH),n.registerChartView(Y4),n.registerSeriesModel(Z4),n.registerLayout(OR),n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC,NR),CE("map",n.registerAction)},function fW(n){n.registerChartView(jH),n.registerSeriesModel(qR),n.registerLayout(sW),n.registerVisual(uW),function cW(n){n.registerAction({type:"treeExpandAndCollapse",event:"treeExpandAndCollapse",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"tree",query:t},function(r){var i=t.dataIndex,u=r.getData().tree.getNodeByDataIndex(i);u.isExpand=!u.isExpand})}),n.registerAction({type:"treeRoam",event:"treeRoam",update:"none"},function(t,e,r){e.eachComponent({mainType:"series",subType:"tree",query:t},function(i){var u=_x(i.coordinateSystem,t,void 0,r);i.setCenter&&i.setCenter(u.center),i.setZoom&&i.setZoom(u.zoom)})})}(n)},function Hh(n){n.registerSeriesModel(XH),n.registerChartView(gW),n.registerVisual(lN),n.registerLayout(_c),function qH(n){for(var t=0;t<ZH.length;t++)n.registerAction({type:ZH[t],update:"updateView"},ht);n.registerAction({type:"treemapRootToNode",update:"updateView"},function(e,r){r.eachComponent({mainType:"series",subType:"treemap",query:e},function i(o,u){var h=Nh(e,["treemapZoomToNode","treemapRootToNode"],o);if(h){var d=o.getViewRoot();d&&(e.direction=Mx(d,h.node)?"rollUp":"drillDown"),o.resetViewRoot(h.node)}})})}(n)},function $h(n){n.registerChartView(jv),n.registerSeriesModel(Yl),n.registerProcessor(gG),n.registerVisual(mG),n.registerVisual(gN),n.registerLayout(Fv),n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT,Hv),n.registerLayout(SG),n.registerCoordinateSystem("graphView",{dimensions:gc.dimensions,create:K0}),n.registerAction({type:"focusNodeAdjacency",event:"focusNodeAdjacency",update:"series:focusNodeAdjacency"},ht),n.registerAction({type:"unfocusNodeAdjacency",event:"unfocusNodeAdjacency",update:"series:unfocusNodeAdjacency"},ht),n.registerAction($v,function(t,e,r){e.eachComponent({mainType:"series",query:t},function(i){var u=_x(i.coordinateSystem,t,void 0,r);i.setCenter&&i.setCenter(u.center),i.setZoom&&i.setZoom(u.zoom)})})},function EG(n){n.registerChartView(MG),n.registerSeriesModel(IG)},function t1(n){n.registerChartView(Qx),n.registerSeriesModel(yW),n.registerLayout(e1),n.registerProcessor(bv("funnel"))},function l5(n){$e(d_),n.registerChartView(o_),n.registerSeriesModel(i1),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,OG)},function Vs(n){n.registerChartView(c5),n.registerSeriesModel(h5),n.registerLayout(d5),n.registerVisual(pO),n.registerAction({type:"dragNode",event:"dragnode",update:"update"},function(t,e){e.eachComponent({mainType:"series",subType:"sankey",query:t},function(r){r.setNodePosition(t.dataIndex,[t.localX,t.localY])})})},function _O(n){n.registerSeriesModel(DW),n.registerChartView(xW),n.registerLayout(x5),n.registerTransform(IW)},function z5(n){n.registerChartView(EW),n.registerSeriesModel(PW),n.registerPreprocessor(LW),n.registerVisual(Lo),n.registerLayout(B5)},function xO(n){n.registerChartView(ql),n.registerSeriesModel(RW),n.registerLayout(Sv("effectScatter"))},function S_(n){n.registerChartView(NO),n.registerSeriesModel(kO),n.registerLayout(R1),n.registerVisual(F1)},function B1(n){n.registerChartView(OW),n.registerSeriesModel(GO)},function zW(n){n.registerChartView(YO),n.registerSeriesModel(fg),n.registerLayout(n.PRIORITY.VISUAL.LAYOUT,Re(dB,"pictorialBar")),n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,QD("pictorialBar"))},function q5(n){n.registerChartView(GW),n.registerSeriesModel(T_),n.registerLayout(hg),n.registerProcessor(bv("themeRiver"))},function WW(n){n.registerChartView(Q5),n.registerSeriesModel(jW),n.registerLayout(Re(e3,"sunburst")),n.registerProcessor(Re(bv,"sunburst")),n.registerVisual(t3),function K5(n){n.registerAction({type:I_,update:"updateView"},function(t,e){e.eachComponent({mainType:"series",subType:"sunburst",query:t},function r(i,o){var u=Nh(t,[I_],i);if(u){var c=i.getViewRoot();c&&(t.direction=Mx(c,u.node)?"rollUp":"drillDown"),i.resetViewRoot(u.node)}})}),n.registerAction({type:XO,update:"none"},function(t,e,r){t=J({},t),e.eachComponent({mainType:"series",subType:"sunburst",query:t},function i(o){var u=Nh(t,[XO],o);u&&(t.dataIndex=u.node.dataIndex)}),r.dispatchAction(J(t,{type:"highlight"}))}),n.registerAction({type:"sunburstUnhighlight",update:"updateView"},function(t,e,r){t=J({},t),r.dispatchAction(J(t,{type:"downplay"}))})}(n)},function z_(n){n.registerChartView(c2),n.registerSeriesModel(e2)}]),$e(function pT(n){$e(eH),$e(Ja)}),$e(function o9(n){$e(Ja),hc.registerAxisPointerClass("PolarAxisPointer",I6),n.registerCoordinateSystem("polar",U6),n.registerComponentModel(P6),n.registerComponentView(a9),Eh(n,"angle",L6,r9),Eh(n,"radius",R6,i9),n.registerComponentView(Y6),n.registerComponentView(J6),n.registerLayout(Re(n9,"bar"))}),$e(FH),$e(function C9(n){$e(Ja),hc.registerAxisPointerClass("SingleAxisPointer",b9),n.registerComponentView(D9),n.registerComponentView(f9),n.registerComponentModel(R3),Eh(n,"single",R3,R3.defaultOption),n.registerCoordinateSystem("single",y9)}),$e(d_),$e(function P9(n){n.registerComponentModel(T9),n.registerComponentView(A9),n.registerCoordinateSystem("calendar",E9)}),$e(function z9(n){n.registerComponentModel(k9),n.registerComponentView(F9),n.registerPreprocessor(function(t){var e=t.graphic;te(e)?t.graphic=e[0]&&e[0].elements?[t.graphic[0]]:[{elements:e}]:e&&!e.elements&&(t.graphic=[{elements:[e]}])})}),$e(function H7(n){n.registerComponentModel(i7),n.registerComponentView(l7),G_("saveAsImage",c7),G_("magicType",d7),G_("dataView",C7),G_("dataZoom",z7),G_("restore",E7),$e(n7)}),$e(function cY(n){$e(Ja),n.registerComponentModel(U7),n.registerComponentView(uY),n.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},ht),n.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},ht)}),$e(Ja),$e(function EY(n){n.registerComponentView(DY),n.registerComponentModel(TY),n.registerPreprocessor(hY),n.registerVisual(n.PRIORITY.VISUAL.BRUSH,mY),n.registerAction({type:"brush",event:"brush",update:"updateVisual"},function(t,e){e.eachComponent({mainType:"brush",query:t},function(r){r.setAreas(t.areas)})}),n.registerAction({type:"brushSelect",event:"brushSelected",update:"none"},ht),n.registerAction({type:"brushEnd",event:"brushEnd",update:"none"},ht),G_("brush",IY)}),$e(function RY(n){n.registerComponentModel(PY),n.registerComponentView(LY)}),$e(function ZY(n){n.registerComponentModel(OY),n.registerComponentView(jY),n.registerSubTypeDefaulter("timeline",function(){return"slider"}),function WY(n){n.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(t,e,r){var i=e.getComponent("timeline");return i&&null!=t.currentIndex&&(i.setCurrentIndex(t.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.getPlayState()&&(i.setPlayState(!1),r.dispatchAction({type:"timelinePlayChange",playState:!1,from:t.from}))),e.resetOption("timeline",{replaceMerge:i.get("replaceMerge",!0)}),De({currentIndex:i.option.currentIndex},t)}),n.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(t,e){var r=e.getComponent("timeline");r&&null!=t.playState&&r.setPlayState(t.playState)})}(n),n.registerPreprocessor($Y)}),$e(function iZ(n){n.registerComponentModel(XY),n.registerComponentView(rZ),n.registerPreprocessor(function(t){Q3(t.series,"markPoint")&&(t.markPoint=t.markPoint||{})})}),$e(function hZ(n){n.registerComponentModel(oZ),n.registerComponentView(fZ),n.registerPreprocessor(function(t){Q3(t.series,"markLine")&&(t.markLine=t.markLine||{})})}),$e(function SZ(n){n.registerComponentModel(pZ),n.registerComponentView(_Z),n.registerPreprocessor(function(t){Q3(t.series,"markArea")&&(t.markArea=t.markArea||{})})}),$e(function NZ(n){$e(C$),$e(RZ)}),$e(function nq(n){$e(I$),$e(R$)}),$e(I$),$e(R$),$e(function Iq(n){$e(q$),$e(K$)}),$e(q$),$e(K$),$e(function Nq(n){n.registerPreprocessor(Rq),n.registerVisual(n.PRIORITY.VISUAL.ARIA,Lq)}),$e(function Yq(n){n.registerTransform(Wq),n.registerTransform($q)}),$e(function Xq(n){n.registerComponentModel(Zq),n.registerComponentView(qq)}),$e(function wX(n){n.registerUpdateLifecycle("series:beforeupdate",function(t,e,r){F(It(r.seriesTransition),function(i){F(It(i.to),function(o){for(var u=r.updatedSeries,c=0;c<u.length;c++)(null!=o.seriesIndex&&o.seriesIndex===u[c].seriesIndex||null!=o.seriesId&&o.seriesId===u[c].id)&&(u[c][vp]=!0)})})}),n.registerUpdateLifecycle("series:transition",function(t,e,r){var i=vX(e);if(i.oldSeries&&r.updatedSeries&&r.optionChanged){var o=r.seriesTransition;if(o)F(It(o),function(y){!function SX(n,t,e,r){var i=[],o=[];F(It(n.from),function(u){var c=_6(t.oldSeries,u);c>=0&&i.push({dataGroupId:t.oldDataGroupIds[c],data:t.oldData[c],divide:ad(t.oldData[c]),dim:u.dimension})}),F(It(n.to),function(u){var c=_6(e.updatedSeries,u);if(c>=0){var h=e.updatedSeries[c].getData();o.push({dataGroupId:t.oldDataGroupIds[c],data:h,divide:ad(h),dim:u.dimension})}}),i.length>0&&o.length>0&&g6(i,o,r)}(y,i,r,e)});else{var u=function _X(n,t){var e=ve(),r=ve(),i=ve();return F(n.oldSeries,function(u,c){var h=n.oldDataGroupIds[c],d=n.oldData[c],p=m6(u),g=y6(p);r.set(g,{dataGroupId:h,data:d}),te(p)&&F(p,function(m){i.set(m,{key:g,dataGroupId:h,data:d})})}),F(t.updatedSeries,function(u){if(u.isUniversalTransitionEnabled()&&u.isAnimationEnabled()){var c=u.get("dataGroupId"),h=u.getData(),d=m6(u),p=y6(d),g=r.get(p);if(g)e.set(p,{oldSeries:[{dataGroupId:g.dataGroupId,divide:ad(g.data),data:g.data}],newSeries:[{dataGroupId:c,divide:ad(h),data:h}]});else if(te(d)){var m=[];F(d,function(b){var D=r.get(b);D.data&&m.push({dataGroupId:D.dataGroupId,divide:ad(D.data),data:D.data})}),m.length&&e.set(p,{oldSeries:m,newSeries:[{dataGroupId:c,data:h,divide:ad(h)}]})}else{var y=i.get(d);if(y){var S=e.get(y.key);S||(S={oldSeries:[{dataGroupId:y.dataGroupId,data:y.data,divide:ad(y.data)}],newSeries:[]},e.set(y.key,S)),S.newSeries.push({dataGroupId:c,data:h,divide:ad(h)})}}}}),e}(i,r);F(u.keys(),function(y){var S=u.get(y);g6(S.oldSeries,S.newSeries,e)})}F(r.updatedSeries,function(y){y[vp]&&(y[vp]=!1)})}for(var c=t.getSeries(),h=i.oldSeries=[],d=i.oldDataGroupIds=[],p=i.oldData=[],g=0;g<c.length;g++){var m=c[g].getData();m.count()<p6&&(h.push(c[g]),d.push(c[g].get("dataGroupId")),p.push(m))}})}),$e(hC)}},CT=>{CT(CT.s=703)}]);